function iB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in e)){const u=Object.getOwnPropertyDescriptor(r,c);u&&Object.defineProperty(e,c,u.get?u:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(c){if(c.ep)return;c.ep=!0;const u=n(c);fetch(c.href,u)}})();var wa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lD={exports:{}},a1={},cD={exports:{}},ri={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=Symbol.for("react.element"),oB=Symbol.for("react.portal"),aB=Symbol.for("react.fragment"),sB=Symbol.for("react.strict_mode"),lB=Symbol.for("react.profiler"),cB=Symbol.for("react.provider"),uB=Symbol.for("react.context"),dB=Symbol.for("react.forward_ref"),fB=Symbol.for("react.suspense"),hB=Symbol.for("react.memo"),pB=Symbol.for("react.lazy"),qI=Symbol.iterator;function mB(e){return e===null||typeof e!="object"?null:(e=qI&&e[qI]||e["@@iterator"],typeof e=="function"?e:null)}var uD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dD=Object.assign,fD={};function Nm(e,t,n){this.props=e,this.context=t,this.refs=fD,this.updater=n||uD}Nm.prototype.isReactComponent={};Nm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hD(){}hD.prototype=Nm.prototype;function iT(e,t,n){this.props=e,this.context=t,this.refs=fD,this.updater=n||uD}var oT=iT.prototype=new hD;oT.constructor=iT;dD(oT,Nm.prototype);oT.isPureReactComponent=!0;var KI=Array.isArray,pD=Object.prototype.hasOwnProperty,aT={current:null},mD={key:!0,ref:!0,__self:!0,__source:!0};function gD(e,t,n){var r,c={},u=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(u=""+t.key),t)pD.call(t,r)&&!mD.hasOwnProperty(r)&&(c[r]=t[r]);var o=arguments.length-2;if(o===1)c.children=n;else if(1<o){for(var v=Array(o),E=0;E<o;E++)v[E]=arguments[E+2];c.children=v}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)c[r]===void 0&&(c[r]=o[r]);return{$$typeof:iv,type:e,key:u,ref:h,props:c,_owner:aT.current}}function gB(e,t){return{$$typeof:iv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sT(e){return typeof e=="object"&&e!==null&&e.$$typeof===iv}function yB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var XI=/\/+/g;function $b(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yB(""+e.key):t.toString(36)}function H0(e,t,n,r,c){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case iv:case oB:h=!0}}if(h)return h=e,c=c(h),e=r===""?"."+$b(h,0):r,KI(c)?(n="",e!=null&&(n=e.replace(XI,"$&/")+"/"),H0(c,t,n,"",function(E){return E})):c!=null&&(sT(c)&&(c=gB(c,n+(!c.key||h&&h.key===c.key?"":(""+c.key).replace(XI,"$&/")+"/")+e)),t.push(c)),1;if(h=0,r=r===""?".":r+":",KI(e))for(var o=0;o<e.length;o++){u=e[o];var v=r+$b(u,o);h+=H0(u,t,n,v,c)}else if(v=mB(e),typeof v=="function")for(e=v.call(e),o=0;!(u=e.next()).done;)u=u.value,v=r+$b(u,o++),h+=H0(u,t,n,v,c);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function u0(e,t,n){if(e==null)return e;var r=[],c=0;return H0(e,r,"","",function(u){return t.call(n,u,c++)}),r}function vB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Is={current:null},W0={transition:null},_B={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:W0,ReactCurrentOwner:aT};ri.Children={map:u0,forEach:function(e,t,n){u0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return u0(e,function(){t++}),t},toArray:function(e){return u0(e,function(t){return t})||[]},only:function(e){if(!sT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ri.Component=Nm;ri.Fragment=aB;ri.Profiler=lB;ri.PureComponent=iT;ri.StrictMode=sB;ri.Suspense=fB;ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_B;ri.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dD({},e.props),c=e.key,u=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,h=aT.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(v in t)pD.call(t,v)&&!mD.hasOwnProperty(v)&&(r[v]=t[v]===void 0&&o!==void 0?o[v]:t[v])}var v=arguments.length-2;if(v===1)r.children=n;else if(1<v){o=Array(v);for(var E=0;E<v;E++)o[E]=arguments[E+2];r.children=o}return{$$typeof:iv,type:e.type,key:c,ref:u,props:r,_owner:h}};ri.createContext=function(e){return e={$$typeof:uB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cB,_context:e},e.Consumer=e};ri.createElement=gD;ri.createFactory=function(e){var t=gD.bind(null,e);return t.type=e,t};ri.createRef=function(){return{current:null}};ri.forwardRef=function(e){return{$$typeof:dB,render:e}};ri.isValidElement=sT;ri.lazy=function(e){return{$$typeof:pB,_payload:{_status:-1,_result:e},_init:vB}};ri.memo=function(e,t){return{$$typeof:hB,type:e,compare:t===void 0?null:t}};ri.startTransition=function(e){var t=W0.transition;W0.transition={};try{e()}finally{W0.transition=t}};ri.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ri.useCallback=function(e,t){return Is.current.useCallback(e,t)};ri.useContext=function(e){return Is.current.useContext(e)};ri.useDebugValue=function(){};ri.useDeferredValue=function(e){return Is.current.useDeferredValue(e)};ri.useEffect=function(e,t){return Is.current.useEffect(e,t)};ri.useId=function(){return Is.current.useId()};ri.useImperativeHandle=function(e,t,n){return Is.current.useImperativeHandle(e,t,n)};ri.useInsertionEffect=function(e,t){return Is.current.useInsertionEffect(e,t)};ri.useLayoutEffect=function(e,t){return Is.current.useLayoutEffect(e,t)};ri.useMemo=function(e,t){return Is.current.useMemo(e,t)};ri.useReducer=function(e,t,n){return Is.current.useReducer(e,t,n)};ri.useRef=function(e){return Is.current.useRef(e)};ri.useState=function(e){return Is.current.useState(e)};ri.useSyncExternalStore=function(e,t,n){return Is.current.useSyncExternalStore(e,t,n)};ri.useTransition=function(){return Is.current.useTransition()};ri.version="18.2.0";cD.exports=ri;var A=cD.exports;const Eo=Qh(A),l2=iB({__proto__:null,default:Eo},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xB=A,bB=Symbol.for("react.element"),wB=Symbol.for("react.fragment"),EB=Object.prototype.hasOwnProperty,CB=xB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SB={key:!0,ref:!0,__self:!0,__source:!0};function yD(e,t,n){var r,c={},u=null,h=null;n!==void 0&&(u=""+n),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)EB.call(t,r)&&!SB.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)c[r]===void 0&&(c[r]=t[r]);return{$$typeof:bB,type:e,key:u,ref:h,props:c,_owner:CB.current}}a1.Fragment=wB;a1.jsx=yD;a1.jsxs=yD;lD.exports=a1;var B=lD.exports,c2={},vD={exports:{}},Nl={},_D={exports:{}},xD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ve,Rt){var Ge=Ve.length;Ve.push(Rt);e:for(;0<Ge;){var sn=Ge-1>>>1,ln=Ve[sn];if(0<c(ln,Rt))Ve[sn]=Rt,Ve[Ge]=ln,Ge=sn;else break e}}function n(Ve){return Ve.length===0?null:Ve[0]}function r(Ve){if(Ve.length===0)return null;var Rt=Ve[0],Ge=Ve.pop();if(Ge!==Rt){Ve[0]=Ge;e:for(var sn=0,ln=Ve.length,pn=ln>>>1;sn<pn;){var Yn=2*(sn+1)-1,qn=Ve[Yn],nn=Yn+1,Bt=Ve[nn];if(0>c(qn,Ge))nn<ln&&0>c(Bt,qn)?(Ve[sn]=Bt,Ve[nn]=Ge,sn=nn):(Ve[sn]=qn,Ve[Yn]=Ge,sn=Yn);else if(nn<ln&&0>c(Bt,Ge))Ve[sn]=Bt,Ve[nn]=Ge,sn=nn;else break e}}return Rt}function c(Ve,Rt){var Ge=Ve.sortIndex-Rt.sortIndex;return Ge!==0?Ge:Ve.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,o=h.now();e.unstable_now=function(){return h.now()-o}}var v=[],E=[],S=1,k=null,O=3,N=!1,G=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(Ve){for(var Rt=n(E);Rt!==null;){if(Rt.callback===null)r(E);else if(Rt.startTime<=Ve)r(E),Rt.sortIndex=Rt.expirationTime,t(v,Rt);else break;Rt=n(E)}}function ie(Ve){if(U=!1,Y(Ve),!G)if(n(v)!==null)G=!0,Vt(he);else{var Rt=n(E);Rt!==null&&_t(ie,Rt.startTime-Ve)}}function he(Ve,Rt){G=!1,U&&(U=!1,q(We),We=-1),N=!0;var Ge=O;try{for(Y(Rt),k=n(v);k!==null&&(!(k.expirationTime>Rt)||Ve&&!Kt());){var sn=k.callback;if(typeof sn=="function"){k.callback=null,O=k.priorityLevel;var ln=sn(k.expirationTime<=Rt);Rt=e.unstable_now(),typeof ln=="function"?k.callback=ln:k===n(v)&&r(v),Y(Rt)}else r(v);k=n(v)}if(k!==null)var pn=!0;else{var Yn=n(E);Yn!==null&&_t(ie,Yn.startTime-Rt),pn=!1}return pn}finally{k=null,O=Ge,N=!1}}var Se=!1,Pe=null,We=-1,Le=5,qe=-1;function Kt(){return!(e.unstable_now()-qe<Le)}function Ut(){if(Pe!==null){var Ve=e.unstable_now();qe=Ve;var Rt=!0;try{Rt=Pe(!0,Ve)}finally{Rt?Qt():(Se=!1,Pe=null)}}else Se=!1}var Qt;if(typeof W=="function")Qt=function(){W(Ut)};else if(typeof MessageChannel<"u"){var Tn=new MessageChannel,An=Tn.port2;Tn.port1.onmessage=Ut,Qt=function(){An.postMessage(null)}}else Qt=function(){H(Ut,0)};function Vt(Ve){Pe=Ve,Se||(Se=!0,Qt())}function _t(Ve,Rt){We=H(function(){Ve(e.unstable_now())},Rt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ve){Ve.callback=null},e.unstable_continueExecution=function(){G||N||(G=!0,Vt(he))},e.unstable_forceFrameRate=function(Ve){0>Ve||125<Ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<Ve?Math.floor(1e3/Ve):5},e.unstable_getCurrentPriorityLevel=function(){return O},e.unstable_getFirstCallbackNode=function(){return n(v)},e.unstable_next=function(Ve){switch(O){case 1:case 2:case 3:var Rt=3;break;default:Rt=O}var Ge=O;O=Rt;try{return Ve()}finally{O=Ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ve,Rt){switch(Ve){case 1:case 2:case 3:case 4:case 5:break;default:Ve=3}var Ge=O;O=Ve;try{return Rt()}finally{O=Ge}},e.unstable_scheduleCallback=function(Ve,Rt,Ge){var sn=e.unstable_now();switch(typeof Ge=="object"&&Ge!==null?(Ge=Ge.delay,Ge=typeof Ge=="number"&&0<Ge?sn+Ge:sn):Ge=sn,Ve){case 1:var ln=-1;break;case 2:ln=250;break;case 5:ln=1073741823;break;case 4:ln=1e4;break;default:ln=5e3}return ln=Ge+ln,Ve={id:S++,callback:Rt,priorityLevel:Ve,startTime:Ge,expirationTime:ln,sortIndex:-1},Ge>sn?(Ve.sortIndex=Ge,t(E,Ve),n(v)===null&&Ve===n(E)&&(U?(q(We),We=-1):U=!0,_t(ie,Ge-sn))):(Ve.sortIndex=ln,t(v,Ve),G||N||(G=!0,Vt(he))),Ve},e.unstable_shouldYield=Kt,e.unstable_wrapCallback=function(Ve){var Rt=O;return function(){var Ge=O;O=Rt;try{return Ve.apply(this,arguments)}finally{O=Ge}}}})(xD);_D.exports=xD;var TB=_D.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD=A,Ll=TB;function Ln(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wD=new Set,by={};function ep(e,t){bm(e,t),bm(e+"Capture",t)}function bm(e,t){for(by[e]=t,e=0;e<t.length;e++)wD.add(t[e])}var Ld=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u2=Object.prototype.hasOwnProperty,AB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YI={},JI={};function PB(e){return u2.call(JI,e)?!0:u2.call(YI,e)?!1:AB.test(e)?JI[e]=!0:(YI[e]=!0,!1)}function IB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kB(e,t,n,r){if(t===null||typeof t>"u"||IB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ks(e,t,n,r,c,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ja[e]=new ks(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ja[t]=new ks(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ja[e]=new ks(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ja[e]=new ks(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ja[e]=new ks(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ja[e]=new ks(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ja[e]=new ks(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ja[e]=new ks(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ja[e]=new ks(e,5,!1,e.toLowerCase(),null,!1,!1)});var lT=/[\-:]([a-z])/g;function cT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lT,cT);ja[t]=new ks(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lT,cT);ja[t]=new ks(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lT,cT);ja[t]=new ks(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ja[e]=new ks(e,1,!1,e.toLowerCase(),null,!1,!1)});ja.xlinkHref=new ks("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ja[e]=new ks(e,1,!1,e.toLowerCase(),null,!0,!0)});function uT(e,t,n,r){var c=ja.hasOwnProperty(t)?ja[t]:null;(c!==null?c.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kB(t,n,c,r)&&(n=null),r||c===null?PB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):c.mustUseProperty?e[c.propertyName]=n===null?c.type===3?!1:"":n:(t=c.attributeName,r=c.attributeNamespace,n===null?e.removeAttribute(t):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jd=bD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d0=Symbol.for("react.element"),Xp=Symbol.for("react.portal"),Yp=Symbol.for("react.fragment"),dT=Symbol.for("react.strict_mode"),d2=Symbol.for("react.profiler"),ED=Symbol.for("react.provider"),CD=Symbol.for("react.context"),fT=Symbol.for("react.forward_ref"),f2=Symbol.for("react.suspense"),h2=Symbol.for("react.suspense_list"),hT=Symbol.for("react.memo"),xf=Symbol.for("react.lazy"),SD=Symbol.for("react.offscreen"),QI=Symbol.iterator;function Bg(e){return e===null||typeof e!="object"?null:(e=QI&&e[QI]||e["@@iterator"],typeof e=="function"?e:null)}var To=Object.assign,jb;function ey(e){if(jb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jb=t&&t[1]||""}return`
`+jb+e}var Ub=!1;function Vb(e,t){if(!e||Ub)return"";Ub=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(E){var r=E}Reflect.construct(e,[],t)}else{try{t.call()}catch(E){r=E}e.call(t.prototype)}else{try{throw Error()}catch(E){r=E}e()}}catch(E){if(E&&r&&typeof E.stack=="string"){for(var c=E.stack.split(`
`),u=r.stack.split(`
`),h=c.length-1,o=u.length-1;1<=h&&0<=o&&c[h]!==u[o];)o--;for(;1<=h&&0<=o;h--,o--)if(c[h]!==u[o]){if(h!==1||o!==1)do if(h--,o--,0>o||c[h]!==u[o]){var v=`
`+c[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=o);break}}}finally{Ub=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ey(e):""}function MB(e){switch(e.tag){case 5:return ey(e.type);case 16:return ey("Lazy");case 13:return ey("Suspense");case 19:return ey("SuspenseList");case 0:case 2:case 15:return e=Vb(e.type,!1),e;case 11:return e=Vb(e.type.render,!1),e;case 1:return e=Vb(e.type,!0),e;default:return""}}function p2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yp:return"Fragment";case Xp:return"Portal";case d2:return"Profiler";case dT:return"StrictMode";case f2:return"Suspense";case h2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CD:return(e.displayName||"Context")+".Consumer";case ED:return(e._context.displayName||"Context")+".Provider";case fT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hT:return t=e.displayName||null,t!==null?t:p2(e.type)||"Memo";case xf:t=e._payload,e=e._init;try{return p2(e(t))}catch{}}return null}function OB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p2(t);case 8:return t===dT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RB(e){var t=TD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(h){r=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function f0(e){e._valueTracker||(e._valueTracker=RB(e))}function AD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function g_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function m2(e,t){var n=t.checked;return To({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ek(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Uf(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PD(e,t){t=t.checked,t!=null&&uT(e,"checked",t,!1)}function g2(e,t){PD(e,t);var n=Uf(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?y2(e,t.type,n):t.hasOwnProperty("defaultValue")&&y2(e,t.type,Uf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tk(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function y2(e,t,n){(t!=="number"||g_(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ty=Array.isArray;function cm(e,t,n,r){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Uf(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function v2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ln(91));return To({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nk(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ln(92));if(ty(n)){if(1<n.length)throw Error(Ln(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uf(n)}}function ID(e,t){var n=Uf(t.value),r=Uf(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var h0,MD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,c){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(h0=h0||document.createElement("div"),h0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=h0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wy(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DB=["Webkit","ms","Moz","O"];Object.keys(cy).forEach(function(e){DB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cy[t]=cy[e]})});function OD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cy.hasOwnProperty(e)&&cy[e]?(""+t).trim():t+"px"}function RD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,c=OD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,c):e[n]=c}}var LB=To({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x2(e,t){if(t){if(LB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ln(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ln(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ln(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ln(62))}}function b2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w2=null;function pT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var E2=null,um=null,dm=null;function ik(e){if(e=sv(e)){if(typeof E2!="function")throw Error(Ln(280));var t=e.stateNode;t&&(t=d1(t),E2(e.stateNode,e.type,t))}}function DD(e){um?dm?dm.push(e):dm=[e]:um=e}function LD(){if(um){var e=um,t=dm;if(dm=um=null,ik(e),t)for(e=0;e<t.length;e++)ik(t[e])}}function FD(e,t){return e(t)}function ND(){}var Gb=!1;function BD(e,t,n){if(Gb)return e(t,n);Gb=!0;try{return FD(e,t,n)}finally{Gb=!1,(um!==null||dm!==null)&&(ND(),LD())}}function Ey(e,t){var n=e.stateNode;if(n===null)return null;var r=d1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ln(231,t,typeof n));return n}var C2=!1;if(Ld)try{var zg={};Object.defineProperty(zg,"passive",{get:function(){C2=!0}}),window.addEventListener("test",zg,zg),window.removeEventListener("test",zg,zg)}catch{C2=!1}function FB(e,t,n,r,c,u,h,o,v){var E=Array.prototype.slice.call(arguments,3);try{t.apply(n,E)}catch(S){this.onError(S)}}var uy=!1,y_=null,v_=!1,S2=null,NB={onError:function(e){uy=!0,y_=e}};function BB(e,t,n,r,c,u,h,o,v){uy=!1,y_=null,FB.apply(NB,arguments)}function zB(e,t,n,r,c,u,h,o,v){if(BB.apply(this,arguments),uy){if(uy){var E=y_;uy=!1,y_=null}else throw Error(Ln(198));v_||(v_=!0,S2=E)}}function tp(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ok(e){if(tp(e)!==e)throw Error(Ln(188))}function $B(e){var t=e.alternate;if(!t){if(t=tp(e),t===null)throw Error(Ln(188));return t!==e?null:e}for(var n=e,r=t;;){var c=n.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){n=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===n)return ok(c),e;if(u===r)return ok(c),t;u=u.sibling}throw Error(Ln(188))}if(n.return!==r.return)n=c,r=u;else{for(var h=!1,o=c.child;o;){if(o===n){h=!0,n=c,r=u;break}if(o===r){h=!0,r=c,n=u;break}o=o.sibling}if(!h){for(o=u.child;o;){if(o===n){h=!0,n=u,r=c;break}if(o===r){h=!0,r=u,n=c;break}o=o.sibling}if(!h)throw Error(Ln(189))}}if(n.alternate!==r)throw Error(Ln(190))}if(n.tag!==3)throw Error(Ln(188));return n.stateNode.current===n?e:t}function $D(e){return e=$B(e),e!==null?jD(e):null}function jD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jD(e);if(t!==null)return t;e=e.sibling}return null}var UD=Ll.unstable_scheduleCallback,ak=Ll.unstable_cancelCallback,jB=Ll.unstable_shouldYield,UB=Ll.unstable_requestPaint,qo=Ll.unstable_now,VB=Ll.unstable_getCurrentPriorityLevel,mT=Ll.unstable_ImmediatePriority,VD=Ll.unstable_UserBlockingPriority,__=Ll.unstable_NormalPriority,GB=Ll.unstable_LowPriority,GD=Ll.unstable_IdlePriority,s1=null,Xu=null;function HB(e){if(Xu&&typeof Xu.onCommitFiberRoot=="function")try{Xu.onCommitFiberRoot(s1,e,void 0,(e.current.flags&128)===128)}catch{}}var cu=Math.clz32?Math.clz32:qB,WB=Math.log,ZB=Math.LN2;function qB(e){return e>>>=0,e===0?32:31-(WB(e)/ZB|0)|0}var p0=64,m0=4194304;function ny(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function x_(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,u=e.pingedLanes,h=n&268435455;if(h!==0){var o=h&~c;o!==0?r=ny(o):(u&=h,u!==0&&(r=ny(u)))}else h=n&~c,h!==0?r=ny(h):u!==0&&(r=ny(u));if(r===0)return 0;if(t!==0&&t!==r&&!(t&c)&&(c=r&-r,u=t&-t,c>=u||c===16&&(u&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cu(t),c=1<<n,r|=e[n],t&=~c;return r}function KB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-cu(u),o=1<<h,v=c[h];v===-1?(!(o&n)||o&r)&&(c[h]=KB(o,t)):v<=t&&(e.expiredLanes|=o),u&=~o}}function T2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HD(){var e=p0;return p0<<=1,!(p0&4194240)&&(p0=64),e}function Hb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ov(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cu(t),e[t]=n}function YB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var c=31-cu(n),u=1<<c;t[c]=0,r[c]=-1,e[c]=-1,n&=~u}}function gT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cu(n),c=1<<r;c&t|e[r]&t&&(e[r]|=t),n&=~c}}var Fi=0;function WD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZD,yT,qD,KD,XD,A2=!1,g0=[],kf=null,Mf=null,Of=null,Cy=new Map,Sy=new Map,Ef=[],JB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sk(e,t){switch(e){case"focusin":case"focusout":kf=null;break;case"dragenter":case"dragleave":Mf=null;break;case"mouseover":case"mouseout":Of=null;break;case"pointerover":case"pointerout":Cy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sy.delete(t.pointerId)}}function $g(e,t,n,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},t!==null&&(t=sv(t),t!==null&&yT(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function QB(e,t,n,r,c){switch(t){case"focusin":return kf=$g(kf,e,t,n,r,c),!0;case"dragenter":return Mf=$g(Mf,e,t,n,r,c),!0;case"mouseover":return Of=$g(Of,e,t,n,r,c),!0;case"pointerover":var u=c.pointerId;return Cy.set(u,$g(Cy.get(u)||null,e,t,n,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Sy.set(u,$g(Sy.get(u)||null,e,t,n,r,c)),!0}return!1}function YD(e){var t=Nh(e.target);if(t!==null){var n=tp(t);if(n!==null){if(t=n.tag,t===13){if(t=zD(n),t!==null){e.blockedOn=t,XD(e.priority,function(){qD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Z0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=P2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);w2=r,n.target.dispatchEvent(r),w2=null}else return t=sv(n),t!==null&&yT(t),e.blockedOn=n,!1;t.shift()}return!0}function lk(e,t,n){Z0(e)&&n.delete(t)}function ez(){A2=!1,kf!==null&&Z0(kf)&&(kf=null),Mf!==null&&Z0(Mf)&&(Mf=null),Of!==null&&Z0(Of)&&(Of=null),Cy.forEach(lk),Sy.forEach(lk)}function jg(e,t){e.blockedOn===t&&(e.blockedOn=null,A2||(A2=!0,Ll.unstable_scheduleCallback(Ll.unstable_NormalPriority,ez)))}function Ty(e){function t(c){return jg(c,e)}if(0<g0.length){jg(g0[0],e);for(var n=1;n<g0.length;n++){var r=g0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kf!==null&&jg(kf,e),Mf!==null&&jg(Mf,e),Of!==null&&jg(Of,e),Cy.forEach(t),Sy.forEach(t),n=0;n<Ef.length;n++)r=Ef[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ef.length&&(n=Ef[0],n.blockedOn===null);)YD(n),n.blockedOn===null&&Ef.shift()}var fm=jd.ReactCurrentBatchConfig,b_=!0;function tz(e,t,n,r){var c=Fi,u=fm.transition;fm.transition=null;try{Fi=1,vT(e,t,n,r)}finally{Fi=c,fm.transition=u}}function nz(e,t,n,r){var c=Fi,u=fm.transition;fm.transition=null;try{Fi=4,vT(e,t,n,r)}finally{Fi=c,fm.transition=u}}function vT(e,t,n,r){if(b_){var c=P2(e,t,n,r);if(c===null)tw(e,t,r,w_,n),sk(e,r);else if(QB(c,e,t,n,r))r.stopPropagation();else if(sk(e,r),t&4&&-1<JB.indexOf(e)){for(;c!==null;){var u=sv(c);if(u!==null&&ZD(u),u=P2(e,t,n,r),u===null&&tw(e,t,r,w_,n),u===c)break;c=u}c!==null&&r.stopPropagation()}else tw(e,t,r,null,n)}}var w_=null;function P2(e,t,n,r){if(w_=null,e=pT(r),e=Nh(e),e!==null)if(t=tp(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return w_=e,null}function JD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VB()){case mT:return 1;case VD:return 4;case __:case GB:return 16;case GD:return 536870912;default:return 16}default:return 16}}var Tf=null,_T=null,q0=null;function QD(){if(q0)return q0;var e,t=_T,n=t.length,r,c="value"in Tf?Tf.value:Tf.textContent,u=c.length;for(e=0;e<n&&t[e]===c[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===c[u-r];r++);return q0=c.slice(e,1<r?1-r:void 0)}function K0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function y0(){return!0}function ck(){return!1}function Bl(e){function t(n,r,c,u,h){this._reactName=n,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(u):u[o]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?y0:ck,this.isPropagationStopped=ck,this}return To(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=y0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=y0)},persist:function(){},isPersistent:y0}),t}var Bm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xT=Bl(Bm),av=To({},Bm,{view:0,detail:0}),rz=Bl(av),Wb,Zb,Ug,l1=To({},av,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ug&&(Ug&&e.type==="mousemove"?(Wb=e.screenX-Ug.screenX,Zb=e.screenY-Ug.screenY):Zb=Wb=0,Ug=e),Wb)},movementY:function(e){return"movementY"in e?e.movementY:Zb}}),uk=Bl(l1),iz=To({},l1,{dataTransfer:0}),oz=Bl(iz),az=To({},av,{relatedTarget:0}),qb=Bl(az),sz=To({},Bm,{animationName:0,elapsedTime:0,pseudoElement:0}),lz=Bl(sz),cz=To({},Bm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uz=Bl(cz),dz=To({},Bm,{data:0}),dk=Bl(dz),fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pz[e])?!!t[e]:!1}function bT(){return mz}var gz=To({},av,{key:function(e){if(e.key){var t=fz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=K0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bT,charCode:function(e){return e.type==="keypress"?K0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?K0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yz=Bl(gz),vz=To({},l1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fk=Bl(vz),_z=To({},av,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bT}),xz=Bl(_z),bz=To({},Bm,{propertyName:0,elapsedTime:0,pseudoElement:0}),wz=Bl(bz),Ez=To({},l1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cz=Bl(Ez),Sz=[9,13,27,32],wT=Ld&&"CompositionEvent"in window,dy=null;Ld&&"documentMode"in document&&(dy=document.documentMode);var Tz=Ld&&"TextEvent"in window&&!dy,e4=Ld&&(!wT||dy&&8<dy&&11>=dy),hk=String.fromCharCode(32),pk=!1;function t4(e,t){switch(e){case"keyup":return Sz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jp=!1;function Az(e,t){switch(e){case"compositionend":return n4(t);case"keypress":return t.which!==32?null:(pk=!0,hk);case"textInput":return e=t.data,e===hk&&pk?null:e;default:return null}}function Pz(e,t){if(Jp)return e==="compositionend"||!wT&&t4(e,t)?(e=QD(),q0=_T=Tf=null,Jp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e4&&t.locale!=="ko"?null:t.data;default:return null}}var Iz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iz[e.type]:t==="textarea"}function r4(e,t,n,r){DD(r),t=E_(t,"onChange"),0<t.length&&(n=new xT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fy=null,Ay=null;function kz(e){p4(e,0)}function c1(e){var t=tm(e);if(AD(t))return e}function Mz(e,t){if(e==="change")return t}var i4=!1;if(Ld){var Kb;if(Ld){var Xb="oninput"in document;if(!Xb){var gk=document.createElement("div");gk.setAttribute("oninput","return;"),Xb=typeof gk.oninput=="function"}Kb=Xb}else Kb=!1;i4=Kb&&(!document.documentMode||9<document.documentMode)}function yk(){fy&&(fy.detachEvent("onpropertychange",o4),Ay=fy=null)}function o4(e){if(e.propertyName==="value"&&c1(Ay)){var t=[];r4(t,Ay,e,pT(e)),BD(kz,t)}}function Oz(e,t,n){e==="focusin"?(yk(),fy=t,Ay=n,fy.attachEvent("onpropertychange",o4)):e==="focusout"&&yk()}function Rz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return c1(Ay)}function Dz(e,t){if(e==="click")return c1(t)}function Lz(e,t){if(e==="input"||e==="change")return c1(t)}function Fz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fu=typeof Object.is=="function"?Object.is:Fz;function Py(e,t){if(fu(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var c=n[r];if(!u2.call(t,c)||!fu(e[c],t[c]))return!1}return!0}function vk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _k(e,t){var n=vk(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vk(n)}}function a4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s4(){for(var e=window,t=g_();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=g_(e.document)}return t}function ET(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nz(e){var t=s4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a4(n.ownerDocument.documentElement,n)){if(r!==null&&ET(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=n.textContent.length,u=Math.min(r.start,c);r=r.end===void 0?u:Math.min(r.end,c),!e.extend&&u>r&&(c=r,r=u,u=c),c=_k(n,u);var h=_k(n,r);c&&h&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bz=Ld&&"documentMode"in document&&11>=document.documentMode,Qp=null,I2=null,hy=null,k2=!1;function xk(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;k2||Qp==null||Qp!==g_(r)||(r=Qp,"selectionStart"in r&&ET(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hy&&Py(hy,r)||(hy=r,r=E_(I2,"onSelect"),0<r.length&&(t=new xT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qp)))}function v0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var em={animationend:v0("Animation","AnimationEnd"),animationiteration:v0("Animation","AnimationIteration"),animationstart:v0("Animation","AnimationStart"),transitionend:v0("Transition","TransitionEnd")},Yb={},l4={};Ld&&(l4=document.createElement("div").style,"AnimationEvent"in window||(delete em.animationend.animation,delete em.animationiteration.animation,delete em.animationstart.animation),"TransitionEvent"in window||delete em.transitionend.transition);function u1(e){if(Yb[e])return Yb[e];if(!em[e])return e;var t=em[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in l4)return Yb[e]=t[n];return e}var c4=u1("animationend"),u4=u1("animationiteration"),d4=u1("animationstart"),f4=u1("transitionend"),h4=new Map,bk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wf(e,t){h4.set(e,t),ep(t,[e])}for(var Jb=0;Jb<bk.length;Jb++){var Qb=bk[Jb],zz=Qb.toLowerCase(),$z=Qb[0].toUpperCase()+Qb.slice(1);Wf(zz,"on"+$z)}Wf(c4,"onAnimationEnd");Wf(u4,"onAnimationIteration");Wf(d4,"onAnimationStart");Wf("dblclick","onDoubleClick");Wf("focusin","onFocus");Wf("focusout","onBlur");Wf(f4,"onTransitionEnd");bm("onMouseEnter",["mouseout","mouseover"]);bm("onMouseLeave",["mouseout","mouseover"]);bm("onPointerEnter",["pointerout","pointerover"]);bm("onPointerLeave",["pointerout","pointerover"]);ep("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ep("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ep("onBeforeInput",["compositionend","keypress","textInput","paste"]);ep("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ep("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ep("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ry="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ry));function wk(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zB(r,t,void 0,e),e.currentTarget=null}function p4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],c=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var h=r.length-1;0<=h;h--){var o=r[h],v=o.instance,E=o.currentTarget;if(o=o.listener,v!==u&&c.isPropagationStopped())break e;wk(c,o,E),u=v}else for(h=0;h<r.length;h++){if(o=r[h],v=o.instance,E=o.currentTarget,o=o.listener,v!==u&&c.isPropagationStopped())break e;wk(c,o,E),u=v}}}if(v_)throw e=S2,v_=!1,S2=null,e}function no(e,t){var n=t[L2];n===void 0&&(n=t[L2]=new Set);var r=e+"__bubble";n.has(r)||(m4(t,e,2,!1),n.add(r))}function ew(e,t,n){var r=0;t&&(r|=4),m4(n,e,r,t)}var _0="_reactListening"+Math.random().toString(36).slice(2);function Iy(e){if(!e[_0]){e[_0]=!0,wD.forEach(function(n){n!=="selectionchange"&&(jz.has(n)||ew(n,!1,e),ew(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_0]||(t[_0]=!0,ew("selectionchange",!1,t))}}function m4(e,t,n,r){switch(JD(t)){case 1:var c=tz;break;case 4:c=nz;break;default:c=vT}n=c.bind(null,t,n,e),c=void 0,!C2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function tw(e,t,n,r,c){var u=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var o=r.stateNode.containerInfo;if(o===c||o.nodeType===8&&o.parentNode===c)break;if(h===4)for(h=r.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===c||v.nodeType===8&&v.parentNode===c))return;h=h.return}for(;o!==null;){if(h=Nh(o),h===null)return;if(v=h.tag,v===5||v===6){r=u=h;continue e}o=o.parentNode}}r=r.return}BD(function(){var E=u,S=pT(n),k=[];e:{var O=h4.get(e);if(O!==void 0){var N=xT,G=e;switch(e){case"keypress":if(K0(n)===0)break e;case"keydown":case"keyup":N=yz;break;case"focusin":G="focus",N=qb;break;case"focusout":G="blur",N=qb;break;case"beforeblur":case"afterblur":N=qb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=uk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=oz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=xz;break;case c4:case u4:case d4:N=lz;break;case f4:N=wz;break;case"scroll":N=rz;break;case"wheel":N=Cz;break;case"copy":case"cut":case"paste":N=uz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=fk}var U=(t&4)!==0,H=!U&&e==="scroll",q=U?O!==null?O+"Capture":null:O;U=[];for(var W=E,Y;W!==null;){Y=W;var ie=Y.stateNode;if(Y.tag===5&&ie!==null&&(Y=ie,q!==null&&(ie=Ey(W,q),ie!=null&&U.push(ky(W,ie,Y)))),H)break;W=W.return}0<U.length&&(O=new N(O,G,null,n,S),k.push({event:O,listeners:U}))}}if(!(t&7)){e:{if(O=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",O&&n!==w2&&(G=n.relatedTarget||n.fromElement)&&(Nh(G)||G[Fd]))break e;if((N||O)&&(O=S.window===S?S:(O=S.ownerDocument)?O.defaultView||O.parentWindow:window,N?(G=n.relatedTarget||n.toElement,N=E,G=G?Nh(G):null,G!==null&&(H=tp(G),G!==H||G.tag!==5&&G.tag!==6)&&(G=null)):(N=null,G=E),N!==G)){if(U=uk,ie="onMouseLeave",q="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(U=fk,ie="onPointerLeave",q="onPointerEnter",W="pointer"),H=N==null?O:tm(N),Y=G==null?O:tm(G),O=new U(ie,W+"leave",N,n,S),O.target=H,O.relatedTarget=Y,ie=null,Nh(S)===E&&(U=new U(q,W+"enter",G,n,S),U.target=Y,U.relatedTarget=H,ie=U),H=ie,N&&G)t:{for(U=N,q=G,W=0,Y=U;Y;Y=Fp(Y))W++;for(Y=0,ie=q;ie;ie=Fp(ie))Y++;for(;0<W-Y;)U=Fp(U),W--;for(;0<Y-W;)q=Fp(q),Y--;for(;W--;){if(U===q||q!==null&&U===q.alternate)break t;U=Fp(U),q=Fp(q)}U=null}else U=null;N!==null&&Ek(k,O,N,U,!1),G!==null&&H!==null&&Ek(k,H,G,U,!0)}}e:{if(O=E?tm(E):window,N=O.nodeName&&O.nodeName.toLowerCase(),N==="select"||N==="input"&&O.type==="file")var he=Mz;else if(mk(O))if(i4)he=Lz;else{he=Rz;var Se=Oz}else(N=O.nodeName)&&N.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(he=Dz);if(he&&(he=he(e,E))){r4(k,he,n,S);break e}Se&&Se(e,O,E),e==="focusout"&&(Se=O._wrapperState)&&Se.controlled&&O.type==="number"&&y2(O,"number",O.value)}switch(Se=E?tm(E):window,e){case"focusin":(mk(Se)||Se.contentEditable==="true")&&(Qp=Se,I2=E,hy=null);break;case"focusout":hy=I2=Qp=null;break;case"mousedown":k2=!0;break;case"contextmenu":case"mouseup":case"dragend":k2=!1,xk(k,n,S);break;case"selectionchange":if(Bz)break;case"keydown":case"keyup":xk(k,n,S)}var Pe;if(wT)e:{switch(e){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Jp?t4(e,n)&&(We="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(We="onCompositionStart");We&&(e4&&n.locale!=="ko"&&(Jp||We!=="onCompositionStart"?We==="onCompositionEnd"&&Jp&&(Pe=QD()):(Tf=S,_T="value"in Tf?Tf.value:Tf.textContent,Jp=!0)),Se=E_(E,We),0<Se.length&&(We=new dk(We,e,null,n,S),k.push({event:We,listeners:Se}),Pe?We.data=Pe:(Pe=n4(n),Pe!==null&&(We.data=Pe)))),(Pe=Tz?Az(e,n):Pz(e,n))&&(E=E_(E,"onBeforeInput"),0<E.length&&(S=new dk("onBeforeInput","beforeinput",null,n,S),k.push({event:S,listeners:E}),S.data=Pe))}p4(k,t)})}function ky(e,t,n){return{instance:e,listener:t,currentTarget:n}}function E_(e,t){for(var n=t+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;c.tag===5&&u!==null&&(c=u,u=Ey(e,n),u!=null&&r.unshift(ky(e,u,c)),u=Ey(e,t),u!=null&&r.push(ky(e,u,c))),e=e.return}return r}function Fp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ek(e,t,n,r,c){for(var u=t._reactName,h=[];n!==null&&n!==r;){var o=n,v=o.alternate,E=o.stateNode;if(v!==null&&v===r)break;o.tag===5&&E!==null&&(o=E,c?(v=Ey(n,u),v!=null&&h.unshift(ky(n,v,o))):c||(v=Ey(n,u),v!=null&&h.push(ky(n,v,o)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Uz=/\r\n?/g,Vz=/\u0000|\uFFFD/g;function Ck(e){return(typeof e=="string"?e:""+e).replace(Uz,`
`).replace(Vz,"")}function x0(e,t,n){if(t=Ck(t),Ck(e)!==t&&n)throw Error(Ln(425))}function C_(){}var M2=null,O2=null;function R2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var D2=typeof setTimeout=="function"?setTimeout:void 0,Gz=typeof clearTimeout=="function"?clearTimeout:void 0,Sk=typeof Promise=="function"?Promise:void 0,Hz=typeof queueMicrotask=="function"?queueMicrotask:typeof Sk<"u"?function(e){return Sk.resolve(null).then(e).catch(Wz)}:D2;function Wz(e){setTimeout(function(){throw e})}function nw(e,t){var n=t,r=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(r===0){e.removeChild(c),Ty(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=c}while(n);Ty(t)}function Rf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zm=Math.random().toString(36).slice(2),Zu="__reactFiber$"+zm,My="__reactProps$"+zm,Fd="__reactContainer$"+zm,L2="__reactEvents$"+zm,Zz="__reactListeners$"+zm,qz="__reactHandles$"+zm;function Nh(e){var t=e[Zu];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fd]||n[Zu]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tk(e);e!==null;){if(n=e[Zu])return n;e=Tk(e)}return t}e=n,n=e.parentNode}return null}function sv(e){return e=e[Zu]||e[Fd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ln(33))}function d1(e){return e[My]||null}var F2=[],nm=-1;function Zf(e){return{current:e}}function io(e){0>nm||(e.current=F2[nm],F2[nm]=null,nm--)}function qi(e,t){nm++,F2[nm]=e.current,e.current=t}var Vf={},us=Zf(Vf),Ys=Zf(!1),Hh=Vf;function wm(e,t){var n=e.type.contextTypes;if(!n)return Vf;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var c={},u;for(u in n)c[u]=t[u];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Js(e){return e=e.childContextTypes,e!=null}function S_(){io(Ys),io(us)}function Ak(e,t,n){if(us.current!==Vf)throw Error(Ln(168));qi(us,t),qi(Ys,n)}function g4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var c in r)if(!(c in t))throw Error(Ln(108,OB(e)||"Unknown",c));return To({},n,r)}function T_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Hh=us.current,qi(us,e),qi(Ys,Ys.current),!0}function Pk(e,t,n){var r=e.stateNode;if(!r)throw Error(Ln(169));n?(e=g4(e,t,Hh),r.__reactInternalMemoizedMergedChildContext=e,io(Ys),io(us),qi(us,e)):io(Ys),qi(Ys,n)}var Pd=null,f1=!1,rw=!1;function y4(e){Pd===null?Pd=[e]:Pd.push(e)}function Kz(e){f1=!0,y4(e)}function qf(){if(!rw&&Pd!==null){rw=!0;var e=0,t=Fi;try{var n=Pd;for(Fi=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pd=null,f1=!1}catch(c){throw Pd!==null&&(Pd=Pd.slice(e+1)),UD(mT,qf),c}finally{Fi=t,rw=!1}}return null}var rm=[],im=0,A_=null,P_=0,oc=[],ac=0,Wh=null,Id=1,kd="";function Mh(e,t){rm[im++]=P_,rm[im++]=A_,A_=e,P_=t}function v4(e,t,n){oc[ac++]=Id,oc[ac++]=kd,oc[ac++]=Wh,Wh=e;var r=Id;e=kd;var c=32-cu(r)-1;r&=~(1<<c),n+=1;var u=32-cu(t)+c;if(30<u){var h=c-c%5;u=(r&(1<<h)-1).toString(32),r>>=h,c-=h,Id=1<<32-cu(t)+c|n<<c|r,kd=u+e}else Id=1<<u|n<<c|r,kd=e}function CT(e){e.return!==null&&(Mh(e,1),v4(e,1,0))}function ST(e){for(;e===A_;)A_=rm[--im],rm[im]=null,P_=rm[--im],rm[im]=null;for(;e===Wh;)Wh=oc[--ac],oc[ac]=null,kd=oc[--ac],oc[ac]=null,Id=oc[--ac],oc[ac]=null}var Ml=null,kl=null,fo=!1,Gc=null;function _4(e,t){var n=lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ik(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ml=e,kl=Rf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ml=e,kl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wh!==null?{id:Id,overflow:kd}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lc(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ml=e,kl=null,!0):!1;default:return!1}}function N2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B2(e){if(fo){var t=kl;if(t){var n=t;if(!Ik(e,t)){if(N2(e))throw Error(Ln(418));t=Rf(n.nextSibling);var r=Ml;t&&Ik(e,t)?_4(r,n):(e.flags=e.flags&-4097|2,fo=!1,Ml=e)}}else{if(N2(e))throw Error(Ln(418));e.flags=e.flags&-4097|2,fo=!1,Ml=e}}}function kk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ml=e}function b0(e){if(e!==Ml)return!1;if(!fo)return kk(e),fo=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!R2(e.type,e.memoizedProps)),t&&(t=kl)){if(N2(e))throw x4(),Error(Ln(418));for(;t;)_4(e,t),t=Rf(t.nextSibling)}if(kk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ln(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kl=Rf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kl=null}}else kl=Ml?Rf(e.stateNode.nextSibling):null;return!0}function x4(){for(var e=kl;e;)e=Rf(e.nextSibling)}function Em(){kl=Ml=null,fo=!1}function TT(e){Gc===null?Gc=[e]:Gc.push(e)}var Xz=jd.ReactCurrentBatchConfig;function jc(e,t){if(e&&e.defaultProps){t=To({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var I_=Zf(null),k_=null,om=null,AT=null;function PT(){AT=om=k_=null}function IT(e){var t=I_.current;io(I_),e._currentValue=t}function z2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hm(e,t){k_=e,AT=om=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xs=!0),e.firstContext=null)}function dc(e){var t=e._currentValue;if(AT!==e)if(e={context:e,memoizedValue:t,next:null},om===null){if(k_===null)throw Error(Ln(308));om=e,k_.dependencies={lanes:0,firstContext:e}}else om=om.next=e;return t}var Bh=null;function kT(e){Bh===null?Bh=[e]:Bh.push(e)}function b4(e,t,n,r){var c=t.interleaved;return c===null?(n.next=n,kT(t)):(n.next=c.next,c.next=n),t.interleaved=n,Nd(e,r)}function Nd(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bf=!1;function MT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Md(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Df(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ui&2){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,Nd(e,n)}return c=r.interleaved,c===null?(t.next=t,kT(r)):(t.next=c.next,c.next=t),r.interleaved=t,Nd(e,n)}function X0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gT(e,n)}}function Mk(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var c=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?c=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?c=u=t:u=u.next=t}else c=u=t;n={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function M_(e,t,n,r){var c=e.updateQueue;bf=!1;var u=c.firstBaseUpdate,h=c.lastBaseUpdate,o=c.shared.pending;if(o!==null){c.shared.pending=null;var v=o,E=v.next;v.next=null,h===null?u=E:h.next=E,h=v;var S=e.alternate;S!==null&&(S=S.updateQueue,o=S.lastBaseUpdate,o!==h&&(o===null?S.firstBaseUpdate=E:o.next=E,S.lastBaseUpdate=v))}if(u!==null){var k=c.baseState;h=0,S=E=v=null,o=u;do{var O=o.lane,N=o.eventTime;if((r&O)===O){S!==null&&(S=S.next={eventTime:N,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var G=e,U=o;switch(O=t,N=n,U.tag){case 1:if(G=U.payload,typeof G=="function"){k=G.call(N,k,O);break e}k=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=U.payload,O=typeof G=="function"?G.call(N,k,O):G,O==null)break e;k=To({},k,O);break e;case 2:bf=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,O=c.effects,O===null?c.effects=[o]:O.push(o))}else N={eventTime:N,lane:O,tag:o.tag,payload:o.payload,callback:o.callback,next:null},S===null?(E=S=N,v=k):S=S.next=N,h|=O;if(o=o.next,o===null){if(o=c.shared.pending,o===null)break;O=o,o=O.next,O.next=null,c.lastBaseUpdate=O,c.shared.pending=null}}while(1);if(S===null&&(v=k),c.baseState=v,c.firstBaseUpdate=E,c.lastBaseUpdate=S,t=c.shared.interleaved,t!==null){c=t;do h|=c.lane,c=c.next;while(c!==t)}else u===null&&(c.shared.lanes=0);qh|=h,e.lanes=h,e.memoizedState=k}}function Ok(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],c=r.callback;if(c!==null){if(r.callback=null,r=n,typeof c!="function")throw Error(Ln(191,c));c.call(r)}}}var E4=new bD.Component().refs;function $2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:To({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var h1={isMounted:function(e){return(e=e._reactInternals)?tp(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ts(),c=Ff(e),u=Md(r,c);u.payload=t,n!=null&&(u.callback=n),t=Df(e,u,c),t!==null&&(uu(t,e,c,r),X0(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ts(),c=Ff(e),u=Md(r,c);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Df(e,u,c),t!==null&&(uu(t,e,c,r),X0(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ts(),r=Ff(e),c=Md(n,r);c.tag=2,t!=null&&(c.callback=t),t=Df(e,c,r),t!==null&&(uu(t,e,r,n),X0(t,e,r))}};function Rk(e,t,n,r,c,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):t.prototype&&t.prototype.isPureReactComponent?!Py(n,r)||!Py(c,u):!0}function C4(e,t,n){var r=!1,c=Vf,u=t.contextType;return typeof u=="object"&&u!==null?u=dc(u):(c=Js(t)?Hh:us.current,r=t.contextTypes,u=(r=r!=null)?wm(e,c):Vf),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=h1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=u),t}function Dk(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&h1.enqueueReplaceState(t,t.state,null)}function j2(e,t,n,r){var c=e.stateNode;c.props=n,c.state=e.memoizedState,c.refs=E4,MT(e);var u=t.contextType;typeof u=="object"&&u!==null?c.context=dc(u):(u=Js(t)?Hh:us.current,c.context=wm(e,u)),c.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&($2(e,t,u,n),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&h1.enqueueReplaceState(c,c.state,null),M_(e,n,c,r),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Vg(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ln(309));var r=n.stateNode}if(!r)throw Error(Ln(147,e));var c=r,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var o=c.refs;o===E4&&(o=c.refs={}),h===null?delete o[u]:o[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(Ln(284));if(!n._owner)throw Error(Ln(290,e))}return e}function w0(e,t){throw e=Object.prototype.toString.call(t),Error(Ln(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lk(e){var t=e._init;return t(e._payload)}function S4(e){function t(q,W){if(e){var Y=q.deletions;Y===null?(q.deletions=[W],q.flags|=16):Y.push(W)}}function n(q,W){if(!e)return null;for(;W!==null;)t(q,W),W=W.sibling;return null}function r(q,W){for(q=new Map;W!==null;)W.key!==null?q.set(W.key,W):q.set(W.index,W),W=W.sibling;return q}function c(q,W){return q=Nf(q,W),q.index=0,q.sibling=null,q}function u(q,W,Y){return q.index=Y,e?(Y=q.alternate,Y!==null?(Y=Y.index,Y<W?(q.flags|=2,W):Y):(q.flags|=2,W)):(q.flags|=1048576,W)}function h(q){return e&&q.alternate===null&&(q.flags|=2),q}function o(q,W,Y,ie){return W===null||W.tag!==6?(W=uw(Y,q.mode,ie),W.return=q,W):(W=c(W,Y),W.return=q,W)}function v(q,W,Y,ie){var he=Y.type;return he===Yp?S(q,W,Y.props.children,ie,Y.key):W!==null&&(W.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xf&&Lk(he)===W.type)?(ie=c(W,Y.props),ie.ref=Vg(q,W,Y),ie.return=q,ie):(ie=n_(Y.type,Y.key,Y.props,null,q.mode,ie),ie.ref=Vg(q,W,Y),ie.return=q,ie)}function E(q,W,Y,ie){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=dw(Y,q.mode,ie),W.return=q,W):(W=c(W,Y.children||[]),W.return=q,W)}function S(q,W,Y,ie,he){return W===null||W.tag!==7?(W=Vh(Y,q.mode,ie,he),W.return=q,W):(W=c(W,Y),W.return=q,W)}function k(q,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=uw(""+W,q.mode,Y),W.return=q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case d0:return Y=n_(W.type,W.key,W.props,null,q.mode,Y),Y.ref=Vg(q,null,W),Y.return=q,Y;case Xp:return W=dw(W,q.mode,Y),W.return=q,W;case xf:var ie=W._init;return k(q,ie(W._payload),Y)}if(ty(W)||Bg(W))return W=Vh(W,q.mode,Y,null),W.return=q,W;w0(q,W)}return null}function O(q,W,Y,ie){var he=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return he!==null?null:o(q,W,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case d0:return Y.key===he?v(q,W,Y,ie):null;case Xp:return Y.key===he?E(q,W,Y,ie):null;case xf:return he=Y._init,O(q,W,he(Y._payload),ie)}if(ty(Y)||Bg(Y))return he!==null?null:S(q,W,Y,ie,null);w0(q,Y)}return null}function N(q,W,Y,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return q=q.get(Y)||null,o(W,q,""+ie,he);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case d0:return q=q.get(ie.key===null?Y:ie.key)||null,v(W,q,ie,he);case Xp:return q=q.get(ie.key===null?Y:ie.key)||null,E(W,q,ie,he);case xf:var Se=ie._init;return N(q,W,Y,Se(ie._payload),he)}if(ty(ie)||Bg(ie))return q=q.get(Y)||null,S(W,q,ie,he,null);w0(W,ie)}return null}function G(q,W,Y,ie){for(var he=null,Se=null,Pe=W,We=W=0,Le=null;Pe!==null&&We<Y.length;We++){Pe.index>We?(Le=Pe,Pe=null):Le=Pe.sibling;var qe=O(q,Pe,Y[We],ie);if(qe===null){Pe===null&&(Pe=Le);break}e&&Pe&&qe.alternate===null&&t(q,Pe),W=u(qe,W,We),Se===null?he=qe:Se.sibling=qe,Se=qe,Pe=Le}if(We===Y.length)return n(q,Pe),fo&&Mh(q,We),he;if(Pe===null){for(;We<Y.length;We++)Pe=k(q,Y[We],ie),Pe!==null&&(W=u(Pe,W,We),Se===null?he=Pe:Se.sibling=Pe,Se=Pe);return fo&&Mh(q,We),he}for(Pe=r(q,Pe);We<Y.length;We++)Le=N(Pe,q,We,Y[We],ie),Le!==null&&(e&&Le.alternate!==null&&Pe.delete(Le.key===null?We:Le.key),W=u(Le,W,We),Se===null?he=Le:Se.sibling=Le,Se=Le);return e&&Pe.forEach(function(Kt){return t(q,Kt)}),fo&&Mh(q,We),he}function U(q,W,Y,ie){var he=Bg(Y);if(typeof he!="function")throw Error(Ln(150));if(Y=he.call(Y),Y==null)throw Error(Ln(151));for(var Se=he=null,Pe=W,We=W=0,Le=null,qe=Y.next();Pe!==null&&!qe.done;We++,qe=Y.next()){Pe.index>We?(Le=Pe,Pe=null):Le=Pe.sibling;var Kt=O(q,Pe,qe.value,ie);if(Kt===null){Pe===null&&(Pe=Le);break}e&&Pe&&Kt.alternate===null&&t(q,Pe),W=u(Kt,W,We),Se===null?he=Kt:Se.sibling=Kt,Se=Kt,Pe=Le}if(qe.done)return n(q,Pe),fo&&Mh(q,We),he;if(Pe===null){for(;!qe.done;We++,qe=Y.next())qe=k(q,qe.value,ie),qe!==null&&(W=u(qe,W,We),Se===null?he=qe:Se.sibling=qe,Se=qe);return fo&&Mh(q,We),he}for(Pe=r(q,Pe);!qe.done;We++,qe=Y.next())qe=N(Pe,q,We,qe.value,ie),qe!==null&&(e&&qe.alternate!==null&&Pe.delete(qe.key===null?We:qe.key),W=u(qe,W,We),Se===null?he=qe:Se.sibling=qe,Se=qe);return e&&Pe.forEach(function(Ut){return t(q,Ut)}),fo&&Mh(q,We),he}function H(q,W,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===Yp&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case d0:e:{for(var he=Y.key,Se=W;Se!==null;){if(Se.key===he){if(he=Y.type,he===Yp){if(Se.tag===7){n(q,Se.sibling),W=c(Se,Y.props.children),W.return=q,q=W;break e}}else if(Se.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xf&&Lk(he)===Se.type){n(q,Se.sibling),W=c(Se,Y.props),W.ref=Vg(q,Se,Y),W.return=q,q=W;break e}n(q,Se);break}else t(q,Se);Se=Se.sibling}Y.type===Yp?(W=Vh(Y.props.children,q.mode,ie,Y.key),W.return=q,q=W):(ie=n_(Y.type,Y.key,Y.props,null,q.mode,ie),ie.ref=Vg(q,W,Y),ie.return=q,q=ie)}return h(q);case Xp:e:{for(Se=Y.key;W!==null;){if(W.key===Se)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){n(q,W.sibling),W=c(W,Y.children||[]),W.return=q,q=W;break e}else{n(q,W);break}else t(q,W);W=W.sibling}W=dw(Y,q.mode,ie),W.return=q,q=W}return h(q);case xf:return Se=Y._init,H(q,W,Se(Y._payload),ie)}if(ty(Y))return G(q,W,Y,ie);if(Bg(Y))return U(q,W,Y,ie);w0(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(n(q,W.sibling),W=c(W,Y),W.return=q,q=W):(n(q,W),W=uw(Y,q.mode,ie),W.return=q,q=W),h(q)):n(q,W)}return H}var Cm=S4(!0),T4=S4(!1),lv={},Yu=Zf(lv),Oy=Zf(lv),Ry=Zf(lv);function zh(e){if(e===lv)throw Error(Ln(174));return e}function OT(e,t){switch(qi(Ry,t),qi(Oy,e),qi(Yu,lv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_2(t,e)}io(Yu),qi(Yu,t)}function Sm(){io(Yu),io(Oy),io(Ry)}function A4(e){zh(Ry.current);var t=zh(Yu.current),n=_2(t,e.type);t!==n&&(qi(Oy,e),qi(Yu,n))}function RT(e){Oy.current===e&&(io(Yu),io(Oy))}var wo=Zf(0);function O_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iw=[];function DT(){for(var e=0;e<iw.length;e++)iw[e]._workInProgressVersionPrimary=null;iw.length=0}var Y0=jd.ReactCurrentDispatcher,ow=jd.ReactCurrentBatchConfig,Zh=0,So=null,da=null,Ea=null,R_=!1,py=!1,Dy=0,Yz=0;function ns(){throw Error(Ln(321))}function LT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fu(e[n],t[n]))return!1;return!0}function FT(e,t,n,r,c,u){if(Zh=u,So=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y0.current=e===null||e.memoizedState===null?t7:n7,e=n(r,c),py){u=0;do{if(py=!1,Dy=0,25<=u)throw Error(Ln(301));u+=1,Ea=da=null,t.updateQueue=null,Y0.current=r7,e=n(r,c)}while(py)}if(Y0.current=D_,t=da!==null&&da.next!==null,Zh=0,Ea=da=So=null,R_=!1,t)throw Error(Ln(300));return e}function NT(){var e=Dy!==0;return Dy=0,e}function Gu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?So.memoizedState=Ea=e:Ea=Ea.next=e,Ea}function fc(){if(da===null){var e=So.alternate;e=e!==null?e.memoizedState:null}else e=da.next;var t=Ea===null?So.memoizedState:Ea.next;if(t!==null)Ea=t,da=e;else{if(e===null)throw Error(Ln(310));da=e,e={memoizedState:da.memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},Ea===null?So.memoizedState=Ea=e:Ea=Ea.next=e}return Ea}function Ly(e,t){return typeof t=="function"?t(e):t}function aw(e){var t=fc(),n=t.queue;if(n===null)throw Error(Ln(311));n.lastRenderedReducer=e;var r=da,c=r.baseQueue,u=n.pending;if(u!==null){if(c!==null){var h=c.next;c.next=u.next,u.next=h}r.baseQueue=c=u,n.pending=null}if(c!==null){u=c.next,r=r.baseState;var o=h=null,v=null,E=u;do{var S=E.lane;if((Zh&S)===S)v!==null&&(v=v.next={lane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),r=E.hasEagerState?E.eagerState:e(r,E.action);else{var k={lane:S,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null};v===null?(o=v=k,h=r):v=v.next=k,So.lanes|=S,qh|=S}E=E.next}while(E!==null&&E!==u);v===null?h=r:v.next=o,fu(r,t.memoizedState)||(Xs=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){c=e;do u=c.lane,So.lanes|=u,qh|=u,c=c.next;while(c!==e)}else c===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sw(e){var t=fc(),n=t.queue;if(n===null)throw Error(Ln(311));n.lastRenderedReducer=e;var r=n.dispatch,c=n.pending,u=t.memoizedState;if(c!==null){n.pending=null;var h=c=c.next;do u=e(u,h.action),h=h.next;while(h!==c);fu(u,t.memoizedState)||(Xs=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,r]}function P4(){}function I4(e,t){var n=So,r=fc(),c=t(),u=!fu(r.memoizedState,c);if(u&&(r.memoizedState=c,Xs=!0),r=r.queue,BT(O4.bind(null,n,r,e),[e]),r.getSnapshot!==t||u||Ea!==null&&Ea.memoizedState.tag&1){if(n.flags|=2048,Fy(9,M4.bind(null,n,r,c,t),void 0,null),Ca===null)throw Error(Ln(349));Zh&30||k4(n,t,c)}return c}function k4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=So.updateQueue,t===null?(t={lastEffect:null,stores:null},So.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function M4(e,t,n,r){t.value=n,t.getSnapshot=r,R4(t)&&D4(e)}function O4(e,t,n){return n(function(){R4(t)&&D4(e)})}function R4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fu(e,n)}catch{return!0}}function D4(e){var t=Nd(e,1);t!==null&&uu(t,e,1,-1)}function Fk(e){var t=Gu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:e},t.queue=e,e=e.dispatch=e7.bind(null,So,e),[t.memoizedState,e]}function Fy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=So.updateQueue,t===null?(t={lastEffect:null,stores:null},So.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function L4(){return fc().memoizedState}function J0(e,t,n,r){var c=Gu();So.flags|=e,c.memoizedState=Fy(1|t,n,void 0,r===void 0?null:r)}function p1(e,t,n,r){var c=fc();r=r===void 0?null:r;var u=void 0;if(da!==null){var h=da.memoizedState;if(u=h.destroy,r!==null&&LT(r,h.deps)){c.memoizedState=Fy(t,n,u,r);return}}So.flags|=e,c.memoizedState=Fy(1|t,n,u,r)}function Nk(e,t){return J0(8390656,8,e,t)}function BT(e,t){return p1(2048,8,e,t)}function F4(e,t){return p1(4,2,e,t)}function N4(e,t){return p1(4,4,e,t)}function B4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z4(e,t,n){return n=n!=null?n.concat([e]):null,p1(4,4,B4.bind(null,t,e),n)}function zT(){}function $4(e,t){var n=fc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&LT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function j4(e,t){var n=fc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&LT(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function U4(e,t,n){return Zh&21?(fu(n,t)||(n=HD(),So.lanes|=n,qh|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xs=!0),e.memoizedState=n)}function Jz(e,t){var n=Fi;Fi=n!==0&&4>n?n:4,e(!0);var r=ow.transition;ow.transition={};try{e(!1),t()}finally{Fi=n,ow.transition=r}}function V4(){return fc().memoizedState}function Qz(e,t,n){var r=Ff(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G4(e))H4(t,n);else if(n=b4(e,t,n,r),n!==null){var c=Ts();uu(n,e,r,c),W4(n,t,r)}}function e7(e,t,n){var r=Ff(e),c={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G4(e))H4(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,o=u(h,n);if(c.hasEagerState=!0,c.eagerState=o,fu(o,h)){var v=t.interleaved;v===null?(c.next=c,kT(t)):(c.next=v.next,v.next=c),t.interleaved=c;return}}catch{}finally{}n=b4(e,t,c,r),n!==null&&(c=Ts(),uu(n,e,r,c),W4(n,t,r))}}function G4(e){var t=e.alternate;return e===So||t!==null&&t===So}function H4(e,t){py=R_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gT(e,n)}}var D_={readContext:dc,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},t7={readContext:dc,useCallback:function(e,t){return Gu().memoizedState=[e,t===void 0?null:t],e},useContext:dc,useEffect:Nk,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,J0(4194308,4,B4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return J0(4194308,4,e,t)},useInsertionEffect:function(e,t){return J0(4,2,e,t)},useMemo:function(e,t){var n=Gu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qz.bind(null,So,e),[r.memoizedState,e]},useRef:function(e){var t=Gu();return e={current:e},t.memoizedState=e},useState:Fk,useDebugValue:zT,useDeferredValue:function(e){return Gu().memoizedState=e},useTransition:function(){var e=Fk(!1),t=e[0];return e=Jz.bind(null,e[1]),Gu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=So,c=Gu();if(fo){if(n===void 0)throw Error(Ln(407));n=n()}else{if(n=t(),Ca===null)throw Error(Ln(349));Zh&30||k4(r,t,n)}c.memoizedState=n;var u={value:n,getSnapshot:t};return c.queue=u,Nk(O4.bind(null,r,u,e),[e]),r.flags|=2048,Fy(9,M4.bind(null,r,u,n,t),void 0,null),n},useId:function(){var e=Gu(),t=Ca.identifierPrefix;if(fo){var n=kd,r=Id;n=(r&~(1<<32-cu(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n7={readContext:dc,useCallback:$4,useContext:dc,useEffect:BT,useImperativeHandle:z4,useInsertionEffect:F4,useLayoutEffect:N4,useMemo:j4,useReducer:aw,useRef:L4,useState:function(){return aw(Ly)},useDebugValue:zT,useDeferredValue:function(e){var t=fc();return U4(t,da.memoizedState,e)},useTransition:function(){var e=aw(Ly)[0],t=fc().memoizedState;return[e,t]},useMutableSource:P4,useSyncExternalStore:I4,useId:V4,unstable_isNewReconciler:!1},r7={readContext:dc,useCallback:$4,useContext:dc,useEffect:BT,useImperativeHandle:z4,useInsertionEffect:F4,useLayoutEffect:N4,useMemo:j4,useReducer:sw,useRef:L4,useState:function(){return sw(Ly)},useDebugValue:zT,useDeferredValue:function(e){var t=fc();return da===null?t.memoizedState=e:U4(t,da.memoizedState,e)},useTransition:function(){var e=sw(Ly)[0],t=fc().memoizedState;return[e,t]},useMutableSource:P4,useSyncExternalStore:I4,useId:V4,unstable_isNewReconciler:!1};function Tm(e,t){try{var n="",r=t;do n+=MB(r),r=r.return;while(r);var c=n}catch(u){c=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:c,digest:null}}function lw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function U2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var i7=typeof WeakMap=="function"?WeakMap:Map;function Z4(e,t,n){n=Md(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){F_||(F_=!0,J2=r),U2(e,t)},n}function q4(e,t,n){n=Md(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var c=t.value;n.payload=function(){return r(c)},n.callback=function(){U2(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){U2(e,t),typeof r!="function"&&(Lf===null?Lf=new Set([this]):Lf.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function Bk(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new i7;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(n)||(c.add(n),e=v7.bind(null,e,t,n),t.then(e,e))}function zk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $k(e,t,n,r,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Md(-1,1),t.tag=2,Df(n,t,1))),n.lanes|=1),e)}var o7=jd.ReactCurrentOwner,Xs=!1;function Ss(e,t,n,r){t.child=e===null?T4(t,null,n,r):Cm(t,e.child,n,r)}function jk(e,t,n,r,c){n=n.render;var u=t.ref;return hm(t,c),r=FT(e,t,n,r,u,c),n=NT(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Bd(e,t,c)):(fo&&n&&CT(t),t.flags|=1,Ss(e,t,r,c),t.child)}function Uk(e,t,n,r,c){if(e===null){var u=n.type;return typeof u=="function"&&!ZT(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,K4(e,t,u,r,c)):(e=n_(n.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&c)){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:Py,n(h,r)&&e.ref===t.ref)return Bd(e,t,c)}return t.flags|=1,e=Nf(u,r),e.ref=t.ref,e.return=t,t.child=e}function K4(e,t,n,r,c){if(e!==null){var u=e.memoizedProps;if(Py(u,r)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=r=u,(e.lanes&c)!==0)e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,Bd(e,t,c)}return V2(e,t,n,r,c)}function X4(e,t,n){var r=t.pendingProps,c=r.children,u=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qi(sm,Pl),Pl|=n;else{if(!(n&1073741824))return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qi(sm,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=u!==null?u.baseLanes:n,qi(sm,Pl),Pl|=r}else u!==null?(r=u.baseLanes|n,t.memoizedState=null):r=n,qi(sm,Pl),Pl|=r;return Ss(e,t,c,n),t.child}function Y4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function V2(e,t,n,r,c){var u=Js(n)?Hh:us.current;return u=wm(t,u),hm(t,c),n=FT(e,t,n,r,u,c),r=NT(),e!==null&&!Xs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Bd(e,t,c)):(fo&&r&&CT(t),t.flags|=1,Ss(e,t,n,c),t.child)}function Vk(e,t,n,r,c){if(Js(n)){var u=!0;T_(t)}else u=!1;if(hm(t,c),t.stateNode===null)Q0(e,t),C4(t,n,r),j2(t,n,r,c),r=!0;else if(e===null){var h=t.stateNode,o=t.memoizedProps;h.props=o;var v=h.context,E=n.contextType;typeof E=="object"&&E!==null?E=dc(E):(E=Js(n)?Hh:us.current,E=wm(t,E));var S=n.getDerivedStateFromProps,k=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function";k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(o!==r||v!==E)&&Dk(t,h,r,E),bf=!1;var O=t.memoizedState;h.state=O,M_(t,r,h,c),v=t.memoizedState,o!==r||O!==v||Ys.current||bf?(typeof S=="function"&&($2(t,n,S,r),v=t.memoizedState),(o=bf||Rk(t,n,o,r,O,v,E))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),h.props=r,h.state=v,h.context=E,r=o):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,w4(e,t),o=t.memoizedProps,E=t.type===t.elementType?o:jc(t.type,o),h.props=E,k=t.pendingProps,O=h.context,v=n.contextType,typeof v=="object"&&v!==null?v=dc(v):(v=Js(n)?Hh:us.current,v=wm(t,v));var N=n.getDerivedStateFromProps;(S=typeof N=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(o!==k||O!==v)&&Dk(t,h,r,v),bf=!1,O=t.memoizedState,h.state=O,M_(t,r,h,c);var G=t.memoizedState;o!==k||O!==G||Ys.current||bf?(typeof N=="function"&&($2(t,n,N,r),G=t.memoizedState),(E=bf||Rk(t,n,E,r,O,G,v)||!1)?(S||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,G,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,G,v)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=G),h.props=r,h.state=G,h.context=v,r=E):(typeof h.componentDidUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),r=!1)}return G2(e,t,n,r,u,c)}function G2(e,t,n,r,c,u){Y4(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return c&&Pk(t,n,!1),Bd(e,t,u);r=t.stateNode,o7.current=t;var o=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=Cm(t,e.child,null,u),t.child=Cm(t,null,o,u)):Ss(e,t,o,u),t.memoizedState=r.state,c&&Pk(t,n,!0),t.child}function J4(e){var t=e.stateNode;t.pendingContext?Ak(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ak(e,t.context,!1),OT(e,t.containerInfo)}function Gk(e,t,n,r,c){return Em(),TT(c),t.flags|=256,Ss(e,t,n,r),t.child}var H2={dehydrated:null,treeContext:null,retryLane:0};function W2(e){return{baseLanes:e,cachePool:null,transitions:null}}function Q4(e,t,n){var r=t.pendingProps,c=wo.current,u=!1,h=(t.flags&128)!==0,o;if((o=h)||(o=e!==null&&e.memoizedState===null?!1:(c&2)!==0),o?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),qi(wo,c&1),e===null)return B2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,u?(r=t.mode,u=t.child,h={mode:"hidden",children:h},!(r&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=y1(h,r,0,null),e=Vh(e,r,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=W2(n),t.memoizedState=H2,e):$T(t,h));if(c=e.memoizedState,c!==null&&(o=c.dehydrated,o!==null))return a7(e,t,h,r,o,c,n);if(u){u=r.fallback,h=t.mode,c=e.child,o=c.sibling;var v={mode:"hidden",children:r.children};return!(h&1)&&t.child!==c?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=Nf(c,v),r.subtreeFlags=c.subtreeFlags&14680064),o!==null?u=Nf(o,u):(u=Vh(u,h,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,h=e.child.memoizedState,h=h===null?W2(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~n,t.memoizedState=H2,r}return u=e.child,e=u.sibling,r=Nf(u,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $T(e,t){return t=y1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function E0(e,t,n,r){return r!==null&&TT(r),Cm(t,e.child,null,n),e=$T(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a7(e,t,n,r,c,u,h){if(n)return t.flags&256?(t.flags&=-257,r=lw(Error(Ln(422))),E0(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=r.fallback,c=t.mode,r=y1({mode:"visible",children:r.children},c,0,null),u=Vh(u,c,h,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,t.mode&1&&Cm(t,e.child,null,h),t.child.memoizedState=W2(h),t.memoizedState=H2,u);if(!(t.mode&1))return E0(e,t,h,null);if(c.data==="$!"){if(r=c.nextSibling&&c.nextSibling.dataset,r)var o=r.dgst;return r=o,u=Error(Ln(419)),r=lw(u,r,void 0),E0(e,t,h,r)}if(o=(h&e.childLanes)!==0,Xs||o){if(r=Ca,r!==null){switch(h&-h){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(r.suspendedLanes|h)?0:c,c!==0&&c!==u.retryLane&&(u.retryLane=c,Nd(e,c),uu(r,e,c,-1))}return WT(),r=lw(Error(Ln(421))),E0(e,t,h,r)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=_7.bind(null,e),c._reactRetry=t,null):(e=u.treeContext,kl=Rf(c.nextSibling),Ml=t,fo=!0,Gc=null,e!==null&&(oc[ac++]=Id,oc[ac++]=kd,oc[ac++]=Wh,Id=e.id,kd=e.overflow,Wh=t),t=$T(t,r.children),t.flags|=4096,t)}function Hk(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),z2(e.return,t,n)}function cw(e,t,n,r,c){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:c}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=c)}function e5(e,t,n){var r=t.pendingProps,c=r.revealOrder,u=r.tail;if(Ss(e,t,r.children,n),r=wo.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hk(e,n,t);else if(e.tag===19)Hk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qi(wo,r),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&O_(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),cw(t,!1,c,n,u);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&O_(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}cw(t,!0,n,null,u);break;case"together":cw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Q0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qh|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ln(153));if(t.child!==null){for(e=t.child,n=Nf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function s7(e,t,n){switch(t.tag){case 3:J4(t),Em();break;case 5:A4(t);break;case 1:Js(t.type)&&T_(t);break;case 4:OT(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,c=t.memoizedProps.value;qi(I_,r._currentValue),r._currentValue=c;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qi(wo,wo.current&1),t.flags|=128,null):n&t.child.childLanes?Q4(e,t,n):(qi(wo,wo.current&1),e=Bd(e,t,n),e!==null?e.sibling:null);qi(wo,wo.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return e5(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),qi(wo,wo.current),r)break;return null;case 22:case 23:return t.lanes=0,X4(e,t,n)}return Bd(e,t,n)}var t5,Z2,n5,r5;t5=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z2=function(){};n5=function(e,t,n,r){var c=e.memoizedProps;if(c!==r){e=t.stateNode,zh(Yu.current);var u=null;switch(n){case"input":c=m2(e,c),r=m2(e,r),u=[];break;case"select":c=To({},c,{value:void 0}),r=To({},r,{value:void 0}),u=[];break;case"textarea":c=v2(e,c),r=v2(e,r),u=[];break;default:typeof c.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=C_)}x2(n,r);var h;n=null;for(E in c)if(!r.hasOwnProperty(E)&&c.hasOwnProperty(E)&&c[E]!=null)if(E==="style"){var o=c[E];for(h in o)o.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else E!=="dangerouslySetInnerHTML"&&E!=="children"&&E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(by.hasOwnProperty(E)?u||(u=[]):(u=u||[]).push(E,null));for(E in r){var v=r[E];if(o=c!=null?c[E]:void 0,r.hasOwnProperty(E)&&v!==o&&(v!=null||o!=null))if(E==="style")if(o){for(h in o)!o.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in v)v.hasOwnProperty(h)&&o[h]!==v[h]&&(n||(n={}),n[h]=v[h])}else n||(u||(u=[]),u.push(E,n)),n=v;else E==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,o=o?o.__html:void 0,v!=null&&o!==v&&(u=u||[]).push(E,v)):E==="children"?typeof v!="string"&&typeof v!="number"||(u=u||[]).push(E,""+v):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&(by.hasOwnProperty(E)?(v!=null&&E==="onScroll"&&no("scroll",e),u||o===v||(u=[])):(u=u||[]).push(E,v))}n&&(u=u||[]).push("style",n);var E=u;(t.updateQueue=E)&&(t.flags|=4)}};r5=function(e,t,n,r){n!==r&&(t.flags|=4)};function Gg(e,t){if(!fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags&14680064,r|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function l7(e,t,n){var r=t.pendingProps;switch(ST(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(t),null;case 1:return Js(t.type)&&S_(),rs(t),null;case 3:return r=t.stateNode,Sm(),io(Ys),io(us),DT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(b0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gc!==null&&(tE(Gc),Gc=null))),Z2(e,t),rs(t),null;case 5:RT(t);var c=zh(Ry.current);if(n=t.type,e!==null&&t.stateNode!=null)n5(e,t,n,r,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ln(166));return rs(t),null}if(e=zh(Yu.current),b0(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Zu]=t,r[My]=u,e=(t.mode&1)!==0,n){case"dialog":no("cancel",r),no("close",r);break;case"iframe":case"object":case"embed":no("load",r);break;case"video":case"audio":for(c=0;c<ry.length;c++)no(ry[c],r);break;case"source":no("error",r);break;case"img":case"image":case"link":no("error",r),no("load",r);break;case"details":no("toggle",r);break;case"input":ek(r,u),no("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},no("invalid",r);break;case"textarea":nk(r,u),no("invalid",r)}x2(n,u),c=null;for(var h in u)if(u.hasOwnProperty(h)){var o=u[h];h==="children"?typeof o=="string"?r.textContent!==o&&(u.suppressHydrationWarning!==!0&&x0(r.textContent,o,e),c=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(u.suppressHydrationWarning!==!0&&x0(r.textContent,o,e),c=["children",""+o]):by.hasOwnProperty(h)&&o!=null&&h==="onScroll"&&no("scroll",r)}switch(n){case"input":f0(r),tk(r,u,!0);break;case"textarea":f0(r),rk(r);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(r.onclick=C_)}r=c,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[Zu]=t,e[My]=r,t5(e,t,!1,!1),t.stateNode=e;e:{switch(h=b2(n,r),n){case"dialog":no("cancel",e),no("close",e),c=r;break;case"iframe":case"object":case"embed":no("load",e),c=r;break;case"video":case"audio":for(c=0;c<ry.length;c++)no(ry[c],e);c=r;break;case"source":no("error",e),c=r;break;case"img":case"image":case"link":no("error",e),no("load",e),c=r;break;case"details":no("toggle",e),c=r;break;case"input":ek(e,r),c=m2(e,r),no("invalid",e);break;case"option":c=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=To({},r,{value:void 0}),no("invalid",e);break;case"textarea":nk(e,r),c=v2(e,r),no("invalid",e);break;default:c=r}x2(n,c),o=c;for(u in o)if(o.hasOwnProperty(u)){var v=o[u];u==="style"?RD(e,v):u==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&MD(e,v)):u==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&wy(e,v):typeof v=="number"&&wy(e,""+v):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(by.hasOwnProperty(u)?v!=null&&u==="onScroll"&&no("scroll",e):v!=null&&uT(e,u,v,h))}switch(n){case"input":f0(e),tk(e,r,!1);break;case"textarea":f0(e),rk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Uf(r.value));break;case"select":e.multiple=!!r.multiple,u=r.value,u!=null?cm(e,!!r.multiple,u,!1):r.defaultValue!=null&&cm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=C_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rs(t),null;case 6:if(e&&t.stateNode!=null)r5(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ln(166));if(n=zh(Ry.current),zh(Yu.current),b0(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zu]=t,(u=r.nodeValue!==n)&&(e=Ml,e!==null))switch(e.tag){case 3:x0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&x0(r.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zu]=t,t.stateNode=r}return rs(t),null;case 13:if(io(wo),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fo&&kl!==null&&t.mode&1&&!(t.flags&128))x4(),Em(),t.flags|=98560,u=!1;else if(u=b0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(Ln(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(Ln(317));u[Zu]=t}else Em(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rs(t),u=!1}else Gc!==null&&(tE(Gc),Gc=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||wo.current&1?ha===0&&(ha=3):WT())),t.updateQueue!==null&&(t.flags|=4),rs(t),null);case 4:return Sm(),Z2(e,t),e===null&&Iy(t.stateNode.containerInfo),rs(t),null;case 10:return IT(t.type._context),rs(t),null;case 17:return Js(t.type)&&S_(),rs(t),null;case 19:if(io(wo),u=t.memoizedState,u===null)return rs(t),null;if(r=(t.flags&128)!==0,h=u.rendering,h===null)if(r)Gg(u,!1);else{if(ha!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=O_(e),h!==null){for(t.flags|=128,Gg(u,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)u=n,e=r,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qi(wo,wo.current&1|2),t.child}e=e.sibling}u.tail!==null&&qo()>Am&&(t.flags|=128,r=!0,Gg(u,!1),t.lanes=4194304)}else{if(!r)if(e=O_(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Gg(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!fo)return rs(t),null}else 2*qo()-u.renderingStartTime>Am&&n!==1073741824&&(t.flags|=128,r=!0,Gg(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(n=u.last,n!==null?n.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=qo(),t.sibling=null,n=wo.current,qi(wo,r?n&1|2:n&1),t):(rs(t),null);case 22:case 23:return HT(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pl&1073741824&&(rs(t),t.subtreeFlags&6&&(t.flags|=8192)):rs(t),null;case 24:return null;case 25:return null}throw Error(Ln(156,t.tag))}function c7(e,t){switch(ST(t),t.tag){case 1:return Js(t.type)&&S_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sm(),io(Ys),io(us),DT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return RT(t),null;case 13:if(io(wo),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ln(340));Em()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return io(wo),null;case 4:return Sm(),null;case 10:return IT(t.type._context),null;case 22:case 23:return HT(),null;case 24:return null;default:return null}}var C0=!1,ss=!1,u7=typeof WeakSet=="function"?WeakSet:Set,lr=null;function am(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){No(e,t,r)}else n.current=null}function q2(e,t,n){try{n()}catch(r){No(e,t,r)}}var Wk=!1;function d7(e,t){if(M2=b_,e=s4(),ET(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,o=-1,v=-1,E=0,S=0,k=e,O=null;t:for(;;){for(var N;k!==n||c!==0&&k.nodeType!==3||(o=h+c),k!==u||r!==0&&k.nodeType!==3||(v=h+r),k.nodeType===3&&(h+=k.nodeValue.length),(N=k.firstChild)!==null;)O=k,k=N;for(;;){if(k===e)break t;if(O===n&&++E===c&&(o=h),O===u&&++S===r&&(v=h),(N=k.nextSibling)!==null)break;k=O,O=k.parentNode}k=N}n=o===-1||v===-1?null:{start:o,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(O2={focusedElem:e,selectionRange:n},b_=!1,lr=t;lr!==null;)if(t=lr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lr=e;else for(;lr!==null;){t=lr;try{var G=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var U=G.memoizedProps,H=G.memoizedState,q=t.stateNode,W=q.getSnapshotBeforeUpdate(t.elementType===t.type?U:jc(t.type,U),H);q.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=t.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ln(163))}}catch(ie){No(t,t.return,ie)}if(e=t.sibling,e!==null){e.return=t.return,lr=e;break}lr=t.return}return G=Wk,Wk=!1,G}function my(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var c=r=r.next;do{if((c.tag&e)===e){var u=c.destroy;c.destroy=void 0,u!==void 0&&q2(t,n,u)}c=c.next}while(c!==r)}}function m1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function K2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function i5(e){var t=e.alternate;t!==null&&(e.alternate=null,i5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zu],delete t[My],delete t[L2],delete t[Zz],delete t[qz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o5(e){return e.tag===5||e.tag===3||e.tag===4}function Zk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function X2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=C_));else if(r!==4&&(e=e.child,e!==null))for(X2(e,t,n),e=e.sibling;e!==null;)X2(e,t,n),e=e.sibling}function Y2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Y2(e,t,n),e=e.sibling;e!==null;)Y2(e,t,n),e=e.sibling}var La=null,Uc=!1;function vf(e,t,n){for(n=n.child;n!==null;)a5(e,t,n),n=n.sibling}function a5(e,t,n){if(Xu&&typeof Xu.onCommitFiberUnmount=="function")try{Xu.onCommitFiberUnmount(s1,n)}catch{}switch(n.tag){case 5:ss||am(n,t);case 6:var r=La,c=Uc;La=null,vf(e,t,n),La=r,Uc=c,La!==null&&(Uc?(e=La,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):La.removeChild(n.stateNode));break;case 18:La!==null&&(Uc?(e=La,n=n.stateNode,e.nodeType===8?nw(e.parentNode,n):e.nodeType===1&&nw(e,n),Ty(e)):nw(La,n.stateNode));break;case 4:r=La,c=Uc,La=n.stateNode.containerInfo,Uc=!0,vf(e,t,n),La=r,Uc=c;break;case 0:case 11:case 14:case 15:if(!ss&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){c=r=r.next;do{var u=c,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&q2(n,t,h),c=c.next}while(c!==r)}vf(e,t,n);break;case 1:if(!ss&&(am(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){No(n,t,o)}vf(e,t,n);break;case 21:vf(e,t,n);break;case 22:n.mode&1?(ss=(r=ss)||n.memoizedState!==null,vf(e,t,n),ss=r):vf(e,t,n);break;default:vf(e,t,n)}}function qk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u7),t.forEach(function(r){var c=x7.bind(null,e,r);n.has(r)||(n.add(r),r.then(c,c))})}}function zc(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var c=n[r];try{var u=e,h=t,o=h;e:for(;o!==null;){switch(o.tag){case 5:La=o.stateNode,Uc=!1;break e;case 3:La=o.stateNode.containerInfo,Uc=!0;break e;case 4:La=o.stateNode.containerInfo,Uc=!0;break e}o=o.return}if(La===null)throw Error(Ln(160));a5(u,h,c),La=null,Uc=!1;var v=c.alternate;v!==null&&(v.return=null),c.return=null}catch(E){No(c,t,E)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)s5(t,e),t=t.sibling}function s5(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zc(t,e),ju(e),r&4){try{my(3,e,e.return),m1(3,e)}catch(U){No(e,e.return,U)}try{my(5,e,e.return)}catch(U){No(e,e.return,U)}}break;case 1:zc(t,e),ju(e),r&512&&n!==null&&am(n,n.return);break;case 5:if(zc(t,e),ju(e),r&512&&n!==null&&am(n,n.return),e.flags&32){var c=e.stateNode;try{wy(c,"")}catch(U){No(e,e.return,U)}}if(r&4&&(c=e.stateNode,c!=null)){var u=e.memoizedProps,h=n!==null?n.memoizedProps:u,o=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{o==="input"&&u.type==="radio"&&u.name!=null&&PD(c,u),b2(o,h);var E=b2(o,u);for(h=0;h<v.length;h+=2){var S=v[h],k=v[h+1];S==="style"?RD(c,k):S==="dangerouslySetInnerHTML"?MD(c,k):S==="children"?wy(c,k):uT(c,S,k,E)}switch(o){case"input":g2(c,u);break;case"textarea":ID(c,u);break;case"select":var O=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!u.multiple;var N=u.value;N!=null?cm(c,!!u.multiple,N,!1):O!==!!u.multiple&&(u.defaultValue!=null?cm(c,!!u.multiple,u.defaultValue,!0):cm(c,!!u.multiple,u.multiple?[]:"",!1))}c[My]=u}catch(U){No(e,e.return,U)}}break;case 6:if(zc(t,e),ju(e),r&4){if(e.stateNode===null)throw Error(Ln(162));c=e.stateNode,u=e.memoizedProps;try{c.nodeValue=u}catch(U){No(e,e.return,U)}}break;case 3:if(zc(t,e),ju(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ty(t.containerInfo)}catch(U){No(e,e.return,U)}break;case 4:zc(t,e),ju(e);break;case 13:zc(t,e),ju(e),c=e.child,c.flags&8192&&(u=c.memoizedState!==null,c.stateNode.isHidden=u,!u||c.alternate!==null&&c.alternate.memoizedState!==null||(VT=qo())),r&4&&qk(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(ss=(E=ss)||S,zc(t,e),ss=E):zc(t,e),ju(e),r&8192){if(E=e.memoizedState!==null,(e.stateNode.isHidden=E)&&!S&&e.mode&1)for(lr=e,S=e.child;S!==null;){for(k=lr=S;lr!==null;){switch(O=lr,N=O.child,O.tag){case 0:case 11:case 14:case 15:my(4,O,O.return);break;case 1:am(O,O.return);var G=O.stateNode;if(typeof G.componentWillUnmount=="function"){r=O,n=O.return;try{t=r,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(U){No(r,n,U)}}break;case 5:am(O,O.return);break;case 22:if(O.memoizedState!==null){Xk(k);continue}}N!==null?(N.return=O,lr=N):Xk(k)}S=S.sibling}e:for(S=null,k=e;;){if(k.tag===5){if(S===null){S=k;try{c=k.stateNode,E?(u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(o=k.stateNode,v=k.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,o.style.display=OD("display",h))}catch(U){No(e,e.return,U)}}}else if(k.tag===6){if(S===null)try{k.stateNode.nodeValue=E?"":k.memoizedProps}catch(U){No(e,e.return,U)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===e)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===e)break e;for(;k.sibling===null;){if(k.return===null||k.return===e)break e;S===k&&(S=null),k=k.return}S===k&&(S=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:zc(t,e),ju(e),r&4&&qk(e);break;case 21:break;default:zc(t,e),ju(e)}}function ju(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(o5(n)){var r=n;break e}n=n.return}throw Error(Ln(160))}switch(r.tag){case 5:var c=r.stateNode;r.flags&32&&(wy(c,""),r.flags&=-33);var u=Zk(e);Y2(e,u,c);break;case 3:case 4:var h=r.stateNode.containerInfo,o=Zk(e);X2(e,o,h);break;default:throw Error(Ln(161))}}catch(v){No(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f7(e,t,n){lr=e,l5(e)}function l5(e,t,n){for(var r=(e.mode&1)!==0;lr!==null;){var c=lr,u=c.child;if(c.tag===22&&r){var h=c.memoizedState!==null||C0;if(!h){var o=c.alternate,v=o!==null&&o.memoizedState!==null||ss;o=C0;var E=ss;if(C0=h,(ss=v)&&!E)for(lr=c;lr!==null;)h=lr,v=h.child,h.tag===22&&h.memoizedState!==null?Yk(c):v!==null?(v.return=h,lr=v):Yk(c);for(;u!==null;)lr=u,l5(u),u=u.sibling;lr=c,C0=o,ss=E}Kk(e)}else c.subtreeFlags&8772&&u!==null?(u.return=c,lr=u):Kk(e)}}function Kk(e){for(;lr!==null;){var t=lr;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||m1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ss)if(n===null)r.componentDidMount();else{var c=t.elementType===t.type?n.memoizedProps:jc(t.type,n.memoizedProps);r.componentDidUpdate(c,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Ok(t,u,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ok(t,h,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var E=t.alternate;if(E!==null){var S=E.memoizedState;if(S!==null){var k=S.dehydrated;k!==null&&Ty(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ln(163))}ss||t.flags&512&&K2(t)}catch(O){No(t,t.return,O)}}if(t===e){lr=null;break}if(n=t.sibling,n!==null){n.return=t.return,lr=n;break}lr=t.return}}function Xk(e){for(;lr!==null;){var t=lr;if(t===e){lr=null;break}var n=t.sibling;if(n!==null){n.return=t.return,lr=n;break}lr=t.return}}function Yk(e){for(;lr!==null;){var t=lr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{m1(4,t)}catch(v){No(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var c=t.return;try{r.componentDidMount()}catch(v){No(t,c,v)}}var u=t.return;try{K2(t)}catch(v){No(t,u,v)}break;case 5:var h=t.return;try{K2(t)}catch(v){No(t,h,v)}}}catch(v){No(t,t.return,v)}if(t===e){lr=null;break}var o=t.sibling;if(o!==null){o.return=t.return,lr=o;break}lr=t.return}}var h7=Math.ceil,L_=jd.ReactCurrentDispatcher,jT=jd.ReactCurrentOwner,cc=jd.ReactCurrentBatchConfig,ui=0,Ca=null,ia=null,$a=0,Pl=0,sm=Zf(0),ha=0,Ny=null,qh=0,g1=0,UT=0,gy=null,Ks=null,VT=0,Am=1/0,Ad=null,F_=!1,J2=null,Lf=null,S0=!1,Af=null,N_=0,yy=0,Q2=null,e_=-1,t_=0;function Ts(){return ui&6?qo():e_!==-1?e_:e_=qo()}function Ff(e){return e.mode&1?ui&2&&$a!==0?$a&-$a:Xz.transition!==null?(t_===0&&(t_=HD()),t_):(e=Fi,e!==0||(e=window.event,e=e===void 0?16:JD(e.type)),e):1}function uu(e,t,n,r){if(50<yy)throw yy=0,Q2=null,Error(Ln(185));ov(e,n,r),(!(ui&2)||e!==Ca)&&(e===Ca&&(!(ui&2)&&(g1|=n),ha===4&&Cf(e,$a)),Qs(e,r),n===1&&ui===0&&!(t.mode&1)&&(Am=qo()+500,f1&&qf()))}function Qs(e,t){var n=e.callbackNode;XB(e,t);var r=x_(e,e===Ca?$a:0);if(r===0)n!==null&&ak(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ak(n),t===1)e.tag===0?Kz(Jk.bind(null,e)):y4(Jk.bind(null,e)),Hz(function(){!(ui&6)&&qf()}),n=null;else{switch(WD(r)){case 1:n=mT;break;case 4:n=VD;break;case 16:n=__;break;case 536870912:n=GD;break;default:n=__}n=g5(n,c5.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function c5(e,t){if(e_=-1,t_=0,ui&6)throw Error(Ln(327));var n=e.callbackNode;if(pm()&&e.callbackNode!==n)return null;var r=x_(e,e===Ca?$a:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=B_(e,r);else{t=r;var c=ui;ui|=2;var u=d5();(Ca!==e||$a!==t)&&(Ad=null,Am=qo()+500,Uh(e,t));do try{g7();break}catch(o){u5(e,o)}while(1);PT(),L_.current=u,ui=c,ia!==null?t=0:(Ca=null,$a=0,t=ha)}if(t!==0){if(t===2&&(c=T2(e),c!==0&&(r=c,t=eE(e,c))),t===1)throw n=Ny,Uh(e,0),Cf(e,r),Qs(e,qo()),n;if(t===6)Cf(e,r);else{if(c=e.current.alternate,!(r&30)&&!p7(c)&&(t=B_(e,r),t===2&&(u=T2(e),u!==0&&(r=u,t=eE(e,u))),t===1))throw n=Ny,Uh(e,0),Cf(e,r),Qs(e,qo()),n;switch(e.finishedWork=c,e.finishedLanes=r,t){case 0:case 1:throw Error(Ln(345));case 2:Oh(e,Ks,Ad);break;case 3:if(Cf(e,r),(r&130023424)===r&&(t=VT+500-qo(),10<t)){if(x_(e,0)!==0)break;if(c=e.suspendedLanes,(c&r)!==r){Ts(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=D2(Oh.bind(null,e,Ks,Ad),t);break}Oh(e,Ks,Ad);break;case 4:if(Cf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,c=-1;0<r;){var h=31-cu(r);u=1<<h,h=t[h],h>c&&(c=h),r&=~u}if(r=c,r=qo()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h7(r/1960))-r,10<r){e.timeoutHandle=D2(Oh.bind(null,e,Ks,Ad),r);break}Oh(e,Ks,Ad);break;case 5:Oh(e,Ks,Ad);break;default:throw Error(Ln(329))}}}return Qs(e,qo()),e.callbackNode===n?c5.bind(null,e):null}function eE(e,t){var n=gy;return e.current.memoizedState.isDehydrated&&(Uh(e,t).flags|=256),e=B_(e,t),e!==2&&(t=Ks,Ks=n,t!==null&&tE(t)),e}function tE(e){Ks===null?Ks=e:Ks.push.apply(Ks,e)}function p7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var c=n[r],u=c.getSnapshot;c=c.value;try{if(!fu(u(),c))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cf(e,t){for(t&=~UT,t&=~g1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cu(t),r=1<<n;e[n]=-1,t&=~r}}function Jk(e){if(ui&6)throw Error(Ln(327));pm();var t=x_(e,0);if(!(t&1))return Qs(e,qo()),null;var n=B_(e,t);if(e.tag!==0&&n===2){var r=T2(e);r!==0&&(t=r,n=eE(e,r))}if(n===1)throw n=Ny,Uh(e,0),Cf(e,t),Qs(e,qo()),n;if(n===6)throw Error(Ln(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oh(e,Ks,Ad),Qs(e,qo()),null}function GT(e,t){var n=ui;ui|=1;try{return e(t)}finally{ui=n,ui===0&&(Am=qo()+500,f1&&qf())}}function Kh(e){Af!==null&&Af.tag===0&&!(ui&6)&&pm();var t=ui;ui|=1;var n=cc.transition,r=Fi;try{if(cc.transition=null,Fi=1,e)return e()}finally{Fi=r,cc.transition=n,ui=t,!(ui&6)&&qf()}}function HT(){Pl=sm.current,io(sm)}function Uh(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gz(n)),ia!==null)for(n=ia.return;n!==null;){var r=n;switch(ST(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&S_();break;case 3:Sm(),io(Ys),io(us),DT();break;case 5:RT(r);break;case 4:Sm();break;case 13:io(wo);break;case 19:io(wo);break;case 10:IT(r.type._context);break;case 22:case 23:HT()}n=n.return}if(Ca=e,ia=e=Nf(e.current,null),$a=Pl=t,ha=0,Ny=null,UT=g1=qh=0,Ks=gy=null,Bh!==null){for(t=0;t<Bh.length;t++)if(n=Bh[t],r=n.interleaved,r!==null){n.interleaved=null;var c=r.next,u=n.pending;if(u!==null){var h=u.next;u.next=c,r.next=h}n.pending=r}Bh=null}return e}function u5(e,t){do{var n=ia;try{if(PT(),Y0.current=D_,R_){for(var r=So.memoizedState;r!==null;){var c=r.queue;c!==null&&(c.pending=null),r=r.next}R_=!1}if(Zh=0,Ea=da=So=null,py=!1,Dy=0,jT.current=null,n===null||n.return===null){ha=1,Ny=t,ia=null;break}e:{var u=e,h=n.return,o=n,v=t;if(t=$a,o.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var E=v,S=o,k=S.tag;if(!(S.mode&1)&&(k===0||k===11||k===15)){var O=S.alternate;O?(S.updateQueue=O.updateQueue,S.memoizedState=O.memoizedState,S.lanes=O.lanes):(S.updateQueue=null,S.memoizedState=null)}var N=zk(h);if(N!==null){N.flags&=-257,$k(N,h,o,u,t),N.mode&1&&Bk(u,E,t),t=N,v=E;var G=t.updateQueue;if(G===null){var U=new Set;U.add(v),t.updateQueue=U}else G.add(v);break e}else{if(!(t&1)){Bk(u,E,t),WT();break e}v=Error(Ln(426))}}else if(fo&&o.mode&1){var H=zk(h);if(H!==null){!(H.flags&65536)&&(H.flags|=256),$k(H,h,o,u,t),TT(Tm(v,o));break e}}u=v=Tm(v,o),ha!==4&&(ha=2),gy===null?gy=[u]:gy.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var q=Z4(u,v,t);Mk(u,q);break e;case 1:o=v;var W=u.type,Y=u.stateNode;if(!(u.flags&128)&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Lf===null||!Lf.has(Y)))){u.flags|=65536,t&=-t,u.lanes|=t;var ie=q4(u,o,t);Mk(u,ie);break e}}u=u.return}while(u!==null)}h5(n)}catch(he){t=he,ia===n&&n!==null&&(ia=n=n.return);continue}break}while(1)}function d5(){var e=L_.current;return L_.current=D_,e===null?D_:e}function WT(){(ha===0||ha===3||ha===2)&&(ha=4),Ca===null||!(qh&268435455)&&!(g1&268435455)||Cf(Ca,$a)}function B_(e,t){var n=ui;ui|=2;var r=d5();(Ca!==e||$a!==t)&&(Ad=null,Uh(e,t));do try{m7();break}catch(c){u5(e,c)}while(1);if(PT(),ui=n,L_.current=r,ia!==null)throw Error(Ln(261));return Ca=null,$a=0,ha}function m7(){for(;ia!==null;)f5(ia)}function g7(){for(;ia!==null&&!jB();)f5(ia)}function f5(e){var t=m5(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,t===null?h5(e):ia=t,jT.current=null}function h5(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=c7(n,t),n!==null){n.flags&=32767,ia=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ha=6,ia=null;return}}else if(n=l7(n,t,Pl),n!==null){ia=n;return}if(t=t.sibling,t!==null){ia=t;return}ia=t=e}while(t!==null);ha===0&&(ha=5)}function Oh(e,t,n){var r=Fi,c=cc.transition;try{cc.transition=null,Fi=1,y7(e,t,n,r)}finally{cc.transition=c,Fi=r}return null}function y7(e,t,n,r){do pm();while(Af!==null);if(ui&6)throw Error(Ln(327));n=e.finishedWork;var c=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ln(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(YB(e,u),e===Ca&&(ia=Ca=null,$a=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S0||(S0=!0,g5(__,function(){return pm(),null})),u=(n.flags&15990)!==0,n.subtreeFlags&15990||u){u=cc.transition,cc.transition=null;var h=Fi;Fi=1;var o=ui;ui|=4,jT.current=null,d7(e,n),s5(n,e),Nz(O2),b_=!!M2,O2=M2=null,e.current=n,f7(n),UB(),ui=o,Fi=h,cc.transition=u}else e.current=n;if(S0&&(S0=!1,Af=e,N_=c),u=e.pendingLanes,u===0&&(Lf=null),HB(n.stateNode),Qs(e,qo()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)c=t[n],r(c.value,{componentStack:c.stack,digest:c.digest});if(F_)throw F_=!1,e=J2,J2=null,e;return N_&1&&e.tag!==0&&pm(),u=e.pendingLanes,u&1?e===Q2?yy++:(yy=0,Q2=e):yy=0,qf(),null}function pm(){if(Af!==null){var e=WD(N_),t=cc.transition,n=Fi;try{if(cc.transition=null,Fi=16>e?16:e,Af===null)var r=!1;else{if(e=Af,Af=null,N_=0,ui&6)throw Error(Ln(331));var c=ui;for(ui|=4,lr=e.current;lr!==null;){var u=lr,h=u.child;if(lr.flags&16){var o=u.deletions;if(o!==null){for(var v=0;v<o.length;v++){var E=o[v];for(lr=E;lr!==null;){var S=lr;switch(S.tag){case 0:case 11:case 15:my(8,S,u)}var k=S.child;if(k!==null)k.return=S,lr=k;else for(;lr!==null;){S=lr;var O=S.sibling,N=S.return;if(i5(S),S===E){lr=null;break}if(O!==null){O.return=N,lr=O;break}lr=N}}}var G=u.alternate;if(G!==null){var U=G.child;if(U!==null){G.child=null;do{var H=U.sibling;U.sibling=null,U=H}while(U!==null)}}lr=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,lr=h;else e:for(;lr!==null;){if(u=lr,u.flags&2048)switch(u.tag){case 0:case 11:case 15:my(9,u,u.return)}var q=u.sibling;if(q!==null){q.return=u.return,lr=q;break e}lr=u.return}}var W=e.current;for(lr=W;lr!==null;){h=lr;var Y=h.child;if(h.subtreeFlags&2064&&Y!==null)Y.return=h,lr=Y;else e:for(h=W;lr!==null;){if(o=lr,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:m1(9,o)}}catch(he){No(o,o.return,he)}if(o===h){lr=null;break e}var ie=o.sibling;if(ie!==null){ie.return=o.return,lr=ie;break e}lr=o.return}}if(ui=c,qf(),Xu&&typeof Xu.onPostCommitFiberRoot=="function")try{Xu.onPostCommitFiberRoot(s1,e)}catch{}r=!0}return r}finally{Fi=n,cc.transition=t}}return!1}function Qk(e,t,n){t=Tm(n,t),t=Z4(e,t,1),e=Df(e,t,1),t=Ts(),e!==null&&(ov(e,1,t),Qs(e,t))}function No(e,t,n){if(e.tag===3)Qk(e,e,n);else for(;t!==null;){if(t.tag===3){Qk(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lf===null||!Lf.has(r))){e=Tm(n,e),e=q4(t,e,1),t=Df(t,e,1),e=Ts(),t!==null&&(ov(t,1,e),Qs(t,e));break}}t=t.return}}function v7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ts(),e.pingedLanes|=e.suspendedLanes&n,Ca===e&&($a&n)===n&&(ha===4||ha===3&&($a&130023424)===$a&&500>qo()-VT?Uh(e,0):UT|=n),Qs(e,t)}function p5(e,t){t===0&&(e.mode&1?(t=m0,m0<<=1,!(m0&130023424)&&(m0=4194304)):t=1);var n=Ts();e=Nd(e,t),e!==null&&(ov(e,t,n),Qs(e,n))}function _7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p5(e,n)}function x7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ln(314))}r!==null&&r.delete(t),p5(e,n)}var m5;m5=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ys.current)Xs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xs=!1,s7(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,fo&&t.flags&1048576&&v4(t,P_,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Q0(e,t),e=t.pendingProps;var c=wm(t,us.current);hm(t,n),c=FT(null,t,r,e,c,n);var u=NT();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Js(r)?(u=!0,T_(t)):u=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,MT(t),c.updater=h1,t.stateNode=c,c._reactInternals=t,j2(t,r,e,n),t=G2(null,t,r,!0,u,n)):(t.tag=0,fo&&u&&CT(t),Ss(null,t,c,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Q0(e,t),e=t.pendingProps,c=r._init,r=c(r._payload),t.type=r,c=t.tag=w7(r),e=jc(r,e),c){case 0:t=V2(null,t,r,e,n);break e;case 1:t=Vk(null,t,r,e,n);break e;case 11:t=jk(null,t,r,e,n);break e;case 14:t=Uk(null,t,r,jc(r.type,e),n);break e}throw Error(Ln(306,r,""))}return t;case 0:return r=t.type,c=t.pendingProps,c=t.elementType===r?c:jc(r,c),V2(e,t,r,c,n);case 1:return r=t.type,c=t.pendingProps,c=t.elementType===r?c:jc(r,c),Vk(e,t,r,c,n);case 3:e:{if(J4(t),e===null)throw Error(Ln(387));r=t.pendingProps,u=t.memoizedState,c=u.element,w4(e,t),M_(t,r,null,n);var h=t.memoizedState;if(r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){c=Tm(Error(Ln(423)),t),t=Gk(e,t,r,n,c);break e}else if(r!==c){c=Tm(Error(Ln(424)),t),t=Gk(e,t,r,n,c);break e}else for(kl=Rf(t.stateNode.containerInfo.firstChild),Ml=t,fo=!0,Gc=null,n=T4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Em(),r===c){t=Bd(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return A4(t),e===null&&B2(t),r=t.type,c=t.pendingProps,u=e!==null?e.memoizedProps:null,h=c.children,R2(r,c)?h=null:u!==null&&R2(r,u)&&(t.flags|=32),Y4(e,t),Ss(e,t,h,n),t.child;case 6:return e===null&&B2(t),null;case 13:return Q4(e,t,n);case 4:return OT(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cm(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,c=t.pendingProps,c=t.elementType===r?c:jc(r,c),jk(e,t,r,c,n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:return Ss(e,t,t.pendingProps.children,n),t.child;case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,c=t.pendingProps,u=t.memoizedProps,h=c.value,qi(I_,r._currentValue),r._currentValue=h,u!==null)if(fu(u.value,h)){if(u.children===c.children&&!Ys.current){t=Bd(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var o=u.dependencies;if(o!==null){h=u.child;for(var v=o.firstContext;v!==null;){if(v.context===r){if(u.tag===1){v=Md(-1,n&-n),v.tag=2;var E=u.updateQueue;if(E!==null){E=E.shared;var S=E.pending;S===null?v.next=v:(v.next=S.next,S.next=v),E.pending=v}}u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),z2(u.return,n,t),o.lanes|=n;break}v=v.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(Ln(341));h.lanes|=n,o=h.alternate,o!==null&&(o.lanes|=n),z2(h,n,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Ss(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,r=t.pendingProps.children,hm(t,n),c=dc(c),r=r(c),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return r=t.type,c=jc(r,t.pendingProps),c=jc(r.type,c),Uk(e,t,r,c,n);case 15:return K4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,c=t.pendingProps,c=t.elementType===r?c:jc(r,c),Q0(e,t),t.tag=1,Js(r)?(e=!0,T_(t)):e=!1,hm(t,n),C4(t,r,c),j2(t,r,c,n),G2(null,t,r,!0,e,n);case 19:return e5(e,t,n);case 22:return X4(e,t,n)}throw Error(Ln(156,t.tag))};function g5(e,t){return UD(e,t)}function b7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lc(e,t,n,r){return new b7(e,t,n,r)}function ZT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w7(e){if(typeof e=="function")return ZT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fT)return 11;if(e===hT)return 14}return 2}function Nf(e,t){var n=e.alternate;return n===null?(n=lc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function n_(e,t,n,r,c,u){var h=2;if(r=e,typeof e=="function")ZT(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Yp:return Vh(n.children,c,u,t);case dT:h=8,c|=8;break;case d2:return e=lc(12,n,t,c|2),e.elementType=d2,e.lanes=u,e;case f2:return e=lc(13,n,t,c),e.elementType=f2,e.lanes=u,e;case h2:return e=lc(19,n,t,c),e.elementType=h2,e.lanes=u,e;case SD:return y1(n,c,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ED:h=10;break e;case CD:h=9;break e;case fT:h=11;break e;case hT:h=14;break e;case xf:h=16,r=null;break e}throw Error(Ln(130,e==null?e:typeof e,""))}return t=lc(h,n,t,c),t.elementType=e,t.type=r,t.lanes=u,t}function Vh(e,t,n,r){return e=lc(7,e,r,t),e.lanes=n,e}function y1(e,t,n,r){return e=lc(22,e,r,t),e.elementType=SD,e.lanes=n,e.stateNode={isHidden:!1},e}function uw(e,t,n){return e=lc(6,e,null,t),e.lanes=n,e}function dw(e,t,n){return t=lc(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E7(e,t,n,r,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hb(0),this.expirationTimes=Hb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hb(0),this.identifierPrefix=r,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function qT(e,t,n,r,c,u,h,o,v){return e=new E7(e,t,n,o,v),t===1?(t=1,u===!0&&(t|=8)):t=0,u=lc(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},MT(u),e}function C7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function y5(e){if(!e)return Vf;e=e._reactInternals;e:{if(tp(e)!==e||e.tag!==1)throw Error(Ln(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ln(171))}if(e.tag===1){var n=e.type;if(Js(n))return g4(e,n,t)}return t}function v5(e,t,n,r,c,u,h,o,v){return e=qT(n,r,!0,e,c,u,h,o,v),e.context=y5(null),n=e.current,r=Ts(),c=Ff(n),u=Md(r,c),u.callback=t??null,Df(n,u,c),e.current.lanes=c,ov(e,c,r),Qs(e,r),e}function v1(e,t,n,r){var c=t.current,u=Ts(),h=Ff(c);return n=y5(n),t.context===null?t.context=n:t.pendingContext=n,t=Md(u,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Df(c,t,h),e!==null&&(uu(e,c,h,u),X0(e,c,h)),h}function z_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function KT(e,t){eM(e,t),(e=e.alternate)&&eM(e,t)}function S7(){return null}var _5=typeof reportError=="function"?reportError:function(e){console.error(e)};function XT(e){this._internalRoot=e}_1.prototype.render=XT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ln(409));v1(e,t,null,null)};_1.prototype.unmount=XT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kh(function(){v1(null,e,null,null)}),t[Fd]=null}};function _1(e){this._internalRoot=e}_1.prototype.unstable_scheduleHydration=function(e){if(e){var t=KD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ef.length&&t!==0&&t<Ef[n].priority;n++);Ef.splice(n,0,e),n===0&&YD(e)}};function YT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tM(){}function T7(e,t,n,r,c){if(c){if(typeof r=="function"){var u=r;r=function(){var E=z_(h);u.call(E)}}var h=v5(t,r,e,0,null,!1,!1,"",tM);return e._reactRootContainer=h,e[Fd]=h.current,Iy(e.nodeType===8?e.parentNode:e),Kh(),h}for(;c=e.lastChild;)e.removeChild(c);if(typeof r=="function"){var o=r;r=function(){var E=z_(v);o.call(E)}}var v=qT(e,0,!1,null,null,!1,!1,"",tM);return e._reactRootContainer=v,e[Fd]=v.current,Iy(e.nodeType===8?e.parentNode:e),Kh(function(){v1(t,v,n,r)}),v}function b1(e,t,n,r,c){var u=n._reactRootContainer;if(u){var h=u;if(typeof c=="function"){var o=c;c=function(){var v=z_(h);o.call(v)}}v1(t,h,e,c)}else h=T7(n,t,e,c,r);return z_(h)}ZD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ny(t.pendingLanes);n!==0&&(gT(t,n|1),Qs(t,qo()),!(ui&6)&&(Am=qo()+500,qf()))}break;case 13:Kh(function(){var r=Nd(e,1);if(r!==null){var c=Ts();uu(r,e,1,c)}}),KT(e,1)}};yT=function(e){if(e.tag===13){var t=Nd(e,134217728);if(t!==null){var n=Ts();uu(t,e,134217728,n)}KT(e,134217728)}};qD=function(e){if(e.tag===13){var t=Ff(e),n=Nd(e,t);if(n!==null){var r=Ts();uu(n,e,t,r)}KT(e,t)}};KD=function(){return Fi};XD=function(e,t){var n=Fi;try{return Fi=e,t()}finally{Fi=n}};E2=function(e,t,n){switch(t){case"input":if(g2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var c=d1(r);if(!c)throw Error(Ln(90));AD(r),g2(r,c)}}}break;case"textarea":ID(e,n);break;case"select":t=n.value,t!=null&&cm(e,!!n.multiple,t,!1)}};FD=GT;ND=Kh;var A7={usingClientEntryPoint:!1,Events:[sv,tm,d1,DD,LD,GT]},Hg={findFiberByHostInstance:Nh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},P7={bundleType:Hg.bundleType,version:Hg.version,rendererPackageName:Hg.rendererPackageName,rendererConfig:Hg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$D(e),e===null?null:e.stateNode},findFiberByHostInstance:Hg.findFiberByHostInstance||S7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T0.isDisabled&&T0.supportsFiber)try{s1=T0.inject(P7),Xu=T0}catch{}}Nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A7;Nl.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YT(t))throw Error(Ln(200));return C7(e,t,null,n)};Nl.createRoot=function(e,t){if(!YT(e))throw Error(Ln(299));var n=!1,r="",c=_5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=qT(e,1,!1,null,null,n,!1,r,c),e[Fd]=t.current,Iy(e.nodeType===8?e.parentNode:e),new XT(t)};Nl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ln(188)):(e=Object.keys(e).join(","),Error(Ln(268,e)));return e=$D(t),e=e===null?null:e.stateNode,e};Nl.flushSync=function(e){return Kh(e)};Nl.hydrate=function(e,t,n){if(!x1(t))throw Error(Ln(200));return b1(null,e,t,!0,n)};Nl.hydrateRoot=function(e,t,n){if(!YT(e))throw Error(Ln(405));var r=n!=null&&n.hydratedSources||null,c=!1,u="",h=_5;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=v5(t,null,e,1,n??null,c,!1,u,h),e[Fd]=t.current,Iy(e),r)for(e=0;e<r.length;e++)n=r[e],c=n._getVersion,c=c(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,c]:t.mutableSourceEagerHydrationData.push(n,c);return new _1(t)};Nl.render=function(e,t,n){if(!x1(t))throw Error(Ln(200));return b1(null,e,t,!1,n)};Nl.unmountComponentAtNode=function(e){if(!x1(e))throw Error(Ln(40));return e._reactRootContainer?(Kh(function(){b1(null,null,e,!1,function(){e._reactRootContainer=null,e[Fd]=null})}),!0):!1};Nl.unstable_batchedUpdates=GT;Nl.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!x1(n))throw Error(Ln(200));if(e==null||e._reactInternals===void 0)throw Error(Ln(38));return b1(e,t,n,!1,r)};Nl.version="18.2.0-next-9e3b772b8-20220608";function x5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x5)}catch(e){console.error(e)}}x5(),vD.exports=Nl;var JT=vD.exports;const $h=Qh(JT);var nM=JT;c2.createRoot=nM.createRoot,c2.hydrateRoot=nM.hydrateRoot;var b5={exports:{}},w5={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=A;function I7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k7=typeof Object.is=="function"?Object.is:I7,M7=Pm.useState,O7=Pm.useEffect,R7=Pm.useLayoutEffect,D7=Pm.useDebugValue;function L7(e,t){var n=t(),r=M7({inst:{value:n,getSnapshot:t}}),c=r[0].inst,u=r[1];return R7(function(){c.value=n,c.getSnapshot=t,fw(c)&&u({inst:c})},[e,n,t]),O7(function(){return fw(c)&&u({inst:c}),e(function(){fw(c)&&u({inst:c})})},[e]),D7(n),n}function fw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k7(e,n)}catch{return!0}}function F7(e,t){return t()}var N7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F7:L7;w5.useSyncExternalStore=Pm.useSyncExternalStore!==void 0?Pm.useSyncExternalStore:N7;b5.exports=w5;var B7=b5.exports,E5={exports:{}},C5={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1=A,z7=B7;function $7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j7=typeof Object.is=="function"?Object.is:$7,U7=z7.useSyncExternalStore,V7=w1.useRef,G7=w1.useEffect,H7=w1.useMemo,W7=w1.useDebugValue;C5.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var u=V7(null);if(u.current===null){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=H7(function(){function v(N){if(!E){if(E=!0,S=N,N=r(N),c!==void 0&&h.hasValue){var G=h.value;if(c(G,N))return k=G}return k=N}if(G=k,j7(S,N))return G;var U=r(N);return c!==void 0&&c(G,U)?G:(S=N,k=U)}var E=!1,S,k,O=n===void 0?null:n;return[function(){return v(t())},O===null?void 0:function(){return v(O())}]},[t,n,r,c]);var o=U7(e,u[0],u[1]);return G7(function(){h.hasValue=!0,h.value=o},[o]),W7(o),o};E5.exports=C5;var Z7=E5.exports;function q7(e){e()}let S5=q7;const K7=e=>S5=e,X7=()=>S5,rM=Symbol.for("react-redux-context"),iM=typeof globalThis<"u"?globalThis:{};function Y7(){var e;if(!A.createContext)return{};const t=(e=iM[rM])!=null?e:iM[rM]=new Map;let n=t.get(A.createContext);return n||(n=A.createContext(null),t.set(A.createContext,n)),n}const Gf=Y7();function QT(e=Gf){return function(){return A.useContext(e)}}const T5=QT(),J7=()=>{throw new Error("uSES not initialized!")};let A5=J7;const Q7=e=>{A5=e},e$=(e,t)=>e===t;function t$(e=Gf){const t=e===Gf?T5:QT(e);return function(r,c={}){const{equalityFn:u=e$,stabilityCheck:h=void 0,noopCheck:o=void 0}=typeof c=="function"?{equalityFn:c}:c,{store:v,subscription:E,getServerState:S,stabilityCheck:k,noopCheck:O}=t();A.useRef(!0);const N=A.useCallback({[r.name](U){return r(U)}}[r.name],[r,k,h]),G=A5(E.addNestedSub,v.getState,S||v.getState,N,u);return A.useDebugValue(G),G}}const hu=t$();function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In.apply(this,arguments)}function $i(e,t){if(e==null)return{};var n={},r=Object.keys(e),c,u;for(u=0;u<r.length;u++)c=r[u],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}var P5={exports:{}},Ni={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=typeof Symbol=="function"&&Symbol.for,eA=Ta?Symbol.for("react.element"):60103,tA=Ta?Symbol.for("react.portal"):60106,E1=Ta?Symbol.for("react.fragment"):60107,C1=Ta?Symbol.for("react.strict_mode"):60108,S1=Ta?Symbol.for("react.profiler"):60114,T1=Ta?Symbol.for("react.provider"):60109,A1=Ta?Symbol.for("react.context"):60110,nA=Ta?Symbol.for("react.async_mode"):60111,P1=Ta?Symbol.for("react.concurrent_mode"):60111,I1=Ta?Symbol.for("react.forward_ref"):60112,k1=Ta?Symbol.for("react.suspense"):60113,n$=Ta?Symbol.for("react.suspense_list"):60120,M1=Ta?Symbol.for("react.memo"):60115,O1=Ta?Symbol.for("react.lazy"):60116,r$=Ta?Symbol.for("react.block"):60121,i$=Ta?Symbol.for("react.fundamental"):60117,o$=Ta?Symbol.for("react.responder"):60118,a$=Ta?Symbol.for("react.scope"):60119;function zl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eA:switch(e=e.type,e){case nA:case P1:case E1:case S1:case C1:case k1:return e;default:switch(e=e&&e.$$typeof,e){case A1:case I1:case O1:case M1:case T1:return e;default:return t}}case tA:return t}}}function I5(e){return zl(e)===P1}Ni.AsyncMode=nA;Ni.ConcurrentMode=P1;Ni.ContextConsumer=A1;Ni.ContextProvider=T1;Ni.Element=eA;Ni.ForwardRef=I1;Ni.Fragment=E1;Ni.Lazy=O1;Ni.Memo=M1;Ni.Portal=tA;Ni.Profiler=S1;Ni.StrictMode=C1;Ni.Suspense=k1;Ni.isAsyncMode=function(e){return I5(e)||zl(e)===nA};Ni.isConcurrentMode=I5;Ni.isContextConsumer=function(e){return zl(e)===A1};Ni.isContextProvider=function(e){return zl(e)===T1};Ni.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eA};Ni.isForwardRef=function(e){return zl(e)===I1};Ni.isFragment=function(e){return zl(e)===E1};Ni.isLazy=function(e){return zl(e)===O1};Ni.isMemo=function(e){return zl(e)===M1};Ni.isPortal=function(e){return zl(e)===tA};Ni.isProfiler=function(e){return zl(e)===S1};Ni.isStrictMode=function(e){return zl(e)===C1};Ni.isSuspense=function(e){return zl(e)===k1};Ni.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E1||e===P1||e===S1||e===C1||e===k1||e===n$||typeof e=="object"&&e!==null&&(e.$$typeof===O1||e.$$typeof===M1||e.$$typeof===T1||e.$$typeof===A1||e.$$typeof===I1||e.$$typeof===i$||e.$$typeof===o$||e.$$typeof===a$||e.$$typeof===r$)};Ni.typeOf=zl;P5.exports=Ni;var s$=P5.exports,k5=s$,l$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M5={};M5[k5.ForwardRef]=l$;M5[k5.Memo]=c$;var ji={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA=Symbol.for("react.element"),iA=Symbol.for("react.portal"),R1=Symbol.for("react.fragment"),D1=Symbol.for("react.strict_mode"),L1=Symbol.for("react.profiler"),F1=Symbol.for("react.provider"),N1=Symbol.for("react.context"),u$=Symbol.for("react.server_context"),B1=Symbol.for("react.forward_ref"),z1=Symbol.for("react.suspense"),$1=Symbol.for("react.suspense_list"),j1=Symbol.for("react.memo"),U1=Symbol.for("react.lazy"),d$=Symbol.for("react.offscreen"),O5;O5=Symbol.for("react.module.reference");function pc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rA:switch(e=e.type,e){case R1:case L1:case D1:case z1:case $1:return e;default:switch(e=e&&e.$$typeof,e){case u$:case N1:case B1:case U1:case j1:case F1:return e;default:return t}}case iA:return t}}}ji.ContextConsumer=N1;ji.ContextProvider=F1;ji.Element=rA;ji.ForwardRef=B1;ji.Fragment=R1;ji.Lazy=U1;ji.Memo=j1;ji.Portal=iA;ji.Profiler=L1;ji.StrictMode=D1;ji.Suspense=z1;ji.SuspenseList=$1;ji.isAsyncMode=function(){return!1};ji.isConcurrentMode=function(){return!1};ji.isContextConsumer=function(e){return pc(e)===N1};ji.isContextProvider=function(e){return pc(e)===F1};ji.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rA};ji.isForwardRef=function(e){return pc(e)===B1};ji.isFragment=function(e){return pc(e)===R1};ji.isLazy=function(e){return pc(e)===U1};ji.isMemo=function(e){return pc(e)===j1};ji.isPortal=function(e){return pc(e)===iA};ji.isProfiler=function(e){return pc(e)===L1};ji.isStrictMode=function(e){return pc(e)===D1};ji.isSuspense=function(e){return pc(e)===z1};ji.isSuspenseList=function(e){return pc(e)===$1};ji.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===R1||e===L1||e===D1||e===z1||e===$1||e===d$||typeof e=="object"&&e!==null&&(e.$$typeof===U1||e.$$typeof===j1||e.$$typeof===F1||e.$$typeof===N1||e.$$typeof===B1||e.$$typeof===O5||e.getModuleId!==void 0)};ji.typeOf=pc;function f$(){const e=X7();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],c=t;for(;c;)r.push(c),c=c.next;return r},subscribe(r){let c=!0,u=n={callback:r,next:null,prev:n};return u.prev?u.prev.next=u:t=u,function(){!c||t===null||(c=!1,u.next?u.next.prev=u.prev:n=u.prev,u.prev?u.prev.next=u.next:t=u.next)}}}}const oM={notify(){},get:()=>[]};function h$(e,t){let n,r=oM;function c(k){return v(),r.subscribe(k)}function u(){r.notify()}function h(){S.onStateChange&&S.onStateChange()}function o(){return!!n}function v(){n||(n=t?t.addNestedSub(h):e.subscribe(h),r=f$())}function E(){n&&(n(),n=void 0,r.clear(),r=oM)}const S={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:o,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>r};return S}const p$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m$=p$?A.useLayoutEffect:A.useEffect;function g$({store:e,context:t,children:n,serverState:r,stabilityCheck:c="once",noopCheck:u="once"}){const h=A.useMemo(()=>{const E=h$(e);return{store:e,subscription:E,getServerState:r?()=>r:void 0,stabilityCheck:c,noopCheck:u}},[e,r,c,u]),o=A.useMemo(()=>e.getState(),[e]);m$(()=>{const{subscription:E}=h;return E.onStateChange=E.notifyNestedSubs,E.trySubscribe(),o!==e.getState()&&E.notifyNestedSubs(),()=>{E.tryUnsubscribe(),E.onStateChange=void 0}},[h,o]);const v=t||Gf;return A.createElement(v.Provider,{value:h},n)}function R5(e=Gf){const t=e===Gf?T5:QT(e);return function(){const{store:r}=t();return r}}const y$=R5();function v$(e=Gf){const t=e===Gf?y$:R5(e);return function(){return t().dispatch}}const nd=v$();Q7(Z7.useSyncExternalStoreWithSelector);K7(JT.unstable_batchedUpdates);function ru(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(c){return"'"+c+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hf(e){return!!e&&!!e[lo]}function zd(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var c=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return c===Object||typeof c=="function"&&Function.toString.call(c)===A$}(e)||Array.isArray(e)||!!e[fM]||!!(!((t=e.constructor)===null||t===void 0)&&t[fM])||oA(e)||aA(e))}function Xh(e,t,n){n===void 0&&(n=!1),$m(e)===0?(n?Object.keys:gm)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,c){return t(c,r,e)})}function $m(e){var t=e[lo];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:oA(e)?2:aA(e)?3:0}function mm(e,t){return $m(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _$(e,t){return $m(e)===2?e.get(t):e[t]}function D5(e,t,n){var r=$m(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function L5(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function oA(e){return S$&&e instanceof Map}function aA(e){return T$&&e instanceof Set}function Rh(e){return e.o||e.t}function sA(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=N5(e);delete t[lo];for(var n=gm(t),r=0;r<n.length;r++){var c=n[r],u=t[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Object.getPrototypeOf(e),t)}function lA(e,t){return t===void 0&&(t=!1),cA(e)||Hf(e)||!zd(e)||($m(e)>1&&(e.set=e.add=e.clear=e.delete=x$),Object.freeze(e),t&&Xh(e,function(n,r){return lA(r,!0)},!0)),e}function x$(){ru(2)}function cA(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ju(e){var t=oE[e];return t||ru(18,e),t}function b$(e,t){oE[e]||(oE[e]=t)}function nE(){return By}function hw(e,t){t&&(Ju("Patches"),e.u=[],e.s=[],e.v=t)}function $_(e){rE(e),e.p.forEach(w$),e.p=null}function rE(e){e===By&&(By=e.l)}function aM(e){return By={p:[],l:By,h:e,m:!0,_:0}}function w$(e){var t=e[lo];t.i===0||t.i===1?t.j():t.g=!0}function pw(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Ju("ES5").S(t,e,r),r?(n[lo].P&&($_(t),ru(4)),zd(e)&&(e=j_(t,e),t.l||U_(t,e)),t.u&&Ju("Patches").M(n[lo].t,e,t.u,t.s)):e=j_(t,n,[]),$_(t),t.u&&t.v(t.u,t.s),e!==F5?e:void 0}function j_(e,t,n){if(cA(t))return t;var r=t[lo];if(!r)return Xh(t,function(o,v){return sM(e,r,t,o,v,n)},!0),t;if(r.A!==e)return t;if(!r.P)return U_(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var c=r.i===4||r.i===5?r.o=sA(r.k):r.o,u=c,h=!1;r.i===3&&(u=new Set(c),c.clear(),h=!0),Xh(u,function(o,v){return sM(e,r,c,o,v,n,h)}),U_(e,c,!1),n&&e.u&&Ju("Patches").N(r,n,e.u,e.s)}return r.o}function sM(e,t,n,r,c,u,h){if(Hf(c)){var o=j_(e,c,u&&t&&t.i!==3&&!mm(t.R,r)?u.concat(r):void 0);if(D5(n,r,o),!Hf(o))return;e.m=!1}else h&&n.add(c);if(zd(c)&&!cA(c)){if(!e.h.D&&e._<1)return;j_(e,c),t&&t.A.l||U_(e,c)}}function U_(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&lA(t,n)}function mw(e,t){var n=e[lo];return(n?Rh(n):e)[t]}function lM(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Sf(e){e.P||(e.P=!0,e.l&&Sf(e.l))}function gw(e){e.o||(e.o=sA(e.t))}function iE(e,t,n){var r=oA(t)?Ju("MapSet").F(t,n):aA(t)?Ju("MapSet").T(t,n):e.O?function(c,u){var h=Array.isArray(c),o={i:h?1:0,A:u?u.A:nE(),P:!1,I:!1,R:{},l:u,t:c,k:null,o:null,j:null,C:!1},v=o,E=zy;h&&(v=[o],E=iy);var S=Proxy.revocable(v,E),k=S.revoke,O=S.proxy;return o.k=O,o.j=k,O}(t,n):Ju("ES5").J(t,n);return(n?n.A:nE()).p.push(r),r}function E$(e){return Hf(e)||ru(22,e),function t(n){if(!zd(n))return n;var r,c=n[lo],u=$m(n);if(c){if(!c.P&&(c.i<4||!Ju("ES5").K(c)))return c.t;c.I=!0,r=cM(n,u),c.I=!1}else r=cM(n,u);return Xh(r,function(h,o){c&&_$(c.t,h)===o||D5(r,h,t(o))}),u===3?new Set(r):r}(e)}function cM(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return sA(e)}function C$(){function e(u,h){var o=c[u];return o?o.enumerable=h:c[u]=o={configurable:!0,enumerable:h,get:function(){var v=this[lo];return zy.get(v,u)},set:function(v){var E=this[lo];zy.set(E,u,v)}},o}function t(u){for(var h=u.length-1;h>=0;h--){var o=u[h][lo];if(!o.P)switch(o.i){case 5:r(o)&&Sf(o);break;case 4:n(o)&&Sf(o)}}}function n(u){for(var h=u.t,o=u.k,v=gm(o),E=v.length-1;E>=0;E--){var S=v[E];if(S!==lo){var k=h[S];if(k===void 0&&!mm(h,S))return!0;var O=o[S],N=O&&O[lo];if(N?N.t!==k:!L5(O,k))return!0}}var G=!!h[lo];return v.length!==gm(h).length+(G?0:1)}function r(u){var h=u.k;if(h.length!==u.t.length)return!0;var o=Object.getOwnPropertyDescriptor(h,h.length-1);if(o&&!o.get)return!0;for(var v=0;v<h.length;v++)if(!h.hasOwnProperty(v))return!0;return!1}var c={};b$("ES5",{J:function(u,h){var o=Array.isArray(u),v=function(S,k){if(S){for(var O=Array(k.length),N=0;N<k.length;N++)Object.defineProperty(O,""+N,e(N,!0));return O}var G=N5(k);delete G[lo];for(var U=gm(G),H=0;H<U.length;H++){var q=U[H];G[q]=e(q,S||!!G[q].enumerable)}return Object.create(Object.getPrototypeOf(k),G)}(o,u),E={i:o?5:4,A:h?h.A:nE(),P:!1,I:!1,R:{},l:h,t:u,k:v,o:null,g:!1,C:!1};return Object.defineProperty(v,lo,{value:E,writable:!0}),v},S:function(u,h,o){o?Hf(h)&&h[lo].A===u&&t(u.p):(u.u&&function v(E){if(E&&typeof E=="object"){var S=E[lo];if(S){var k=S.t,O=S.k,N=S.R,G=S.i;if(G===4)Xh(O,function(Y){Y!==lo&&(k[Y]!==void 0||mm(k,Y)?N[Y]||v(O[Y]):(N[Y]=!0,Sf(S)))}),Xh(k,function(Y){O[Y]!==void 0||mm(O,Y)||(N[Y]=!1,Sf(S))});else if(G===5){if(r(S)&&(Sf(S),N.length=!0),O.length<k.length)for(var U=O.length;U<k.length;U++)N[U]=!1;else for(var H=k.length;H<O.length;H++)N[H]=!0;for(var q=Math.min(O.length,k.length),W=0;W<q;W++)O.hasOwnProperty(W)||(N[W]=!0),N[W]===void 0&&v(O[W])}}}}(u.p[0]),t(u.p))},K:function(u){return u.i===4?n(u):r(u)}})}var uM,By,uA=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",S$=typeof Map<"u",T$=typeof Set<"u",dM=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",F5=uA?Symbol.for("immer-nothing"):((uM={})["immer-nothing"]=!0,uM),fM=uA?Symbol.for("immer-draftable"):"__$immer_draftable",lo=uA?Symbol.for("immer-state"):"__$immer_state",A$=""+Object.prototype.constructor,gm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,N5=Object.getOwnPropertyDescriptors||function(e){var t={};return gm(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},oE={},zy={get:function(e,t){if(t===lo)return e;var n=Rh(e);if(!mm(n,t))return function(c,u,h){var o,v=lM(u,h);return v?"value"in v?v.value:(o=v.get)===null||o===void 0?void 0:o.call(c.k):void 0}(e,n,t);var r=n[t];return e.I||!zd(r)?r:r===mw(e.t,t)?(gw(e),e.o[t]=iE(e.A.h,r,e)):r},has:function(e,t){return t in Rh(e)},ownKeys:function(e){return Reflect.ownKeys(Rh(e))},set:function(e,t,n){var r=lM(Rh(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var c=mw(Rh(e),t),u=c==null?void 0:c[lo];if(u&&u.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(L5(n,c)&&(n!==void 0||mm(e.t,t)))return!0;gw(e),Sf(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return mw(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,gw(e),Sf(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Rh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){ru(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ru(12)}},iy={};Xh(zy,function(e,t){iy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),iy.deleteProperty=function(e,t){return iy.set.call(this,e,t,void 0)},iy.set=function(e,t,n){return zy.set.call(this,e[0],t,n,e[0])};var P$=function(){function e(n){var r=this;this.O=dM,this.D=!0,this.produce=function(c,u,h){if(typeof c=="function"&&typeof u!="function"){var o=u;u=c;var v=r;return function(U){var H=this;U===void 0&&(U=o);for(var q=arguments.length,W=Array(q>1?q-1:0),Y=1;Y<q;Y++)W[Y-1]=arguments[Y];return v.produce(U,function(ie){var he;return(he=u).call.apply(he,[H,ie].concat(W))})}}var E;if(typeof u!="function"&&ru(6),h!==void 0&&typeof h!="function"&&ru(7),zd(c)){var S=aM(r),k=iE(r,c,void 0),O=!0;try{E=u(k),O=!1}finally{O?$_(S):rE(S)}return typeof Promise<"u"&&E instanceof Promise?E.then(function(U){return hw(S,h),pw(U,S)},function(U){throw $_(S),U}):(hw(S,h),pw(E,S))}if(!c||typeof c!="object"){if((E=u(c))===void 0&&(E=c),E===F5&&(E=void 0),r.D&&lA(E,!0),h){var N=[],G=[];Ju("Patches").M(c,E,N,G),h(N,G)}return E}ru(21,c)},this.produceWithPatches=function(c,u){if(typeof c=="function")return function(E){for(var S=arguments.length,k=Array(S>1?S-1:0),O=1;O<S;O++)k[O-1]=arguments[O];return r.produceWithPatches(E,function(N){return c.apply(void 0,[N].concat(k))})};var h,o,v=r.produce(c,u,function(E,S){h=E,o=S});return typeof Promise<"u"&&v instanceof Promise?v.then(function(E){return[E,h,o]}):[v,h,o]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){zd(n)||ru(8),Hf(n)&&(n=E$(n));var r=aM(this),c=iE(this,n,void 0);return c[lo].C=!0,rE(r),c},t.finishDraft=function(n,r){var c=n&&n[lo],u=c.A;return hw(u,r),pw(void 0,u)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!dM&&ru(20),this.O=n},t.applyPatches=function(n,r){var c;for(c=r.length-1;c>=0;c--){var u=r[c];if(u.path.length===0&&u.op==="replace"){n=u.value;break}}c>-1&&(r=r.slice(c+1));var h=Ju("Patches").$;return Hf(n)?h(n,r):this.produce(n,function(o){return h(o,r)})},e}(),Fl=new P$,B5=Fl.produce;Fl.produceWithPatches.bind(Fl);Fl.setAutoFreeze.bind(Fl);Fl.setUseProxies.bind(Fl);Fl.applyPatches.bind(Fl);Fl.createDraft.bind(Fl);Fl.finishDraft.bind(Fl);function $y(e){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(e)}function I$(e,t){if($y(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($y(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k$(e){var t=I$(e,"string");return $y(t)==="symbol"?t:String(t)}function M$(e,t,n){return t=k$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function pM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){M$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function os(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),yw=function(){return Math.random().toString(36).substring(7).split("").join(".")},V_={INIT:"@@redux/INIT"+yw(),REPLACE:"@@redux/REPLACE"+yw(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+yw()}};function O$(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function z5(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(os(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(os(1));return n(z5)(e,t)}if(typeof e!="function")throw new Error(os(2));var c=e,u=t,h=[],o=h,v=!1;function E(){o===h&&(o=h.slice())}function S(){if(v)throw new Error(os(3));return u}function k(U){if(typeof U!="function")throw new Error(os(4));if(v)throw new Error(os(5));var H=!0;return E(),o.push(U),function(){if(H){if(v)throw new Error(os(6));H=!1,E();var W=o.indexOf(U);o.splice(W,1),h=null}}}function O(U){if(!O$(U))throw new Error(os(7));if(typeof U.type>"u")throw new Error(os(8));if(v)throw new Error(os(9));try{v=!0,u=c(u,U)}finally{v=!1}for(var H=h=o,q=0;q<H.length;q++){var W=H[q];W()}return U}function N(U){if(typeof U!="function")throw new Error(os(10));c=U,O({type:V_.REPLACE})}function G(){var U,H=k;return U={subscribe:function(W){if(typeof W!="object"||W===null)throw new Error(os(11));function Y(){W.next&&W.next(S())}Y();var ie=H(Y);return{unsubscribe:ie}}},U[mM]=function(){return this},U}return O({type:V_.INIT}),r={dispatch:O,subscribe:k,getState:S,replaceReducer:N},r[mM]=G,r}function R$(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:V_.INIT});if(typeof r>"u")throw new Error(os(12));if(typeof n(void 0,{type:V_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(os(13))})}function D$(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var c=t[r];typeof e[c]=="function"&&(n[c]=e[c])}var u=Object.keys(n),h;try{R$(n)}catch(o){h=o}return function(v,E){if(v===void 0&&(v={}),h)throw h;for(var S=!1,k={},O=0;O<u.length;O++){var N=u[O],G=n[N],U=v[N],H=G(U,E);if(typeof H>"u")throw E&&E.type,new Error(os(14));k[N]=H,S=S||H!==U}return S=S||u.length!==Object.keys(v).length,S?k:v}}function G_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,c){return function(){return r(c.apply(void 0,arguments))}})}function L$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var c=r.apply(void 0,arguments),u=function(){throw new Error(os(15))},h={getState:c.getState,dispatch:function(){return u.apply(void 0,arguments)}},o=t.map(function(v){return v(h)});return u=G_.apply(void 0,o)(c.dispatch),pM(pM({},c),{},{dispatch:u})}}}function $5(e){var t=function(r){var c=r.dispatch,u=r.getState;return function(h){return function(o){return typeof o=="function"?o(c,u,e):h(o)}}};return t}var j5=$5();j5.withExtraArgument=$5;const gM=j5;var U5=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,c){r.__proto__=c}||function(r,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(r[u]=c[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),F$=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},r,c,u,h;return h={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function o(E){return function(S){return v([E,S])}}function v(E){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(S){E=[6,S],c=0}finally{r=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Im=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,c=e.length;n<r;n++,c++)e[c]=t[n];return e},N$=Object.defineProperty,B$=Object.defineProperties,z$=Object.getOwnPropertyDescriptors,yM=Object.getOwnPropertySymbols,$$=Object.prototype.hasOwnProperty,j$=Object.prototype.propertyIsEnumerable,vM=function(e,t,n){return t in e?N$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Bf=function(e,t){for(var n in t||(t={}))$$.call(t,n)&&vM(e,n,t[n]);if(yM)for(var r=0,c=yM(t);r<c.length;r++){var n=c[r];j$.call(t,n)&&vM(e,n,t[n])}return e},vw=function(e,t){return B$(e,z$(t))},U$=function(e,t,n){return new Promise(function(r,c){var u=function(v){try{o(n.next(v))}catch(E){c(E)}},h=function(v){try{o(n.throw(v))}catch(E){c(E)}},o=function(v){return v.done?r(v.value):Promise.resolve(v.value).then(u,h)};o((n=n.apply(e,t)).next())})},V$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?G_:G_.apply(null,arguments)};function G$(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}var H$=function(e){U5(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var c=e.apply(this,n)||this;return Object.setPrototypeOf(c,t.prototype),c}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Im([void 0],n[0].concat(this)))):new(t.bind.apply(t,Im([void 0],n.concat(this))))},t}(Array),W$=function(e){U5(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var c=e.apply(this,n)||this;return Object.setPrototypeOf(c,t.prototype),c}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Im([void 0],n[0].concat(this)))):new(t.bind.apply(t,Im([void 0],n.concat(this))))},t}(Array);function aE(e){return zd(e)?B5(e,function(){}):e}function Z$(e){return typeof e=="boolean"}function q$(){return function(t){return K$(t)}}function K$(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var r=new H$;return n&&(Z$(n)?r.push(gM):r.push(gM.withExtraArgument(n.extraArgument))),r}var X$=!0;function Y$(e){var t=q$(),n=e||{},r=n.reducer,c=r===void 0?void 0:r,u=n.middleware,h=u===void 0?t():u,o=n.devTools,v=o===void 0?!0:o,E=n.preloadedState,S=E===void 0?void 0:E,k=n.enhancers,O=k===void 0?void 0:k,N;if(typeof c=="function")N=c;else if(G$(c))N=D$(c);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var G=h;typeof G=="function"&&(G=G(t));var U=L$.apply(void 0,G),H=G_;v&&(H=V$(Bf({trace:!X$},typeof v=="object"&&v)));var q=new W$(U),W=q;Array.isArray(O)?W=Im([U],O):typeof O=="function"&&(W=O(q));var Y=H.apply(void 0,W);return z5(N,S,Y)}function zf(e,t){function n(){for(var r=[],c=0;c<arguments.length;c++)r[c]=arguments[c];if(t){var u=t.apply(void 0,r);if(!u)throw new Error("prepareAction did not return an object");return Bf(Bf({type:e,payload:u.payload},"meta"in u&&{meta:u.meta}),"error"in u&&{error:u.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}function V5(e){var t={},n=[],r,c={addCase:function(u,h){var o=typeof u=="string"?u:u.type;if(o in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[o]=h,c},addMatcher:function(u,h){return n.push({matcher:u,reducer:h}),c},addDefaultCase:function(u){return r=u,c}};return e(c),[t,n,r]}function J$(e){return typeof e=="function"}function Q$(e,t,n,r){n===void 0&&(n=[]);var c=typeof t=="function"?V5(t):[t,n,r],u=c[0],h=c[1],o=c[2],v;if(J$(e))v=function(){return aE(e())};else{var E=aE(e);v=function(){return E}}function S(k,O){k===void 0&&(k=v());var N=Im([u[O.type]],h.filter(function(G){var U=G.matcher;return U(O)}).map(function(G){var U=G.reducer;return U}));return N.filter(function(G){return!!G}).length===0&&(N=[o]),N.reduce(function(G,U){if(U)if(Hf(G)){var H=G,q=U(H,O);return q===void 0?G:q}else{if(zd(G))return B5(G,function(W){return U(W,O)});var q=U(G,O);if(q===void 0){if(G===null)return G;throw Error("A case reducer on a non-draftable value must not return undefined")}return q}return G},k)}return S.getInitialState=v,S}function ej(e,t){return e+"/"+t}function Kf(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:aE(e.initialState),r=e.reducers||{},c=Object.keys(r),u={},h={},o={};c.forEach(function(S){var k=r[S],O=ej(t,S),N,G;"reducer"in k?(N=k.reducer,G=k.prepare):N=k,u[S]=N,h[O]=N,o[S]=G?zf(O,G):zf(O)});function v(){var S=typeof e.extraReducers=="function"?V5(e.extraReducers):[e.extraReducers],k=S[0],O=k===void 0?{}:k,N=S[1],G=N===void 0?[]:N,U=S[2],H=U===void 0?void 0:U,q=Bf(Bf({},O),h);return Q$(n,function(W){for(var Y in q)W.addCase(Y,q[Y]);for(var ie=0,he=G;ie<he.length;ie++){var Se=he[ie];W.addMatcher(Se.matcher,Se.reducer)}H&&W.addDefaultCase(H)})}var E;return{name:t,reducer:function(S,k){return E||(E=v()),E(S,k)},actions:o,caseReducers:u,getInitialState:function(){return E||(E=v()),E.getInitialState()}}}var tj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nj=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=tj[Math.random()*64|0];return t},rj=["name","message","stack","code"],_w=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),_M=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),ij=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=rj;n<r.length;n++){var c=r[n];typeof e[c]=="string"&&(t[c]=e[c])}return t}return{message:String(e)}};(function(){function e(t,n,r){var c=zf(t+"/fulfilled",function(E,S,k,O){return{payload:E,meta:vw(Bf({},O||{}),{arg:k,requestId:S,requestStatus:"fulfilled"})}}),u=zf(t+"/pending",function(E,S,k){return{payload:void 0,meta:vw(Bf({},k||{}),{arg:S,requestId:E,requestStatus:"pending"})}}),h=zf(t+"/rejected",function(E,S,k,O,N){return{payload:O,error:(r&&r.serializeError||ij)(E||"Rejected"),meta:vw(Bf({},N||{}),{arg:k,requestId:S,rejectedWithValue:!!O,requestStatus:"rejected",aborted:(E==null?void 0:E.name)==="AbortError",condition:(E==null?void 0:E.name)==="ConditionError"})}}),o=typeof AbortController<"u"?AbortController:function(){function E(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return E.prototype.abort=function(){},E}();function v(E){return function(S,k,O){var N=r!=null&&r.idGenerator?r.idGenerator(E):nj(),G=new o,U;function H(W){U=W,G.abort()}var q=function(){return U$(this,null,function(){var W,Y,ie,he,Se,Pe,We;return F$(this,function(Le){switch(Le.label){case 0:return Le.trys.push([0,4,,5]),he=(W=r==null?void 0:r.condition)==null?void 0:W.call(r,E,{getState:k,extra:O}),aj(he)?[4,he]:[3,2];case 1:he=Le.sent(),Le.label=2;case 2:if(he===!1||G.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Se=new Promise(function(qe,Kt){return G.signal.addEventListener("abort",function(){return Kt({name:"AbortError",message:U||"Aborted"})})}),S(u(N,E,(Y=r==null?void 0:r.getPendingMeta)==null?void 0:Y.call(r,{requestId:N,arg:E},{getState:k,extra:O}))),[4,Promise.race([Se,Promise.resolve(n(E,{dispatch:S,getState:k,extra:O,requestId:N,signal:G.signal,abort:H,rejectWithValue:function(qe,Kt){return new _w(qe,Kt)},fulfillWithValue:function(qe,Kt){return new _M(qe,Kt)}})).then(function(qe){if(qe instanceof _w)throw qe;return qe instanceof _M?c(qe.payload,N,E,qe.meta):c(qe,N,E)})])];case 3:return ie=Le.sent(),[3,5];case 4:return Pe=Le.sent(),ie=Pe instanceof _w?h(null,N,E,Pe.payload,Pe.meta):h(Pe,N,E),[3,5];case 5:return We=r&&!r.dispatchConditionRejection&&h.match(ie)&&ie.meta.condition,We||S(ie),[2,ie]}})})}();return Object.assign(q,{abort:H,requestId:N,arg:E,unwrap:function(){return q.then(oj)}})}}return Object.assign(v,{pending:u,rejected:h,fulfilled:c,typePrefix:t})}return e.withTypes=function(){return e},e})();function oj(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function aj(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var dA="listenerMiddleware";zf(dA+"/add");zf(dA+"/removeAll");zf(dA+"/remove");var xM;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);C$();const G5=Kf({name:"auth",initialState:{status:"checking",loadindAuth:!1,user:{logged:!1},errorMessage:void 0},reducers:{onChecking:e=>{e.status="checking",e.user={logged:!1},e.errorMessage=void 0},onCheckingAuht:(e,{payload:t})=>{e.loadindAuth=t},onLogin:(e,{payload:t})=>{e.status="authenticated",e.user=t,e.errorMessage=void 0},onLogout:e=>{e.loadindAuth=!1,e.status="not-authenticated",e.user={logged:!1},e.errorMessage=void 0},clearErrorMessage:e=>{e.errorMessage=void 0}}}),{onChecking:lae,onLogin:bM,onLogout:Wg,clearErrorMessage:wM,onCheckingAuht:A0}=G5.actions,H5=Kf({name:"users",initialState:{isLoadingUsers:!1,users:[],userActive:{id:"",apellidos:"",celular:"",correo:"",nombres:"",state:!1}},reducers:{onLoadUsers:(e,{payload:t=[]})=>{t.forEach(n=>{e.users.some(c=>c.id===n.id)||e.users.push(n)})},onViewUser:(e,{payload:t})=>{e.userActive=t},onDeleteUsers:(e,{payload:t=0})=>{e.users=e.users.filter(n=>n.id!==t)},onIsLoagingUser:(e,{payload:t})=>{e.isLoadingUsers=t},onLogoutUser:e=>{e.isLoadingUsers=!1,e.users=[],e.userActive={id:"",apellidos:"",celular:"",correo:"",nombres:"",state:!1}}}}),{onLoadUsers:sj,onDeleteUsers:lj,onLogoutUser:cj,onIsLoagingUser:xw,onViewUser:uj}=H5.actions,W5=Kf({name:"serenes",initialState:{isLoadingSerenes:!1,serenes:[],sereneActive:{id:"",apellidos:"",celular:"",correo:"",nombres:"",state:!1}},reducers:{onLoadSerenes:(e,{payload:t=[]})=>{t.forEach(n=>{e.serenes.some(c=>c.id===n.id)||e.serenes.push(n)})},onAddNewSerene:(e,{payload:t={}})=>{e.serenes.push(t)},onViewSerene:(e,{payload:t})=>{e.sereneActive=t},onDeleteSerenes:(e,{payload:t=0})=>{e.serenes=e.serenes.filter(n=>n.id!==t)},onIsLoagingSerene:(e,{payload:t})=>{e.isLoadingSerenes=t},onLogoutSerene:e=>{e.isLoadingSerenes=!1,e.serenes=[],e.sereneActive={id:"",apellidos:"",celular:"",correo:"",nombres:"",state:!1}}}}),{onAddNewSerene:cae,onDeleteSerenes:dj,onLoadSerenes:fj,onLogoutSerene:hj,onIsLoagingSerene:bw,onViewSerene:pj}=W5.actions,Z5=Kf({name:"gency",initialState:{isLoadingGency:!1,gencys:[],gencyActive:{id:"",tipo:"",celular:"",state:!1}},reducers:{onLoadGency:(e,{payload:t=[]})=>{e.gencys=t},onAddNewGency:(e,{payload:t={}})=>{e.gencys.push(t)},onViewGency:(e,{payload:t})=>{e.gencyActive=t},onDeleteGency:(e,{payload:t=0})=>{e.gencys=e.gencys.filter(n=>n.id!==t)},onIsLoagingGency:(e,{payload:t})=>{e.isLoadingGency=t},onLogoutGency:e=>{e.isLoadingGency=!1,e.gencys=[],e.gencyActive={id:"",tipo:"",celular:"",state:!1}}}}),{onAddNewGency:mj,onDeleteGency:gj,onLoadGency:yj,onLogoutGency:vj,onIsLoagingGency:ww,onViewGency:_j}=Z5.actions,q5=Kf({name:"places",initialState:{isLoadingPlaces:!1,places:[],placeActive:{id:"",detalle:"",direccion:"",barrio:"",longitud:"",latitud:"",nivel:"",state:!1}},reducers:{onLoadPlaces:(e,{payload:t=[]})=>{t.forEach(n=>{e.places.some(c=>c.id===n.id)||e.places.push(n)})},onAddNewPlace:(e,{payload:t={}})=>{e.places.push(t)},onUpdatePlace:(e,{payload:t={}})=>{e.places=e.places.map(n=>n.id===t.id?t:n)},onViewPlace:(e,{payload:t})=>{console.log(t),e.placeActive=t},onDeletePlaces:(e,{payload:t=0})=>{e.places=e.places.filter(n=>n.id!==t)},onIsLoagingPlace:(e,{payload:t})=>{e.isLoadingPlaces=t},onLogoutPlace:e=>{e.isLoadingPlaces=!1,e.places=[],e.placeActive={id:"",detalle:"",direccion:"",barrio:"",longitud:"",latitud:"",nivel:"",state:!1}}}}),{onAddNewPlace:uae,onDeletePlaces:xj,onLoadPlaces:bj,onLogoutPlace:wj,onIsLoagingPlace:Ew,onViewPlace:Ej,onUpdatePlace:Cj}=q5.actions,K5=Kf({name:"info",initialState:{isLoadingInfo:!1,infos:[],infoActive:{id:"",datos:"",link:"",fecha:"",state:!1}},reducers:{onLoadInfo:(e,{payload:t=[]})=>{e.infos=t},onAddNewInfo:(e,{payload:t={}})=>{e.infos.push(t)},onUpdateInfo:(e,{payload:t={}})=>{e.infos=e.infos.map(n=>n.id===t.id?t:n)},onViewInfo:(e,{payload:t})=>{e.infoActive=t},onDeleteInfos:(e,{payload:t=0})=>{e.infos=e.infos.filter(n=>n.id!==t)},onIsLoagingInfo:(e,{payload:t})=>{e.isLoadingInfo=t},onLogoutInfo:e=>{e.isLoadingInfo=!1,e.infos=[],e.infoActive={id:"",datos:"",link:"",fecha:"",state:!1}}}}),{onAddNewInfo:Sj,onDeleteInfos:Tj,onLoadInfo:Aj,onLogoutInfo:Pj,onIsLoagingInfo:Cw,onViewInfo:Ij,onUpdateInfo:kj}=K5.actions,X5=Kf({name:"alert",initialState:{isLoadingAlert:!1,alerts:[],tempid:"",alertActive:{id:"",fehca:"",estado:"",longitud:"",latitud:"",est:!1},total:0},reducers:{onClearAlert:e=>{e.alerts=[]},onLoadAlerts:(e,{payload:t=[]})=>{t.forEach(n=>{e.alerts.some(c=>c.id===n.id)||e.alerts.push(n)}),e.total=e.alerts.length},onLoadAlertsScokets:(e,{payload:t})=>{e.alerts=t},onAddNewAlert:(e,{payload:t={}})=>{e.alerts.some(r=>r.id===t.id)||(e.alertActive=t,e.alerts.push(t),e.total=e.alerts.length)},onTemId:(e,{payload:t})=>{console.log(t),e.tempId!=t&&(e.tempId=t)},onViewAlert:(e,{payload:t})=>{e.alertActive=t},onIsLoagingAlert:(e,{payload:t})=>{e.isLoadingAlert=t},onUpdateAlert:(e,{payload:t={}})=>{console.log(t),e.alerts=e.alerts.map(n=>n.id===t.id?{...n,estado:t.estado}:n)},onDeleteAlert:(e,{payload:t=0})=>{e.alerts=e.alerts.filter(n=>n.id!==t),e.total=e.alerts.length},onLogoutAlert:e=>{e.isLoadingAlert=!1,e.alerts=[],e.alertActive={id:"",fehca:"",estado:"",longitud:"",latitud:"",est:!1},e.tempId=0,e.total=0},onSetTotal:(e,{payload:t})=>{e.total=t}}}),{onAddNewAlert:fA,onViewAlert:Sw,onIsLoagingAlert:Tw,onLogoutAlert:Mj,onLoadAlerts:V1,onSetTotal:Oj,onTemId:Rj,onLoadAlertsScokets:dae,onUpdateAlert:Dj,onDeleteAlert:Y5,onClearAlert:Lj}=X5.actions,J5=Kf({name:"ui",initialState:{isDateModalOpen:!1,isDelete:!1,isNotificationModel:!1,authState:"citizen",viewInfo:!1},reducers:{onOpenDateModal:e=>{e.isDateModalOpen=!0},onCloseDateModal:e=>{e.isDateModalOpen=!1},onOpenDelete:e=>{e.isDelete=!0},onCloseDelete:e=>{e.isDelete=!1},onActionModalNoti:(e,{payload:t})=>{e.isNotificationModel=t},onLogoutUi:e=>{e.isDateModalOpen=!1,e.isDelete=!1,e.isNotificationModel=!1,e.authState="citizen",e.viewInfo=!1},onSetStateAhut:(e,{payload:t})=>{e.authState=t},onActiveInfo:(e,{payload:t})=>{e.viewInfo=t}}}),{onOpenDateModal:fae,onCloseDateModal:hae,onOpenDelete:pae,onCloseDelete:mae,onActionModalNoti:gae,onLogoutUi:Fj,onSetStateAhut:Nj,onActiveInfo:Bj}=J5.actions,zj=Y$({reducer:{auth:G5.reducer,ui:J5.reducer,ausers:H5.reducer,auserenes:W5.reducer,augency:Z5.reducer,auplace:q5.reducer,auinfo:K5.reducer,usalert:X5.reducer},middleware:e=>e({serializableCheck:!1})});/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(this,arguments)}var Pf;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pf||(Pf={}));const EM="popstate";function $j(e){e===void 0&&(e={});function t(c,u){let{pathname:h="/",search:o="",hash:v=""}=np(c.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),sE("",{pathname:h,search:o,hash:v},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(c,u){let h=c.document.querySelector("base"),o="";if(h&&h.getAttribute("href")){let v=c.location.href,E=v.indexOf("#");o=E===-1?v:v.slice(0,E)}return o+"#"+(typeof u=="string"?u:H_(u))}function r(c,u){G1(c.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return Uj(t,n,r,e)}function Ko(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jj(){return Math.random().toString(36).substr(2,8)}function CM(e,t){return{usr:e.state,key:e.key,idx:t}}function sE(e,t,n,r){return n===void 0&&(n=null),jy({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?np(t):t,{state:n,key:t&&t.key||r||jj()})}function H_(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function np(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Uj(e,t,n,r){r===void 0&&(r={});let{window:c=document.defaultView,v5Compat:u=!1}=r,h=c.history,o=Pf.Pop,v=null,E=S();E==null&&(E=0,h.replaceState(jy({},h.state,{idx:E}),""));function S(){return(h.state||{idx:null}).idx}function k(){o=Pf.Pop;let H=S(),q=H==null?null:H-E;E=H,v&&v({action:o,location:U.location,delta:q})}function O(H,q){o=Pf.Push;let W=sE(U.location,H,q);n&&n(W,H),E=S()+1;let Y=CM(W,E),ie=U.createHref(W);try{h.pushState(Y,"",ie)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;c.location.assign(ie)}u&&v&&v({action:o,location:U.location,delta:1})}function N(H,q){o=Pf.Replace;let W=sE(U.location,H,q);n&&n(W,H),E=S();let Y=CM(W,E),ie=U.createHref(W);h.replaceState(Y,"",ie),u&&v&&v({action:o,location:U.location,delta:0})}function G(H){let q=c.location.origin!=="null"?c.location.origin:c.location.href,W=typeof H=="string"?H:H_(H);return Ko(q,"No window.location.(origin|href) available to create URL for href: "+W),new URL(W,q)}let U={get action(){return o},get location(){return e(c,h)},listen(H){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(EM,k),v=H,()=>{c.removeEventListener(EM,k),v=null}},createHref(H){return t(c,H)},createURL:G,encodeLocation(H){let q=G(H);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:O,replace:N,go(H){return h.go(H)}};return U}var SM;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(SM||(SM={}));function Vj(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?np(t):t,c=hA(r.pathname||"/",n);if(c==null)return null;let u=Q5(e);Gj(u);let h=null;for(let o=0;h==null&&o<u.length;++o)h=Qj(u[o],nU(c));return h}function Q5(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let c=(u,h,o)=>{let v={relativePath:o===void 0?u.path||"":o,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};v.relativePath.startsWith("/")&&(Ko(v.relativePath.startsWith(r),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(r.length));let E=$f([r,v.relativePath]),S=n.concat(v);u.children&&u.children.length>0&&(Ko(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+E+'".')),Q5(u.children,t,S,E)),!(u.path==null&&!u.index)&&t.push({path:E,score:Yj(E,u.index),routesMeta:S})};return e.forEach((u,h)=>{var o;if(u.path===""||!((o=u.path)!=null&&o.includes("?")))c(u,h);else for(let v of eL(u.path))c(u,h,v)}),t}function eL(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,c=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return c?[u,""]:[u];let h=eL(r.join("/")),o=[];return o.push(...h.map(v=>v===""?u:[u,v].join("/"))),c&&o.push(...h),o.map(v=>e.startsWith("/")&&v===""?"/":v)}function Gj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Jj(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Hj=/^:\w+$/,Wj=3,Zj=2,qj=1,Kj=10,Xj=-2,TM=e=>e==="*";function Yj(e,t){let n=e.split("/"),r=n.length;return n.some(TM)&&(r+=Xj),t&&(r+=Zj),n.filter(c=>!TM(c)).reduce((c,u)=>c+(Hj.test(u)?Wj:u===""?qj:Kj),r)}function Jj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,c)=>r===t[c])?e[e.length-1]-t[t.length-1]:0}function Qj(e,t){let{routesMeta:n}=e,r={},c="/",u=[];for(let h=0;h<n.length;++h){let o=n[h],v=h===n.length-1,E=c==="/"?t:t.slice(c.length)||"/",S=eU({path:o.relativePath,caseSensitive:o.caseSensitive,end:v},E);if(!S)return null;Object.assign(r,S.params);let k=o.route;u.push({params:r,pathname:$f([c,S.pathname]),pathnameBase:aU($f([c,S.pathnameBase])),route:k}),S.pathnameBase!=="/"&&(c=$f([c,S.pathnameBase]))}return u}function eU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tU(e.path,e.caseSensitive,e.end),c=t.match(n);if(!c)return null;let u=c[0],h=u.replace(/(.)\/+$/,"$1"),o=c.slice(1);return{params:r.reduce((E,S,k)=>{if(S==="*"){let O=o[k]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}return E[S]=rU(o[k]||"",S),E},{}),pathname:u,pathnameBase:h,pattern:e}}function tU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),G1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(h,o)=>(r.push(o),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),r]}function nU(e){try{return decodeURI(e)}catch(t){return G1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rU(e,t){try{return decodeURIComponent(e)}catch(n){return G1(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function hA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:c=""}=typeof e=="string"?np(e):e;return{pathname:n?n.startsWith("/")?n:oU(n,t):t,search:sU(r),hash:lU(c)}}function oU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Aw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mA(e,t,n,r){r===void 0&&(r=!1);let c;typeof e=="string"?c=np(e):(c=jy({},e),Ko(!c.pathname||!c.pathname.includes("?"),Aw("?","pathname","search",c)),Ko(!c.pathname||!c.pathname.includes("#"),Aw("#","pathname","hash",c)),Ko(!c.search||!c.search.includes("#"),Aw("#","search","hash",c)));let u=e===""||c.pathname==="",h=u?"/":c.pathname,o;if(r||h==null)o=n;else{let k=t.length-1;if(h.startsWith("..")){let O=h.split("/");for(;O[0]==="..";)O.shift(),k-=1;c.pathname=O.join("/")}o=k>=0?t[k]:"/"}let v=iU(c,o),E=h&&h!=="/"&&h.endsWith("/"),S=(u||h===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(E||S)&&(v.pathname+="/"),v}const $f=e=>e.join("/").replace(/\/\/+/g,"/"),aU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const tL=["post","put","patch","delete"];new Set(tL);const uU=["get",...tL];new Set(uU);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W_.apply(this,arguments)}const gA=A.createContext(null),nL=A.createContext(null),rp=A.createContext(null),H1=A.createContext(null),Xf=A.createContext({outlet:null,matches:[],isDataRoute:!1}),rL=A.createContext(null);function dU(e,t){let{relative:n}=t===void 0?{}:t;jm()||Ko(!1);let{basename:r,navigator:c}=A.useContext(rp),{hash:u,pathname:h,search:o}=yA(e,{relative:n}),v=h;return r!=="/"&&(v=h==="/"?r:$f([r,h])),c.createHref({pathname:v,search:o,hash:u})}function jm(){return A.useContext(H1)!=null}function Um(){return jm()||Ko(!1),A.useContext(H1).location}function iL(e){A.useContext(rp).static||A.useLayoutEffect(e)}function Aa(){let{isDataRoute:e}=A.useContext(Xf);return e?CU():fU()}function fU(){jm()||Ko(!1);let e=A.useContext(gA),{basename:t,navigator:n}=A.useContext(rp),{matches:r}=A.useContext(Xf),{pathname:c}=Um(),u=JSON.stringify(pA(r).map(v=>v.pathnameBase)),h=A.useRef(!1);return iL(()=>{h.current=!0}),A.useCallback(function(v,E){if(E===void 0&&(E={}),!h.current)return;if(typeof v=="number"){n.go(v);return}let S=mA(v,JSON.parse(u),c,E.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:$f([t,S.pathname])),(E.replace?n.replace:n.push)(S,E.state,E)},[t,n,u,c,e])}function yA(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=A.useContext(Xf),{pathname:c}=Um(),u=JSON.stringify(pA(r).map(h=>h.pathnameBase));return A.useMemo(()=>mA(e,JSON.parse(u),c,n==="path"),[e,u,c,n])}function hU(e,t){return pU(e,t)}function pU(e,t,n){jm()||Ko(!1);let{navigator:r}=A.useContext(rp),{matches:c}=A.useContext(Xf),u=c[c.length-1],h=u?u.params:{};u&&u.pathname;let o=u?u.pathnameBase:"/";u&&u.route;let v=Um(),E;if(t){var S;let U=typeof t=="string"?np(t):t;o==="/"||(S=U.pathname)!=null&&S.startsWith(o)||Ko(!1),E=U}else E=v;let k=E.pathname||"/",O=o==="/"?k:k.slice(o.length)||"/",N=Vj(e,{pathname:O}),G=_U(N&&N.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:$f([o,r.encodeLocation?r.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?o:$f([o,r.encodeLocation?r.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),c,n);return t&&G?A.createElement(H1.Provider,{value:{location:W_({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Pf.Pop}},G):G}function mU(){let e=EU(),t=cU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:c},n):null,u)}const gU=A.createElement(mU,null);class yU extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?A.createElement(Xf.Provider,{value:this.props.routeContext},A.createElement(rL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vU(e){let{routeContext:t,match:n,children:r}=e,c=A.useContext(gA);return c&&c.static&&c.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Xf.Provider,{value:t},r)}function _U(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var c;if((c=n)!=null&&c.errors)e=n.matches;else return null}let u=e,h=(r=n)==null?void 0:r.errors;if(h!=null){let o=u.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id]));o>=0||Ko(!1),u=u.slice(0,Math.min(u.length,o+1))}return u.reduceRight((o,v,E)=>{let S=v.route.id?h==null?void 0:h[v.route.id]:null,k=null;n&&(k=v.route.errorElement||gU);let O=t.concat(u.slice(0,E+1)),N=()=>{let G;return S?G=k:v.route.Component?G=A.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=o,A.createElement(vU,{match:v,routeContext:{outlet:o,matches:O,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?A.createElement(yU,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:N(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):N()},null)}var oL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oL||{}),Z_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z_||{});function xU(e){let t=A.useContext(gA);return t||Ko(!1),t}function bU(e){let t=A.useContext(nL);return t||Ko(!1),t}function wU(e){let t=A.useContext(Xf);return t||Ko(!1),t}function aL(e){let t=wU(),n=t.matches[t.matches.length-1];return n.route.id||Ko(!1),n.route.id}function EU(){var e;let t=A.useContext(rL),n=bU(Z_.UseRouteError),r=aL(Z_.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function CU(){let{router:e}=xU(oL.UseNavigateStable),t=aL(Z_.UseNavigateStable),n=A.useRef(!1);return iL(()=>{n.current=!0}),A.useCallback(function(c,u){u===void 0&&(u={}),n.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,W_({fromRouteId:t},u)))},[e,t])}function Ol(e){let{to:t,replace:n,state:r,relative:c}=e;jm()||Ko(!1);let{matches:u}=A.useContext(Xf),{pathname:h}=Um(),o=Aa(),v=mA(t,pA(u).map(S=>S.pathnameBase),h,c==="path"),E=JSON.stringify(v);return A.useEffect(()=>o(JSON.parse(E),{replace:n,state:r,relative:c}),[o,E,c,n,r]),null}function qr(e){Ko(!1)}function SU(e){let{basename:t="/",children:n=null,location:r,navigationType:c=Pf.Pop,navigator:u,static:h=!1}=e;jm()&&Ko(!1);let o=t.replace(/^\/*/,"/"),v=A.useMemo(()=>({basename:o,navigator:u,static:h}),[o,u,h]);typeof r=="string"&&(r=np(r));let{pathname:E="/",search:S="",hash:k="",state:O=null,key:N="default"}=r,G=A.useMemo(()=>{let U=hA(E,o);return U==null?null:{location:{pathname:U,search:S,hash:k,state:O,key:N},navigationType:c}},[o,E,S,k,O,N,c]);return G==null?null:A.createElement(rp.Provider,{value:v},A.createElement(H1.Provider,{children:n,value:G}))}function cv(e){let{children:t,location:n}=e;return hU(lE(t),n)}new Promise(()=>{});function lE(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,c)=>{if(!A.isValidElement(r))return;let u=[...t,c];if(r.type===A.Fragment){n.push.apply(n,lE(r.props.children,u));return}r.type!==qr&&Ko(!1),!r.props.index||!r.props.children||Ko(!1);let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=lE(r.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q_.apply(this,arguments)}function sL(e,t){if(e==null)return{};var n={},r=Object.keys(e),c,u;for(u=0;u<r.length;u++)c=r[u],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}function TU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AU(e,t){return e.button===0&&(!t||t==="_self")&&!TU(e)}const PU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],IU=["aria-current","caseSensitive","className","end","style","to","children"],kU="startTransition",AM=l2[kU];function MU(e){let{basename:t,children:n,future:r,window:c}=e,u=A.useRef();u.current==null&&(u.current=$j({window:c,v5Compat:!0}));let h=u.current,[o,v]=A.useState({action:h.action,location:h.location}),{v7_startTransition:E}=r||{},S=A.useCallback(k=>{E&&AM?AM(()=>v(k)):v(k)},[v,E]);return A.useLayoutEffect(()=>h.listen(S),[h,S]),A.createElement(SU,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:h})}const OU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DU=A.forwardRef(function(t,n){let{onClick:r,relative:c,reloadDocument:u,replace:h,state:o,target:v,to:E,preventScrollReset:S}=t,k=sL(t,PU),{basename:O}=A.useContext(rp),N,G=!1;if(typeof E=="string"&&RU.test(E)&&(N=E,OU))try{let W=new URL(window.location.href),Y=E.startsWith("//")?new URL(W.protocol+E):new URL(E),ie=hA(Y.pathname,O);Y.origin===W.origin&&ie!=null?E=ie+Y.search+Y.hash:G=!0}catch{}let U=dU(E,{relative:c}),H=LU(E,{replace:h,state:o,target:v,preventScrollReset:S,relative:c});function q(W){r&&r(W),W.defaultPrevented||H(W)}return A.createElement("a",q_({},k,{href:N||U,onClick:G||u?r:q,ref:n,target:v}))}),as=A.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:c=!1,className:u="",end:h=!1,style:o,to:v,children:E}=t,S=sL(t,IU),k=yA(v,{relative:S.relative}),O=Um(),N=A.useContext(nL),{navigator:G}=A.useContext(rp),U=G.encodeLocation?G.encodeLocation(k).pathname:k.pathname,H=O.pathname,q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;c||(H=H.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase());let W=H===U||!h&&H.startsWith(U)&&H.charAt(U.length)==="/",Y=q!=null&&(q===U||!h&&q.startsWith(U)&&q.charAt(U.length)==="/"),ie=W?r:void 0,he;typeof u=="function"?he=u({isActive:W,isPending:Y}):he=[u,W?"active":null,Y?"pending":null].filter(Boolean).join(" ");let Se=typeof o=="function"?o({isActive:W,isPending:Y}):o;return A.createElement(DU,q_({},S,{"aria-current":ie,className:he,ref:n,style:Se,to:v}),typeof E=="function"?E({isActive:W,isPending:Y}):E)});var PM;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(PM||(PM={}));var IM;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(IM||(IM={}));function LU(e,t){let{target:n,replace:r,state:c,preventScrollReset:u,relative:h}=t===void 0?{}:t,o=Aa(),v=Um(),E=yA(e,{relative:h});return A.useCallback(S=>{if(AU(S,n)){S.preventDefault();let k=r!==void 0?r:H_(v)===H_(E);o(e,{replace:k,state:c,preventScrollReset:u,relative:h})}},[v,o,E,r,c,n,e,u,h])}var lL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],c=0;c<arguments.length;c++){var u=arguments[c];if(u){var h=typeof u;if(h==="string"||h==="number")r.push(u);else if(Array.isArray(u)){if(u.length){var o=n.apply(null,u);o&&r.push(o)}}else if(h==="object"){if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]")){r.push(u.toString());continue}for(var v in u)t.call(u,v)&&u[v]&&r.push(v)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(lL);var FU=lL.exports;const Ao=Qh(FU);function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,c){return r.__proto__=c,r},cE(e,t)}function vA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cE(e,t)}const NU=["xxl","xl","lg","md","sm","xs"],BU="xs",W1=A.createContext({prefixes:{},breakpoints:NU,minBreakpoint:BU});function ds(e,t){const{prefixes:n}=A.useContext(W1);return e||n[t]||t}function zU(){const{breakpoints:e}=A.useContext(W1);return e}function $U(){const{minBreakpoint:e}=A.useContext(W1);return e}function jU(){const{dir:e}=A.useContext(W1);return e==="rtl"}function Z1(e){return e&&e.ownerDocument||document}function UU(e){var t=Z1(e);return t&&t.defaultView||window}function VU(e,t){return UU(e).getComputedStyle(e,t)}var GU=/([A-Z])/g;function HU(e){return e.replace(GU,"-$1").toLowerCase()}var WU=/^ms-/;function P0(e){return HU(e).replace(WU,"-ms-")}var ZU=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function qU(e){return!!(e&&ZU.test(e))}function Gh(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(P0(t))||VU(e).getPropertyValue(P0(t));Object.keys(t).forEach(function(c){var u=t[c];!u&&u!==0?e.style.removeProperty(P0(c)):qU(c)?r+=c+"("+u+") ":n+=P0(c)+": "+u+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var cL={exports:{}},KU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XU=KU,YU=XU;function uL(){}function dL(){}dL.resetWarningCache=uL;var JU=function(){function e(r,c,u,h,o,v){if(v!==YU){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:dL,resetWarningCache:uL};return n.PropTypes=n,n};cL.exports=JU();var QU=cL.exports;const Od=Qh(QU),kM={disabled:!1},K_=Eo.createContext(null);var fL=function(t){return t.scrollTop},oy="unmounted",Dh="exited",wf="entering",Lh="entered",uE="exiting",Ud=function(e){vA(t,e);function t(r,c){var u;u=e.call(this,r,c)||this;var h=c,o=h&&!h.isMounting?r.enter:r.appear,v;return u.appearStatus=null,r.in?o?(v=Dh,u.appearStatus=wf):v=Lh:r.unmountOnExit||r.mountOnEnter?v=oy:v=Dh,u.state={status:v},u.nextCallback=null,u}t.getDerivedStateFromProps=function(c,u){var h=c.in;return h&&u.status===oy?{status:Dh}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(c){var u=null;if(c!==this.props){var h=this.state.status;this.props.in?h!==wf&&h!==Lh&&(u=wf):(h===wf||h===Lh)&&(u=uE)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var c=this.props.timeout,u,h,o;return u=h=o=c,c!=null&&typeof c!="number"&&(u=c.exit,h=c.enter,o=c.appear!==void 0?c.appear:h),{exit:u,enter:h,appear:o}},n.updateStatus=function(c,u){if(c===void 0&&(c=!1),u!==null)if(this.cancelNextCallback(),u===wf){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:$h.findDOMNode(this);h&&fL(h)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Dh&&this.setState({status:oy})},n.performEnter=function(c){var u=this,h=this.props.enter,o=this.context?this.context.isMounting:c,v=this.props.nodeRef?[o]:[$h.findDOMNode(this),o],E=v[0],S=v[1],k=this.getTimeouts(),O=o?k.appear:k.enter;if(!c&&!h||kM.disabled){this.safeSetState({status:Lh},function(){u.props.onEntered(E)});return}this.props.onEnter(E,S),this.safeSetState({status:wf},function(){u.props.onEntering(E,S),u.onTransitionEnd(O,function(){u.safeSetState({status:Lh},function(){u.props.onEntered(E,S)})})})},n.performExit=function(){var c=this,u=this.props.exit,h=this.getTimeouts(),o=this.props.nodeRef?void 0:$h.findDOMNode(this);if(!u||kM.disabled){this.safeSetState({status:Dh},function(){c.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:uE},function(){c.props.onExiting(o),c.onTransitionEnd(h.exit,function(){c.safeSetState({status:Dh},function(){c.props.onExited(o)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(c,u){u=this.setNextCallback(u),this.setState(c,u)},n.setNextCallback=function(c){var u=this,h=!0;return this.nextCallback=function(o){h&&(h=!1,u.nextCallback=null,c(o))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(c,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:$h.findDOMNode(this),o=c==null&&!this.props.addEndListener;if(!h||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var v=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],E=v[0],S=v[1];this.props.addEndListener(E,S)}c!=null&&setTimeout(this.nextCallback,c)},n.render=function(){var c=this.state.status;if(c===oy)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var o=$i(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Eo.createElement(K_.Provider,{value:null},typeof h=="function"?h(c,o):Eo.cloneElement(Eo.Children.only(h),o))},t}(Eo.Component);Ud.contextType=K_;Ud.propTypes={};function Np(){}Ud.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Np,onEntering:Np,onEntered:Np,onExit:Np,onExiting:Np,onExited:Np};Ud.UNMOUNTED=oy;Ud.EXITED=Dh;Ud.ENTERING=wf;Ud.ENTERED=Lh;Ud.EXITING=uE;const hL=Ud,Vm=!!(typeof window<"u"&&window.document&&window.document.createElement);var dE=!1,fE=!1;try{var Pw={get passive(){return dE=!0},get once(){return fE=dE=!0}};Vm&&(window.addEventListener("test",Pw,Pw),window.removeEventListener("test",Pw,!0))}catch{}function pL(e,t,n,r){if(r&&typeof r!="boolean"&&!fE){var c=r.once,u=r.capture,h=n;!fE&&c&&(h=n.__once||function o(v){this.removeEventListener(t,o,u),n.call(this,v)},n.__once=h),e.addEventListener(t,h,dE?r:u)}e.addEventListener(t,n,r)}function hE(e,t,n,r){var c=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,c),n.__once&&e.removeEventListener(t,n.__once,c)}function X_(e,t,n,r){return pL(e,t,n,r),function(){hE(e,t,n,r)}}function eV(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var c=document.createEvent("HTMLEvents");c.initEvent(t,n,r),e.dispatchEvent(c)}}function tV(e){var t=Gh(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function nV(e,t,n){n===void 0&&(n=5);var r=!1,c=setTimeout(function(){r||eV(e,"transitionend",!0)},t+n),u=X_(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(c),u()}}function mL(e,t,n,r){n==null&&(n=tV(e)||0);var c=nV(e,n,r),u=X_(e,"transitionend",t);return function(){c(),u()}}function MM(e,t){const n=Gh(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function rV(e,t){const n=MM(e,"transitionDuration"),r=MM(e,"transitionDelay"),c=mL(e,u=>{u.target===e&&(c(),t(u))},n+r)}function iV(e){e.offsetHeight}const OM=e=>!e||typeof e=="function"?e:t=>{e.current=t};function oV(e,t){const n=OM(e),r=OM(t);return c=>{n&&n(c),r&&r(c)}}function q1(e,t){return A.useMemo(()=>oV(e,t),[e,t])}function aV(e){return e&&"setState"in e?$h.findDOMNode(e):e??null}const sV=Eo.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:c,onExited:u,addEndListener:h,children:o,childRef:v,...E},S)=>{const k=A.useRef(null),O=q1(k,v),N=Se=>{O(aV(Se))},G=Se=>Pe=>{Se&&k.current&&Se(k.current,Pe)},U=A.useCallback(G(e),[e]),H=A.useCallback(G(t),[t]),q=A.useCallback(G(n),[n]),W=A.useCallback(G(r),[r]),Y=A.useCallback(G(c),[c]),ie=A.useCallback(G(u),[u]),he=A.useCallback(G(h),[h]);return B.jsx(hL,{ref:S,...E,onEnter:U,onEntered:q,onEntering:H,onExit:W,onExited:ie,onExiting:Y,addEndListener:he,nodeRef:k,children:typeof o=="function"?(Se,Pe)=>o(Se,{...Pe,ref:N}):Eo.cloneElement(o,{ref:N})})}),lV=sV;function cV(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function qu(e){const t=cV(e);return A.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function uV(){return A.useState(null)}function dV(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function fV(e){const t=A.useRef(null);return A.useEffect(()=>{t.current=e}),t.current}const hV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",pV=typeof document<"u",RM=pV||hV?A.useLayoutEffect:A.useEffect,mV=["as","disabled"];function gV(e,t){if(e==null)return{};var n={},r=Object.keys(e),c,u;for(u=0;u<r.length;u++)c=r[u],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}function yV(e){return!e||e.trim()==="#"}function gL({tagName:e,disabled:t,href:n,target:r,rel:c,role:u,onClick:h,tabIndex:o=0,type:v}){e||(n!=null||r!=null||c!=null?e="a":e="button");const E={tagName:e};if(e==="button")return[{type:v||"button",disabled:t},E];const S=O=>{if((t||e==="a"&&yV(n))&&O.preventDefault(),t){O.stopPropagation();return}h==null||h(O)},k=O=>{O.key===" "&&(O.preventDefault(),S(O))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:o,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?c:void 0,onClick:S,onKeyDown:k},E]}const vV=A.forwardRef((e,t)=>{let{as:n,disabled:r}=e,c=gV(e,mV);const[u,{tagName:h}]=gL(Object.assign({tagName:n,disabled:r},c));return B.jsx(h,Object.assign({},c,u,{ref:t}))});vV.displayName="Button";const _V={[wf]:"show",[Lh]:"show"},yL=A.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...c},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},o=A.useCallback((v,E)=>{iV(v),r==null||r(v,E)},[r]);return B.jsx(lV,{ref:u,addEndListener:rV,...h,onEnter:o,childRef:t.ref,children:(v,E)=>A.cloneElement(t,{...E,className:Ao("fade",e,t.props.className,_V[v],n[v])})})});yL.displayName="Fade";const vL=yL,xV={"aria-label":Od.string,onClick:Od.func,variant:Od.oneOf(["white"])},_A=A.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},c)=>B.jsx("button",{ref:c,type:"button",className:Ao("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));_A.displayName="CloseButton";_A.propTypes=xV;const bV=_A,wV=e=>A.forwardRef((t,n)=>B.jsx("div",{...t,ref:n,className:Ao(t.className,e)}));var EV=/-(.)/g;function CV(e){return e.replace(EV,function(t,n){return n.toUpperCase()})}const SV=e=>e[0].toUpperCase()+CV(e).slice(1);function K1(e,{displayName:t=SV(e),Component:n,defaultProps:r}={}){const c=A.forwardRef(({className:u,bsPrefix:h,as:o=n||"div",...v},E)=>{const S={...r,...v},k=ds(h,e);return B.jsx(o,{ref:E,className:Ao(u,k),...S})});return c.displayName=t,c}const _L=A.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:c=!1,disabled:u=!1,className:h,...o},v)=>{const E=ds(t,"btn"),[S,{tagName:k}]=gL({tagName:e,disabled:u,...o}),O=k;return B.jsx(O,{...S,...o,ref:v,disabled:u,className:Ao(h,E,c&&"active",n&&`${E}-${n}`,r&&`${E}-${r}`,o.href&&u&&"disabled")})});_L.displayName="Button";const el=_L;function TV(e){const t=A.useRef(e);return t.current=e,t}function xL(e){const t=TV(e);A.useEffect(()=>()=>t.current(),[])}function AV(e,t){return A.Children.toArray(e).some(n=>A.isValidElement(n)&&n.type===t)}function PV({as:e,bsPrefix:t,className:n,...r}){t=ds(t,"col");const c=zU(),u=$U(),h=[],o=[];return c.forEach(v=>{const E=r[v];delete r[v];let S,k,O;typeof E=="object"&&E!=null?{span:S,offset:k,order:O}=E:S=E;const N=v!==u?`-${v}`:"";S&&h.push(S===!0?`${t}${N}`:`${t}${N}-${S}`),O!=null&&o.push(`order${N}-${O}`),k!=null&&o.push(`offset${N}-${k}`)}),[{...r,className:Ao(n,...h,...o)},{as:e,bsPrefix:t,spans:h}]}const bL=A.forwardRef((e,t)=>{const[{className:n,...r},{as:c="div",bsPrefix:u,spans:h}]=PV(e);return B.jsx(c,{...r,ref:t,className:Ao(n,!h.length&&u)})});bL.displayName="Col";const IV=bL;var kV=Function.prototype.bind.call(Function.prototype.call,[].slice);function Bp(e,t){return kV(e.querySelectorAll(t))}function DM(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const MV="data-rr-ui-";function OV(e){return`${MV}${e}`}const wL=A.createContext(Vm?window:void 0);wL.Provider;function xA(){return A.useContext(wL)}const RV={type:Od.string,tooltip:Od.bool,as:Od.elementType},bA=A.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...c},u)=>B.jsx(e,{...c,ref:u,className:Ao(t,`${n}-${r?"tooltip":"feedback"}`)}));bA.displayName="Feedback";bA.propTypes=RV;const EL=bA,DV=A.createContext({}),$d=DV,CL=A.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:c=!1,isInvalid:u=!1,as:h="input",...o},v)=>{const{controlId:E}=A.useContext($d);return t=ds(t,"form-check-input"),B.jsx(h,{...o,ref:v,type:r,id:e||E,className:Ao(n,t,c&&"is-valid",u&&"is-invalid")})});CL.displayName="FormCheckInput";const SL=CL,TL=A.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},c)=>{const{controlId:u}=A.useContext($d);return e=ds(e,"form-check-label"),B.jsx("label",{...r,ref:c,htmlFor:n||u,className:Ao(t,e)})});TL.displayName="FormCheckLabel";const pE=TL,AL=A.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:c=!1,disabled:u=!1,isValid:h=!1,isInvalid:o=!1,feedbackTooltip:v=!1,feedback:E,feedbackType:S,className:k,style:O,title:N="",type:G="checkbox",label:U,children:H,as:q="input",...W},Y)=>{t=ds(t,"form-check"),n=ds(n,"form-switch");const{controlId:ie}=A.useContext($d),he=A.useMemo(()=>({controlId:e||ie}),[ie,e]),Se=!H&&U!=null&&U!==!1||AV(H,pE),Pe=B.jsx(SL,{...W,type:G==="switch"?"checkbox":G,ref:Y,isValid:h,isInvalid:o,disabled:u,as:q});return B.jsx($d.Provider,{value:he,children:B.jsx("div",{style:O,className:Ao(k,Se&&t,r&&`${t}-inline`,c&&`${t}-reverse`,G==="switch"&&n),children:H||B.jsxs(B.Fragment,{children:[Pe,Se&&B.jsx(pE,{title:N,children:U}),E&&B.jsx(EL,{type:S,tooltip:v,children:E})]})})})});AL.displayName="FormCheck";const Y_=Object.assign(AL,{Input:SL,Label:pE}),PL=A.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:c,className:u,isValid:h=!1,isInvalid:o=!1,plaintext:v,readOnly:E,as:S="input",...k},O)=>{const{controlId:N}=A.useContext($d);e=ds(e,"form-control");let G;return v?G={[`${e}-plaintext`]:!0}:G={[e]:!0,[`${e}-${n}`]:n},B.jsx(S,{...k,type:t,size:r,ref:O,readOnly:E,id:c||N,className:Ao(u,G,h&&"is-valid",o&&"is-invalid",t==="color"&&`${e}-color`)})});PL.displayName="FormControl";const LV=Object.assign(PL,{Feedback:EL}),FV=K1("form-floating"),IL=A.forwardRef(({controlId:e,as:t="div",...n},r)=>{const c=A.useMemo(()=>({controlId:e}),[e]);return B.jsx($d.Provider,{value:c,children:B.jsx(t,{...n,ref:r})})});IL.displayName="FormGroup";const kL=IL,ML=A.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:c,htmlFor:u,...h},o)=>{const{controlId:v}=A.useContext($d);t=ds(t,"form-label");let E="col-form-label";typeof n=="string"&&(E=`${E} ${E}-${n}`);const S=Ao(c,t,r&&"visually-hidden",n&&E);return u=u||v,n?B.jsx(IV,{ref:o,as:"label",className:S,htmlFor:u,...h}):B.jsx(e,{ref:o,className:S,htmlFor:u,...h})});ML.displayName="FormLabel";const NV=ML,OL=A.forwardRef(({bsPrefix:e,className:t,id:n,...r},c)=>{const{controlId:u}=A.useContext($d);return e=ds(e,"form-range"),B.jsx("input",{...r,type:"range",ref:c,className:Ao(t,e),id:n||u})});OL.displayName="FormRange";const BV=OL,RL=A.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:c=!1,isInvalid:u=!1,id:h,...o},v)=>{const{controlId:E}=A.useContext($d);return e=ds(e,"form-select"),B.jsx("select",{...o,size:n,ref:v,className:Ao(r,e,t&&`${e}-${t}`,c&&"is-valid",u&&"is-invalid"),id:h||E})});RL.displayName="FormSelect";const zV=RL,DL=A.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...c},u)=>(e=ds(e,"form-text"),B.jsx(n,{...c,ref:u,className:Ao(t,e,r&&"text-muted")})));DL.displayName="FormText";const $V=DL,LL=A.forwardRef((e,t)=>B.jsx(Y_,{...e,ref:t,type:"switch"}));LL.displayName="Switch";const jV=Object.assign(LL,{Input:Y_.Input,Label:Y_.Label}),FL=A.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:c,...u},h)=>(e=ds(e,"form-floating"),B.jsxs(kL,{ref:h,className:Ao(t,e),controlId:r,...u,children:[n,B.jsx("label",{htmlFor:r,children:c})]})));FL.displayName="FloatingLabel";const UV=FL,VV={_ref:Od.any,validated:Od.bool,as:Od.elementType},wA=A.forwardRef(({className:e,validated:t,as:n="form",...r},c)=>B.jsx(n,{...r,ref:c,className:Ao(e,t&&"was-validated")}));wA.displayName="Form";wA.propTypes=VV;const Er=Object.assign(wA,{Group:kL,Control:LV,Floating:FV,Check:Y_,Switch:jV,Label:NV,Text:$V,Range:BV,Select:zV,FloatingLabel:UV});var I0;function LM(e){if((!I0&&I0!==0||e)&&Vm){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),I0=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return I0}function Iw(e){e===void 0&&(e=Z1());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function GV(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const FM=OV("modal-open");class HV{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return GV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",c=this.getElement();t.style={overflow:c.style.overflow,[r]:c.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(Gh(c,r)||"0",10)+t.scrollBarWidth}px`),c.setAttribute(FM,""),Gh(c,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(FM),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const EA=HV,kw=(e,t)=>Vm?e==null?(t||Z1()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function WV(e,t){const n=xA(),[r,c]=A.useState(()=>kw(e,n==null?void 0:n.document));if(!r){const u=kw(e);u&&c(u)}return A.useEffect(()=>{t&&r&&t(r)},[t,r]),A.useEffect(()=>{const u=kw(e);u!==r&&c(u)},[e,r]),r}function ZV({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:c}){const u=A.useRef(null),h=A.useRef(t),o=qu(n);A.useEffect(()=>{t?h.current=!0:o(u.current)},[t,o]);const v=q1(u,e.ref),E=A.cloneElement(e,{ref:v});return t?E:c||!h.current&&r?null:E}function qV({in:e,onTransition:t}){const n=A.useRef(null),r=A.useRef(!0),c=qu(t);return RM(()=>{if(!n.current)return;let u=!1;return c({in:e,element:n.current,initial:r.current,isStale:()=>u}),()=>{u=!0}},[e,c]),RM(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function KV({children:e,in:t,onExited:n,onEntered:r,transition:c}){const[u,h]=A.useState(!t);t&&u&&h(!1);const o=qV({in:!!t,onTransition:E=>{const S=()=>{E.isStale()||(E.in?r==null||r(E.element,E.initial):(h(!0),n==null||n(E.element)))};Promise.resolve(c(E)).then(S,k=>{throw E.in||h(!0),k})}}),v=q1(o,e.ref);return u&&!t?null:A.cloneElement(e,{ref:v})}function NM(e,t,n){return e?B.jsx(e,Object.assign({},n)):t?B.jsx(KV,Object.assign({},n,{transition:t})):B.jsx(ZV,Object.assign({},n))}function XV(e){return e.code==="Escape"||e.keyCode===27}const YV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function JV(e,t){if(e==null)return{};var n={},r=Object.keys(e),c,u;for(u=0;u<r.length;u++)c=r[u],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}let Mw;function QV(e){return Mw||(Mw=new EA({ownerDocument:e==null?void 0:e.document})),Mw}function eG(e){const t=xA(),n=e||QV(t),r=A.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:A.useCallback(c=>{r.current.dialog=c},[]),setBackdropRef:A.useCallback(c=>{r.current.backdrop=c},[])})}const NL=A.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:c,style:u,children:h,backdrop:o=!0,keyboard:v=!0,onBackdropClick:E,onEscapeKeyDown:S,transition:k,runTransition:O,backdropTransition:N,runBackdropTransition:G,autoFocus:U=!0,enforceFocus:H=!0,restoreFocus:q=!0,restoreFocusOptions:W,renderDialog:Y,renderBackdrop:ie=yn=>B.jsx("div",Object.assign({},yn)),manager:he,container:Se,onShow:Pe,onHide:We=()=>{},onExit:Le,onExited:qe,onExiting:Kt,onEnter:Ut,onEntering:Qt,onEntered:Tn}=e,An=JV(e,YV);const Vt=xA(),_t=WV(Se),Ve=eG(he),Rt=dV(),Ge=fV(n),[sn,ln]=A.useState(!n),pn=A.useRef(null);A.useImperativeHandle(t,()=>Ve,[Ve]),Vm&&!Ge&&n&&(pn.current=Iw(Vt==null?void 0:Vt.document)),n&&sn&&ln(!1);const Yn=qu(()=>{if(Ve.add(),Xt.current=X_(document,"keydown",ot),Xe.current=X_(document,"focus",()=>setTimeout(nn),!0),Pe&&Pe(),U){var yn,xe;const Re=Iw((yn=(xe=Ve.dialog)==null?void 0:xe.ownerDocument)!=null?yn:Vt==null?void 0:Vt.document);Ve.dialog&&Re&&!DM(Ve.dialog,Re)&&(pn.current=Re,Ve.dialog.focus())}}),qn=qu(()=>{if(Ve.remove(),Xt.current==null||Xt.current(),Xe.current==null||Xe.current(),q){var yn;(yn=pn.current)==null||yn.focus==null||yn.focus(W),pn.current=null}});A.useEffect(()=>{!n||!_t||Yn()},[n,_t,Yn]),A.useEffect(()=>{sn&&qn()},[sn,qn]),xL(()=>{qn()});const nn=qu(()=>{if(!H||!Rt()||!Ve.isTopModal())return;const yn=Iw(Vt==null?void 0:Vt.document);Ve.dialog&&yn&&!DM(Ve.dialog,yn)&&Ve.dialog.focus()}),Bt=qu(yn=>{yn.target===yn.currentTarget&&(E==null||E(yn),o===!0&&We())}),ot=qu(yn=>{v&&XV(yn)&&Ve.isTopModal()&&(S==null||S(yn),yn.defaultPrevented||We())}),Xe=A.useRef(),Xt=A.useRef(),It=(...yn)=>{ln(!0),qe==null||qe(...yn)};if(!_t)return null;const Mn=Object.assign({role:r,ref:Ve.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},An,{style:u,className:c,tabIndex:-1});let En=Y?Y(Mn):B.jsx("div",Object.assign({},Mn,{children:A.cloneElement(h,{role:"document"})}));En=NM(k,O,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:Le,onExiting:Kt,onExited:It,onEnter:Ut,onEntering:Qt,onEntered:Tn,children:En});let er=null;return o&&(er=ie({ref:Ve.setBackdropRef,onClick:Bt}),er=NM(N,G,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:er})),B.jsx(B.Fragment,{children:$h.createPortal(B.jsxs(B.Fragment,{children:[er,En]}),_t)})});NL.displayName="Modal";const tG=Object.assign(NL,{Manager:EA});function nG(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function BL(e,t){e.classList?e.classList.add(t):nG(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function BM(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function zL(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=BM(e.className,t):e.setAttribute("class",BM(e.className&&e.className.baseVal||"",t))}const zp={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class rG extends EA{adjustAndStore(t,n,r){const c=n.style[t];n.dataset[t]=c,Gh(n,{[t]:`${parseFloat(Gh(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],Gh(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(BL(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",c=this.isRTL?"marginLeft":"marginRight";Bp(n,zp.FIXED_CONTENT).forEach(u=>this.adjustAndStore(r,u,t.scrollBarWidth)),Bp(n,zp.STICKY_CONTENT).forEach(u=>this.adjustAndStore(c,u,-t.scrollBarWidth)),Bp(n,zp.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(c,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();zL(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",c=this.isRTL?"marginLeft":"marginRight";Bp(n,zp.FIXED_CONTENT).forEach(u=>this.restore(r,u)),Bp(n,zp.STICKY_CONTENT).forEach(u=>this.restore(c,u)),Bp(n,zp.NAVBAR_TOGGLER).forEach(u=>this.restore(c,u))}}let Ow;function iG(e){return Ow||(Ow=new rG(e)),Ow}const oG=K1("modal-body"),aG=A.createContext({onHide(){}}),$L=aG,jL=A.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:c,fullscreen:u,children:h,scrollable:o,...v},E)=>{e=ds(e,"modal");const S=`${e}-dialog`,k=typeof u=="string"?`${e}-fullscreen-${u}`:`${e}-fullscreen`;return B.jsx("div",{...v,ref:E,className:Ao(S,t,c&&`${e}-${c}`,r&&`${S}-centered`,o&&`${S}-scrollable`,u&&k),children:B.jsx("div",{className:Ao(`${e}-content`,n),children:h})})});jL.displayName="ModalDialog";const UL=jL,sG=K1("modal-footer"),lG=A.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:c,...u},h)=>{const o=A.useContext($L),v=qu(()=>{o==null||o.onHide(),r==null||r()});return B.jsxs("div",{ref:h,...u,children:[c,n&&B.jsx(bV,{"aria-label":e,variant:t,onClick:v})]})}),cG=lG,VL=A.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...c},u)=>(e=ds(e,"modal-header"),B.jsx(cG,{ref:u,...c,className:Ao(t,e),closeLabel:n,closeButton:r})));VL.displayName="ModalHeader";const uG=VL,dG=wV("h4"),fG=K1("modal-title",{Component:dG});function hG(e){return B.jsx(vL,{...e,timeout:null})}function pG(e){return B.jsx(vL,{...e,timeout:null})}const GL=A.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:c,children:u,dialogAs:h=UL,"aria-labelledby":o,"aria-describedby":v,"aria-label":E,show:S=!1,animation:k=!0,backdrop:O=!0,keyboard:N=!0,onEscapeKeyDown:G,onShow:U,onHide:H,container:q,autoFocus:W=!0,enforceFocus:Y=!0,restoreFocus:ie=!0,restoreFocusOptions:he,onEntered:Se,onExit:Pe,onExiting:We,onEnter:Le,onEntering:qe,onExited:Kt,backdropClassName:Ut,manager:Qt,...Tn},An)=>{const[Vt,_t]=A.useState({}),[Ve,Rt]=A.useState(!1),Ge=A.useRef(!1),sn=A.useRef(!1),ln=A.useRef(null),[pn,Yn]=uV(),qn=q1(An,Yn),nn=qu(H),Bt=jU();e=ds(e,"modal");const ot=A.useMemo(()=>({onHide:nn}),[nn]);function Xe(){return Qt||iG({isRTL:Bt})}function Xt(xn){if(!Vm)return;const jn=Xe().getScrollbarWidth()>0,nr=xn.scrollHeight>Z1(xn).documentElement.clientHeight;_t({paddingRight:jn&&!nr?LM():void 0,paddingLeft:!jn&&nr?LM():void 0})}const It=qu(()=>{pn&&Xt(pn.dialog)});xL(()=>{hE(window,"resize",It),ln.current==null||ln.current()});const Mn=()=>{Ge.current=!0},En=xn=>{Ge.current&&pn&&xn.target===pn.dialog&&(sn.current=!0),Ge.current=!1},er=()=>{Rt(!0),ln.current=mL(pn.dialog,()=>{Rt(!1)})},yn=xn=>{xn.target===xn.currentTarget&&er()},xe=xn=>{if(O==="static"){yn(xn);return}if(sn.current||xn.target!==xn.currentTarget){sn.current=!1;return}H==null||H()},Re=xn=>{N?G==null||G(xn):(xn.preventDefault(),O==="static"&&er())},lt=(xn,jn)=>{xn&&Xt(xn),Le==null||Le(xn,jn)},kt=xn=>{ln.current==null||ln.current(),Pe==null||Pe(xn)},zt=(xn,jn)=>{qe==null||qe(xn,jn),pL(window,"resize",It)},Wt=xn=>{xn&&(xn.style.display=""),Kt==null||Kt(xn),hE(window,"resize",It)},Pn=A.useCallback(xn=>B.jsx("div",{...xn,className:Ao(`${e}-backdrop`,Ut,!k&&"show")}),[k,Ut,e]),Rn={...n,...Vt};Rn.display="block";const kn=xn=>B.jsx("div",{role:"dialog",...xn,style:Rn,className:Ao(t,e,Ve&&`${e}-static`,!k&&"show"),onClick:O?xe:void 0,onMouseUp:En,"aria-label":E,"aria-labelledby":o,"aria-describedby":v,children:B.jsx(h,{...Tn,onMouseDown:Mn,className:r,contentClassName:c,children:u})});return B.jsx($L.Provider,{value:ot,children:B.jsx(tG,{show:S,ref:qn,backdrop:O,container:q,keyboard:!0,autoFocus:W,enforceFocus:Y,restoreFocus:ie,restoreFocusOptions:he,onEscapeKeyDown:Re,onShow:U,onHide:H,onEnter:lt,onEntering:zt,onEntered:Se,onExit:kt,onExiting:We,onExited:Wt,manager:Xe(),transition:k?hG:void 0,backdropTransition:k?pG:void 0,renderBackdrop:Pn,renderDialog:kn})})});GL.displayName="Modal";const k0=Object.assign(GL,{Body:oG,Header:uG,Title:fG,Footer:sG,Dialog:UL,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function HL(e,t){return function(){return e.apply(t,arguments)}}const{toString:mG}=Object.prototype,{getPrototypeOf:CA}=Object,X1=(e=>t=>{const n=mG.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rd=e=>(e=e.toLowerCase(),t=>X1(t)===e),Y1=e=>t=>typeof t===e,{isArray:Gm}=Array,Uy=Y1("undefined");function gG(e){return e!==null&&!Uy(e)&&e.constructor!==null&&!Uy(e.constructor)&&uc(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WL=rd("ArrayBuffer");function yG(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WL(e.buffer),t}const vG=Y1("string"),uc=Y1("function"),ZL=Y1("number"),J1=e=>e!==null&&typeof e=="object",_G=e=>e===!0||e===!1,r_=e=>{if(X1(e)!=="object")return!1;const t=CA(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xG=rd("Date"),bG=rd("File"),wG=rd("Blob"),EG=rd("FileList"),CG=e=>J1(e)&&uc(e.pipe),SG=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||uc(e.append)&&((t=X1(e))==="formdata"||t==="object"&&uc(e.toString)&&e.toString()==="[object FormData]"))},TG=rd("URLSearchParams"),AG=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,c;if(typeof e!="object"&&(e=[e]),Gm(e))for(r=0,c=e.length;r<c;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let o;for(r=0;r<h;r++)o=u[r],t.call(null,e[o],o,e)}}function qL(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,c;for(;r-- >0;)if(c=n[r],t===c.toLowerCase())return c;return null}const KL=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),XL=e=>!Uy(e)&&e!==KL;function mE(){const{caseless:e}=XL(this)&&this||{},t={},n=(r,c)=>{const u=e&&qL(t,c)||c;r_(t[u])&&r_(r)?t[u]=mE(t[u],r):r_(r)?t[u]=mE({},r):Gm(r)?t[u]=r.slice():t[u]=r};for(let r=0,c=arguments.length;r<c;r++)arguments[r]&&uv(arguments[r],n);return t}const PG=(e,t,n,{allOwnKeys:r}={})=>(uv(t,(c,u)=>{n&&uc(c)?e[u]=HL(c,n):e[u]=c},{allOwnKeys:r}),e),IG=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kG=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},MG=(e,t,n,r)=>{let c,u,h;const o={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),u=c.length;u-- >0;)h=c[u],(!r||r(h,e,t))&&!o[h]&&(t[h]=e[h],o[h]=!0);e=n!==!1&&CA(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},OG=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},RG=e=>{if(!e)return null;if(Gm(e))return e;let t=e.length;if(!ZL(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},DG=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&CA(Uint8Array)),LG=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=r.next())&&!c.done;){const u=c.value;t.call(e,u[0],u[1])}},FG=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},NG=rd("HTMLFormElement"),BG=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,c){return r.toUpperCase()+c}),zM=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zG=rd("RegExp"),YL=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};uv(n,(c,u)=>{let h;(h=t(c,u,e))!==!1&&(r[u]=h||c)}),Object.defineProperties(e,r)},$G=e=>{YL(e,(t,n)=>{if(uc(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(uc(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jG=(e,t)=>{const n={},r=c=>{c.forEach(u=>{n[u]=!0})};return Gm(e)?r(e):r(String(e).split(t)),n},UG=()=>{},VG=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Rw="abcdefghijklmnopqrstuvwxyz",$M="0123456789",JL={DIGIT:$M,ALPHA:Rw,ALPHA_DIGIT:Rw+Rw.toUpperCase()+$M},GG=(e=16,t=JL.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function HG(e){return!!(e&&uc(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const WG=e=>{const t=new Array(10),n=(r,c)=>{if(J1(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[c]=r;const u=Gm(r)?[]:{};return uv(r,(h,o)=>{const v=n(h,c+1);!Uy(v)&&(u[o]=v)}),t[c]=void 0,u}}return r};return n(e,0)},ZG=rd("AsyncFunction"),qG=e=>e&&(J1(e)||uc(e))&&uc(e.then)&&uc(e.catch),un={isArray:Gm,isArrayBuffer:WL,isBuffer:gG,isFormData:SG,isArrayBufferView:yG,isString:vG,isNumber:ZL,isBoolean:_G,isObject:J1,isPlainObject:r_,isUndefined:Uy,isDate:xG,isFile:bG,isBlob:wG,isRegExp:zG,isFunction:uc,isStream:CG,isURLSearchParams:TG,isTypedArray:DG,isFileList:EG,forEach:uv,merge:mE,extend:PG,trim:AG,stripBOM:IG,inherits:kG,toFlatObject:MG,kindOf:X1,kindOfTest:rd,endsWith:OG,toArray:RG,forEachEntry:LG,matchAll:FG,isHTMLForm:NG,hasOwnProperty:zM,hasOwnProp:zM,reduceDescriptors:YL,freezeMethods:$G,toObjectSet:jG,toCamelCase:BG,noop:UG,toFiniteNumber:VG,findKey:qL,global:KL,isContextDefined:XL,ALPHABET:JL,generateString:GG,isSpecCompliantForm:HG,toJSONObject:WG,isAsyncFn:ZG,isThenable:qG};function ci(e,t,n,r,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),c&&(this.response=c)}un.inherits(ci,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:un.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const QL=ci.prototype,e6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{e6[e]={value:e}});Object.defineProperties(ci,e6);Object.defineProperty(QL,"isAxiosError",{value:!0});ci.from=(e,t,n,r,c,u)=>{const h=Object.create(QL);return un.toFlatObject(e,h,function(v){return v!==Error.prototype},o=>o!=="isAxiosError"),ci.call(h,e.message,t,n,r,c),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const KG=null;function gE(e){return un.isPlainObject(e)||un.isArray(e)}function t6(e){return un.endsWith(e,"[]")?e.slice(0,-2):e}function jM(e,t,n){return e?e.concat(t).map(function(c,u){return c=t6(c),!n&&u?"["+c+"]":c}).join(n?".":""):t}function XG(e){return un.isArray(e)&&!e.some(gE)}const YG=un.toFlatObject(un,{},null,function(t){return/^is[A-Z]/.test(t)});function Q1(e,t,n){if(!un.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=un.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,H){return!un.isUndefined(H[U])});const r=n.metaTokens,c=n.visitor||S,u=n.dots,h=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&un.isSpecCompliantForm(t);if(!un.isFunction(c))throw new TypeError("visitor must be a function");function E(G){if(G===null)return"";if(un.isDate(G))return G.toISOString();if(!v&&un.isBlob(G))throw new ci("Blob is not supported. Use a Buffer instead.");return un.isArrayBuffer(G)||un.isTypedArray(G)?v&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function S(G,U,H){let q=G;if(G&&!H&&typeof G=="object"){if(un.endsWith(U,"{}"))U=r?U:U.slice(0,-2),G=JSON.stringify(G);else if(un.isArray(G)&&XG(G)||(un.isFileList(G)||un.endsWith(U,"[]"))&&(q=un.toArray(G)))return U=t6(U),q.forEach(function(Y,ie){!(un.isUndefined(Y)||Y===null)&&t.append(h===!0?jM([U],ie,u):h===null?U:U+"[]",E(Y))}),!1}return gE(G)?!0:(t.append(jM(H,U,u),E(G)),!1)}const k=[],O=Object.assign(YG,{defaultVisitor:S,convertValue:E,isVisitable:gE});function N(G,U){if(!un.isUndefined(G)){if(k.indexOf(G)!==-1)throw Error("Circular reference detected in "+U.join("."));k.push(G),un.forEach(G,function(q,W){(!(un.isUndefined(q)||q===null)&&c.call(t,q,un.isString(W)?W.trim():W,U,O))===!0&&N(q,U?U.concat(W):[W])}),k.pop()}}if(!un.isObject(e))throw new TypeError("data must be an object");return N(e),t}function UM(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function SA(e,t){this._pairs=[],e&&Q1(e,this,t)}const n6=SA.prototype;n6.append=function(t,n){this._pairs.push([t,n])};n6.toString=function(t){const n=t?function(r){return t.call(this,r,UM)}:UM;return this._pairs.map(function(c){return n(c[0])+"="+n(c[1])},"").join("&")};function JG(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function r6(e,t,n){if(!t)return e;const r=n&&n.encode||JG,c=n&&n.serialize;let u;if(c?u=c(t,n):u=un.isURLSearchParams(t)?t.toString():new SA(t,n).toString(r),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class QG{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){un.forEach(this.handlers,function(r){r!==null&&t(r)})}}const VM=QG,i6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eH=typeof URLSearchParams<"u"?URLSearchParams:SA,tH=typeof FormData<"u"?FormData:null,nH=typeof Blob<"u"?Blob:null,rH=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),iH=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ou={isBrowser:!0,classes:{URLSearchParams:eH,FormData:tH,Blob:nH},isStandardBrowserEnv:rH,isStandardBrowserWebWorkerEnv:iH,protocols:["http","https","file","blob","url","data"]};function oH(e,t){return Q1(e,new ou.classes.URLSearchParams,Object.assign({visitor:function(n,r,c,u){return ou.isNode&&un.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function aH(e){return un.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sH(e){const t={},n=Object.keys(e);let r;const c=n.length;let u;for(r=0;r<c;r++)u=n[r],t[u]=e[u];return t}function o6(e){function t(n,r,c,u){let h=n[u++];const o=Number.isFinite(+h),v=u>=n.length;return h=!h&&un.isArray(c)?c.length:h,v?(un.hasOwnProp(c,h)?c[h]=[c[h],r]:c[h]=r,!o):((!c[h]||!un.isObject(c[h]))&&(c[h]=[]),t(n,r,c[h],u)&&un.isArray(c[h])&&(c[h]=sH(c[h])),!o)}if(un.isFormData(e)&&un.isFunction(e.entries)){const n={};return un.forEachEntry(e,(r,c)=>{t(aH(r),c,n,0)}),n}return null}function lH(e,t,n){if(un.isString(e))try{return(t||JSON.parse)(e),un.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const TA={transitional:i6,adapter:ou.isNode?"http":"xhr",transformRequest:[function(t,n){const r=n.getContentType()||"",c=r.indexOf("application/json")>-1,u=un.isObject(t);if(u&&un.isHTMLForm(t)&&(t=new FormData(t)),un.isFormData(t))return c&&c?JSON.stringify(o6(t)):t;if(un.isArrayBuffer(t)||un.isBuffer(t)||un.isStream(t)||un.isFile(t)||un.isBlob(t))return t;if(un.isArrayBufferView(t))return t.buffer;if(un.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oH(t,this.formSerializer).toString();if((o=un.isFileList(t))||r.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Q1(o?{"files[]":t}:t,v&&new v,this.formSerializer)}}return u||c?(n.setContentType("application/json",!1),lH(t)):t}],transformResponse:[function(t){const n=this.transitional||TA.transitional,r=n&&n.forcedJSONParsing,c=this.responseType==="json";if(t&&un.isString(t)&&(r&&!this.responseType||c)){const h=!(n&&n.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(o){if(h)throw o.name==="SyntaxError"?ci.from(o,ci.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ou.classes.FormData,Blob:ou.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};un.forEach(["delete","get","head","post","put","patch"],e=>{TA.headers[e]={}});const AA=TA,cH=un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uH=e=>{const t={};let n,r,c;return e&&e.split(`
`).forEach(function(h){c=h.indexOf(":"),n=h.substring(0,c).trim().toLowerCase(),r=h.substring(c+1).trim(),!(!n||t[n]&&cH[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},GM=Symbol("internals");function Zg(e){return e&&String(e).trim().toLowerCase()}function i_(e){return e===!1||e==null?e:un.isArray(e)?e.map(i_):String(e)}function dH(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const fH=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dw(e,t,n,r,c){if(un.isFunction(r))return r.call(this,t,n);if(c&&(t=n),!!un.isString(t)){if(un.isString(r))return t.indexOf(r)!==-1;if(un.isRegExp(r))return r.test(t)}}function hH(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function pH(e,t){const n=un.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(c,u,h){return this[r].call(this,t,c,u,h)},configurable:!0})})}class ex{constructor(t){t&&this.set(t)}set(t,n,r){const c=this;function u(o,v,E){const S=Zg(v);if(!S)throw new Error("header name must be a non-empty string");const k=un.findKey(c,S);(!k||c[k]===void 0||E===!0||E===void 0&&c[k]!==!1)&&(c[k||v]=i_(o))}const h=(o,v)=>un.forEach(o,(E,S)=>u(E,S,v));return un.isPlainObject(t)||t instanceof this.constructor?h(t,n):un.isString(t)&&(t=t.trim())&&!fH(t)?h(uH(t),n):t!=null&&u(n,t,r),this}get(t,n){if(t=Zg(t),t){const r=un.findKey(this,t);if(r){const c=this[r];if(!n)return c;if(n===!0)return dH(c);if(un.isFunction(n))return n.call(this,c,r);if(un.isRegExp(n))return n.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Zg(t),t){const r=un.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Dw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let c=!1;function u(h){if(h=Zg(h),h){const o=un.findKey(r,h);o&&(!n||Dw(r,r[o],o,n))&&(delete r[o],c=!0)}}return un.isArray(t)?t.forEach(u):u(t),c}clear(t){const n=Object.keys(this);let r=n.length,c=!1;for(;r--;){const u=n[r];(!t||Dw(this,this[u],u,t,!0))&&(delete this[u],c=!0)}return c}normalize(t){const n=this,r={};return un.forEach(this,(c,u)=>{const h=un.findKey(r,u);if(h){n[h]=i_(c),delete n[u];return}const o=t?hH(u):String(u).trim();o!==u&&delete n[u],n[o]=i_(c),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return un.forEach(this,(r,c)=>{r!=null&&r!==!1&&(n[c]=t&&un.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(c=>r.set(c)),r}static accessor(t){const r=(this[GM]=this[GM]={accessors:{}}).accessors,c=this.prototype;function u(h){const o=Zg(h);r[o]||(pH(c,h),r[o]=!0)}return un.isArray(t)?t.forEach(u):u(t),this}}ex.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);un.reduceDescriptors(ex.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});un.freezeMethods(ex);const Rd=ex;function Lw(e,t){const n=this||AA,r=t||n,c=Rd.from(r.headers);let u=r.data;return un.forEach(e,function(o){u=o.call(n,u,c.normalize(),t?t.status:void 0)}),c.normalize(),u}function a6(e){return!!(e&&e.__CANCEL__)}function dv(e,t,n){ci.call(this,e??"canceled",ci.ERR_CANCELED,t,n),this.name="CanceledError"}un.inherits(dv,ci,{__CANCEL__:!0});function mH(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ci("Request failed with status code "+n.status,[ci.ERR_BAD_REQUEST,ci.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const gH=ou.isStandardBrowserEnv?function(){return{write:function(n,r,c,u,h,o){const v=[];v.push(n+"="+encodeURIComponent(r)),un.isNumber(c)&&v.push("expires="+new Date(c).toGMTString()),un.isString(u)&&v.push("path="+u),un.isString(h)&&v.push("domain="+h),o===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function yH(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vH(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function s6(e,t){return e&&!yH(t)?vH(e,t):t}const _H=ou.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function c(u){let h=u;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=c(window.location.href),function(h){const o=un.isString(h)?c(h):h;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}();function xH(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bH(e,t){e=e||10;const n=new Array(e),r=new Array(e);let c=0,u=0,h;return t=t!==void 0?t:1e3,function(v){const E=Date.now(),S=r[u];h||(h=E),n[c]=v,r[c]=E;let k=u,O=0;for(;k!==c;)O+=n[k++],k=k%e;if(c=(c+1)%e,c===u&&(u=(u+1)%e),E-h<t)return;const N=S&&E-S;return N?Math.round(O*1e3/N):void 0}}function HM(e,t){let n=0;const r=bH(50,250);return c=>{const u=c.loaded,h=c.lengthComputable?c.total:void 0,o=u-n,v=r(o),E=u<=h;n=u;const S={loaded:u,total:h,progress:h?u/h:void 0,bytes:o,rate:v||void 0,estimated:v&&h&&E?(h-u)/v:void 0,event:c};S[t?"download":"upload"]=!0,e(S)}}const wH=typeof XMLHttpRequest<"u",EH=wH&&function(e){return new Promise(function(n,r){let c=e.data;const u=Rd.from(e.headers).normalize(),h=e.responseType;let o;function v(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}un.isFormData(c)&&(ou.isStandardBrowserEnv||ou.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let E=new XMLHttpRequest;if(e.auth){const N=e.auth.username||"",G=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(N+":"+G))}const S=s6(e.baseURL,e.url);E.open(e.method.toUpperCase(),r6(S,e.params,e.paramsSerializer),!0),E.timeout=e.timeout;function k(){if(!E)return;const N=Rd.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),U={data:!h||h==="text"||h==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:N,config:e,request:E};mH(function(q){n(q),v()},function(q){r(q),v()},U),E=null}if("onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(r(new ci("Request aborted",ci.ECONNABORTED,e,E)),E=null)},E.onerror=function(){r(new ci("Network Error",ci.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let G=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const U=e.transitional||i6;e.timeoutErrorMessage&&(G=e.timeoutErrorMessage),r(new ci(G,U.clarifyTimeoutError?ci.ETIMEDOUT:ci.ECONNABORTED,e,E)),E=null},ou.isStandardBrowserEnv){const N=(e.withCredentials||_H(S))&&e.xsrfCookieName&&gH.read(e.xsrfCookieName);N&&u.set(e.xsrfHeaderName,N)}c===void 0&&u.setContentType(null),"setRequestHeader"in E&&un.forEach(u.toJSON(),function(G,U){E.setRequestHeader(U,G)}),un.isUndefined(e.withCredentials)||(E.withCredentials=!!e.withCredentials),h&&h!=="json"&&(E.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&E.addEventListener("progress",HM(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",HM(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=N=>{E&&(r(!N||N.type?new dv(null,e,E):N),E.abort(),E=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const O=xH(S);if(O&&ou.protocols.indexOf(O)===-1){r(new ci("Unsupported protocol "+O+":",ci.ERR_BAD_REQUEST,e));return}E.send(c||null)})},o_={http:KG,xhr:EH};un.forEach(o_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const l6={getAdapter:e=>{e=un.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let c=0;c<t&&(n=e[c],!(r=un.isString(n)?o_[n.toLowerCase()]:n));c++);if(!r)throw r===!1?new ci(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(un.hasOwnProp(o_,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!un.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:o_};function Fw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dv(null,e)}function WM(e){return Fw(e),e.headers=Rd.from(e.headers),e.data=Lw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),l6.getAdapter(e.adapter||AA.adapter)(e).then(function(r){return Fw(e),r.data=Lw.call(e,e.transformResponse,r),r.headers=Rd.from(r.headers),r},function(r){return a6(r)||(Fw(e),r&&r.response&&(r.response.data=Lw.call(e,e.transformResponse,r.response),r.response.headers=Rd.from(r.response.headers))),Promise.reject(r)})}const ZM=e=>e instanceof Rd?e.toJSON():e;function km(e,t){t=t||{};const n={};function r(E,S,k){return un.isPlainObject(E)&&un.isPlainObject(S)?un.merge.call({caseless:k},E,S):un.isPlainObject(S)?un.merge({},S):un.isArray(S)?S.slice():S}function c(E,S,k){if(un.isUndefined(S)){if(!un.isUndefined(E))return r(void 0,E,k)}else return r(E,S,k)}function u(E,S){if(!un.isUndefined(S))return r(void 0,S)}function h(E,S){if(un.isUndefined(S)){if(!un.isUndefined(E))return r(void 0,E)}else return r(void 0,S)}function o(E,S,k){if(k in t)return r(E,S);if(k in e)return r(void 0,E)}const v={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:o,headers:(E,S)=>c(ZM(E),ZM(S),!0)};return un.forEach(Object.keys(Object.assign({},e,t)),function(S){const k=v[S]||c,O=k(e[S],t[S],S);un.isUndefined(O)&&k!==o||(n[S]=O)}),n}const c6="1.5.0",PA={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{PA[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const qM={};PA.transitional=function(t,n,r){function c(u,h){return"[Axios v"+c6+"] Transitional option '"+u+"'"+h+(r?". "+r:"")}return(u,h,o)=>{if(t===!1)throw new ci(c(h," has been removed"+(n?" in "+n:"")),ci.ERR_DEPRECATED);return n&&!qM[h]&&(qM[h]=!0,console.warn(c(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,h,o):!0}};function CH(e,t,n){if(typeof e!="object")throw new ci("options must be an object",ci.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let c=r.length;for(;c-- >0;){const u=r[c],h=t[u];if(h){const o=e[u],v=o===void 0||h(o,u,e);if(v!==!0)throw new ci("option "+u+" must be "+v,ci.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ci("Unknown option "+u,ci.ERR_BAD_OPTION)}}const yE={assertOptions:CH,validators:PA},_f=yE.validators;class J_{constructor(t){this.defaults=t,this.interceptors={request:new VM,response:new VM}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=km(this.defaults,n);const{transitional:r,paramsSerializer:c,headers:u}=n;r!==void 0&&yE.assertOptions(r,{silentJSONParsing:_f.transitional(_f.boolean),forcedJSONParsing:_f.transitional(_f.boolean),clarifyTimeoutError:_f.transitional(_f.boolean)},!1),c!=null&&(un.isFunction(c)?n.paramsSerializer={serialize:c}:yE.assertOptions(c,{encode:_f.function,serialize:_f.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&un.merge(u.common,u[n.method]);u&&un.forEach(["delete","get","head","post","put","patch","common"],G=>{delete u[G]}),n.headers=Rd.concat(h,u);const o=[];let v=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(n)===!1||(v=v&&U.synchronous,o.unshift(U.fulfilled,U.rejected))});const E=[];this.interceptors.response.forEach(function(U){E.push(U.fulfilled,U.rejected)});let S,k=0,O;if(!v){const G=[WM.bind(this),void 0];for(G.unshift.apply(G,o),G.push.apply(G,E),O=G.length,S=Promise.resolve(n);k<O;)S=S.then(G[k++],G[k++]);return S}O=o.length;let N=n;for(k=0;k<O;){const G=o[k++],U=o[k++];try{N=G(N)}catch(H){U.call(this,H);break}}try{S=WM.call(this,N)}catch(G){return Promise.reject(G)}for(k=0,O=E.length;k<O;)S=S.then(E[k++],E[k++]);return S}getUri(t){t=km(this.defaults,t);const n=s6(t.baseURL,t.url);return r6(n,t.params,t.paramsSerializer)}}un.forEach(["delete","get","head","options"],function(t){J_.prototype[t]=function(n,r){return this.request(km(r||{},{method:t,url:n,data:(r||{}).data}))}});un.forEach(["post","put","patch"],function(t){function n(r){return function(u,h,o){return this.request(km(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}J_.prototype[t]=n(),J_.prototype[t+"Form"]=n(!0)});const a_=J_;class IA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(c=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](c);r._listeners=null}),this.promise.then=c=>{let u;const h=new Promise(o=>{r.subscribe(o),u=o}).then(c);return h.cancel=function(){r.unsubscribe(u)},h},t(function(u,h,o){r.reason||(r.reason=new dv(u,h,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new IA(function(c){t=c}),cancel:t}}}const SH=IA;function TH(e){return function(n){return e.apply(null,n)}}function AH(e){return un.isObject(e)&&e.isAxiosError===!0}const vE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vE).forEach(([e,t])=>{vE[t]=e});const PH=vE;function u6(e){const t=new a_(e),n=HL(a_.prototype.request,t);return un.extend(n,a_.prototype,t,{allOwnKeys:!0}),un.extend(n,t,null,{allOwnKeys:!0}),n.create=function(c){return u6(km(e,c))},n}const aa=u6(AA);aa.Axios=a_;aa.CanceledError=dv;aa.CancelToken=SH;aa.isCancel=a6;aa.VERSION=c6;aa.toFormData=Q1;aa.AxiosError=ci;aa.Cancel=aa.CanceledError;aa.all=function(t){return Promise.all(t)};aa.spread=TH;aa.isAxiosError=AH;aa.mergeConfig=km;aa.AxiosHeaders=Rd;aa.formToJSON=e=>o6(un.isHTMLForm(e)?new FormData(e):e);aa.getAdapter=l6.getAdapter;aa.HttpStatusCode=PH;aa.default=aa;const IH=aa,d6=()=>({URL:"http://localhost:4000/",TOKEN:"pk.eyJ1IjoicmljaGFyZHJ1ZGFzMTgiLCJhIjoiY2xvN2xtZHg5MDV3aDJsbzZ5MzRiOWs5MyJ9.QfVyLhI6pc4Vj1X8jElf8Q"});var f6={exports:{}};/*!
* sweetalert2 v11.7.27
* Released under the MIT License.
*/(function(e,t){(function(n,r){e.exports=r()})(wa,function(){function n(L,z){var ne=c(L,z,"get");return u(L,ne)}function r(L,z,ne){var ke=c(L,z,"set");return h(L,ke,ne),ne}function c(L,z,ne){if(!z.has(L))throw new TypeError("attempted to "+ne+" private field on non-instance");return z.get(L)}function u(L,z){return z.get?z.get.call(L):z.value}function h(L,z,ne){if(z.set)z.set.call(L,ne);else{if(!z.writable)throw new TypeError("attempted to set read only private field");z.value=ne}}function o(L,z){if(z.has(L))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(L,z,ne){o(L,z),z.set(L,ne)}const E=100,S={},k=()=>{S.previousActiveElement instanceof HTMLElement?(S.previousActiveElement.focus(),S.previousActiveElement=null):document.body&&document.body.focus()},O=L=>new Promise(z=>{if(!L)return z();const ne=window.scrollX,ke=window.scrollY;S.restoreFocusTimeout=setTimeout(()=>{k(),z()},E),window.scrollTo(ne,ke)});var N={innerParams:new WeakMap,domCache:new WeakMap};const G="swal2-",H=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((L,z)=>(L[z]=G+z,L),{}),W=["success","warning","info","question","error"].reduce((L,z)=>(L[z]=G+z,L),{}),Y="SweetAlert2:",ie=L=>L.charAt(0).toUpperCase()+L.slice(1),he=L=>{console.warn("".concat(Y," ").concat(typeof L=="object"?L.join(" "):L))},Se=L=>{console.error("".concat(Y," ").concat(L))},Pe=[],We=L=>{Pe.includes(L)||(Pe.push(L),he(L))},Le=(L,z)=>{We('"'.concat(L,'" is deprecated and will be removed in the next major release. Please use "').concat(z,'" instead.'))},qe=L=>typeof L=="function"?L():L,Kt=L=>L&&typeof L.toPromise=="function",Ut=L=>Kt(L)?L.toPromise():Promise.resolve(L),Qt=L=>L&&Promise.resolve(L)===L,Tn=()=>document.body.querySelector(".".concat(H.container)),An=L=>{const z=Tn();return z?z.querySelector(L):null},Vt=L=>An(".".concat(L)),_t=()=>Vt(H.popup),Ve=()=>Vt(H.icon),Rt=()=>Vt(H["icon-content"]),Ge=()=>Vt(H.title),sn=()=>Vt(H["html-container"]),ln=()=>Vt(H.image),pn=()=>Vt(H["progress-steps"]),Yn=()=>Vt(H["validation-message"]),qn=()=>An(".".concat(H.actions," .").concat(H.confirm)),nn=()=>An(".".concat(H.actions," .").concat(H.cancel)),Bt=()=>An(".".concat(H.actions," .").concat(H.deny)),ot=()=>Vt(H["input-label"]),Xe=()=>An(".".concat(H.loader)),Xt=()=>Vt(H.actions),It=()=>Vt(H.footer),Mn=()=>Vt(H["timer-progress-bar"]),En=()=>Vt(H.close),er=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,yn=()=>{const L=_t();if(!L)return[];const z=L.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),ne=Array.from(z).sort((At,wr)=>{const fi=parseInt(At.getAttribute("tabindex")||"0"),Mi=parseInt(wr.getAttribute("tabindex")||"0");return fi>Mi?1:fi<Mi?-1:0}),ke=L.querySelectorAll(er),Lt=Array.from(ke).filter(At=>At.getAttribute("tabindex")!=="-1");return[...new Set(ne.concat(Lt))].filter(At=>Vn(At))},xe=()=>zt(document.body,H.shown)&&!zt(document.body,H["toast-shown"])&&!zt(document.body,H["no-backdrop"]),Re=()=>{const L=_t();return L?zt(L,H.toast):!1},lt=()=>{const L=_t();return L?L.hasAttribute("data-loading"):!1},kt=(L,z)=>{if(L.textContent="",z){const ke=new DOMParser().parseFromString(z,"text/html"),Lt=ke.querySelector("head");Lt&&Array.from(Lt.childNodes).forEach(wr=>{L.appendChild(wr)});const At=ke.querySelector("body");At&&Array.from(At.childNodes).forEach(wr=>{wr instanceof HTMLVideoElement||wr instanceof HTMLAudioElement?L.appendChild(wr.cloneNode(!0)):L.appendChild(wr)})}},zt=(L,z)=>{if(!z)return!1;const ne=z.split(/\s+/);for(let ke=0;ke<ne.length;ke++)if(!L.classList.contains(ne[ke]))return!1;return!0},Wt=(L,z)=>{Array.from(L.classList).forEach(ne=>{!Object.values(H).includes(ne)&&!Object.values(W).includes(ne)&&!Object.values(z.showClass||{}).includes(ne)&&L.classList.remove(ne)})},Pn=(L,z,ne)=>{if(Wt(L,z),z.customClass&&z.customClass[ne]){if(typeof z.customClass[ne]!="string"&&!z.customClass[ne].forEach){he("Invalid type of customClass.".concat(ne,'! Expected string or iterable object, got "').concat(typeof z.customClass[ne],'"'));return}jn(L,z.customClass[ne])}},Rn=(L,z)=>{if(!z)return null;switch(z){case"select":case"textarea":case"file":return L.querySelector(".".concat(H.popup," > .").concat(H[z]));case"checkbox":return L.querySelector(".".concat(H.popup," > .").concat(H.checkbox," input"));case"radio":return L.querySelector(".".concat(H.popup," > .").concat(H.radio," input:checked"))||L.querySelector(".".concat(H.popup," > .").concat(H.radio," input:first-child"));case"range":return L.querySelector(".".concat(H.popup," > .").concat(H.range," input"));default:return L.querySelector(".".concat(H.popup," > .").concat(H.input))}},kn=L=>{if(L.focus(),L.type!=="file"){const z=L.value;L.value="",L.value=z}},xn=(L,z,ne)=>{!L||!z||(typeof z=="string"&&(z=z.split(/\s+/).filter(Boolean)),z.forEach(ke=>{Array.isArray(L)?L.forEach(Lt=>{ne?Lt.classList.add(ke):Lt.classList.remove(ke)}):ne?L.classList.add(ke):L.classList.remove(ke)}))},jn=(L,z)=>{xn(L,z,!0)},nr=(L,z)=>{xn(L,z,!1)},wn=(L,z)=>{const ne=Array.from(L.children);for(let ke=0;ke<ne.length;ke++){const Lt=ne[ke];if(Lt instanceof HTMLElement&&zt(Lt,z))return Lt}},Qe=(L,z,ne)=>{ne==="".concat(parseInt(ne))&&(ne=parseInt(ne)),ne||parseInt(ne)===0?L.style[z]=typeof ne=="number"?"".concat(ne,"px"):ne:L.style.removeProperty(z)},xt=function(L){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";L&&(L.style.display=z)},Ze=L=>{L&&(L.style.display="none")},Gt=(L,z,ne,ke)=>{const Lt=L.querySelector(z);Lt&&(Lt.style[ne]=ke)},Cn=function(L,z){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";z?xt(L,ne):Ze(L)},Vn=L=>!!(L&&(L.offsetWidth||L.offsetHeight||L.getClientRects().length)),mr=()=>!Vn(qn())&&!Vn(Bt())&&!Vn(nn()),dr=L=>L.scrollHeight>L.clientHeight,yr=L=>{const z=window.getComputedStyle(L),ne=parseFloat(z.getPropertyValue("animation-duration")||"0"),ke=parseFloat(z.getPropertyValue("transition-duration")||"0");return ne>0||ke>0},Nr=function(L){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ne=Mn();ne&&Vn(ne)&&(z&&(ne.style.transition="none",ne.style.width="100%"),setTimeout(()=>{ne.style.transition="width ".concat(L/1e3,"s linear"),ne.style.width="0%"},10))},Ae=()=>{const L=Mn();if(!L)return;const z=parseInt(window.getComputedStyle(L).width);L.style.removeProperty("transition"),L.style.width="100%";const ne=parseInt(window.getComputedStyle(L).width),ke=z/ne*100;L.style.width="".concat(ke,"%")},te=()=>typeof window>"u"||typeof document>"u",oe=`
 <div aria-labelledby="`.concat(H.title,'" aria-describedby="').concat(H["html-container"],'" class="').concat(H.popup,`" tabindex="-1">
   <button type="button" class="`).concat(H.close,`"></button>
   <ul class="`).concat(H["progress-steps"],`"></ul>
   <div class="`).concat(H.icon,`"></div>
   <img class="`).concat(H.image,`" />
   <h2 class="`).concat(H.title,'" id="').concat(H.title,`"></h2>
   <div class="`).concat(H["html-container"],'" id="').concat(H["html-container"],`"></div>
   <input class="`).concat(H.input,'" id="').concat(H.input,`" />
   <input type="file" class="`).concat(H.file,`" />
   <div class="`).concat(H.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(H.select,'" id="').concat(H.select,`"></select>
   <div class="`).concat(H.radio,`"></div>
   <label class="`).concat(H.checkbox,`">
     <input type="checkbox" id="`).concat(H.checkbox,`" />
     <span class="`).concat(H.label,`"></span>
   </label>
   <textarea class="`).concat(H.textarea,'" id="').concat(H.textarea,`"></textarea>
   <div class="`).concat(H["validation-message"],'" id="').concat(H["validation-message"],`"></div>
   <div class="`).concat(H.actions,`">
     <div class="`).concat(H.loader,`"></div>
     <button type="button" class="`).concat(H.confirm,`"></button>
     <button type="button" class="`).concat(H.deny,`"></button>
     <button type="button" class="`).concat(H.cancel,`"></button>
   </div>
   <div class="`).concat(H.footer,`"></div>
   <div class="`).concat(H["timer-progress-bar-container"],`">
     <div class="`).concat(H["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),Ce=()=>{const L=Tn();return L?(L.remove(),nr([document.documentElement,document.body],[H["no-backdrop"],H["toast-shown"],H["has-column"]]),!0):!1},Ie=()=>{S.currentInstance.resetValidationMessage()},Ue=()=>{const L=_t(),z=wn(L,H.input),ne=wn(L,H.file),ke=L.querySelector(".".concat(H.range," input")),Lt=L.querySelector(".".concat(H.range," output")),At=wn(L,H.select),wr=L.querySelector(".".concat(H.checkbox," input")),fi=wn(L,H.textarea);z.oninput=Ie,ne.onchange=Ie,At.onchange=Ie,wr.onchange=Ie,fi.oninput=Ie,ke.oninput=()=>{Ie(),Lt.value=ke.value},ke.onchange=()=>{Ie(),Lt.value=ke.value}},et=L=>typeof L=="string"?document.querySelector(L):L,Ye=L=>{const z=_t();z.setAttribute("role",L.toast?"alert":"dialog"),z.setAttribute("aria-live",L.toast?"polite":"assertive"),L.toast||z.setAttribute("aria-modal","true")},Fe=L=>{window.getComputedStyle(L).direction==="rtl"&&jn(Tn(),H.rtl)},ct=L=>{const z=Ce();if(te()){Se("SweetAlert2 requires document to initialize");return}const ne=document.createElement("div");ne.className=H.container,z&&jn(ne,H["no-transition"]),kt(ne,oe);const ke=et(L.target);ke.appendChild(ne),Ye(L),Fe(ke),Ue()},Ht=(L,z)=>{L instanceof HTMLElement?z.appendChild(L):typeof L=="object"?Jt(L,z):L&&kt(z,L)},Jt=(L,z)=>{L.jquery?Et(z,L):kt(z,L.toString())},Et=(L,z)=>{if(L.textContent="",0 in z)for(let ne=0;ne in z;ne++)L.appendChild(z[ne].cloneNode(!0));else L.appendChild(z.cloneNode(!0))},Hn=(()=>{if(te())return!1;const L=document.createElement("div");return typeof L.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof L.style.animation<"u"?"animationend":!1})(),rr=(L,z)=>{const ne=Xt(),ke=Xe();!ne||!ke||(!z.showConfirmButton&&!z.showDenyButton&&!z.showCancelButton?Ze(ne):xt(ne),Pn(ne,z,"actions"),Tt(ne,ke,z),kt(ke,z.loaderHtml||""),Pn(ke,z,"loader"))};function Tt(L,z,ne){const ke=qn(),Lt=Bt(),At=nn();!ke||!Lt||!At||(Ct(ke,"confirm",ne),Ct(Lt,"deny",ne),Ct(At,"cancel",ne),nt(ke,Lt,At,ne),ne.reverseButtons&&(ne.toast?(L.insertBefore(At,ke),L.insertBefore(Lt,ke)):(L.insertBefore(At,z),L.insertBefore(Lt,z),L.insertBefore(ke,z))))}function nt(L,z,ne,ke){if(!ke.buttonsStyling){nr([L,z,ne],H.styled);return}jn([L,z,ne],H.styled),ke.confirmButtonColor&&(L.style.backgroundColor=ke.confirmButtonColor,jn(L,H["default-outline"])),ke.denyButtonColor&&(z.style.backgroundColor=ke.denyButtonColor,jn(z,H["default-outline"])),ke.cancelButtonColor&&(ne.style.backgroundColor=ke.cancelButtonColor,jn(ne,H["default-outline"]))}function Ct(L,z,ne){const ke=ie(z);Cn(L,ne["show".concat(ke,"Button")],"inline-block"),kt(L,ne["".concat(z,"ButtonText")]||""),L.setAttribute("aria-label",ne["".concat(z,"ButtonAriaLabel")]||""),L.className=H[z],Pn(L,ne,"".concat(z,"Button"))}const cn=(L,z)=>{const ne=En();ne&&(kt(ne,z.closeButtonHtml||""),Pn(ne,z,"closeButton"),Cn(ne,z.showCloseButton),ne.setAttribute("aria-label",z.closeButtonAriaLabel||""))},Fn=(L,z)=>{const ne=Tn();ne&&(ir(ne,z.backdrop),On(ne,z.position),vr(ne,z.grow),Pn(ne,z,"container"))};function ir(L,z){typeof z=="string"?L.style.background=z:z||jn([document.documentElement,document.body],H["no-backdrop"])}function On(L,z){z&&(z in H?jn(L,H[z]):(he('The "position" parameter is not valid, defaulting to "center"'),jn(L,H.center)))}function vr(L,z){z&&jn(L,H["grow-".concat(z)])}const ft=["input","file","range","select","radio","checkbox","textarea"],re=(L,z)=>{const ne=_t();if(!ne)return;const ke=N.innerParams.get(L),Lt=!ke||z.input!==ke.input;ft.forEach(At=>{const wr=wn(ne,H[At]);wr&&(de(At,z.inputAttributes),wr.className=H[At],Lt&&Ze(wr))}),z.input&&(Lt&&le(z),se(z))},le=L=>{if(!L.input)return;if(!on[L.input]){Se('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(L.input,'"'));return}const z=ut(L.input),ne=on[L.input](z,L);xt(z),L.inputAutoFocus&&setTimeout(()=>{kn(ne)})},ye=L=>{for(let z=0;z<L.attributes.length;z++){const ne=L.attributes[z].name;["id","type","value","style"].includes(ne)||L.removeAttribute(ne)}},de=(L,z)=>{const ne=Rn(_t(),L);if(ne){ye(ne);for(const ke in z)ne.setAttribute(ke,z[ke])}},se=L=>{const z=ut(L.input);typeof L.customClass=="object"&&jn(z,L.customClass.input)},He=(L,z)=>{(!L.placeholder||z.inputPlaceholder)&&(L.placeholder=z.inputPlaceholder)},tt=(L,z,ne)=>{if(ne.inputLabel){const ke=document.createElement("label"),Lt=H["input-label"];ke.setAttribute("for",L.id),ke.className=Lt,typeof ne.customClass=="object"&&jn(ke,ne.customClass.inputLabel),ke.innerText=ne.inputLabel,z.insertAdjacentElement("beforebegin",ke)}},ut=L=>wn(_t(),H[L]||H.input),jt=(L,z)=>{["string","number"].includes(typeof z)?L.value="".concat(z):Qt(z)||he('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof z,'"'))},on={};on.text=on.email=on.password=on.number=on.tel=on.url=(L,z)=>(jt(L,z.inputValue),tt(L,L,z),He(L,z),L.type=z.input,L),on.file=(L,z)=>(tt(L,L,z),He(L,z),L),on.range=(L,z)=>{const ne=L.querySelector("input"),ke=L.querySelector("output");return jt(ne,z.inputValue),ne.type=z.input,jt(ke,z.inputValue),tt(ne,L,z),L},on.select=(L,z)=>{if(L.textContent="",z.inputPlaceholder){const ne=document.createElement("option");kt(ne,z.inputPlaceholder),ne.value="",ne.disabled=!0,ne.selected=!0,L.appendChild(ne)}return tt(L,L,z),L},on.radio=L=>(L.textContent="",L),on.checkbox=(L,z)=>{const ne=Rn(_t(),"checkbox");ne.value="1",ne.checked=!!z.inputValue;const ke=L.querySelector("span");return kt(ke,z.inputPlaceholder),ne},on.textarea=(L,z)=>{jt(L,z.inputValue),He(L,z),tt(L,L,z);const ne=ke=>parseInt(window.getComputedStyle(ke).marginLeft)+parseInt(window.getComputedStyle(ke).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const ke=parseInt(window.getComputedStyle(_t()).width),Lt=()=>{if(!document.body.contains(L))return;const At=L.offsetWidth+ne(L);At>ke?_t().style.width="".concat(At,"px"):Qe(_t(),"width",z.width)};new MutationObserver(Lt).observe(L,{attributes:!0,attributeFilter:["style"]})}}),L};const Xn=(L,z)=>{const ne=sn();ne&&(Pn(ne,z,"htmlContainer"),z.html?(Ht(z.html,ne),xt(ne,"block")):z.text?(ne.textContent=z.text,xt(ne,"block")):Ze(ne),re(L,z))},Rr=(L,z)=>{const ne=It();ne&&(Cn(ne,z.footer,"block"),z.footer&&Ht(z.footer,ne),Pn(ne,z,"footer"))},Fr=(L,z)=>{const ne=N.innerParams.get(L),ke=Ve();if(ke){if(ne&&z.icon===ne.icon){vi(ke,z),Ur(ke,z);return}if(!z.icon&&!z.iconHtml){Ze(ke);return}if(z.icon&&Object.keys(W).indexOf(z.icon)===-1){Se('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(z.icon,'"')),Ze(ke);return}xt(ke),vi(ke,z),Ur(ke,z),jn(ke,z.showClass&&z.showClass.icon)}},Ur=(L,z)=>{for(const[ne,ke]of Object.entries(W))z.icon!==ne&&nr(L,ke);jn(L,z.icon&&W[z.icon]),Vr(L,z),xr(),Pn(L,z,"icon")},xr=()=>{const L=_t();if(!L)return;const z=window.getComputedStyle(L).getPropertyValue("background-color"),ne=L.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let ke=0;ke<ne.length;ke++)ne[ke].style.backgroundColor=z},Br=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,vt=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,vi=(L,z)=>{if(!z.icon&&!z.iconHtml)return;let ne=L.innerHTML,ke="";z.iconHtml?ke=Zr(z.iconHtml):z.icon==="success"?(ke=Br,ne=ne.replace(/ style=".*?"/g,"")):z.icon==="error"?ke=vt:z.icon&&(ke=Zr({question:"?",warning:"!",info:"i"}[z.icon])),ne.trim()!==ke.trim()&&kt(L,ke)},Vr=(L,z)=>{if(z.iconColor){L.style.color=z.iconColor,L.style.borderColor=z.iconColor;for(const ne of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Gt(L,ne,"backgroundColor",z.iconColor);Gt(L,".swal2-success-ring","borderColor",z.iconColor)}},Zr=L=>'<div class="'.concat(H["icon-content"],'">').concat(L,"</div>"),sa=(L,z)=>{const ne=ln();if(ne){if(!z.imageUrl){Ze(ne);return}xt(ne,""),ne.setAttribute("src",z.imageUrl),ne.setAttribute("alt",z.imageAlt||""),Qe(ne,"width",z.imageWidth),Qe(ne,"height",z.imageHeight),ne.className=H.image,Pn(ne,z,"image")}},Ui=(L,z)=>{const ne=Tn(),ke=_t();if(!(!ne||!ke)){if(z.toast){Qe(ne,"width",z.width),ke.style.width="100%";const Lt=Xe();Lt&&ke.insertBefore(Lt,Ve())}else Qe(ke,"width",z.width);Qe(ke,"padding",z.padding),z.color&&(ke.style.color=z.color),z.background&&(ke.style.background=z.background),Ze(Yn()),jo(ke,z)}},jo=(L,z)=>{const ne=z.showClass||{};L.className="".concat(H.popup," ").concat(Vn(L)?ne.popup:""),z.toast?(jn([document.documentElement,document.body],H["toast-shown"]),jn(L,H.toast)):jn(L,H.modal),Pn(L,z,"popup"),typeof z.customClass=="string"&&jn(L,z.customClass),z.icon&&jn(L,H["icon-".concat(z.icon)])},zr=(L,z)=>{const ne=pn();if(!ne)return;const{progressSteps:ke,currentProgressStep:Lt}=z;if(!ke||ke.length===0||Lt===void 0){Ze(ne);return}xt(ne),ne.textContent="",Lt>=ke.length&&he("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),ke.forEach((At,wr)=>{const fi=br(At);if(ne.appendChild(fi),wr===Lt&&jn(fi,H["active-progress-step"]),wr!==ke.length-1){const Mi=vn(z);ne.appendChild(Mi)}})},br=L=>{const z=document.createElement("li");return jn(z,H["progress-step"]),kt(z,L),z},vn=L=>{const z=document.createElement("li");return jn(z,H["progress-step-line"]),L.progressStepsDistance&&Qe(z,"width",L.progressStepsDistance),z},or=(L,z)=>{const ne=Ge();ne&&(Cn(ne,z.title||z.titleText,"block"),z.title&&Ht(z.title,ne),z.titleText&&(ne.innerText=z.titleText),Pn(ne,z,"title"))},ar=(L,z)=>{Ui(L,z),Fn(L,z),zr(L,z),Fr(L,z),sa(L,z),or(L,z),cn(L,z),Xn(L,z),rr(L,z),Rr(L,z);const ne=_t();typeof z.didRender=="function"&&ne&&z.didRender(ne)},di=()=>Vn(_t()),ii=()=>{var L;return(L=qn())===null||L===void 0?void 0:L.click()},gr=()=>{var L;return(L=Bt())===null||L===void 0?void 0:L.click()},Yi=()=>{var L;return(L=nn())===null||L===void 0?void 0:L.click()},ho=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),pa=L=>{L.keydownTarget&&L.keydownHandlerAdded&&(L.keydownTarget.removeEventListener("keydown",L.keydownHandler,{capture:L.keydownListenerCapture}),L.keydownHandlerAdded=!1)},Po=(L,z,ne,ke)=>{pa(z),ne.toast||(z.keydownHandler=Lt=>Uo(L,Lt,ke),z.keydownTarget=ne.keydownListenerCapture?window:_t(),z.keydownListenerCapture=ne.keydownListenerCapture,z.keydownTarget.addEventListener("keydown",z.keydownHandler,{capture:z.keydownListenerCapture}),z.keydownHandlerAdded=!0)},Hr=(L,z)=>{const ne=yn();if(ne.length){L=L+z,L===ne.length?L=0:L===-1&&(L=ne.length-1),ne[L].focus();return}_t().focus()},ol=["ArrowRight","ArrowDown"],ma=["ArrowLeft","ArrowUp"],Uo=(L,z,ne)=>{const ke=N.innerParams.get(L);ke&&(z.isComposing||z.keyCode===229||(ke.stopKeydownPropagation&&z.stopPropagation(),z.key==="Enter"?Rs(L,z,ke):z.key==="Tab"?ga(z):[...ol,...ma].includes(z.key)?al(z.key):z.key==="Escape"&&ps(z,ke,ne)))},Rs=(L,z,ne)=>{if(qe(ne.allowEnterKey)&&z.target&&L.getInput()&&z.target instanceof HTMLElement&&z.target.outerHTML===L.getInput().outerHTML){if(["textarea","file"].includes(ne.input))return;ii(),z.preventDefault()}},ga=L=>{const z=L.target,ne=yn();let ke=-1;for(let Lt=0;Lt<ne.length;Lt++)if(z===ne[Lt]){ke=Lt;break}L.shiftKey?Hr(ke,-1):Hr(ke,1),L.stopPropagation(),L.preventDefault()},al=L=>{const z=qn(),ne=Bt(),ke=nn(),Lt=[z,ne,ke];if(document.activeElement instanceof HTMLElement&&!Lt.includes(document.activeElement))return;const At=ol.includes(L)?"nextElementSibling":"previousElementSibling";let wr=document.activeElement;for(let fi=0;fi<Xt().children.length;fi++){if(wr=wr[At],!wr)return;if(wr instanceof HTMLButtonElement&&Vn(wr))break}wr instanceof HTMLButtonElement&&wr.focus()},ps=(L,z,ne)=>{qe(z.allowEscapeKey)&&(L.preventDefault(),ne(ho.esc))};var Vo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ms=()=>{Array.from(document.body.children).forEach(z=>{z===Tn()||z.contains(Tn())||(z.hasAttribute("aria-hidden")&&z.setAttribute("data-previous-aria-hidden",z.getAttribute("aria-hidden")||""),z.setAttribute("aria-hidden","true"))})},Ji=()=>{Array.from(document.body.children).forEach(z=>{z.hasAttribute("data-previous-aria-hidden")?(z.setAttribute("aria-hidden",z.getAttribute("data-previous-aria-hidden")||""),z.removeAttribute("data-previous-aria-hidden")):z.removeAttribute("aria-hidden")})},Qi=typeof window<"u"&&!!window.GestureEvent,_i=()=>{if(Qi&&!zt(document.body,H.iosfix)){const L=document.body.scrollTop;document.body.style.top="".concat(L*-1,"px"),jn(document.body,H.iosfix),Ul()}},Ul=()=>{const L=Tn();if(!L)return;let z;L.ontouchstart=ne=>{z=Ia(ne)},L.ontouchmove=ne=>{z&&(ne.preventDefault(),ne.stopPropagation())}},Ia=L=>{const z=L.target,ne=Tn(),ke=sn();return!ne||!ke||Io(L)||Go(L)?!1:z===ne||!dr(ne)&&z instanceof HTMLElement&&z.tagName!=="INPUT"&&z.tagName!=="TEXTAREA"&&!(dr(ke)&&ke.contains(z))},Io=L=>L.touches&&L.touches.length&&L.touches[0].touchType==="stylus",Go=L=>L.touches&&L.touches.length>1,ya=()=>{if(zt(document.body,H.iosfix)){const L=parseInt(document.body.style.top,10);nr(document.body,H.iosfix),document.body.style.top="",document.body.scrollTop=L*-1}},ko=()=>{const L=document.createElement("div");L.className=H["scrollbar-measure"],document.body.appendChild(L);const z=L.getBoundingClientRect().width-L.clientWidth;return document.body.removeChild(L),z};let Kr=null;const sl=L=>{Kr===null&&(document.body.scrollHeight>window.innerHeight||L==="scroll")&&(Kr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Kr+ko(),"px"))},Ds=()=>{Kr!==null&&(document.body.style.paddingRight="".concat(Kr,"px"),Kr=null)};function Va(L,z,ne,ke){Re()?Ha(L,ke):(O(ne).then(()=>Ha(L,ke)),pa(S)),Qi?(z.setAttribute("style","display:none !important"),z.removeAttribute("class"),z.innerHTML=""):z.remove(),xe()&&(Ds(),ya(),Ji()),Hi()}function Hi(){nr([document.documentElement,document.body],[H.shown,H["height-auto"],H["no-backdrop"],H["toast-shown"]])}function Xo(L){L=Ga(L);const z=Vo.swalPromiseResolve.get(this),ne=ll(this);this.isAwaitingPromise?L.isDismissed||(Mo(this),z(L)):ne&&z(L)}const ll=L=>{const z=_t();if(!z)return!1;const ne=N.innerParams.get(L);if(!ne||zt(z,ne.hideClass.popup))return!1;nr(z,ne.showClass.popup),jn(z,ne.hideClass.popup);const ke=Tn();return nr(ke,ne.showClass.backdrop),jn(ke,ne.hideClass.backdrop),gc(L,z,ne),!0};function Yo(L){const z=Vo.swalPromiseReject.get(this);Mo(this),z&&z(L)}const Mo=L=>{L.isAwaitingPromise&&(delete L.isAwaitingPromise,N.innerParams.get(L)||L._destroy())},Ga=L=>typeof L>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},L),gc=(L,z,ne)=>{const ke=Tn(),Lt=Hn&&yr(z);typeof ne.willClose=="function"&&ne.willClose(z),Lt?Vl(L,z,ke,ne.returnFocus,ne.didClose):Va(L,ke,ne.returnFocus,ne.didClose)},Vl=(L,z,ne,ke,Lt)=>{Hn&&(S.swalCloseEventFinishedCallback=Va.bind(null,L,ne,ke,Lt),z.addEventListener(Hn,function(At){At.target===z&&(S.swalCloseEventFinishedCallback(),delete S.swalCloseEventFinishedCallback)}))},Ha=(L,z)=>{setTimeout(()=>{typeof z=="function"&&z.bind(L.params)(),L._destroy&&L._destroy()})},Ii=L=>{let z=_t();if(z||new _a,z=_t(),!z)return;const ne=Xe();Re()?Ze(Ve()):Gl(z,L),xt(ne),z.setAttribute("data-loading","true"),z.setAttribute("aria-busy","true"),z.focus()},Gl=(L,z)=>{const ne=Xt(),ke=Xe();!ne||!ke||(!z&&Vn(qn())&&(z=qn()),xt(ne),z&&(Ze(z),ke.setAttribute("data-button-to-replace",z.className),ne.insertBefore(ke,z)),jn([L,ne],H.loading))},ka=(L,z)=>{z.input==="select"||z.input==="radio"?Wa(L,z):["text","email","number","tel","textarea"].some(ne=>ne===z.input)&&(Kt(z.inputValue)||Qt(z.inputValue))&&(Ii(qn()),Ls(L,z))},va=(L,z)=>{const ne=L.getInput();if(!ne)return null;switch(z.input){case"checkbox":return gs(ne);case"radio":return la(ne);case"file":return cl(ne);default:return z.inputAutoTrim?ne.value.trim():ne.value}},gs=L=>L.checked?1:0,la=L=>L.checked?L.value:null,cl=L=>L.files&&L.files.length?L.getAttribute("multiple")!==null?L.files:L.files[0]:null,Wa=(L,z)=>{const ne=_t();if(!ne)return;const ke=Lt=>{z.input==="select"?gu(ne,ys(Lt),z):z.input==="radio"&&Hl(ne,ys(Lt),z)};Kt(z.inputOptions)||Qt(z.inputOptions)?(Ii(qn()),Ut(z.inputOptions).then(Lt=>{L.hideLoading(),ke(Lt)})):typeof z.inputOptions=="object"?ke(z.inputOptions):Se("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof z.inputOptions))},Ls=(L,z)=>{const ne=L.getInput();ne&&(Ze(ne),Ut(z.inputValue).then(ke=>{ne.value=z.input==="number"?"".concat(parseFloat(ke)||0):"".concat(ke),xt(ne),ne.focus(),L.hideLoading()}).catch(ke=>{Se("Error in inputValue promise: ".concat(ke)),ne.value="",xt(ne),ne.focus(),L.hideLoading()}))};function gu(L,z,ne){const ke=wn(L,H.select);if(!ke)return;const Lt=(At,wr,fi)=>{const Mi=document.createElement("option");Mi.value=fi,kt(Mi,wr),Mi.selected=ul(fi,ne.inputValue),At.appendChild(Mi)};z.forEach(At=>{const wr=At[0],fi=At[1];if(Array.isArray(fi)){const Mi=document.createElement("optgroup");Mi.label=wr,Mi.disabled=!1,ke.appendChild(Mi),fi.forEach(Ka=>Lt(Mi,Ka[1],Ka[0]))}else Lt(ke,fi,wr)}),ke.focus()}function Hl(L,z,ne){const ke=wn(L,H.radio);if(!ke)return;z.forEach(At=>{const wr=At[0],fi=At[1],Mi=document.createElement("input"),Ka=document.createElement("label");Mi.type="radio",Mi.name=H.radio,Mi.value=wr,ul(wr,ne.inputValue)&&(Mi.checked=!0);const Di=document.createElement("span");kt(Di,fi),Di.className=H.label,Ka.appendChild(Mi),Ka.appendChild(Di),ke.appendChild(Ka)});const Lt=ke.querySelectorAll("input");Lt.length&&Lt[0].focus()}const ys=L=>{const z=[];return L instanceof Map?L.forEach((ne,ke)=>{let Lt=ne;typeof Lt=="object"&&(Lt=ys(Lt)),z.push([ke,Lt])}):Object.keys(L).forEach(ne=>{let ke=L[ne];typeof ke=="object"&&(ke=ys(ke)),z.push([ne,ke])}),z},ul=(L,z)=>!!z&&z.toString()===L.toString(),Ma=L=>{const z=N.innerParams.get(L);L.disableButtons(),z.input?Sn(L,"confirm"):mn(L,!0)},Wr=L=>{const z=N.innerParams.get(L);L.disableButtons(),z.returnInputValueOnDeny?Sn(L,"deny"):rt(L,!1)},od=(L,z)=>{L.disableButtons(),z(ho.cancel)},Sn=(L,z)=>{const ne=N.innerParams.get(L);if(!ne.input){Se('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ie(z)));return}const ke=L.getInput(),Lt=va(L,ne);ne.inputValidator?Be(L,Lt,z):ke&&!ke.checkValidity()?(L.enableButtons(),L.showValidationMessage(ne.validationMessage)):z==="deny"?rt(L,Lt):mn(L,Lt)},Be=(L,z,ne)=>{const ke=N.innerParams.get(L);L.disableInput(),Promise.resolve().then(()=>Ut(ke.inputValidator(z,ke.validationMessage))).then(At=>{L.enableButtons(),L.enableInput(),At?L.showValidationMessage(At):ne==="deny"?rt(L,z):mn(L,z)})},rt=(L,z)=>{const ne=N.innerParams.get(L||void 0);ne.showLoaderOnDeny&&Ii(Bt()),ne.preDeny?(L.isAwaitingPromise=!0,Promise.resolve().then(()=>Ut(ne.preDeny(z,ne.validationMessage))).then(Lt=>{Lt===!1?(L.hideLoading(),Mo(L)):L.close({isDenied:!0,value:typeof Lt>"u"?z:Lt})}).catch(Lt=>en(L||void 0,Lt))):L.close({isDenied:!0,value:z})},$t=(L,z)=>{L.close({isConfirmed:!0,value:z})},en=(L,z)=>{L.rejectPromise(z)},mn=(L,z)=>{const ne=N.innerParams.get(L||void 0);ne.showLoaderOnConfirm&&Ii(),ne.preConfirm?(L.resetValidationMessage(),L.isAwaitingPromise=!0,Promise.resolve().then(()=>Ut(ne.preConfirm(z,ne.validationMessage))).then(Lt=>{Vn(Yn())||Lt===!1?(L.hideLoading(),Mo(L)):$t(L,typeof Lt>"u"?z:Lt)}).catch(Lt=>en(L||void 0,Lt))):$t(L,z)};function gn(){const L=N.innerParams.get(this);if(!L)return;const z=N.domCache.get(this);Ze(z.loader),Re()?L.icon&&xt(Ve()):Dn(z),nr([z.popup,z.actions],H.loading),z.popup.removeAttribute("aria-busy"),z.popup.removeAttribute("data-loading"),z.confirmButton.disabled=!1,z.denyButton.disabled=!1,z.cancelButton.disabled=!1}const Dn=L=>{const z=L.popup.getElementsByClassName(L.loader.getAttribute("data-button-to-replace"));z.length?xt(z[0],"inline-block"):mr()&&Ze(L.actions)};function Gn(){const L=N.innerParams.get(this),z=N.domCache.get(this);return z?Rn(z.popup,L.input):null}function pr(L,z,ne){const ke=N.domCache.get(L);z.forEach(Lt=>{ke[Lt].disabled=ne})}function Dr(L,z){const ne=_t();if(!(!ne||!L))if(L.type==="radio"){const ke=ne.querySelectorAll('[name="'.concat(H.radio,'"]'));for(let Lt=0;Lt<ke.length;Lt++)ke[Lt].disabled=z}else L.disabled=z}function Qr(){pr(this,["confirmButton","denyButton","cancelButton"],!1)}function Gr(){pr(this,["confirmButton","denyButton","cancelButton"],!0)}function $r(){Dr(this.getInput(),!1)}function Bi(){Dr(this.getInput(),!0)}function po(L){const z=N.domCache.get(this),ne=N.innerParams.get(this);kt(z.validationMessage,L),z.validationMessage.className=H["validation-message"],ne.customClass&&ne.customClass.validationMessage&&jn(z.validationMessage,ne.customClass.validationMessage),xt(z.validationMessage);const ke=this.getInput();ke&&(ke.setAttribute("aria-invalid",!0),ke.setAttribute("aria-describedby",H["validation-message"]),kn(ke),jn(ke,H.inputerror))}function Za(){const L=N.domCache.get(this);L.validationMessage&&Ze(L.validationMessage);const z=this.getInput();z&&(z.removeAttribute("aria-invalid"),z.removeAttribute("aria-describedby"),nr(z,H.inputerror))}const Oo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},jr=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],dl={},Wl=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],vs=L=>Object.prototype.hasOwnProperty.call(Oo,L),ad=L=>jr.indexOf(L)!==-1,Fs=L=>dl[L],sd=L=>{vs(L)||he('Unknown parameter "'.concat(L,'"'))},Qf=L=>{Wl.includes(L)&&he('The parameter "'.concat(L,'" is incompatible with toasts'))},Oa=L=>{const z=Fs(L);z&&Le(L,z)},Gd=L=>{L.backdrop===!1&&L.allowOutsideClick&&he('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const z in L)sd(z),L.toast&&Qf(z),Oa(z)};function yc(L){const z=_t(),ne=N.innerParams.get(this);if(!z||zt(z,ne.hideClass.popup)){he("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const ke=yu(L),Lt=Object.assign({},ne,ke);ar(this,Lt),N.innerParams.set(this,Lt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,L),writable:!1,enumerable:!0}})}const yu=L=>{const z={};return Object.keys(L).forEach(ne=>{ad(ne)?z[ne]=L[ne]:he("Invalid parameter to update: ".concat(ne))}),z};function vu(){const L=N.domCache.get(this),z=N.innerParams.get(this);if(!z){xu(this);return}L.popup&&S.swalCloseEventFinishedCallback&&(S.swalCloseEventFinishedCallback(),delete S.swalCloseEventFinishedCallback),typeof z.didDestroy=="function"&&z.didDestroy(),_u(this)}const _u=L=>{xu(L),delete L.params,delete S.keydownHandler,delete S.keydownTarget,delete S.currentInstance},xu=L=>{L.isAwaitingPromise?(fl(N,L),L.isAwaitingPromise=!0):(fl(Vo,L),fl(N,L),delete L.isAwaitingPromise,delete L.disableButtons,delete L.enableButtons,delete L.getInput,delete L.disableInput,delete L.enableInput,delete L.hideLoading,delete L.disableLoading,delete L.showValidationMessage,delete L.resetValidationMessage,delete L.close,delete L.closePopup,delete L.closeModal,delete L.closeToast,delete L.rejectPromise,delete L.update,delete L._destroy)},fl=(L,z)=>{for(const ne in L)L[ne].delete(z)};var eh=Object.freeze({__proto__:null,_destroy:vu,close:Xo,closeModal:Xo,closePopup:Xo,closeToast:Xo,disableButtons:Gr,disableInput:Bi,disableLoading:gn,enableButtons:Qr,enableInput:$r,getInput:Gn,handleAwaitingPromise:Mo,hideLoading:gn,rejectPromise:Yo,resetValidationMessage:Za,showValidationMessage:po,update:yc});const vc=(L,z,ne)=>{N.innerParams.get(L).toast?hl(L,z,ne):(bu(z),Ra(z),_c(L,z,ne))},hl=(L,z,ne)=>{z.popup.onclick=()=>{const ke=N.innerParams.get(L);ke&&(ld(ke)||ke.timer||ke.input)||ne(ho.close)}},ld=L=>L.showConfirmButton||L.showDenyButton||L.showCancelButton||L.showCloseButton;let Ns=!1;const bu=L=>{L.popup.onmousedown=()=>{L.container.onmouseup=function(z){L.container.onmouseup=void 0,z.target===L.container&&(Ns=!0)}}},Ra=L=>{L.container.onmousedown=()=>{L.popup.onmouseup=function(z){L.popup.onmouseup=void 0,(z.target===L.popup||L.popup.contains(z.target))&&(Ns=!0)}}},_c=(L,z,ne)=>{z.container.onclick=ke=>{const Lt=N.innerParams.get(L);if(Ns){Ns=!1;return}ke.target===z.container&&qe(Lt.allowOutsideClick)&&ne(ho.backdrop)}},Zl=L=>typeof L=="object"&&L.jquery,ql=L=>L instanceof Element||Zl(L),wu=L=>{const z={};return typeof L[0]=="object"&&!ql(L[0])?Object.assign(z,L[0]):["title","html","icon"].forEach((ne,ke)=>{const Lt=L[ke];typeof Lt=="string"||ql(Lt)?z[ne]=Lt:Lt!==void 0&&Se("Unexpected type of ".concat(ne,'! Expected "string" or "Element", got ').concat(typeof Lt))}),z};function Jo(){const L=this;for(var z=arguments.length,ne=new Array(z),ke=0;ke<z;ke++)ne[ke]=arguments[ke];return new L(...ne)}function th(L){class z extends this{_main(ke,Lt){return super._main(ke,Object.assign({},L,Lt))}}return z}const cd=()=>S.timeout&&S.timeout.getTimerLeft(),Kl=()=>{if(S.timeout)return Ae(),S.timeout.stop()},pl=()=>{if(S.timeout){const L=S.timeout.start();return Nr(L),L}},Hd=()=>{const L=S.timeout;return L&&(L.running?Kl():pl())},ud=L=>{if(S.timeout){const z=S.timeout.increase(L);return Nr(z,!0),z}},nh=()=>!!(S.timeout&&S.timeout.isRunning());let Eu=!1;const Cu={};function xc(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Cu[L]=this,Eu||(document.body.addEventListener("click",dd),Eu=!0)}const dd=L=>{for(let z=L.target;z&&z!==document;z=z.parentNode)for(const ne in Cu){const ke=z.getAttribute(ne);if(ke){Cu[ne].fire({template:ke});return}}};var bc=Object.freeze({__proto__:null,argsToParams:wu,bindClickHandler:xc,clickCancel:Yi,clickConfirm:ii,clickDeny:gr,enableLoading:Ii,fire:Jo,getActions:Xt,getCancelButton:nn,getCloseButton:En,getConfirmButton:qn,getContainer:Tn,getDenyButton:Bt,getFocusableElements:yn,getFooter:It,getHtmlContainer:sn,getIcon:Ve,getIconContent:Rt,getImage:ln,getInputLabel:ot,getLoader:Xe,getPopup:_t,getProgressSteps:pn,getTimerLeft:cd,getTimerProgressBar:Mn,getTitle:Ge,getValidationMessage:Yn,increaseTimer:ud,isDeprecatedParameter:Fs,isLoading:lt,isTimerRunning:nh,isUpdatableParameter:ad,isValidParameter:vs,isVisible:di,mixin:th,resumeTimer:pl,showLoading:Ii,stopTimer:Kl,toggleTimer:Hd});class Su{constructor(z,ne){this.callback=z,this.remaining=ne,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(z){const ne=this.running;return ne&&this.stop(),this.remaining+=z,ne&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ml=["swal-title","swal-html","swal-footer"],rh=L=>{const z=typeof L.template=="string"?document.querySelector(L.template):L.template;if(!z)return{};const ne=z.content;return hd(ne),Object.assign(gl(ne),_s(ne),Wd(ne),ih(ne),fd(ne),wc(ne),yl(ne,ml))},gl=L=>{const z={};return Array.from(L.querySelectorAll("swal-param")).forEach(ke=>{Bs(ke,["name","value"]);const Lt=ke.getAttribute("name"),At=ke.getAttribute("value");typeof Oo[Lt]=="boolean"?z[Lt]=At!=="false":typeof Oo[Lt]=="object"?z[Lt]=JSON.parse(At):z[Lt]=At}),z},_s=L=>{const z={};return Array.from(L.querySelectorAll("swal-function-param")).forEach(ke=>{const Lt=ke.getAttribute("name"),At=ke.getAttribute("value");z[Lt]=new Function("return ".concat(At))()}),z},Wd=L=>{const z={};return Array.from(L.querySelectorAll("swal-button")).forEach(ke=>{Bs(ke,["type","color","aria-label"]);const Lt=ke.getAttribute("type");z["".concat(Lt,"ButtonText")]=ke.innerHTML,z["show".concat(ie(Lt),"Button")]=!0,ke.hasAttribute("color")&&(z["".concat(Lt,"ButtonColor")]=ke.getAttribute("color")),ke.hasAttribute("aria-label")&&(z["".concat(Lt,"ButtonAriaLabel")]=ke.getAttribute("aria-label"))}),z},ih=L=>{const z={},ne=L.querySelector("swal-image");return ne&&(Bs(ne,["src","width","height","alt"]),ne.hasAttribute("src")&&(z.imageUrl=ne.getAttribute("src")),ne.hasAttribute("width")&&(z.imageWidth=ne.getAttribute("width")),ne.hasAttribute("height")&&(z.imageHeight=ne.getAttribute("height")),ne.hasAttribute("alt")&&(z.imageAlt=ne.getAttribute("alt"))),z},fd=L=>{const z={},ne=L.querySelector("swal-icon");return ne&&(Bs(ne,["type","color"]),ne.hasAttribute("type")&&(z.icon=ne.getAttribute("type")),ne.hasAttribute("color")&&(z.iconColor=ne.getAttribute("color")),z.iconHtml=ne.innerHTML),z},wc=L=>{const z={},ne=L.querySelector("swal-input");ne&&(Bs(ne,["type","label","placeholder","value"]),z.input=ne.getAttribute("type")||"text",ne.hasAttribute("label")&&(z.inputLabel=ne.getAttribute("label")),ne.hasAttribute("placeholder")&&(z.inputPlaceholder=ne.getAttribute("placeholder")),ne.hasAttribute("value")&&(z.inputValue=ne.getAttribute("value")));const ke=Array.from(L.querySelectorAll("swal-input-option"));return ke.length&&(z.inputOptions={},ke.forEach(Lt=>{Bs(Lt,["value"]);const At=Lt.getAttribute("value"),wr=Lt.innerHTML;z.inputOptions[At]=wr})),z},yl=(L,z)=>{const ne={};for(const ke in z){const Lt=z[ke],At=L.querySelector(Lt);At&&(Bs(At,[]),ne[Lt.replace(/^swal-/,"")]=At.innerHTML.trim())}return ne},hd=L=>{const z=ml.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(L.children).forEach(ne=>{const ke=ne.tagName.toLowerCase();z.includes(ke)||he("Unrecognized element <".concat(ke,">"))})},Bs=(L,z)=>{Array.from(L.attributes).forEach(ne=>{z.indexOf(ne.name)===-1&&he(['Unrecognized attribute "'.concat(ne.name,'" on <').concat(L.tagName.toLowerCase(),">."),"".concat(z.length?"Allowed attributes are: ".concat(z.join(", ")):"To set the value, use HTML within the element.")])})},qa=10,Tu=L=>{const z=Tn(),ne=_t();typeof L.willOpen=="function"&&L.willOpen(ne);const Lt=window.getComputedStyle(document.body).overflowY;vl(z,ne,L),setTimeout(()=>{Xl(z,ne)},qa),xe()&&(Zd(z,L.scrollbarPadding,Lt),ms()),!Re()&&!S.previousActiveElement&&(S.previousActiveElement=document.activeElement),typeof L.didOpen=="function"&&setTimeout(()=>L.didOpen(ne)),nr(z,H["no-transition"])},Qo=L=>{const z=_t();if(L.target!==z||!Hn)return;const ne=Tn();z.removeEventListener(Hn,Qo),ne.style.overflowY="auto"},Xl=(L,z)=>{Hn&&yr(z)?(L.style.overflowY="hidden",z.addEventListener(Hn,Qo)):L.style.overflowY="auto"},Zd=(L,z,ne)=>{_i(),z&&ne!=="hidden"&&sl(ne),setTimeout(()=>{L.scrollTop=0})},vl=(L,z,ne)=>{jn(L,ne.showClass.backdrop),z.style.setProperty("opacity","0","important"),xt(z,"grid"),setTimeout(()=>{jn(z,ne.showClass.popup),z.style.removeProperty("opacity")},qa),jn([document.documentElement,document.body],H.shown),ne.heightAuto&&ne.backdrop&&!ne.toast&&jn([document.documentElement,document.body],H["height-auto"])};var _l={email:(L,z)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(L)?Promise.resolve():Promise.resolve(z||"Invalid email address"),url:(L,z)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(L)?Promise.resolve():Promise.resolve(z||"Invalid URL")};function Au(L){L.inputValidator||(L.input==="email"&&(L.inputValidator=_l.email),L.input==="url"&&(L.inputValidator=_l.url))}function Pu(L){(!L.target||typeof L.target=="string"&&!document.querySelector(L.target)||typeof L.target!="string"&&!L.target.appendChild)&&(he('Target parameter is not valid, defaulting to "body"'),L.target="body")}function Pr(L){Au(L),L.showLoaderOnConfirm&&!L.preConfirm&&he(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Pu(L),typeof L.title=="string"&&(L.title=L.title.split(`
`).join("<br />")),ct(L)}let Ho;var Ec=new WeakMap;class ki{constructor(){if(v(this,Ec,{writable:!0,value:void 0}),typeof window>"u")return;Ho=this;for(var z=arguments.length,ne=new Array(z),ke=0;ke<z;ke++)ne[ke]=arguments[ke];const Lt=Object.freeze(this.constructor.argsToParams(ne));this.params=Lt,this.isAwaitingPromise=!1,r(this,Ec,this._main(Ho.params))}_main(z){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Gd(Object.assign({},ne,z)),S.currentInstance&&(S.currentInstance._destroy(),xe()&&Ji()),S.currentInstance=Ho;const ke=qd(z,ne);Pr(ke),Object.freeze(ke),S.timeout&&(S.timeout.stop(),delete S.timeout),clearTimeout(S.restoreFocusTimeout);const Lt=Iu(Ho);return ar(Ho,ke),N.innerParams.set(Ho,ke),Yl(Ho,Lt,ke)}then(z){return n(this,Ec).then(z)}finally(z){return n(this,Ec).finally(z)}}const Yl=(L,z,ne)=>new Promise((ke,Lt)=>{const At=wr=>{L.close({isDismissed:!0,dismiss:wr})};Vo.swalPromiseResolve.set(L,ke),Vo.swalPromiseReject.set(L,Lt),z.confirmButton.onclick=()=>{Ma(L)},z.denyButton.onclick=()=>{Wr(L)},z.cancelButton.onclick=()=>{od(L,At)},z.closeButton.onclick=()=>{At(ho.close)},vc(L,z,At),Po(L,S,ne,At),ka(L,ne),Tu(ne),xs(S,ne,At),Kd(z,ne),setTimeout(()=>{z.container.scrollTop=0})}),qd=(L,z)=>{const ne=rh(L),ke=Object.assign({},Oo,z,ne,L);return ke.showClass=Object.assign({},Oo.showClass,ke.showClass),ke.hideClass=Object.assign({},Oo.hideClass,ke.hideClass),ke},Iu=L=>{const z={popup:_t(),container:Tn(),actions:Xt(),confirmButton:qn(),denyButton:Bt(),cancelButton:nn(),loader:Xe(),closeButton:En(),validationMessage:Yn(),progressSteps:pn()};return N.domCache.set(L,z),z},xs=(L,z,ne)=>{const ke=Mn();Ze(ke),z.timer&&(L.timeout=new Su(()=>{ne("timer"),delete L.timeout},z.timer),z.timerProgressBar&&(xt(ke),Pn(ke,z,"timerProgressBar"),setTimeout(()=>{L.timeout&&L.timeout.running&&Nr(z.timer)})))},Kd=(L,z)=>{if(!z.toast){if(!qe(z.allowEnterKey)){zs();return}ku(L,z)||Hr(-1,1)}},ku=(L,z)=>z.focusDeny&&Vn(L.denyButton)?(L.denyButton.focus(),!0):z.focusCancel&&Vn(L.cancelButton)?(L.cancelButton.focus(),!0):z.focusConfirm&&Vn(L.confirmButton)?(L.confirmButton.focus(),!0):!1,zs=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const L=new Date,z=localStorage.getItem("swal-initiation");z?(L.getTime()-Date.parse(z))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const ne=document.createElement("audio");ne.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",ne.loop=!0,document.body.appendChild(ne),setTimeout(()=>{ne.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(L))}ki.prototype.disableButtons=Gr,ki.prototype.enableButtons=Qr,ki.prototype.getInput=Gn,ki.prototype.disableInput=Bi,ki.prototype.enableInput=$r,ki.prototype.hideLoading=gn,ki.prototype.disableLoading=gn,ki.prototype.showValidationMessage=po,ki.prototype.resetValidationMessage=Za,ki.prototype.close=Xo,ki.prototype.closePopup=Xo,ki.prototype.closeModal=Xo,ki.prototype.closeToast=Xo,ki.prototype.rejectPromise=Yo,ki.prototype.update=yc,ki.prototype._destroy=vu,Object.assign(ki,bc),Object.keys(eh).forEach(L=>{ki[L]=function(){return Ho&&Ho[L]?Ho[L](...arguments):null}}),ki.DismissReason=ho,ki.version="11.7.27";const _a=ki;return _a.default=_a,_a}),typeof wa<"u"&&wa.Sweetalert2&&(wa.swal=wa.sweetAlert=wa.Swal=wa.SweetAlert=wa.Sweetalert2),typeof document<"u"&&function(n,r){var c=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=r);else try{c.innerHTML=r}catch{c.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(f6);var kH=f6.exports;const Ar=Qh(kH),Co=(e="")=>{Ar.fire({icon:"error",title:`${e}`})},Sa=(e="")=>{Ar.fire({title:`${e}`,timerProgressBar:!0,showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{Ar.showLoading()}})},Rl=(e="")=>{Ar.fire({position:"top-end",icon:"success",title:`${e}`,showConfirmButton:!1,timer:1500})},MH=[{id:1,name:"Denuncia",ruta:"complaint",back:"#fbed41",color:"#262626"},{id:2,name:"Puntos Crticos",ruta:"critics",back:"#ff1936",color:"#f5f5f5"},{id:3,name:"Noticias informativas",ruta:"infos",back:"#00c134",color:"#fafafa"},{id:4,name:"Emergencia",ruta:"emergency",back:"#ff1936",color:"#f5f5f5"}],{URL:OH}=d6(),Gi=IH.create({baseURL:OH});Gi.interceptors.request.use(e=>(e.headers={...e.headers,"x-token":localStorage.getItem("token")},e));const kA=()=>{const{authState:e,viewInfo:t}=hu(h=>h.ui),n=nd(),r=Aa();return{authState:e,startSate:(h="no-roguin-to-toroku/roguin/citizen")=>{n(Nj(h)),r("/login")},startViewInfo:h=>{n(Bj(h))},viewInfo:t}},pu=()=>{const{status:e,user:t,errorMessage:n,loadindAuth:r}=hu(S=>S.auth),c=nd(),{authState:u}=kA();return{errorMessage:n,status:e,user:t,authState:u,loadindAuth:r,checkAuthToken:async()=>{const S=localStorage.getItem("token");if(!S)return c(Wg());try{const{data:k}=await Gi.post(`/no-roguin-to-toroku/renew?token=${S}`);localStorage.setItem("token",k.token),localStorage.setItem("token-init-date",new Date().getTime()),c(bM({...t,name:k.name,uid:k.uid,rol:k.role,logged:!0}))}catch{localStorage.clear(),c(Wg())}},startLogin:async({email:S,password:k})=>{c(A0(!0));try{const{data:O}=await Gi.post(`/no-roguin-to-toroku/roguin/${u}`,{email:S,password:k});localStorage.setItem("token",O.token),localStorage.setItem("token-init-date",new Date().getTime()),c(bM({name:O.name,uid:O.uid,celular:O.celular,rol:O.rol,logged:!0}))}catch{c(Wg("Credenciales incorrectas")),setTimeout(()=>{c(wM()),c(A0(!1)),Co("Credenciales incorrectas")},10)}},startLogout:()=>{localStorage.clear(),c(vj()),c(Pj()),c(wj()),c(hj()),c(cj()),c(Fj()),c(Mj()),setTimeout(()=>{c(Wg())},10)},startSignup:async S=>{try{return c(A0(!0)),await Gi.post("/no-roguin-to-toroku/atarashi/citizen",S),c(Wg()),!0}catch(k){if(k.response.data){const{er:O,erros:N}=k.response.data;if(O){const{dni:G}=N;if(G){const{msg:U}=G;console.log(U)}}else{const{cel:G,dn:U,email:H,msg:q}=N;Co(`Error al registra: ${H!=""?H:""} ${G!=""?G:""} ${q!=""?q:""} ${U!=""?U:""}`)}}setTimeout(()=>{c(A0(!1)),c(wM())},10)}}}},ip=(e={})=>{const[t,n]=A.useState(e);return{...t,formStata:t,setFormState:n,onInputChange:({target:h})=>{const{name:o,value:v}=h;n({...t,[o]:v})},onResetForm:()=>{n(e)},onInputCoords:({lng:h,lat:o})=>{n({...t,longitud:`${h}`,latitud:`${o}`})}}},h6=()=>{const e=nd(),t=Aa(),{users:n,isLoadingUsers:r,userActive:c}=hu(O=>O.ausers),{alerts:u}=hu(O=>O.usalert);return{users:n,isLoadingUsers:r,userActive:c,alerts:u,startLoadingCitizen:async()=>{try{e(xw(!0));const{data:O}=await Gi.get("/kanrisha/risuto/citizen");e(sj(O.list)),setTimeout(()=>{e(xw(!1))},10)}catch{e(xw(!1))}},startDeleteUser:async(O=c.id)=>{try{Sa("Eliminando..."),await Gi.delete(`/kanrisha/risuto/citizen/${O}`),e(lj(O)),Ar.close(),Rl("Usuario eliminado"),t("/users")}catch{Ar.close(),Co("Error al eliminar")}},startActiveUser:O=>{e(Lj()),e(uj({...O,state:!0}))},startCancel:()=>{t("/users")},startLoadingCitizenAlerts:async()=>{try{Sa("Cargando historial...");const{data:O}=await Gi.get(`/kanrisha/risuto/alerts/${c.id}`);e(V1(O.list)),Ar.close()}catch{Ar.close(),Co("Error al registrar")}},startDeleteUserAlert:async(O=0)=>{try{Sa("Eliminando..."),await Gi.delete(`/kanrisha/risuto/alerts/user/${O}`),e(Y5(O)),Ar.close()}catch{Ar.close(),Co("Error al eliminar")}}}},MA=()=>{const e=nd(),t=Aa(),{serenes:n,isLoadingSerenes:r,sereneActive:c}=hu(S=>S.auserenes);return{serenes:n,sereneActive:c,isLoadingSerenes:r,starNewSerene:async S=>{try{Sa("Registrando..."),await Gi.post("/kanrisha/risuto/serene",S),Rl("Resgistrado"),Ar.close(),t("/serene")}catch(k){if(k.response){const{data:O}=k.response;if(O.erros){const{cel:N,email:G,msg:U}=O.erros;Co(`Error al registra: ${G!=""?G:""} 
                        ${N!=""?N:""}
                        ${U!=""?U:""}`)}else Ar.close(),Co("Error al registrar")}else Ar.close(),Co("Error al registrar")}},startLoadingSerene:async()=>{try{e(bw(!0));const{data:S}=await Gi.get("/kanrisha/risuto/serene");e(fj(S.list)),setTimeout(()=>{e(bw(!1))},10)}catch{e(bw(!1))}},startActiveSerene:S=>{e(pj({...S,state:!0}))},startCancel:S=>{t("/serene")},startDeleteSerene:async(S=c.id)=>{try{Sa("Eliminando..."),await Gi.delete(`/kanrisha/risuto/serene/${S}`),e(dj(S)),Ar.close(),Rl("Usuario eliminado"),t("/serene")}catch{Ar.close(),Co("Error al eliminar")}}}},tx=()=>{const e=nd(),t=Aa(),{gencys:n,isLoadingGency:r,gencyActive:c}=hu(S=>S.augency);return{gencys:n,gencyActive:c,isLoadingGency:r,starNewGency:async S=>{try{Sa("Registrando...");const{data:k}=await Gi.post("/otoko",S);e(mj({id:k.uid,tipo:k.tipo,numero:S.numero})),Rl("Resgistrado"),Ar.close(),t("/emergency")}catch(k){if(k.response){const{data:O}=k.response;if(O.erros){const{tip:N,cel:G,msg:U}=O.erros;Co(`Error al registra: ${N!=""?N:""} 
                        ${G!=""?G:""}
                        ${U!=""?U:""}`)}else Ar.close(),Co("Error al registrar")}else Ar.close(),Co("Error al registrar")}},startLoadingGency:async()=>{try{e(ww(!0));const{data:S}=await Gi.get("/otoko");e(yj(S.list)),setTimeout(()=>{e(ww(!1))},10)}catch{e(ww(!1))}},startActiveGency:S=>{e(_j({...S,state:!0}))},startCancel:S=>{t("/emergency")},startDeleteGency:async(S=c.id)=>{try{Sa("Eliminando..."),await Gi.delete(`/otoko/${S}`),e(gj(S)),Ar.close(),Rl("Eliminado"),t("/emergency")}catch{Ar.close(),Co("Error al eliminar")}}}},fv=()=>{const e=nd(),t=Aa(),{places:n,isLoadingPlaces:r,placeActive:c}=hu(k=>k.auplace);return{places:n,placeActive:c,isLoadingPlaces:r,starNewPlace:async k=>{try{Sa("Registrando..."),await Gi.post("/basho",k),Rl("Resgistrado"),Ar.close(),t("/place")}catch{Ar.close(),Co("Error al registrar")}},startLoadingPlace:async()=>{try{e(Ew(!0));const{data:k}=await Gi.get("/basho");e(bj(k.list)),setTimeout(()=>{e(Ew(!1))},10)}catch{e(Ew(!1))}},startActivePlace:k=>{e(Ej({...k,state:!0}))},startCancel:k=>{t("/place")},startDeletePlace:async(k=gencyActive.id)=>{try{Sa("Eliminando..."),await Gi.delete(`/basho/${k}`),e(xj(k)),Ar.close(),Rl("Eliminado"),t("/place")}catch{Ar.close(),Co("Error al eliminar")}},starUpdatePlace:async k=>{try{Sa("Actualizando..."),await Gi.put(`/basho/${k.id}`,k),e(Cj(k)),Rl("Resgistrado"),Ar.close(),t("/place")}catch{Ar.close(),Co("Error al registrar")}}}},nx=()=>{const e=nd(),t=Aa(),{infos:n,isLoadingInfo:r,infoActive:c}=hu(O=>O.auinfo),{viewInfo:u}=hu(O=>O.ui);return{infos:n,isLoadingInfo:r,infoActive:c,viewInfo:u,starNewInfo:async O=>{try{Sa("Registrando...");const{data:N}=await Gi.post("/joho",O);e(Sj({id:N.uid,...O})),Rl("Resgistrado"),Ar.close(),t("/info")}catch{Ar.close(),Co("Error al registrar")}},startLoadingInfo:async()=>{try{e(Cw(!0));const{data:O}=await Gi.get("/joho");console.log(O),e(Aj(O.list)),setTimeout(()=>{e(Cw(!1))},10)}catch{e(Cw(!1))}},startActiveInfo:O=>{e(Ij({...O,state:!0}))},startCancel:O=>{t("/info")},startDeleteInfo:async(O=gencyActive.id)=>{try{Sa("Eliminando..."),await Gi.delete(`/joho/${O}`),e(Tj(O)),Ar.close(),Rl("Eliminado"),t("/info")}catch{Ar.close(),Co("Error al eliminar")}},starUpdateInfo:async O=>{try{Sa("Actualizando..."),await Gi.put(`/joho/${O.id}`,O),e(kj(O)),Rl("Resgistrado"),Ar.close(),t("/info")}catch{Ar.close(),Co("Error al registrar")}}}},p6=()=>{const e=nd(),{alertActive:t,isLoadingAlert:n,alerts:r}=hu(v=>v.usalert);return{isLoadingAlert:n,...t,alerts:r,starNewAlert:async(v,E)=>{try{Sa("Registrando...");const{data:S}=await Gi.post("/shimin/suru-tame",v);e(Sw({id:S.uid,...v,est:!0,estado:"enviado"})),Rl("Resgistrado"),E.emit("denuncia",{id:S.uid}),Ar.close()}catch{Ar.close(),Co("Error al registrar")}},startClear:()=>{e(Sw({id:"",fehca:"",estado:"",longitud:"",latitud:"",est:!1}))},starLoadAlertSend:async()=>{try{Sa("Cargando...");const{data:v}=await Gi.get("/shimin/risuto-suru");e(V1(v.list)),Ar.close()}catch{Ar.close(),Co("Error al registrar")}},starNewAlertSoket:v=>{try{e(fA({...v,est:!0,estado:"enviado"})),e(Sw({...v,est:!0,estado:"enviado"})),Rl("Resgistrado"),Ar.close()}catch{Ar.close(),Co("Error al registrar")}}}};var m6={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(wa,function(){var n,r,c;function u(o,v){if(!n)n=v;else if(!r)r=v;else{var E="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",S={};n(S),c=v(S),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(c.workerUrl=window.URL.createObjectURL(new Blob([E],{type:"text/javascript"})))}}u(["exports"],function(o){var v=typeof self<"u"?self:{},E="2.15.0";let S;const k={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(S==null){const a=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{S={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):a}catch{S=a}}return S},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!k.API_URL)return null;try{const a=new URL(k.API_URL);return a.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":a.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},O={supported:!1,testSupport:function(a){!U&&G&&(H?q(a):N=a)}};let N,G,U=!1,H=!1;function q(a){const i=a.createTexture();a.bindTexture(a.TEXTURE_2D,i);try{if(a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,G),a.isContextLost())return;O.supported=!0}catch{}a.deleteTexture(i),U=!0}v.document&&(G=v.document.createElement("img"),G.onload=function(){N&&q(N),N=null,H=!0},G.onerror=function(){U=!0,N=null},G.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const W="01";function Y(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ie=he;function he(a,i,s,d){this.cx=3*a,this.bx=3*(s-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(d-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=i,this.p2x=s,this.p2y=d}he.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,i){if(i===void 0&&(i=1e-6),a<0)return 0;if(a>1)return 1;for(var s=a,d=0;d<8;d++){var p=this.sampleCurveX(s)-a;if(Math.abs(p)<i)return s;var g=this.sampleCurveDerivativeX(s);if(Math.abs(g)<1e-6)break;s-=p/g}var _=0,b=1;for(s=a,d=0;d<20&&(p=this.sampleCurveX(s),!(Math.abs(p-a)<i));d++)a>p?_=s:b=s,s=.5*(b-_)+_;return s},solve:function(a,i){return this.sampleCurveY(this.solveCurveX(a,i))}};var Se=Y(ie),Pe=We;function We(a,i){this.x=a,this.y=i}We.prototype={clone:function(){return new We(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,i){return this.clone()._rotateAround(a,i)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var i=a.x-this.x,s=a.y-this.y;return i*i+s*s},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,i){return Math.atan2(this.x*i-this.y*a,this.x*a+this.y*i)},_matMult:function(a){var i=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=i,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var i=Math.cos(a),s=Math.sin(a),d=s*this.x+i*this.y;return this.x=i*this.x-s*this.y,this.y=d,this},_rotateAround:function(a,i){var s=Math.cos(a),d=Math.sin(a),p=i.y+d*(this.x-i.x)+s*(this.y-i.y);return this.x=i.x+s*(this.x-i.x)-d*(this.y-i.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},We.convert=function(a){return a instanceof We?a:Array.isArray(a)?new We(a[0],a[1]):a};var Le=Y(Pe);const qe=Math.PI/180,Kt=180/Math.PI;function Ut(a){return a*qe}function Qt(a){return a*Kt}const Tn=[[0,0],[1,0],[1,1],[0,1]];function An(a){if(a<=0)return 0;if(a>=1)return 1;const i=a*a,s=i*a;return 4*(a<.5?s:3*(a-i)+s-.75)}function Vt(a,i,s,d){const p=new Se(a,i,s,d);return function(g){return p.solve(g)}}const _t=Vt(.25,.1,.25,1);function Ve(a,i,s){return Math.min(s,Math.max(i,a))}function Rt(a,i,s){return(s=Ve((s-a)/(i-a),0,1))*s*(3-2*s)}function Ge(a,i,s){const d=s-i,p=((a-i)%d+d)%d+i;return p===i?s:p}function sn(a,i,s){if(!a.length)return s(null,[]);let d=a.length;const p=new Array(a.length);let g=null;a.forEach((_,b)=>{i(_,(C,T)=>{C&&(g=C),p[b]=T,--d==0&&s(g,p)})})}function ln(a){const i=[];for(const s in a)i.push(a[s]);return i}function pn(a,...i){for(const s of i)for(const d in s)a[d]=s[d];return a}let Yn=1;function qn(){return Yn++}function nn(){return function a(i){return i?(i^Math.random()*(16>>i/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,a)}()}function Bt(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function ot(a){return!!a&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(a)}function Xe(a,i){a.forEach(s=>{i[s]&&(i[s]=i[s].bind(i))})}function Xt(a,i){return a.indexOf(i,a.length-i.length)!==-1}function It(a,i,s){const d={};for(const p in a)d[p]=i.call(s||this,a[p],p,a);return d}function Mn(a,i,s){const d={};for(const p in a)i.call(s||this,a[p],p,a)&&(d[p]=a[p]);return d}function En(a){return Array.isArray(a)?a.map(En):typeof a=="object"&&a?It(a,En):a}const er={};function yn(a){er[a]||(typeof console<"u"&&console.warn(a),er[a]=!0)}function xe(a,i,s){return(s.y-a.y)*(i.x-a.x)>(i.y-a.y)*(s.x-a.x)}function Re(a){let i=0;for(let s,d,p=0,g=a.length,_=g-1;p<g;_=p++)s=a[p],d=a[_],i+=(d.x-s.x)*(s.y+d.y);return i}function lt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function kt(a){const i={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(s,d,p,g)=>{const _=p||g;return i[d]=!_||_.toLowerCase(),""}),i["max-age"]){const s=parseInt(i["max-age"],10);isNaN(s)?delete i["max-age"]:i["max-age"]=s}return i}let zt=null;function Wt(a){if(zt==null){const i=a.navigator?a.navigator.userAgent:null;zt=!!a.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return zt}function Pn(a){try{const i=v[a];return i.setItem("_mapbox_test_",1),i.removeItem("_mapbox_test_"),!0}catch{return!1}}function Rn(a,i){return[a[4*i],a[4*i+1],a[4*i+2],a[4*i+3]]}const kn="mapbox-tiles";let xn=500,jn=50,nr,wn;function Qe(){try{return v.caches}catch{}}function xt(){Qe()&&!nr&&(nr=v.caches.open(kn))}function Ze(a){const i=a.indexOf("?");if(i<0)return a;const s=function(p){const g=p.indexOf("?");return g>0?p.slice(g+1).split("&"):[]}(a),d=s.filter(p=>{const g=p.split("=");return g[0]==="language"||g[0]==="worldview"});return d.length?`${a.slice(0,i)}?${d.join("&")}`:a.slice(0,i)}let Gt=1/0;const Cn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Cn);class Vn extends Error{constructor(i,s,d){s===401&&et(d)&&(i+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(i),this.status=s,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const mr=lt()?()=>self.worker&&self.worker.referrer:()=>(v.location.protocol==="blob:"?v.parent:v).location.href,dr=function(a,i){if(!(/^file:/.test(s=a.url)||/^file:/.test(mr())&&!/^\w+:/.test(s))){if(v.fetch&&v.Request&&v.AbortController&&v.Request.prototype.hasOwnProperty("signal"))return function(d,p){const g=new v.AbortController,_=new v.Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:mr(),referrerPolicy:d.referrerPolicy,signal:g.signal});let b=!1,C=!1;const T=(R=_.url).indexOf("sku=")>0&&et(R);var R;d.type==="json"&&_.headers.set("Accept","application/json");const F=(Z,X,ee)=>{if(C)return;if(Z&&Z.message!=="SecurityError"&&yn(Z.toString()),X&&ee)return V(X);const fe=Date.now();v.fetch(_).then(be=>{if(be.ok){const Oe=T?be.clone():null;return V(be,Oe,fe)}return p(new Vn(be.statusText,be.status,d.url))}).catch(be=>{be.name!=="AbortError"&&p(new Error(`${be.message} ${d.url}`))})},V=(Z,X,ee)=>{(d.type==="arrayBuffer"?Z.arrayBuffer():d.type==="json"?Z.json():Z.text()).then(fe=>{C||(X&&ee&&function(be,Oe,Ee){if(xt(),!nr)return;const Me={status:Oe.status,statusText:Oe.statusText,headers:new v.Headers};Oe.headers.forEach((yt,pt)=>Me.headers.set(pt,yt));const je=kt(Oe.headers.get("Cache-Control")||"");if(je["no-store"])return;je["max-age"]&&Me.headers.set("Expires",new Date(Ee+1e3*je["max-age"]).toUTCString());const ze=Me.headers.get("Expires");ze&&(new Date(ze).getTime()-Ee<42e4||function(yt,pt){if(wn===void 0)try{new Response(new ReadableStream),wn=!0}catch{wn=!1}wn?pt(yt.body):yt.blob().then(pt)}(Oe,yt=>{const pt=new v.Response(yt,Me);xt(),nr&&nr.then(Mt=>Mt.put(Ze(be.url),pt)).catch(Mt=>yn(Mt.message))}))}(_,X,ee),b=!0,p(null,fe,Z.headers.get("Cache-Control"),Z.headers.get("Expires")))}).catch(fe=>{C||p(new Error(fe.message))})};return T?function(Z,X){if(xt(),!nr)return X(null);const ee=Ze(Z.url);nr.then(fe=>{fe.match(ee).then(be=>{const Oe=function(Ee){if(!Ee)return!1;const Me=new Date(Ee.headers.get("Expires")||0),je=kt(Ee.headers.get("Cache-Control")||"");return Me>Date.now()&&!je["no-cache"]}(be);fe.delete(ee),Oe&&fe.put(ee,be.clone()),X(null,be,Oe)}).catch(X)}).catch(X)}(_,F):F(null,null),{cancel:()=>{C=!0,b||g.abort()}}}(a,i);if(lt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",a,i,void 0,!0)}var s;return function(d,p){const g=new v.XMLHttpRequest;g.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(g.responseType="arraybuffer");for(const _ in d.headers)g.setRequestHeader(_,d.headers[_]);return d.type==="json"&&(g.responseType="text",g.setRequestHeader("Accept","application/json")),g.withCredentials=d.credentials==="include",g.onerror=()=>{p(new Error(g.statusText))},g.onload=()=>{if((g.status>=200&&g.status<300||g.status===0)&&g.response!==null){let _=g.response;if(d.type==="json")try{_=JSON.parse(g.response)}catch(b){return p(b)}p(null,_,g.getResponseHeader("Cache-Control"),g.getResponseHeader("Expires"))}else p(new Vn(g.statusText,g.status,d.url))},g.send(d.body),{cancel:()=>g.abort()}}(a,i)},yr=function(a,i){return dr(pn(a,{type:"arrayBuffer"}),i)};function Nr(a){const i=v.document.createElement("a");return i.href=a,i.protocol===v.document.location.protocol&&i.host===v.document.location.host}const Ae="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let te,oe;te=[],oe=0;const Ce=function(a,i){if(O.supported&&(a.headers||(a.headers={}),a.headers.accept="image/webp,*/*"),oe>=k.MAX_PARALLEL_IMAGE_REQUESTS){const g={requestParameters:a,callback:i,cancelled:!1,cancel(){this.cancelled=!0}};return te.push(g),g}oe++;let s=!1;const d=()=>{if(!s)for(s=!0,oe--;te.length&&oe<k.MAX_PARALLEL_IMAGE_REQUESTS;){const g=te.shift(),{requestParameters:_,callback:b,cancelled:C}=g;C||(g.cancel=Ce(_,b).cancel)}},p=yr(a,(g,_,b,C)=>{d(),g?i(g):_&&(v.createImageBitmap?function(T,R){const F=new v.Blob([new Uint8Array(T)],{type:"image/png"});v.createImageBitmap(F).then(V=>{R(null,V)}).catch(V=>{R(new Error(`Could not load image because of ${V.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(_,(T,R)=>i(T,R,b,C)):function(T,R){const F=new v.Image,V=v.URL;F.onload=()=>{R(null,F),V.revokeObjectURL(F.src),F.onload=null,v.requestAnimationFrame(()=>{F.src=Ae})},F.onerror=()=>R(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Z=new v.Blob([new Uint8Array(T)],{type:"image/png"});F.src=T.byteLength?V.createObjectURL(Z):Ae}(_,(T,R)=>i(T,R,b,C)))});return{cancel:()=>{p.cancel(),d()}}},Ie="NO_ACCESS_TOKEN";function Ue(a){return a.indexOf("mapbox:")===0}function et(a){return k.API_URL_REGEX.test(a)}function Ye(a){return k.API_CDN_URL_REGEX.test(a)}function Fe(a){return k.API_STYLE_REGEX.test(a)&&!ct(a)}function ct(a){return k.API_SPRITE_REGEX.test(a)}const Ht=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Jt(a){const i=a.match(Ht);if(!i)throw new Error("Unable to parse URL object");return{protocol:i[1],authority:i[2],path:i[3]||"/",params:i[4]?i[4].split("&"):[]}}function Et(a){const i=a.params.length?`?${a.params.join("&")}`:"";return`${a.protocol}://${a.authority}${a.path}${i}`}const Hn="mapbox.eventData";function rr(a){if(!a)return null;const i=a.split(".");if(!i||i.length!==3)return null;try{return JSON.parse(decodeURIComponent(v.atob(i[1]).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Tt{constructor(i){this.type=i,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(i){const s=rr(k.ACCESS_TOKEN);let d="";return d=s&&s.u?v.btoa(encodeURIComponent(s.u).replace(/%([0-9A-F]{2})/g,(p,g)=>String.fromCharCode(+("0x"+g)))):k.ACCESS_TOKEN||"",i?`${Hn}.${i}:${d}`:`${Hn}:${d}`}fetchEventData(){const i=Pn("localStorage"),s=this.getStorageKey(),d=this.getStorageKey("uuid");if(i)try{const p=v.localStorage.getItem(s);p&&(this.eventData=JSON.parse(p));const g=v.localStorage.getItem(d);g&&(this.anonId=g)}catch{yn("Unable to read from LocalStorage")}}saveEventData(){const i=Pn("localStorage"),s=this.getStorageKey(),d=this.getStorageKey("uuid");if(i)try{v.localStorage.setItem(d,this.anonId),Object.keys(this.eventData).length>=1&&v.localStorage.setItem(s,JSON.stringify(this.eventData))}catch{yn("Unable to write to LocalStorage")}}processRequests(i){}postEvent(i,s,d,p){if(!k.EVENTS_URL)return;const g=Jt(k.EVENTS_URL);g.params.push(`access_token=${p||k.ACCESS_TOKEN||""}`);const _={event:this.type,created:new Date(i).toISOString()},b=s?pn(_,s):_,C={url:Et(g),headers:{"Content-Type":"text/plain"},body:JSON.stringify([b])};this.pendingRequest=function(T,R){return dr(pn(T,{method:"POST"}),R)}(C,T=>{this.pendingRequest=null,d(T),this.saveEventData(),this.processRequests(p)})}queueRequest(i,s){this.queue.push(i),this.processRequests(s)}}const nt=new class extends Tt{constructor(a){super("appUserTurnstile"),this._customAccessToken=a}postTurnstileEvent(a,i){k.EVENTS_URL&&k.ACCESS_TOKEN&&Array.isArray(a)&&a.some(s=>Ue(s)||et(s))&&this.queueRequest(Date.now(),i)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const i=rr(k.ACCESS_TOKEN),s=i?i.u:k.ACCESS_TOKEN;let d=s!==this.eventData.tokenU;ot(this.anonId)||(this.anonId=nn(),d=!0);const p=this.queue.shift();if(this.eventData.lastSuccess){const g=new Date(this.eventData.lastSuccess),_=new Date(p),b=(p-this.eventData.lastSuccess)/864e5;d=d||b>=1||b<-1||g.getDate()!==_.getDate()}else d=!0;d?this.postEvent(p,{sdkIdentifier:"mapbox-gl-js",sdkVersion:E,skuId:W,"enabled.telemetry":!1,userId:this.anonId},g=>{g||(this.eventData.lastSuccess=p,this.eventData.tokenU=s)},a):this.processRequests()}},Ct=nt.postTurnstileEvent.bind(nt),cn=new class extends Tt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(a,i,s,d){this.skuToken=i,this.errorCb=d,k.EVENTS_URL&&(s||k.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},s):this.errorCb(new Error(Ie)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:s}=this.queue.shift();i&&this.success[i]||(this.anonId||this.fetchEventData(),ot(this.anonId)||(this.anonId=nn()),this.postEvent(s,{sdkIdentifier:"mapbox-gl-js",sdkVersion:E,skuId:W,skuToken:this.skuToken,userId:this.anonId},d=>{d?this.errorCb(d):i&&(this.success[i]=!0)},a))}},Fn=cn.postMapLoadEvent.bind(cn),ir=new class extends Tt{constructor(){super("gljs.performance")}postPerformanceEvent(a,i){k.EVENTS_URL&&(a||k.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:i},a)}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:i,performanceData:s}=this.queue.shift(),d=function(p){const g=v.performance.getEntriesByType("resource"),_=v.performance.getEntriesByType("mark"),b=function(V){const Z={};if(V){for(const X in V)if(X!=="other")for(const ee of V[X]){const fe=`${X}ResolveRangeMin`,be=`${X}ResolveRangeMax`,Oe=`${X}RequestCount`,Ee=`${X}RequestCachedCount`;Z[fe]=Math.min(Z[fe]||1/0,ee.startTime),Z[be]=Math.max(Z[be]||-1/0,ee.responseEnd);const Me=je=>{Z[je]===void 0&&(Z[je]=0),++Z[je]};ee.transferSize!==void 0&&ee.transferSize===0&&Me(Ee),Me(Oe)}}return Z}(function(V,Z){const X={};if(V)for(const ee of V){const fe=Z(ee);X[fe]===void 0&&(X[fe]=[]),X[fe].push(ee)}return X}(g,de)),C=v.devicePixelRatio,T=v.navigator.connection||v.navigator.mozConnection||v.navigator.webkitConnection,R={counters:[],metadata:[],attributes:[]},F=(V,Z,X)=>{X!=null&&V.push({name:Z,value:X.toString()})};for(const V in b)F(R.counters,V,b[V]);if(p.interactionRange[0]!==1/0&&p.interactionRange[1]!==-1/0&&(F(R.counters,"interactionRangeMin",p.interactionRange[0]),F(R.counters,"interactionRangeMax",p.interactionRange[1])),_)for(const V of Object.keys(le)){const Z=le[V],X=_.find(ee=>ee.name===Z);X&&F(R.counters,Z,X.startTime)}return F(R.counters,"visibilityHidden",p.visibilityHidden),F(R.attributes,"style",function(V){if(V)for(const Z of V){const X=Z.name.split("?")[0];if(Fe(X)){const ee=X.split("/").slice(-2);if(ee.length===2)return`mapbox://styles/${ee[0]}/${ee[1]}`}}}(g)),F(R.attributes,"terrainEnabled",p.terrainEnabled?"true":"false"),F(R.attributes,"fogEnabled",p.fogEnabled?"true":"false"),F(R.attributes,"projection",p.projection),F(R.attributes,"zoom",p.zoom),F(R.metadata,"devicePixelRatio",C),F(R.metadata,"connectionEffectiveType",T?T.effectiveType:void 0),F(R.metadata,"navigatorUserAgent",v.navigator.userAgent),F(R.metadata,"screenWidth",v.screen.width),F(R.metadata,"screenHeight",v.screen.height),F(R.metadata,"windowWidth",v.innerWidth),F(R.metadata,"windowHeight",v.innerHeight),F(R.metadata,"mapWidth",p.width/C),F(R.metadata,"mapHeight",p.height/C),F(R.metadata,"webglRenderer",p.renderer),F(R.metadata,"webglVendor",p.vendor),F(R.metadata,"sdkVersion",E),F(R.metadata,"sdkIdentifier","mapbox-gl-js"),R}(s);for(const p of d.metadata);for(const p of d.counters);for(const p of d.attributes);this.postEvent(i,d,()=>{},a)}},On=ir.postPerformanceEvent.bind(ir),vr=new class extends Tt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(a,i,s,d){if(!k.API_URL||!k.SESSION_PATH)return;const p=Jt(k.API_URL+k.SESSION_PATH);p.params.push(`sku=${i||""}`),p.params.push(`access_token=${d||k.ACCESS_TOKEN||""}`);const g={url:Et(p),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(_,b){return dr(pn(_,{method:"GET"}),b)}(g,_=>{this.pendingRequest=null,s(_),this.saveEventData(),this.processRequests(d)})}getSessionAPI(a,i,s,d){this.skuToken=i,this.errorCb=d,k.SESSION_PATH&&k.API_URL&&(s||k.ACCESS_TOKEN?this.queueRequest({id:a,timestamp:Date.now()},s):this.errorCb(new Error(Ie)))}processRequests(a){if(this.pendingRequest||this.queue.length===0)return;const{id:i,timestamp:s}=this.queue.shift();i&&this.success[i]||this.getSession(s,this.skuToken,d=>{d?this.errorCb(d):i&&(this.success[i]=!0)},a)}},ft=vr.getSessionAPI.bind(vr),re=new Set,le={create:"create",load:"load",fullLoad:"fullLoad"},ye={mark(a){v.performance.mark(a)},measure(a,i,s){v.performance.measure(a,i,s)}};function de(a){const i=a.name.split("?")[0];return Ye(i)&&i.includes("mapbox-gl.js")?"javascript":Ye(i)&&i.includes("mapbox-gl.css")?"css":function(s){return k.API_FONTS_REGEX.test(s)}(i)?"fontRange":ct(i)?"sprite":Fe(i)?"style":function(s){return k.API_TILEJSON_REGEX.test(s)}(i)?"tilejson":"other"}const se=v.performance;function He(a){const i=a?a.url.toString():void 0;return se.getEntriesByName(i)}let tt,ut,jt,on;const Xn={now:()=>jt!==void 0?jt:v.performance.now(),setNow(a){jt=a},restoreNow(){jt=void 0},frame(a){const i=v.requestAnimationFrame(a);return{cancel:()=>v.cancelAnimationFrame(i)}},getImageData(a,i=0){const{width:s,height:d}=a;on||(on=v.document.createElement("canvas"));const p=on.getContext("2d",{willReadFrequently:!0});if(!p)throw new Error("failed to create canvas 2d context");return(s>on.width||d>on.height)&&(on.width=s,on.height=d),p.clearRect(-i,-i,s+2*i,d+2*i),p.drawImage(a,0,0,s,d),p.getImageData(-i,-i,s+2*i,d+2*i)},resolveURL:a=>(tt||(tt=v.document.createElement("a")),tt.href=a,tt.href),get devicePixelRatio(){return v.devicePixelRatio},get prefersReducedMotion(){return!!v.matchMedia&&(ut==null&&(ut=v.matchMedia("(prefers-reduced-motion: reduce)")),ut.matches)}};function Rr(a,i,s){s[a]&&s[a].indexOf(i)!==-1||(s[a]=s[a]||[],s[a].push(i))}function Fr(a,i,s){if(s&&s[a]){const d=s[a].indexOf(i);d!==-1&&s[a].splice(d,1)}}class Ur{constructor(i,s={}){pn(this,s),this.type=i}}class xr extends Ur{constructor(i,s={}){super("error",pn({error:i},s))}}class Br{on(i,s){return this._listeners=this._listeners||{},Rr(i,s,this._listeners),this}off(i,s){return Fr(i,s,this._listeners),Fr(i,s,this._oneTimeListeners),this}once(i,s){return s?(this._oneTimeListeners=this._oneTimeListeners||{},Rr(i,s,this._oneTimeListeners),this):new Promise(d=>this.once(i,d))}fire(i,s){typeof i=="string"&&(i=new Ur(i,s||{}));const d=i.type;if(this.listens(d)){i.target=this;const p=this._listeners&&this._listeners[d]?this._listeners[d].slice():[];for(const b of p)b.call(this,i);const g=this._oneTimeListeners&&this._oneTimeListeners[d]?this._oneTimeListeners[d].slice():[];for(const b of g)Fr(d,b,this._oneTimeListeners),b.call(this,i);const _=this._eventedParent;_&&(pn(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),_.fire(i))}else i instanceof xr&&console.error(i.error);return this}listens(i){return!!(this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i))}setEventedParent(i,s){return this._eventedParent=i,this._eventedParentData=s,this}}var vt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function vi(a,...i){for(const s of i)for(const d in s)a[d]=s[d];return a}function Vr(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function Zr(a){if(Array.isArray(a))return a.map(Zr);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const i={};for(const s in a)i[s]=Zr(a[s]);return i}return Vr(a)}class sa extends Error{constructor(i,s){super(s),this.message=s,this.key=i}}var Ui=sa;class jo{constructor(i,s=[]){this.parent=i,this.bindings={};for(const[d,p]of s)this.bindings[d]=p}concat(i){return new jo(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}var zr=jo;const br={kind:"null"},vn={kind:"number"},or={kind:"string"},ar={kind:"boolean"},di={kind:"color"},ii={kind:"object"},gr={kind:"value"},Yi={kind:"collator"},ho={kind:"formatted"},pa={kind:"resolvedImage"};function Po(a,i){return{kind:"array",itemType:a,N:i}}function Hr(a){if(a.kind==="array"){const i=Hr(a.itemType);return typeof a.N=="number"?`array<${i}, ${a.N}>`:a.itemType.kind==="value"?"array":`array<${i}>`}return a.kind}const ol=[br,vn,or,ar,di,ho,ii,Po(gr),pa];function ma(a,i){if(i.kind==="error")return null;if(a.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!ma(a.itemType,i.itemType))&&(typeof a.N!="number"||a.N===i.N))return null}else{if(a.kind===i.kind)return null;if(a.kind==="value"){for(const s of ol)if(!ma(s,i))return null}}return`Expected ${Hr(a)} but found ${Hr(i)} instead.`}function Uo(a,i){return i.some(s=>s.kind===a.kind)}function Rs(a,i){return i.some(s=>s==="null"?a===null:s==="array"?Array.isArray(a):s==="object"?a&&!Array.isArray(a)&&typeof a=="object":s===typeof a)}var ga,al={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ps(a){return(a=Math.round(a))<0?0:a>255?255:a}function Vo(a){return ps(a[a.length-1]==="%"?parseFloat(a)/100*255:parseInt(a))}function ms(a){return(i=a[a.length-1]==="%"?parseFloat(a)/100:parseFloat(a))<0?0:i>1?1:i;var i}function Ji(a,i,s){return s<0?s+=1:s>1&&(s-=1),6*s<1?a+(i-a)*s*6:2*s<1?i:3*s<2?a+(i-a)*(2/3-s)*6:a}try{ga={}.parseCSSColor=function(a){var i,s=a.replace(/ /g,"").toLowerCase();if(s in al)return al[s].slice();if(s[0]==="#")return s.length===4?(i=parseInt(s.substr(1),16))>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null:s.length===7&&(i=parseInt(s.substr(1),16))>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null;var d=s.indexOf("("),p=s.indexOf(")");if(d!==-1&&p+1===s.length){var g=s.substr(0,d),_=s.substr(d+1,p-(d+1)).split(","),b=1;switch(g){case"rgba":if(_.length!==4)return null;b=ms(_.pop());case"rgb":return _.length!==3?null:[Vo(_[0]),Vo(_[1]),Vo(_[2]),b];case"hsla":if(_.length!==4)return null;b=ms(_.pop());case"hsl":if(_.length!==3)return null;var C=(parseFloat(_[0])%360+360)%360/360,T=ms(_[1]),R=ms(_[2]),F=R<=.5?R*(T+1):R+T-R*T,V=2*R-F;return[ps(255*Ji(V,F,C+1/3)),ps(255*Ji(V,F,C)),ps(255*Ji(V,F,C-1/3)),b];default:return null}}return null}}catch{}class Qi{constructor(i,s,d,p=1){this.r=i,this.g=s,this.b=d,this.a=p}static parse(i){if(!i)return;if(i instanceof Qi)return i;if(typeof i!="string")return;const s=ga(i);return s?new Qi(s[0]/255*s[3],s[1]/255*s[3],s[2]/255*s[3],s[3]):void 0}toString(){const[i,s,d,p]=this.toArray();return`rgba(${Math.round(i)},${Math.round(s)},${Math.round(d)},${p})`}toArray(){const{r:i,g:s,b:d,a:p}=this;return p===0?[0,0,0,0]:[255*i/p,255*s/p,255*d/p,p]}toArray01(){const{r:i,g:s,b:d,a:p}=this;return p===0?[0,0,0,0]:[i/p,s/p,d/p,p]}toArray01PremultipliedAlpha(){const{r:i,g:s,b:d,a:p}=this;return[i,s,d,p]}}Qi.black=new Qi(0,0,0,1),Qi.white=new Qi(1,1,1,1),Qi.transparent=new Qi(0,0,0,0),Qi.red=new Qi(1,0,0,1),Qi.blue=new Qi(0,0,1,1);var _i=Qi;class Ul{constructor(i,s,d){this.sensitivity=i?s?"variant":"case":s?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,s){return this.collator.compare(i,s)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ia{constructor(i,s,d,p,g){this.text=i.normalize?i.normalize():i,this.image=s,this.scale=d,this.fontStack=p,this.textColor=g}}class Io{constructor(i){this.sections=i}static fromString(i){return new Io([new Ia(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Io?i:Io.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}serialize(){const i=["format"];for(const s of this.sections){if(s.image){i.push(["image",s.image.name]);continue}i.push(s.text);const d={};s.fontStack&&(d["text-font"]=["literal",s.fontStack.split(",")]),s.scale&&(d["font-scale"]=s.scale),s.textColor&&(d["text-color"]=["rgba"].concat(s.textColor.toArray())),i.push(d)}return i}}class Go{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Go({name:i,available:!1}):null}serialize(){return["image",this.name]}}function ya(a,i,s,d){return typeof a=="number"&&a>=0&&a<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof s=="number"&&s>=0&&s<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[a,i,s,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[a,i,s,d]:[a,i,s]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ko(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof _i||a instanceof Ul||a instanceof Io||a instanceof Go)return!0;if(Array.isArray(a)){for(const i of a)if(!ko(i))return!1;return!0}if(typeof a=="object"){for(const i in a)if(!ko(a[i]))return!1;return!0}return!1}function Kr(a){if(a===null)return br;if(typeof a=="string")return or;if(typeof a=="boolean")return ar;if(typeof a=="number")return vn;if(a instanceof _i)return di;if(a instanceof Ul)return Yi;if(a instanceof Io)return ho;if(a instanceof Go)return pa;if(Array.isArray(a)){const i=a.length;let s;for(const d of a){const p=Kr(d);if(s){if(s===p)continue;s=gr;break}s=p}return Po(s||gr,i)}return ii}function sl(a){const i=typeof a;return a===null?"":i==="string"||i==="number"||i==="boolean"?String(a):a instanceof _i||a instanceof Io||a instanceof Go?a.toString():JSON.stringify(a)}class Ds{constructor(i,s){this.type=i,this.value=s}static parse(i,s){if(i.length!==2)return s.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!ko(i[1]))return s.error("invalid value");const d=i[1];let p=Kr(d);const g=s.expectedType;return p.kind!=="array"||p.N!==0||!g||g.kind!=="array"||typeof g.N=="number"&&g.N!==0||(p=g),new Ds(p,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof _i?["rgba"].concat(this.value.toArray()):this.value instanceof Io?this.value.serialize():this.value}}var Va=Ds,Hi=class{constructor(a){this.name="ExpressionEvaluationError",this.message=a}toJSON(){return this.message}};const Xo={string:or,number:vn,boolean:ar,object:ii};class ll{constructor(i,s){this.type=i,this.args=s}static parse(i,s){if(i.length<2)return s.error("Expected at least one argument.");let d,p=1;const g=i[0];if(g==="array"){let b,C;if(i.length>2){const T=i[1];if(typeof T!="string"||!(T in Xo)||T==="object")return s.error('The item type argument of "array" must be one of string, number, boolean',1);b=Xo[T],p++}else b=gr;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return s.error('The length argument to "array" must be a positive integer literal',2);C=i[2],p++}d=Po(b,C)}else d=Xo[g];const _=[];for(;p<i.length;p++){const b=s.parse(i[p],p,gr);if(!b)return null;_.push(b)}return new ll(d,_)}evaluate(i){for(let s=0;s<this.args.length;s++){const d=this.args[s].evaluate(i);if(!ma(this.type,Kr(d)))return d;if(s===this.args.length-1)throw new Hi(`Expected value to be of type ${Hr(this.type)}, but found ${Hr(Kr(d))} instead.`)}return null}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=this.type,s=[i.kind];if(i.kind==="array"){const d=i.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){s.push(d.kind);const p=i.N;(typeof p=="number"||this.args.length>1)&&s.push(p)}}return s.concat(this.args.map(d=>d.serialize()))}}var Yo=ll;class Mo{constructor(i){this.type=ho,this.sections=i}static parse(i,s){if(i.length<2)return s.error("Expected at least one argument.");const d=i[1];if(!Array.isArray(d)&&typeof d=="object")return s.error("First argument must be an image or text section.");const p=[];let g=!1;for(let _=1;_<=i.length-1;++_){const b=i[_];if(g&&typeof b=="object"&&!Array.isArray(b)){g=!1;let C=null;if(b["font-scale"]&&(C=s.parse(b["font-scale"],1,vn),!C))return null;let T=null;if(b["text-font"]&&(T=s.parse(b["text-font"],1,Po(or)),!T))return null;let R=null;if(b["text-color"]&&(R=s.parse(b["text-color"],1,di),!R))return null;const F=p[p.length-1];F.scale=C,F.font=T,F.textColor=R}else{const C=s.parse(i[_],1,gr);if(!C)return null;const T=C.type.kind;if(T!=="string"&&T!=="value"&&T!=="null"&&T!=="resolvedImage")return s.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");g=!0,p.push({content:C,scale:null,font:null,textColor:null})}}return new Mo(p)}evaluate(i){return new Io(this.sections.map(s=>{const d=s.content.evaluate(i);return Kr(d)===pa?new Ia("",d,null,null,null):new Ia(sl(d),null,s.scale?s.scale.evaluate(i):null,s.font?s.font.evaluate(i).join(","):null,s.textColor?s.textColor.evaluate(i):null)}))}eachChild(i){for(const s of this.sections)i(s.content),s.scale&&i(s.scale),s.font&&i(s.font),s.textColor&&i(s.textColor)}outputDefined(){return!1}serialize(){const i=["format"];for(const s of this.sections){i.push(s.content.serialize());const d={};s.scale&&(d["font-scale"]=s.scale.serialize()),s.font&&(d["text-font"]=s.font.serialize()),s.textColor&&(d["text-color"]=s.textColor.serialize()),i.push(d)}return i}}class Ga{constructor(i){this.type=pa,this.input=i}static parse(i,s){if(i.length!==2)return s.error("Expected two arguments.");const d=s.parse(i[1],1,or);return d?new Ga(d):s.error("No image name provided.")}evaluate(i){const s=this.input.evaluate(i),d=Go.fromString(s);return d&&i.availableImages&&(d.available=i.availableImages.indexOf(s)>-1),d}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const gc={"to-boolean":ar,"to-color":di,"to-number":vn,"to-string":or};class Vl{constructor(i,s){this.type=i,this.args=s}static parse(i,s){if(i.length<2)return s.error("Expected at least one argument.");const d=i[0];if((d==="to-boolean"||d==="to-string")&&i.length!==2)return s.error("Expected one argument.");const p=gc[d],g=[];for(let _=1;_<i.length;_++){const b=s.parse(i[_],_,gr);if(!b)return null;g.push(b)}return new Vl(p,g)}evaluate(i){if(this.type.kind==="boolean")return!!this.args[0].evaluate(i);if(this.type.kind==="color"){let s,d;for(const p of this.args){if(s=p.evaluate(i),d=null,s instanceof _i)return s;if(typeof s=="string"){const g=i.parseColor(s);if(g)return g}else if(Array.isArray(s)&&(d=s.length<3||s.length>4?`Invalid rbga value ${JSON.stringify(s)}: expected an array containing either three or four numeric values.`:ya(s[0],s[1],s[2],s[3]),!d))return new _i(s[0]/255,s[1]/255,s[2]/255,s[3])}throw new Hi(d||`Could not parse color from value '${typeof s=="string"?s:String(JSON.stringify(s))}'`)}if(this.type.kind==="number"){let s=null;for(const d of this.args){if(s=d.evaluate(i),s===null)return 0;const p=Number(s);if(!isNaN(p))return p}throw new Hi(`Could not convert ${JSON.stringify(s)} to number.`)}return this.type.kind==="formatted"?Io.fromString(sl(this.args[0].evaluate(i))):this.type.kind==="resolvedImage"?Go.fromString(sl(this.args[0].evaluate(i))):sl(this.args[0].evaluate(i))}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Mo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Ga(this.args[0]).serialize();const i=[`to-${this.type.kind}`];return this.eachChild(s=>{i.push(s.serialize())}),i}}var Ha=Vl;const Ii=["Unknown","Point","LineString","Polygon"];var Gl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Ii[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const a=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:s,y:d}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(s*i-a[0])+this.featureDistanceData.bearing[1]*(d*i-a[1])}return 0}parseColor(a){let i=this._parseColorCache[a];return i||(i=this._parseColorCache[a]=_i.parse(a)),i}};class ka{constructor(i,s,d,p){this.name=i,this.type=s,this._evaluate=d,this.args=p}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(i=>i.serialize()))}static parse(i,s){const d=i[0],p=ka.definitions[d];if(!p)return s.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const g=Array.isArray(p)?p[0]:p.type,_=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,b=_.filter(([T])=>!Array.isArray(T)||T.length===i.length-1);let C=null;for(const[T,R]of b){C=new $r(s.registry,s.path,null,s.scope);const F=[];let V=!1;for(let Z=1;Z<i.length;Z++){const X=i[Z],ee=Array.isArray(T)?T[Z-1]:T.type,fe=C.parse(X,1+F.length,ee);if(!fe){V=!0;break}F.push(fe)}if(!V)if(Array.isArray(T)&&T.length!==F.length)C.error(`Expected ${T.length} arguments, but found ${F.length} instead.`);else{for(let Z=0;Z<F.length;Z++){const X=Array.isArray(T)?T[Z]:T.type,ee=F[Z];C.concat(Z+1).checkSubtype(X,ee.type)}if(C.errors.length===0)return new ka(d,g,R,F)}}if(b.length===1)s.errors.push(...C.errors);else{const T=(b.length?b:_).map(([F])=>{return V=F,Array.isArray(V)?`(${V.map(Hr).join(", ")})`:`(${Hr(V.type)}...)`;var V}).join(" | "),R=[];for(let F=1;F<i.length;F++){const V=s.parse(i[F],1+R.length);if(!V)return null;R.push(Hr(V.type))}s.error(`Expected arguments of type ${T}, but found (${R.join(", ")}) instead.`)}return null}static register(i,s){ka.definitions=s;for(const d in s)i[d]=ka}}var va=ka;class gs{constructor(i,s,d){this.type=Yi,this.locale=d,this.caseSensitive=i,this.diacriticSensitive=s}static parse(i,s){if(i.length!==2)return s.error("Expected one argument.");const d=i[1];if(typeof d!="object"||Array.isArray(d))return s.error("Collator options argument must be an object.");const p=s.parse(d["case-sensitive"]!==void 0&&d["case-sensitive"],1,ar);if(!p)return null;const g=s.parse(d["diacritic-sensitive"]!==void 0&&d["diacritic-sensitive"],1,ar);if(!g)return null;let _=null;return d.locale&&(_=s.parse(d.locale,1,or),!_)?null:new gs(p,g,_)}evaluate(i){return new Ul(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}serialize(){const i={};return i["case-sensitive"]=this.caseSensitive.serialize(),i["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(i.locale=this.locale.serialize()),["collator",i]}}const la=8192;function cl(a,i){a[0]=Math.min(a[0],i[0]),a[1]=Math.min(a[1],i[1]),a[2]=Math.max(a[2],i[0]),a[3]=Math.max(a[3],i[1])}function Wa(a,i){return!(a[0]<=i[0]||a[2]>=i[2]||a[1]<=i[1]||a[3]>=i[3])}function Ls(a,i){const s=(180+a[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,p=Math.pow(2,i.z);return[Math.round(s*p*la),Math.round(d*p*la)]}function gu(a,i,s){const d=a[0]-i[0],p=a[1]-i[1],g=a[0]-s[0],_=a[1]-s[1];return d*_-g*p==0&&d*g<=0&&p*_<=0}function Hl(a,i){let s=!1;for(let _=0,b=i.length;_<b;_++){const C=i[_];for(let T=0,R=C.length;T<R-1;T++){if(gu(a,C[T],C[T+1]))return!1;(p=C[T])[1]>(d=a)[1]!=(g=C[T+1])[1]>d[1]&&d[0]<(g[0]-p[0])*(d[1]-p[1])/(g[1]-p[1])+p[0]&&(s=!s)}}var d,p,g;return s}function ys(a,i){for(let s=0;s<i.length;s++)if(Hl(a,i[s]))return!0;return!1}function ul(a,i,s,d){const p=d[0]-s[0],g=d[1]-s[1],_=(a[0]-s[0])*g-p*(a[1]-s[1]),b=(i[0]-s[0])*g-p*(i[1]-s[1]);return _>0&&b<0||_<0&&b>0}function Ma(a,i,s){for(const T of s)for(let R=0;R<T.length-1;++R)if((b=[(_=T[R+1])[0]-(g=T[R])[0],_[1]-g[1]])[0]*(C=[(p=i)[0]-(d=a)[0],p[1]-d[1]])[1]-b[1]*C[0]!=0&&ul(d,p,g,_)&&ul(g,_,d,p))return!0;var d,p,g,_,b,C;return!1}function Wr(a,i){for(let s=0;s<a.length;++s)if(!Hl(a[s],i))return!1;for(let s=0;s<a.length-1;++s)if(Ma(a[s],a[s+1],i))return!1;return!0}function od(a,i){for(let s=0;s<i.length;s++)if(Wr(a,i[s]))return!0;return!1}function Sn(a,i,s){const d=[];for(let p=0;p<a.length;p++){const g=[];for(let _=0;_<a[p].length;_++){const b=Ls(a[p][_],s);cl(i,b),g.push(b)}d.push(g)}return d}function Be(a,i,s){const d=[];for(let p=0;p<a.length;p++){const g=Sn(a[p],i,s);d.push(g)}return d}function rt(a,i,s,d){if(a[0]<s[0]||a[0]>s[2]){const p=.5*d;let g=a[0]-s[0]>p?-d:s[0]-a[0]>p?d:0;g===0&&(g=a[0]-s[2]>p?-d:s[2]-a[0]>p?d:0),a[0]+=g}cl(i,a)}function $t(a,i,s,d){const p=Math.pow(2,d.z)*la,g=[d.x*la,d.y*la],_=[];if(!a)return _;for(const b of a)for(const C of b){const T=[C.x+g[0],C.y+g[1]];rt(T,i,s,p),_.push(T)}return _}function en(a,i,s,d){const p=Math.pow(2,d.z)*la,g=[d.x*la,d.y*la],_=[];if(!a)return _;for(const C of a){const T=[];for(const R of C){const F=[R.x+g[0],R.y+g[1]];cl(i,F),T.push(F)}_.push(T)}if(i[2]-i[0]<=p/2){(b=i)[0]=b[1]=1/0,b[2]=b[3]=-1/0;for(const C of _)for(const T of C)rt(T,i,s,p)}var b;return _}class mn{constructor(i,s){this.type=ar,this.geojson=i,this.geometries=s}static parse(i,s){if(i.length!==2)return s.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(ko(i[1])){const d=i[1];if(d.type==="FeatureCollection")for(let p=0;p<d.features.length;++p){const g=d.features[p].geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new mn(d,d.features[p].geometry)}else if(d.type==="Feature"){const p=d.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new mn(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new mn(d,d)}return s.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(s,d){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],_=s.canonicalID();if(!_)return!1;if(d.type==="Polygon"){const b=Sn(d.coordinates,g,_),C=$t(s.geometry(),p,g,_);if(!Wa(p,g))return!1;for(const T of C)if(!Hl(T,b))return!1}if(d.type==="MultiPolygon"){const b=Be(d.coordinates,g,_),C=$t(s.geometry(),p,g,_);if(!Wa(p,g))return!1;for(const T of C)if(!ys(T,b))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(s,d){const p=[1/0,1/0,-1/0,-1/0],g=[1/0,1/0,-1/0,-1/0],_=s.canonicalID();if(!_)return!1;if(d.type==="Polygon"){const b=Sn(d.coordinates,g,_),C=en(s.geometry(),p,g,_);if(!Wa(p,g))return!1;for(const T of C)if(!Wr(T,b))return!1}if(d.type==="MultiPolygon"){const b=Be(d.coordinates,g,_),C=en(s.geometry(),p,g,_);if(!Wa(p,g))return!1;for(const T of C)if(!od(T,b))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var gn=mn;function Dn(a){if(a instanceof va&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof gn)return!1;let i=!0;return a.eachChild(s=>{i&&!Dn(s)&&(i=!1)}),i}function Gn(a){if(a instanceof va&&a.name==="feature-state")return!1;let i=!0;return a.eachChild(s=>{i&&!Gn(s)&&(i=!1)}),i}function pr(a,i){if(a instanceof va&&i.indexOf(a.name)>=0)return!1;let s=!0;return a.eachChild(d=>{s&&!pr(d,i)&&(s=!1)}),s}class Dr{constructor(i,s){this.type=s.type,this.name=i,this.boundExpression=s}static parse(i,s){if(i.length!==2||typeof i[1]!="string")return s.error("'var' expression requires exactly one string literal argument.");const d=i[1];return s.scope.has(d)?new Dr(d,s.scope.get(d)):s.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Qr=Dr;class Gr{constructor(i,s=[],d,p=new zr,g=[]){this.registry=i,this.path=s,this.key=s.map(_=>`[${_}]`).join(""),this.scope=p,this.errors=g,this.expectedType=d}parse(i,s,d,p,g={}){return s?this.concat(s,d,p)._parse(i,g):this._parse(i,g)}_parse(i,s){function d(p,g,_){return _==="assert"?new Yo(g,[p]):_==="coerce"?new Ha(g,[p]):p}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=i[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const g=this.registry[p];if(g){let _=g.parse(i,this);if(!_)return null;if(this.expectedType){const b=this.expectedType,C=_.type;if(b.kind!=="string"&&b.kind!=="number"&&b.kind!=="boolean"&&b.kind!=="object"&&b.kind!=="array"||C.kind!=="value")if(b.kind!=="color"&&b.kind!=="formatted"&&b.kind!=="resolvedImage"||C.kind!=="value"&&C.kind!=="string"){if(this.checkSubtype(b,C))return null}else _=d(_,b,s.typeAnnotation||"coerce");else _=d(_,b,s.typeAnnotation||"assert")}if(!(_ instanceof Va)&&_.type.kind!=="resolvedImage"&&Bi(_)){const b=new Gl;try{_=new Va(_.type,_.evaluate(b))}catch(C){return this.error(C.message),null}}return _}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,s,d){const p=typeof i=="number"?this.path.concat(i):this.path,g=d?this.scope.concat(d):this.scope;return new Gr(this.registry,p,s||null,g,this.errors)}error(i,...s){const d=`${this.key}${s.map(p=>`[${p}]`).join("")}`;this.errors.push(new Ui(d,i))}checkSubtype(i,s){const d=ma(i,s);return d&&this.error(d),d}}var $r=Gr;function Bi(a){if(a instanceof Qr)return Bi(a.boundExpression);if(a instanceof va&&a.name==="error"||a instanceof gs||a instanceof gn)return!1;const i=a instanceof Ha||a instanceof Yo;let s=!0;return a.eachChild(d=>{s=i?s&&Bi(d):s&&d instanceof Va}),!!s&&Dn(a)&&pr(a,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function po(a,i){const s=a.length-1;let d,p,g=0,_=s,b=0;for(;g<=_;)if(b=Math.floor((g+_)/2),d=a[b],p=a[b+1],d<=i){if(b===s||i<p)return b;g=b+1}else{if(!(d>i))throw new Hi("Input is not a number.");_=b-1}return 0}class Za{constructor(i,s,d){this.type=i,this.input=s,this.labels=[],this.outputs=[];for(const[p,g]of d)this.labels.push(p),this.outputs.push(g)}static parse(i,s){if(i.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return s.error("Expected an even number of arguments.");const d=s.parse(i[1],1,vn);if(!d)return null;const p=[];let g=null;s.expectedType&&s.expectedType.kind!=="value"&&(g=s.expectedType);for(let _=1;_<i.length;_+=2){const b=_===1?-1/0:i[_],C=i[_+1],T=_,R=_+1;if(typeof b!="number")return s.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',T);if(p.length&&p[p.length-1][0]>=b)return s.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',T);const F=s.parse(C,R,g);if(!F)return null;g=g||F.type,p.push([b,F])}return new Za(g,d,p)}evaluate(i){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(i);const p=this.input.evaluate(i);if(p<=s[0])return d[0].evaluate(i);const g=s.length;return p>=s[g-1]?d[g-1].evaluate(i):d[po(s,p)].evaluate(i)}eachChild(i){i(this.input);for(const s of this.outputs)i(s)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){const i=["step",this.input.serialize()];for(let s=0;s<this.labels.length;s++)s>0&&i.push(this.labels[s]),i.push(this.outputs[s].serialize());return i}}var Oo=Za;function jr(a,i,s){return a*(1-s)+i*s}var dl=Object.freeze({__proto__:null,array:function(a,i,s){return a.map((d,p)=>jr(d,i[p],s))},color:function(a,i,s){return new _i(jr(a.r,i.r,s),jr(a.g,i.g,s),jr(a.b,i.b,s),jr(a.a,i.a,s))},number:jr});const Wl=.95047,vs=1.08883,ad=4/29,Fs=6/29,sd=3*Fs*Fs,Qf=Fs*Fs*Fs,Oa=Math.PI/180,Gd=180/Math.PI;function yc(a){return a>Qf?Math.pow(a,1/3):a/sd+ad}function yu(a){return a>Fs?a*a*a:sd*(a-ad)}function vu(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function _u(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function xu(a){const i=_u(a.r),s=_u(a.g),d=_u(a.b),p=yc((.4124564*i+.3575761*s+.1804375*d)/Wl),g=yc((.2126729*i+.7151522*s+.072175*d)/1);return{l:116*g-16,a:500*(p-g),b:200*(g-yc((.0193339*i+.119192*s+.9503041*d)/vs)),alpha:a.a}}function fl(a){let i=(a.l+16)/116,s=isNaN(a.a)?i:i+a.a/500,d=isNaN(a.b)?i:i-a.b/200;return i=1*yu(i),s=Wl*yu(s),d=vs*yu(d),new _i(vu(3.2404542*s-1.5371385*i-.4985314*d),vu(-.969266*s+1.8760108*i+.041556*d),vu(.0556434*s-.2040259*i+1.0572252*d),a.alpha)}function eh(a,i,s){const d=i-a;return a+s*(d>180||d<-180?d-360*Math.round(d/360):d)}const vc={forward:xu,reverse:fl,interpolate:function(a,i,s){return{l:jr(a.l,i.l,s),a:jr(a.a,i.a,s),b:jr(a.b,i.b,s),alpha:jr(a.alpha,i.alpha,s)}}},hl={forward:function(a){const{l:i,a:s,b:d}=xu(a),p=Math.atan2(d,s)*Gd;return{h:p<0?p+360:p,c:Math.sqrt(s*s+d*d),l:i,alpha:a.a}},reverse:function(a){const i=a.h*Oa,s=a.c;return fl({l:a.l,a:Math.cos(i)*s,b:Math.sin(i)*s,alpha:a.alpha})},interpolate:function(a,i,s){return{h:eh(a.h,i.h,s),c:jr(a.c,i.c,s),l:jr(a.l,i.l,s),alpha:jr(a.alpha,i.alpha,s)}}};var ld=Object.freeze({__proto__:null,hcl:hl,lab:vc});class Ns{constructor(i,s,d,p,g){this.type=i,this.operator=s,this.interpolation=d,this.input=p,this.labels=[],this.outputs=[];for(const[_,b]of g)this.labels.push(_),this.outputs.push(b)}static interpolationFactor(i,s,d,p){let g=0;if(i.name==="exponential")g=bu(s,i.base,d,p);else if(i.name==="linear")g=bu(s,1,d,p);else if(i.name==="cubic-bezier"){const _=i.controlPoints;g=new Se(_[0],_[1],_[2],_[3]).solve(bu(s,1,d,p))}return g}static parse(i,s){let[d,p,g,..._]=i;if(!Array.isArray(p)||p.length===0)return s.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const T=p[1];if(typeof T!="number")return s.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:T}}else{if(p[0]!=="cubic-bezier")return s.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const T=p.slice(1);if(T.length!==4||T.some(R=>typeof R!="number"||R<0||R>1))return s.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:T}}}if(i.length-1<4)return s.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return s.error("Expected an even number of arguments.");if(g=s.parse(g,2,vn),!g)return null;const b=[];let C=null;d==="interpolate-hcl"||d==="interpolate-lab"?C=di:s.expectedType&&s.expectedType.kind!=="value"&&(C=s.expectedType);for(let T=0;T<_.length;T+=2){const R=_[T],F=_[T+1],V=T+3,Z=T+4;if(typeof R!="number")return s.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(b.length&&b[b.length-1][0]>=R)return s.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',V);const X=s.parse(F,Z,C);if(!X)return null;C=C||X.type,b.push([R,X])}return C.kind==="number"||C.kind==="color"||C.kind==="array"&&C.itemType.kind==="number"&&typeof C.N=="number"?new Ns(C,d,p,g,b):s.error(`Type ${Hr(C)} is not interpolatable.`)}evaluate(i){const s=this.labels,d=this.outputs;if(s.length===1)return d[0].evaluate(i);const p=this.input.evaluate(i);if(p<=s[0])return d[0].evaluate(i);const g=s.length;if(p>=s[g-1])return d[g-1].evaluate(i);const _=po(s,p),b=Ns.interpolationFactor(this.interpolation,p,s[_],s[_+1]),C=d[_].evaluate(i),T=d[_+1].evaluate(i);return this.operator==="interpolate"?dl[this.type.kind.toLowerCase()](C,T,b):this.operator==="interpolate-hcl"?hl.reverse(hl.interpolate(hl.forward(C),hl.forward(T),b)):vc.reverse(vc.interpolate(vc.forward(C),vc.forward(T),b))}eachChild(i){i(this.input);for(const s of this.outputs)i(s)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}serialize(){let i;i=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const s=[this.operator,i,this.input.serialize()];for(let d=0;d<this.labels.length;d++)s.push(this.labels[d],this.outputs[d].serialize());return s}}function bu(a,i,s,d){const p=d-s,g=a-s;return p===0?0:i===1?g/p:(Math.pow(i,g)-1)/(Math.pow(i,p)-1)}var Ra=Ns;class _c{constructor(i,s){this.type=i,this.args=s}static parse(i,s){if(i.length<2)return s.error("Expectected at least one argument.");let d=null;const p=s.expectedType;p&&p.kind!=="value"&&(d=p);const g=[];for(const b of i.slice(1)){const C=s.parse(b,1+g.length,d,void 0,{typeAnnotation:"omit"});if(!C)return null;d=d||C.type,g.push(C)}const _=p&&g.some(b=>ma(p,b.type));return new _c(_?gr:d,g)}evaluate(i){let s,d=null,p=0;for(const g of this.args){if(p++,d=g.evaluate(i),d&&d instanceof Go&&!d.available&&(s||(s=d),d=null,p===this.args.length))return s;if(d!==null)break}return d}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}serialize(){const i=["coalesce"];return this.eachChild(s=>{i.push(s.serialize())}),i}}var Zl=_c;class ql{constructor(i,s){this.type=s.type,this.bindings=[].concat(i),this.result=s}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const s of this.bindings)i(s[1]);i(this.result)}static parse(i,s){if(i.length<4)return s.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const d=[];for(let g=1;g<i.length-1;g+=2){const _=i[g];if(typeof _!="string")return s.error(`Expected string, but found ${typeof _} instead.`,g);if(/[^a-zA-Z0-9_]/.test(_))return s.error("Variable names must contain only alphanumeric characters or '_'.",g);const b=s.parse(i[g+1],g+1);if(!b)return null;d.push([_,b])}const p=s.parse(i[i.length-1],i.length-1,s.expectedType,d);return p?new ql(d,p):null}outputDefined(){return this.result.outputDefined()}serialize(){const i=["let"];for(const[s,d]of this.bindings)i.push(s,d.serialize());return i.push(this.result.serialize()),i}}var wu=ql;class Jo{constructor(i,s,d){this.type=i,this.index=s,this.input=d}static parse(i,s){if(i.length!==3)return s.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const d=s.parse(i[1],1,vn),p=s.parse(i[2],2,Po(s.expectedType||gr));return d&&p?new Jo(p.type.itemType,d,p):null}evaluate(i){const s=this.index.evaluate(i),d=this.input.evaluate(i);if(s<0)throw new Hi(`Array index out of bounds: ${s} < 0.`);if(s>=d.length)throw new Hi(`Array index out of bounds: ${s} > ${d.length-1}.`);if(s!==Math.floor(s))throw new Hi(`Array index must be an integer, but found ${s} instead.`);return d[s]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var th=Jo;class cd{constructor(i,s){this.type=ar,this.needle=i,this.haystack=s}static parse(i,s){if(i.length!==3)return s.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const d=s.parse(i[1],1,gr),p=s.parse(i[2],2,gr);return d&&p?Uo(d.type,[ar,or,vn,br,gr])?new cd(d,p):s.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(d.type)} instead`):null}evaluate(i){const s=this.needle.evaluate(i),d=this.haystack.evaluate(i);if(d==null)return!1;if(!Rs(s,["boolean","string","number","null"]))throw new Hi(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(Kr(s))} instead.`);if(!Rs(d,["string","array"]))throw new Hi(`Expected second argument to be of type array or string, but found ${Hr(Kr(d))} instead.`);return d.indexOf(s)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Kl=cd;class pl{constructor(i,s,d){this.type=vn,this.needle=i,this.haystack=s,this.fromIndex=d}static parse(i,s){if(i.length<=2||i.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const d=s.parse(i[1],1,gr),p=s.parse(i[2],2,gr);if(!d||!p)return null;if(!Uo(d.type,[ar,or,vn,br,gr]))return s.error(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(d.type)} instead`);if(i.length===4){const g=s.parse(i[3],3,vn);return g?new pl(d,p,g):null}return new pl(d,p)}evaluate(i){const s=this.needle.evaluate(i),d=this.haystack.evaluate(i);if(!Rs(s,["boolean","string","number","null"]))throw new Hi(`Expected first argument to be of type boolean, string, number or null, but found ${Hr(Kr(s))} instead.`);if(!Rs(d,["string","array"]))throw new Hi(`Expected second argument to be of type array or string, but found ${Hr(Kr(d))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(i);return d.indexOf(s,p)}return d.indexOf(s)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const i=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),i]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Hd=pl;class ud{constructor(i,s,d,p,g,_){this.inputType=i,this.type=s,this.input=d,this.cases=p,this.outputs=g,this.otherwise=_}static parse(i,s){if(i.length<5)return s.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return s.error("Expected an even number of arguments.");let d,p;s.expectedType&&s.expectedType.kind!=="value"&&(p=s.expectedType);const g={},_=[];for(let T=2;T<i.length-1;T+=2){let R=i[T];const F=i[T+1];Array.isArray(R)||(R=[R]);const V=s.concat(T);if(R.length===0)return V.error("Expected at least one branch label.");for(const X of R){if(typeof X!="number"&&typeof X!="string")return V.error("Branch labels must be numbers or strings.");if(typeof X=="number"&&Math.abs(X)>Number.MAX_SAFE_INTEGER)return V.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof X=="number"&&Math.floor(X)!==X)return V.error("Numeric branch labels must be integer values.");if(d){if(V.checkSubtype(d,Kr(X)))return null}else d=Kr(X);if(g[String(X)]!==void 0)return V.error("Branch labels must be unique.");g[String(X)]=_.length}const Z=s.parse(F,T,p);if(!Z)return null;p=p||Z.type,_.push(Z)}const b=s.parse(i[1],1,gr);if(!b)return null;const C=s.parse(i[i.length-1],i.length-1,p);return C?b.type.kind!=="value"&&s.concat(1).checkSubtype(d,b.type)?null:new ud(d,p,b,g,_,C):null}evaluate(i){const s=this.input.evaluate(i);return(Kr(s)===this.inputType&&this.outputs[this.cases[s]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["match",this.input.serialize()],s=Object.keys(this.cases).sort(),d=[],p={};for(const _ of s){const b=p[this.cases[_]];b===void 0?(p[this.cases[_]]=d.length,d.push([this.cases[_],[_]])):d[b][1].push(_)}const g=_=>this.inputType.kind==="number"?Number(_):_;for(const[_,b]of d)i.push(b.length===1?g(b[0]):b.map(g)),i.push(this.outputs[_].serialize());return i.push(this.otherwise.serialize()),i}}var nh=ud;class Eu{constructor(i,s,d){this.type=i,this.branches=s,this.otherwise=d}static parse(i,s){if(i.length<4)return s.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return s.error("Expected an odd number of arguments.");let d;s.expectedType&&s.expectedType.kind!=="value"&&(d=s.expectedType);const p=[];for(let _=1;_<i.length-1;_+=2){const b=s.parse(i[_],_,ar);if(!b)return null;const C=s.parse(i[_+1],_+1,d);if(!C)return null;p.push([b,C]),d=d||C.type}const g=s.parse(i[i.length-1],i.length-1,d);return g?new Eu(d,p,g):null}evaluate(i){for(const[s,d]of this.branches)if(s.evaluate(i))return d.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[s,d]of this.branches)i(s),i(d);i(this.otherwise)}outputDefined(){return this.branches.every(([i,s])=>s.outputDefined())&&this.otherwise.outputDefined()}serialize(){const i=["case"];return this.eachChild(s=>{i.push(s.serialize())}),i}}var Cu=Eu;class xc{constructor(i,s,d,p){this.type=i,this.input=s,this.beginIndex=d,this.endIndex=p}static parse(i,s){if(i.length<=2||i.length>=5)return s.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const d=s.parse(i[1],1,gr),p=s.parse(i[2],2,vn);if(!d||!p)return null;if(!Uo(d.type,[Po(gr),or,gr]))return s.error(`Expected first argument to be of type array or string, but found ${Hr(d.type)} instead`);if(i.length===4){const g=s.parse(i[3],3,vn);return g?new xc(d.type,d,p,g):null}return new xc(d.type,d,p)}evaluate(i){const s=this.input.evaluate(i),d=this.beginIndex.evaluate(i);if(!Rs(s,["string","array"]))throw new Hi(`Expected first argument to be of type array or string, but found ${Hr(Kr(s))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(i);return s.slice(d,p)}return s.slice(d)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const i=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),i]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var dd=xc;function bc(a,i){return a==="=="||a==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Su(a,i,s,d){return d.compare(i,s)===0}function ml(a,i,s){const d=a!=="=="&&a!=="!=";return class g6{constructor(g,_,b){this.type=ar,this.lhs=g,this.rhs=_,this.collator=b,this.hasUntypedArgument=g.type.kind==="value"||_.type.kind==="value"}static parse(g,_){if(g.length!==3&&g.length!==4)return _.error("Expected two or three arguments.");const b=g[0];let C=_.parse(g[1],1,gr);if(!C)return null;if(!bc(b,C.type))return _.concat(1).error(`"${b}" comparisons are not supported for type '${Hr(C.type)}'.`);let T=_.parse(g[2],2,gr);if(!T)return null;if(!bc(b,T.type))return _.concat(2).error(`"${b}" comparisons are not supported for type '${Hr(T.type)}'.`);if(C.type.kind!==T.type.kind&&C.type.kind!=="value"&&T.type.kind!=="value")return _.error(`Cannot compare types '${Hr(C.type)}' and '${Hr(T.type)}'.`);d&&(C.type.kind==="value"&&T.type.kind!=="value"?C=new Yo(T.type,[C]):C.type.kind!=="value"&&T.type.kind==="value"&&(T=new Yo(C.type,[T])));let R=null;if(g.length===4){if(C.type.kind!=="string"&&T.type.kind!=="string"&&C.type.kind!=="value"&&T.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(R=_.parse(g[3],3,Yi),!R)return null}return new g6(C,T,R)}evaluate(g){const _=this.lhs.evaluate(g),b=this.rhs.evaluate(g);if(d&&this.hasUntypedArgument){const C=Kr(_),T=Kr(b);if(C.kind!==T.kind||C.kind!=="string"&&C.kind!=="number")throw new Hi(`Expected arguments for "${a}" to be (string, string) or (number, number), but found (${C.kind}, ${T.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const C=Kr(_),T=Kr(b);if(C.kind!=="string"||T.kind!=="string")return i(g,_,b)}return this.collator?s(g,_,b,this.collator.evaluate(g)):i(g,_,b)}eachChild(g){g(this.lhs),g(this.rhs),this.collator&&g(this.collator)}outputDefined(){return!0}serialize(){const g=[a];return this.eachChild(_=>{g.push(_.serialize())}),g}}}const rh=ml("==",function(a,i,s){return i===s},Su),gl=ml("!=",function(a,i,s){return i!==s},function(a,i,s,d){return!Su(0,i,s,d)}),_s=ml("<",function(a,i,s){return i<s},function(a,i,s,d){return d.compare(i,s)<0}),Wd=ml(">",function(a,i,s){return i>s},function(a,i,s,d){return d.compare(i,s)>0}),ih=ml("<=",function(a,i,s){return i<=s},function(a,i,s,d){return d.compare(i,s)<=0}),fd=ml(">=",function(a,i,s){return i>=s},function(a,i,s,d){return d.compare(i,s)>=0});class wc{constructor(i,s,d,p,g,_){this.type=or,this.number=i,this.locale=s,this.currency=d,this.unit=p,this.minFractionDigits=g,this.maxFractionDigits=_}static parse(i,s){if(i.length!==3)return s.error("Expected two arguments.");const d=s.parse(i[1],1,vn);if(!d)return null;const p=i[2];if(typeof p!="object"||Array.isArray(p))return s.error("NumberFormat options argument must be an object.");let g=null;if(p.locale&&(g=s.parse(p.locale,1,or),!g))return null;let _=null;if(p.currency&&(_=s.parse(p.currency,1,or),!_))return null;let b=null;if(p.unit&&(b=s.parse(p.unit,1,or),!b))return null;let C=null;if(p["min-fraction-digits"]&&(C=s.parse(p["min-fraction-digits"],1,vn),!C))return null;let T=null;return p["max-fraction-digits"]&&(T=s.parse(p["max-fraction-digits"],1,vn),!T)?null:new wc(d,g,_,b,C,T)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(i):void 0,unit:this.unit?this.unit.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.unit&&i(this.unit),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const i={};return this.locale&&(i.locale=this.locale.serialize()),this.currency&&(i.currency=this.currency.serialize()),this.unit&&(i.unit=this.unit.serialize()),this.minFractionDigits&&(i["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(i["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),i]}}class yl{constructor(i){this.type=vn,this.input=i}static parse(i,s){if(i.length!==2)return s.error(`Expected 1 argument, but found ${i.length-1} instead.`);const d=s.parse(i[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?s.error(`Expected argument of type string or array, but found ${Hr(d.type)} instead.`):new yl(d):null}evaluate(i){const s=this.input.evaluate(i);if(typeof s=="string"||Array.isArray(s))return s.length;throw new Hi(`Expected value to be of type string or array, but found ${Hr(Kr(s))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}serialize(){const i=["length"];return this.eachChild(s=>{i.push(s.serialize())}),i}}const hd={"==":rh,"!=":gl,">":Wd,"<":_s,">=":fd,"<=":ih,array:Yo,at:th,boolean:Yo,case:Cu,coalesce:Zl,collator:gs,format:Mo,image:Ga,in:Kl,"index-of":Hd,interpolate:Ra,"interpolate-hcl":Ra,"interpolate-lab":Ra,length:yl,let:wu,literal:Va,match:nh,number:Yo,"number-format":wc,object:Yo,slice:dd,step:Oo,string:Yo,"to-boolean":Ha,"to-color":Ha,"to-number":Ha,"to-string":Ha,var:Qr,within:gn};function Bs(a,[i,s,d,p]){i=i.evaluate(a),s=s.evaluate(a),d=d.evaluate(a);const g=p?p.evaluate(a):1,_=ya(i,s,d,g);if(_)throw new Hi(_);return new _i(i/255*g,s/255*g,d/255*g,g)}function qa(a,i){return a in i}function Tu(a,i){const s=i[a];return s===void 0?null:s}function Qo(a){return{type:a}}va.register(hd,{error:[{kind:"error"},[or],(a,[i])=>{throw new Hi(i.evaluate(a))}],typeof:[or,[gr],(a,[i])=>Hr(Kr(i.evaluate(a)))],"to-rgba":[Po(vn,4),[di],(a,[i])=>i.evaluate(a).toArray()],rgb:[di,[vn,vn,vn],Bs],rgba:[di,[vn,vn,vn,vn],Bs],has:{type:ar,overloads:[[[or],(a,[i])=>qa(i.evaluate(a),a.properties())],[[or,ii],(a,[i,s])=>qa(i.evaluate(a),s.evaluate(a))]]},get:{type:gr,overloads:[[[or],(a,[i])=>Tu(i.evaluate(a),a.properties())],[[or,ii],(a,[i,s])=>Tu(i.evaluate(a),s.evaluate(a))]]},"feature-state":[gr,[or],(a,[i])=>Tu(i.evaluate(a),a.featureState||{})],properties:[ii,[],a=>a.properties()],"geometry-type":[or,[],a=>a.geometryType()],id:[gr,[],a=>a.id()],zoom:[vn,[],a=>a.globals.zoom],pitch:[vn,[],a=>a.globals.pitch||0],"distance-from-center":[vn,[],a=>a.distanceFromCenter()],"heatmap-density":[vn,[],a=>a.globals.heatmapDensity||0],"line-progress":[vn,[],a=>a.globals.lineProgress||0],"sky-radial-progress":[vn,[],a=>a.globals.skyRadialProgress||0],accumulated:[gr,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[vn,Qo(vn),(a,i)=>{let s=0;for(const d of i)s+=d.evaluate(a);return s}],"*":[vn,Qo(vn),(a,i)=>{let s=1;for(const d of i)s*=d.evaluate(a);return s}],"-":{type:vn,overloads:[[[vn,vn],(a,[i,s])=>i.evaluate(a)-s.evaluate(a)],[[vn],(a,[i])=>-i.evaluate(a)]]},"/":[vn,[vn,vn],(a,[i,s])=>i.evaluate(a)/s.evaluate(a)],"%":[vn,[vn,vn],(a,[i,s])=>i.evaluate(a)%s.evaluate(a)],ln2:[vn,[],()=>Math.LN2],pi:[vn,[],()=>Math.PI],e:[vn,[],()=>Math.E],"^":[vn,[vn,vn],(a,[i,s])=>Math.pow(i.evaluate(a),s.evaluate(a))],sqrt:[vn,[vn],(a,[i])=>Math.sqrt(i.evaluate(a))],log10:[vn,[vn],(a,[i])=>Math.log(i.evaluate(a))/Math.LN10],ln:[vn,[vn],(a,[i])=>Math.log(i.evaluate(a))],log2:[vn,[vn],(a,[i])=>Math.log(i.evaluate(a))/Math.LN2],sin:[vn,[vn],(a,[i])=>Math.sin(i.evaluate(a))],cos:[vn,[vn],(a,[i])=>Math.cos(i.evaluate(a))],tan:[vn,[vn],(a,[i])=>Math.tan(i.evaluate(a))],asin:[vn,[vn],(a,[i])=>Math.asin(i.evaluate(a))],acos:[vn,[vn],(a,[i])=>Math.acos(i.evaluate(a))],atan:[vn,[vn],(a,[i])=>Math.atan(i.evaluate(a))],min:[vn,Qo(vn),(a,i)=>Math.min(...i.map(s=>s.evaluate(a)))],max:[vn,Qo(vn),(a,i)=>Math.max(...i.map(s=>s.evaluate(a)))],abs:[vn,[vn],(a,[i])=>Math.abs(i.evaluate(a))],round:[vn,[vn],(a,[i])=>{const s=i.evaluate(a);return s<0?-Math.round(-s):Math.round(s)}],floor:[vn,[vn],(a,[i])=>Math.floor(i.evaluate(a))],ceil:[vn,[vn],(a,[i])=>Math.ceil(i.evaluate(a))],"filter-==":[ar,[or,gr],(a,[i,s])=>a.properties()[i.value]===s.value],"filter-id-==":[ar,[gr],(a,[i])=>a.id()===i.value],"filter-type-==":[ar,[or],(a,[i])=>a.geometryType()===i.value],"filter-<":[ar,[or,gr],(a,[i,s])=>{const d=a.properties()[i.value],p=s.value;return typeof d==typeof p&&d<p}],"filter-id-<":[ar,[gr],(a,[i])=>{const s=a.id(),d=i.value;return typeof s==typeof d&&s<d}],"filter->":[ar,[or,gr],(a,[i,s])=>{const d=a.properties()[i.value],p=s.value;return typeof d==typeof p&&d>p}],"filter-id->":[ar,[gr],(a,[i])=>{const s=a.id(),d=i.value;return typeof s==typeof d&&s>d}],"filter-<=":[ar,[or,gr],(a,[i,s])=>{const d=a.properties()[i.value],p=s.value;return typeof d==typeof p&&d<=p}],"filter-id-<=":[ar,[gr],(a,[i])=>{const s=a.id(),d=i.value;return typeof s==typeof d&&s<=d}],"filter->=":[ar,[or,gr],(a,[i,s])=>{const d=a.properties()[i.value],p=s.value;return typeof d==typeof p&&d>=p}],"filter-id->=":[ar,[gr],(a,[i])=>{const s=a.id(),d=i.value;return typeof s==typeof d&&s>=d}],"filter-has":[ar,[gr],(a,[i])=>i.value in a.properties()],"filter-has-id":[ar,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[ar,[Po(or)],(a,[i])=>i.value.indexOf(a.geometryType())>=0],"filter-id-in":[ar,[Po(gr)],(a,[i])=>i.value.indexOf(a.id())>=0],"filter-in-small":[ar,[or,Po(gr)],(a,[i,s])=>s.value.indexOf(a.properties()[i.value])>=0],"filter-in-large":[ar,[or,Po(gr)],(a,[i,s])=>function(d,p,g,_){for(;g<=_;){const b=g+_>>1;if(p[b]===d)return!0;p[b]>d?_=b-1:g=b+1}return!1}(a.properties()[i.value],s.value,0,s.value.length-1)],all:{type:ar,overloads:[[[ar,ar],(a,[i,s])=>i.evaluate(a)&&s.evaluate(a)],[Qo(ar),(a,i)=>{for(const s of i)if(!s.evaluate(a))return!1;return!0}]]},any:{type:ar,overloads:[[[ar,ar],(a,[i,s])=>i.evaluate(a)||s.evaluate(a)],[Qo(ar),(a,i)=>{for(const s of i)if(s.evaluate(a))return!0;return!1}]]},"!":[ar,[ar],(a,[i])=>!i.evaluate(a)],"is-supported-script":[ar,[or],(a,[i])=>{const s=a.globals&&a.globals.isSupportedScript;return!s||s(i.evaluate(a))}],upcase:[or,[or],(a,[i])=>i.evaluate(a).toUpperCase()],downcase:[or,[or],(a,[i])=>i.evaluate(a).toLowerCase()],concat:[or,Qo(gr),(a,i)=>i.map(s=>sl(s.evaluate(a))).join("")],"resolved-locale":[or,[Yi],(a,[i])=>i.evaluate(a).resolvedLocale()]});var Xl=hd;function Zd(a){return{result:"success",value:a}}function vl(a){return{result:"error",value:a}}function _l(a){return a["property-type"]==="data-driven"}function Au(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Pu(a){return!!a.expression&&a.expression.interpolated}function Pr(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function Ho(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function Ec(a){return a}function ki(a,i){const s=i.type==="color",d=a.stops&&typeof a.stops[0][0]=="object",p=d||!(d||a.property!==void 0),g=a.type||(Pu(i)?"exponential":"interval");if(s&&((a=vi({},a)).stops&&(a.stops=a.stops.map(T=>[T[0],_i.parse(T[1])])),a.default=_i.parse(a.default?a.default:i.default)),a.colorSpace&&a.colorSpace!=="rgb"&&!ld[a.colorSpace])throw new Error(`Unknown color space: ${a.colorSpace}`);let _,b,C;if(g==="exponential")_=xs;else if(g==="interval")_=Iu;else if(g==="categorical"){_=qd,b=Object.create(null);for(const T of a.stops)b[T[0]]=T[1];C=typeof a.stops[0][0]}else{if(g!=="identity")throw new Error(`Unknown function type "${g}"`);_=Kd}if(d){const T={},R=[];for(let Z=0;Z<a.stops.length;Z++){const X=a.stops[Z],ee=X[0].zoom;T[ee]===void 0&&(T[ee]={zoom:ee,type:a.type,property:a.property,default:a.default,stops:[]},R.push(ee)),T[ee].stops.push([X[0].value,X[1]])}const F=[];for(const Z of R)F.push([T[Z].zoom,ki(T[Z],i)]);const V={name:"linear"};return{kind:"composite",interpolationType:V,interpolationFactor:Ra.interpolationFactor.bind(void 0,V),zoomStops:F.map(Z=>Z[0]),evaluate:({zoom:Z},X)=>xs({stops:F,base:a.base},i,Z).evaluate(Z,X)}}if(p){const T=g==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:T,interpolationFactor:Ra.interpolationFactor.bind(void 0,T),zoomStops:a.stops.map(R=>R[0]),evaluate:({zoom:R})=>_(a,i,R,b,C)}}return{kind:"source",evaluate(T,R){const F=R&&R.properties?R.properties[a.property]:void 0;return F===void 0?Yl(a.default,i.default):_(a,i,F,b,C)}}}function Yl(a,i,s){return a!==void 0?a:i!==void 0?i:s!==void 0?s:void 0}function qd(a,i,s,d,p){return Yl(typeof s===p?d[s]:void 0,a.default,i.default)}function Iu(a,i,s){if(Pr(s)!=="number")return Yl(a.default,i.default);const d=a.stops.length;if(d===1||s<=a.stops[0][0])return a.stops[0][1];if(s>=a.stops[d-1][0])return a.stops[d-1][1];const p=po(a.stops.map(g=>g[0]),s);return a.stops[p][1]}function xs(a,i,s){const d=a.base!==void 0?a.base:1;if(Pr(s)!=="number")return Yl(a.default,i.default);const p=a.stops.length;if(p===1||s<=a.stops[0][0])return a.stops[0][1];if(s>=a.stops[p-1][0])return a.stops[p-1][1];const g=po(a.stops.map(R=>R[0]),s),_=function(R,F,V,Z){const X=Z-V,ee=R-V;return X===0?0:F===1?ee/X:(Math.pow(F,ee)-1)/(Math.pow(F,X)-1)}(s,d,a.stops[g][0],a.stops[g+1][0]),b=a.stops[g][1],C=a.stops[g+1][1];let T=dl[i.type]||Ec;if(a.colorSpace&&a.colorSpace!=="rgb"){const R=ld[a.colorSpace];T=(F,V)=>R.reverse(R.interpolate(R.forward(F),R.forward(V),_))}return typeof b.evaluate=="function"?{evaluate(...R){const F=b.evaluate.apply(void 0,R),V=C.evaluate.apply(void 0,R);if(F!==void 0&&V!==void 0)return T(F,V,_)}}:T(b,C,_)}function Kd(a,i,s){return i.type==="color"?s=_i.parse(s):i.type==="formatted"?s=Io.fromString(s.toString()):i.type==="resolvedImage"?s=Go.fromString(s.toString()):Pr(s)===i.type||i.type==="enum"&&i.values[s]||(s=void 0),Yl(s,a.default,i.default)}class ku{constructor(i,s){this.expression=i,this._warningHistory={},this._evaluator=new Gl,this._defaultValue=s?function(d){return d.type==="color"&&(Ho(d.default)||Array.isArray(d.default))?new _i(0,0,0,0):d.type==="color"?_i.parse(d.default)||null:d.default===void 0?null:d.default}(s):null,this._enumValues=s&&s.type==="enum"?s.values:null}evaluateWithoutErrorHandling(i,s,d,p,g,_,b,C){return this._evaluator.globals=i,this._evaluator.feature=s,this._evaluator.featureState=d,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=_,this._evaluator.featureTileCoord=b||null,this._evaluator.featureDistanceData=C||null,this.expression.evaluate(this._evaluator)}evaluate(i,s,d,p,g,_,b,C){this._evaluator.globals=i,this._evaluator.feature=s||null,this._evaluator.featureState=d||null,this._evaluator.canonical=p||null,this._evaluator.availableImages=g||null,this._evaluator.formattedSection=_||null,this._evaluator.featureTileCoord=b||null,this._evaluator.featureDistanceData=C||null;try{const T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new Hi(`Expected value to be one of ${Object.keys(this._enumValues).map(R=>JSON.stringify(R)).join(", ")}, but found ${JSON.stringify(T)} instead.`);return T}catch(T){return this._warningHistory[T.message]||(this._warningHistory[T.message]=!0,typeof console<"u"&&console.warn(T.message)),this._defaultValue}}}function zs(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in Xl}function _a(a,i){const s=new $r(Xl,[],i?function(p){const g={color:di,string:or,number:vn,enum:or,boolean:ar,formatted:ho,resolvedImage:pa};return p.type==="array"?Po(g[p.value]||gr,p.length):g[p.type]}(i):void 0),d=s.parse(a,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return d?Zd(new ku(d,i)):vl(s.errors)}class L{constructor(i,s){this.kind=i,this._styleExpression=s,this.isStateDependent=i!=="constant"&&!Gn(s.expression)}evaluateWithoutErrorHandling(i,s,d,p,g,_){return this._styleExpression.evaluateWithoutErrorHandling(i,s,d,p,g,_)}evaluate(i,s,d,p,g,_){return this._styleExpression.evaluate(i,s,d,p,g,_)}}class z{constructor(i,s,d,p){this.kind=i,this.zoomStops=d,this._styleExpression=s,this.isStateDependent=i!=="camera"&&!Gn(s.expression),this.interpolationType=p}evaluateWithoutErrorHandling(i,s,d,p,g,_){return this._styleExpression.evaluateWithoutErrorHandling(i,s,d,p,g,_)}evaluate(i,s,d,p,g,_){return this._styleExpression.evaluate(i,s,d,p,g,_)}interpolationFactor(i,s,d){return this.interpolationType?Ra.interpolationFactor(this.interpolationType,i,s,d):0}}function ne(a,i){if((a=_a(a,i)).result==="error")return a;const s=a.value.expression,d=Dn(s);if(!d&&!_l(i))return vl([new Ui("","data expressions not supported")]);const p=pr(s,["zoom","pitch","distance-from-center"]);if(!p&&!Au(i))return vl([new Ui("","zoom expressions not supported")]);const g=Lt(s);return g||p?g instanceof Ui?vl([g]):g instanceof Ra&&!Pu(i)?vl([new Ui("",'"interpolate" expressions cannot be used with this property')]):Zd(g?new z(d?"camera":"composite",a.value,g.labels,g instanceof Ra?g.interpolation:void 0):new L(d?"constant":"source",a.value)):vl([new Ui("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class ke{constructor(i,s){this._parameters=i,this._specification=s,vi(this,ki(this._parameters,this._specification))}static deserialize(i){return new ke(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Lt(a){let i=null;if(a instanceof wu)i=Lt(a.result);else if(a instanceof Zl){for(const s of a.args)if(i=Lt(s),i)break}else(a instanceof Oo||a instanceof Ra)&&a.input instanceof va&&a.input.name==="zoom"&&(i=a);return i instanceof Ui||a.eachChild(s=>{const d=Lt(s);d instanceof Ui?i=d:!i&&d?i=new Ui("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&d&&i!==d&&(i=new Ui("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}class At{constructor(i,s,d,p){this.message=(i?`${i}: `:"")+d,p&&(this.identifier=p),s!=null&&s.__line__&&(this.line=s.__line__)}}function wr(a){const i=a.key,s=a.value,d=a.valueSpec||{},p=a.objectElementValidators||{},g=a.style,_=a.styleSpec;let b=[];const C=Pr(s);if(C!=="object")return[new At(i,s,`object expected, ${C} found`)];for(const T in s){const R=T.split(".")[0];let F;p[R]?F=p[R]:d[R]?F=Ro:p["*"]?F=p["*"]:d["*"]&&(F=Ro),F?b=b.concat(F({key:(i&&`${i}.`)+T,value:s[T],valueSpec:d[R]||d["*"],style:g,styleSpec:_,object:s,objectKey:T},s)):b.push(new At(i,s[T],`unknown property "${T}"`))}for(const T in d)p[T]||d[T].required&&d[T].default===void 0&&s[T]===void 0&&b.push(new At(i,s,`missing required property "${T}"`));return b}function fi(a){const i=a.value,s=a.valueSpec,d=a.style,p=a.styleSpec,g=a.key,_=a.arrayElementValidator||Ro;if(Pr(i)!=="array")return[new At(g,i,`array expected, ${Pr(i)} found`)];if(s.length&&i.length!==s.length)return[new At(g,i,`array length ${s.length} expected, length ${i.length} found`)];if(s["min-length"]&&i.length<s["min-length"])return[new At(g,i,`array length at least ${s["min-length"]} expected, length ${i.length} found`)];let b={type:s.value,values:s.values,minimum:s.minimum,maximum:s.maximum,function:void 0};p.$version<7&&(b.function=s.function),Pr(s.value)==="object"&&(b=s.value);let C=[];for(let T=0;T<i.length;T++)C=C.concat(_({array:i,arrayIndex:T,value:i[T],valueSpec:b,style:d,styleSpec:p,key:`${g}[${T}]`}));return C}function Mi(a){const i=a.key,s=a.value,d=a.valueSpec;let p=Pr(s);if(p==="number"&&s!=s&&(p="NaN"),p!=="number")return[new At(i,s,`number expected, ${p} found`)];if("minimum"in d){let g=d.minimum;if(Pr(d.minimum)==="array"&&(g=d.minimum[a.arrayIndex]),s<g)return[new At(i,s,`${s} is less than the minimum value ${g}`)]}if("maximum"in d){let g=d.maximum;if(Pr(d.maximum)==="array"&&(g=d.maximum[a.arrayIndex]),s>g)return[new At(i,s,`${s} is greater than the maximum value ${g}`)]}return[]}function Ka(a){const i=a.valueSpec,s=Vr(a.value.type);let d,p,g,_={};const b=s!=="categorical"&&a.value.property===void 0,C=!b,T=Pr(a.value.stops)==="array"&&Pr(a.value.stops[0])==="array"&&Pr(a.value.stops[0][0])==="object",R=wr({key:a.key,value:a.value,valueSpec:a.styleSpec.function,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(Z){if(s==="identity")return[new At(Z.key,Z.value,'identity function may not have a "stops" property')];let X=[];const ee=Z.value;return X=X.concat(fi({key:Z.key,value:ee,valueSpec:Z.valueSpec,style:Z.style,styleSpec:Z.styleSpec,arrayElementValidator:F})),Pr(ee)==="array"&&ee.length===0&&X.push(new At(Z.key,ee,"array must have at least one stop")),X},default:function(Z){return Ro({key:Z.key,value:Z.value,valueSpec:i,style:Z.style,styleSpec:Z.styleSpec})}}});return s==="identity"&&b&&R.push(new At(a.key,a.value,'missing required property "property"')),s==="identity"||a.value.stops||R.push(new At(a.key,a.value,'missing required property "stops"')),s==="exponential"&&a.valueSpec.expression&&!Pu(a.valueSpec)&&R.push(new At(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(C&&!_l(a.valueSpec)?R.push(new At(a.key,a.value,"property functions not supported")):b&&!Au(a.valueSpec)&&R.push(new At(a.key,a.value,"zoom functions not supported"))),s!=="categorical"&&!T||a.value.property!==void 0||R.push(new At(a.key,a.value,'"property" property is required')),R;function F(Z){let X=[];const ee=Z.value,fe=Z.key;if(Pr(ee)!=="array")return[new At(fe,ee,`array expected, ${Pr(ee)} found`)];if(ee.length!==2)return[new At(fe,ee,`array length 2 expected, length ${ee.length} found`)];if(T){if(Pr(ee[0])!=="object")return[new At(fe,ee,`object expected, ${Pr(ee[0])} found`)];if(ee[0].zoom===void 0)return[new At(fe,ee,"object stop key must have zoom")];if(ee[0].value===void 0)return[new At(fe,ee,"object stop key must have value")];const be=Vr(ee[0].zoom);if(typeof be!="number")return[new At(fe,ee[0].zoom,"stop zoom values must be numbers")];if(g&&g>be)return[new At(fe,ee[0].zoom,"stop zoom values must appear in ascending order")];be!==g&&(g=be,p=void 0,_={}),X=X.concat(wr({key:`${fe}[0]`,value:ee[0],valueSpec:{zoom:{}},style:Z.style,styleSpec:Z.styleSpec,objectElementValidators:{zoom:Mi,value:V}}))}else X=X.concat(V({key:`${fe}[0]`,value:ee[0],valueSpec:{},style:Z.style,styleSpec:Z.styleSpec},ee));return zs(Zr(ee[1]))?X.concat([new At(`${fe}[1]`,ee[1],"expressions are not allowed in function stops.")]):X.concat(Ro({key:`${fe}[1]`,value:ee[1],valueSpec:i,style:Z.style,styleSpec:Z.styleSpec}))}function V(Z,X){const ee=Pr(Z.value),fe=Vr(Z.value),be=Z.value!==null?Z.value:X;if(d){if(ee!==d)return[new At(Z.key,be,`${ee} stop domain type must match previous stop domain type ${d}`)]}else d=ee;if(ee!=="number"&&ee!=="string"&&ee!=="boolean"&&typeof fe!="number"&&typeof fe!="string"&&typeof fe!="boolean")return[new At(Z.key,be,"stop domain value must be a number, string, or boolean")];if(ee!=="number"&&s!=="categorical"){let Oe=`number expected, ${ee} found`;return _l(i)&&s===void 0&&(Oe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new At(Z.key,be,Oe)]}return s!=="categorical"||ee!=="number"||typeof fe=="number"&&isFinite(fe)&&Math.floor(fe)===fe?s!=="categorical"&&ee==="number"&&typeof fe=="number"&&typeof p=="number"&&p!==void 0&&fe<p?[new At(Z.key,be,"stop domain values must appear in ascending order")]:(p=fe,s==="categorical"&&fe in _?[new At(Z.key,be,"stop domain values must be unique")]:(_[fe]=!0,[])):[new At(Z.key,be,`integer expected, found ${String(fe)}`)]}}function Di(a){const i=(a.expressionContext==="property"?ne:_a)(Zr(a.value),a.valueSpec);if(i.result==="error")return i.value.map(d=>new At(`${a.key}${d.key}`,a.value,d.message));const s=i.value.expression||i.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!s.outputDefined())return[new At(a.key,a.value,`Invalid data expression for "${a.propertyKey}". Output values must be contained as literals within the expression.`)];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!Gn(s))return[new At(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter")return Cc(s,a);if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!pr(s,["zoom","feature-state"]))return[new At(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!Dn(s))return[new At(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Cc(a,i){const s=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(i.valueSpec&&i.valueSpec.expression)for(const p of i.valueSpec.expression.parameters)s.delete(p);if(s.size===0)return[];const d=[];return a instanceof va&&s.has(a.name)?[new At(i.key,i.value,`["${a.name}"] expression is not supported in a filter for a ${i.object.type} layer with id: ${i.object.id}`)]:(a.eachChild(p=>{d.push(...Cc(p,i))}),d)}function Xd(a){const i=a.key,s=a.value,d=a.valueSpec,p=[];return Array.isArray(d.values)?d.values.indexOf(Vr(s))===-1&&p.push(new At(i,s,`expected one of [${d.values.join(", ")}], ${JSON.stringify(s)} found`)):Object.keys(d.values).indexOf(Vr(s))===-1&&p.push(new At(i,s,`expected one of [${Object.keys(d.values).join(", ")}], ${JSON.stringify(s)} found`)),p}function Yd(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const i of a.slice(1))if(!Yd(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}function Jd(a,i="fill"){if(a==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Yd(a)||(a=$s(a));const s=a;let d=!0;try{d=function(T){if(!Tc(T))return T;let R=Zr(T);return Mu(R),R=Sc(R),R}(s)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(s,null,2)}
        `)}const p=vt[`filter_${i}`],g=_a(d,p);let _=null;if(g.result==="error")throw new Error(g.value.map(T=>`${T.key}: ${T.message}`).join(", "));_=(T,R,F)=>g.value.evaluate(T,R,{},F);let b=null,C=null;if(d!==s){const T=_a(s,p);if(T.result==="error")throw new Error(T.value.map(R=>`${R.key}: ${R.message}`).join(", "));b=(R,F,V,Z,X)=>T.value.evaluate(R,F,{},V,void 0,void 0,Z,X),C=!Dn(T.value.expression)}return{filter:_,dynamicFilter:b||void 0,needGeometry:lp(d),needFeature:!!C}}function Sc(a){if(!Array.isArray(a))return a;const i=function(s){if(oh.has(s[0])){for(let d=1;d<s.length;d++)if(Tc(s[d]))return!0}return s}(a);return i===!0?i:i.map(s=>Sc(s))}function Mu(a){let i=!1;const s=[];if(a[0]==="case"){for(let d=1;d<a.length-1;d+=2)i=i||Tc(a[d]),s.push(a[d+1]);s.push(a[a.length-1])}else if(a[0]==="match"){i=i||Tc(a[1]);for(let d=2;d<a.length-1;d+=2)s.push(a[d+1]);s.push(a[a.length-1])}else if(a[0]==="step"){i=i||Tc(a[1]);for(let d=1;d<a.length-1;d+=2)s.push(a[d+1])}i&&(a.length=0,a.push("any",...s));for(let d=1;d<a.length;d++)Mu(a[d])}function Tc(a){if(!Array.isArray(a))return!1;if((i=a[0])==="pitch"||i==="distance-from-center")return!0;var i;for(let s=1;s<a.length;s++)if(Tc(a[s]))return!0;return!1}const oh=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Qm(a,i){return a<i?-1:a>i?1:0}function lp(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let i=1;i<a.length;i++)if(lp(a[i]))return!0;return!1}function $s(a){if(!a)return!0;const i=a[0];return a.length<=1?i!=="any":i==="=="?xl(a[1],a[2],"=="):i==="!="?Qd(xl(a[1],a[2],"==")):i==="<"||i===">"||i==="<="||i===">="?xl(a[1],a[2],i):i==="any"?(s=a.slice(1),["any"].concat(s.map($s))):i==="all"?["all"].concat(a.slice(1).map($s)):i==="none"?["all"].concat(a.slice(1).map($s).map(Qd)):i==="in"?ah(a[1],a.slice(2)):i==="!in"?Qd(ah(a[1],a.slice(2))):i==="has"?sh(a[1]):i==="!has"?Qd(sh(a[1])):i!=="within"||a;var s}function xl(a,i,s){switch(a){case"$type":return[`filter-type-${s}`,i];case"$id":return[`filter-id-${s}`,i];default:return[`filter-${s}`,a,i]}}function ah(a,i){if(i.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(s=>typeof s!=typeof i[0])?["filter-in-large",a,["literal",i.sort(Qm)]]:["filter-in-small",a,["literal",i]]}}function sh(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function Qd(a){return["!",a]}function pd(a){return Yd(Zr(a.value))?Di(vi({},a,{expressionContext:"filter",valueSpec:a.styleSpec[`filter_${a.layerType||"fill"}`]})):md(a)}function md(a){const i=a.value,s=a.key;if(Pr(i)!=="array")return[new At(s,i,`array expected, ${Pr(i)} found`)];const d=a.styleSpec;let p,g=[];if(i.length<1)return[new At(s,i,"filter array must have at least 1 element")];switch(g=g.concat(Xd({key:`${s}[0]`,value:i[0],valueSpec:d.filter_operator,style:a.style,styleSpec:a.styleSpec})),Vr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Vr(i[1])==="$type"&&g.push(new At(s,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&g.push(new At(s,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(p=Pr(i[1]),p!=="string"&&g.push(new At(`${s}[1]`,i[1],`string expected, ${p} found`)));for(let _=2;_<i.length;_++)p=Pr(i[_]),Vr(i[1])==="$type"?g=g.concat(Xd({key:`${s}[${_}]`,value:i[_],valueSpec:d.geometry_type,style:a.style,styleSpec:a.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&g.push(new At(`${s}[${_}]`,i[_],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let _=1;_<i.length;_++)g=g.concat(md({key:`${s}[${_}]`,value:i[_],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":p=Pr(i[1]),i.length!==2?g.push(new At(s,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="string"&&g.push(new At(`${s}[1]`,i[1],`string expected, ${p} found`));break;case"within":p=Pr(i[1]),i.length!==2?g.push(new At(s,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="object"&&g.push(new At(`${s}[1]`,i[1],`object expected, ${p} found`))}return g}function lh(a,i){const s=a.key,d=a.style,p=a.styleSpec,g=a.value,_=a.objectKey,b=p[`${i}_${a.layerType}`];if(!b)return[];const C=_.match(/^(.*)-transition$/);if(i==="paint"&&C&&b[C[1]]&&b[C[1]].transition)return Ro({key:s,value:g,valueSpec:p.transition,style:d,styleSpec:p});const T=a.valueSpec||b[_];if(!T)return[new At(s,g,`unknown property "${_}"`)];let R;if(Pr(g)==="string"&&_l(T)&&!T.tokens&&(R=/^{([^}]+)}$/.exec(g))){const V=`\`{ "type": "identity", "property": ${R?JSON.stringify(R[1]):'"_"'} }\``;return[new At(s,g,`"${_}" does not support interpolation syntax
Use an identity property function instead: ${V}.`)]}const F=[];return a.layerType==="symbol"&&(_==="text-field"&&d&&!d.glyphs&&F.push(new At(s,g,'use of "text-field" requires a style "glyphs" property')),_==="text-font"&&Ho(Zr(g))&&Vr(g.type)==="identity"&&F.push(new At(s,g,'"text-font" does not support identity functions'))),F.concat(Ro({key:a.key,value:g,valueSpec:T,style:d,styleSpec:p,expressionContext:"property",propertyType:i,propertyKey:_}))}function cp(a){return lh(a,"paint")}function ch(a){return lh(a,"layout")}function uh(a){let i=[];const s=a.value,d=a.key,p=a.style,g=a.styleSpec;s.type||s.ref||i.push(new At(d,s,'either "type" or "ref" is required'));let _=Vr(s.type);const b=Vr(s.ref);if(s.id){const C=Vr(s.id);for(let T=0;T<a.arrayIndex;T++){const R=p.layers[T];Vr(R.id)===C&&i.push(new At(d,s.id,`duplicate layer id "${s.id}", previously used at line ${R.id.__line__}`))}}if("ref"in s){let C;["type","source","source-layer","filter","layout"].forEach(T=>{T in s&&i.push(new At(d,s[T],`"${T}" is prohibited for ref layers`))}),p.layers.forEach(T=>{Vr(T.id)===b&&(C=T)}),C?C.ref?i.push(new At(d,s.ref,"ref cannot reference another ref layer")):_=Vr(C.type):typeof b=="string"&&i.push(new At(d,s.ref,`ref layer "${b}" not found`))}else if(_!=="background"&&_!=="sky")if(s.source){const C=p.sources&&p.sources[s.source],T=C&&Vr(C.type);C?T==="vector"&&_==="raster"?i.push(new At(d,s.source,`layer "${s.id}" requires a raster source`)):T==="raster"&&_!=="raster"?i.push(new At(d,s.source,`layer "${s.id}" requires a vector source`)):T!=="vector"||s["source-layer"]?T==="raster-dem"&&_!=="hillshade"?i.push(new At(d,s.source,"raster-dem source can only be used with layer type 'hillshade'.")):_!=="line"||!s.paint||!s.paint["line-gradient"]&&!s.paint["line-trim-offset"]||T==="geojson"&&C.lineMetrics||i.push(new At(d,s,`layer "${s.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new At(d,s,`layer "${s.id}" must specify a "source-layer"`)):i.push(new At(d,s.source,`source "${s.source}" not found`))}else i.push(new At(d,s,'missing required property "source"'));return i=i.concat(wr({key:d,value:s,valueSpec:g.layer,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Ro({key:`${d}.type`,value:s.type,valueSpec:g.layer.type,style:a.style,styleSpec:a.styleSpec,object:s,objectKey:"type"}),filter:C=>pd(vi({layerType:_},C)),layout:C=>wr({layer:s,key:C.key,value:C.value,valueSpec:{},style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":T=>ch(vi({layerType:_},T))}}),paint:C=>wr({layer:s,key:C.key,value:C.value,valueSpec:{},style:C.style,styleSpec:C.styleSpec,objectElementValidators:{"*":T=>cp(vi({layerType:_},T))}})}})),i}function Jl(a){const i=a.value,s=a.key,d=Pr(i);return d!=="string"?[new At(s,i,`string expected, ${d} found`)]:[]}const dh={promoteId:function({key:a,value:i}){if(Pr(i)==="string")return Jl({key:a,value:i});{const s=[];for(const d in i)s.push(...Jl({key:`${a}.${d}`,value:i[d]}));return s}}};function ef(a){const i=a.value,s=a.key,d=a.styleSpec,p=a.style;if(!i.type)return[new At(s,i,'"type" is required')];const g=Vr(i.type);let _;switch(g){case"vector":case"raster":case"raster-dem":return _=wr({key:s,value:i,valueSpec:d[`source_${g.replace("-","_")}`],style:a.style,styleSpec:d,objectElementValidators:dh}),_;case"geojson":if(_=wr({key:s,value:i,valueSpec:d.source_geojson,style:p,styleSpec:d,objectElementValidators:dh}),i.cluster)for(const b in i.clusterProperties){const[C,T]=i.clusterProperties[b],R=typeof C=="string"?[C,["accumulated"],["get",b]]:C;_.push(...Di({key:`${s}.${b}.map`,value:T,expressionContext:"cluster-map"})),_.push(...Di({key:`${s}.${b}.reduce`,value:R,expressionContext:"cluster-reduce"}))}return _;case"video":return wr({key:s,value:i,valueSpec:d.source_video,style:p,styleSpec:d});case"image":return wr({key:s,value:i,valueSpec:d.source_image,style:p,styleSpec:d});case"canvas":return[new At(s,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Xd({key:`${s}.type`,value:i.type,valueSpec:{values:up(d)},style:p,styleSpec:d})}}function up(a){return a.source.reduce((i,s)=>{const d=a[s];return d.type.type==="enum"&&(i=i.concat(Object.keys(d.type.values))),i},[])}function Ql(a){const i=a.value,s=a.styleSpec,d=s.light,p=a.style;let g=[];const _=Pr(i);if(i===void 0)return g;if(_!=="object")return g=g.concat([new At("light",i,`object expected, ${_} found`)]),g;for(const b in i){const C=b.match(/^(.*)-transition$/);g=g.concat(C&&d[C[1]]&&d[C[1]].transition?Ro({key:b,value:i[b],valueSpec:s.transition,style:p,styleSpec:s}):d[b]?Ro({key:b,value:i[b],valueSpec:d[b],style:p,styleSpec:s}):[new At(b,i[b],`unknown property "${b}"`)])}return g}function tf(a){const i=a.value,s=a.key,d=a.style,p=a.styleSpec,g=p.terrain;let _=[];const b=Pr(i);if(i===void 0)return _;if(b!=="object")return _=_.concat([new At("terrain",i,`object expected, ${b} found`)]),_;for(const C in i){const T=C.match(/^(.*)-transition$/);_=_.concat(T&&g[T[1]]&&g[T[1]].transition?Ro({key:C,value:i[C],valueSpec:p.transition,style:d,styleSpec:p}):g[C]?Ro({key:C,value:i[C],valueSpec:g[C],style:d,styleSpec:p}):[new At(C,i[C],`unknown property "${C}"`)])}if(i.source){const C=d.sources&&d.sources[i.source],T=C&&Vr(C.type);C?T!=="raster-dem"&&_.push(new At(s,i.source,`terrain cannot be used with a source of type ${String(T)}, it only be used with a "raster-dem" source type`)):_.push(new At(s,i.source,`source "${i.source}" not found`))}else _.push(new At(s,i,'terrain is missing required property "source"'));return _}function nf(a){const i=a.value,s=a.style,d=a.styleSpec,p=d.fog;let g=[];const _=Pr(i);if(i===void 0)return g;if(_!=="object")return g=g.concat([new At("fog",i,`object expected, ${_} found`)]),g;for(const b in i){const C=b.match(/^(.*)-transition$/);g=g.concat(C&&p[C[1]]&&p[C[1]].transition?Ro({key:b,value:i[b],valueSpec:d.transition,style:s,styleSpec:d}):p[b]?Ro({key:b,value:i[b],valueSpec:p[b],style:s,styleSpec:d}):[new At(b,i[b],`unknown property "${b}"`)])}return g}const fh={"*":()=>[],array:fi,boolean:function(a){const i=a.value,s=a.key,d=Pr(i);return d!=="boolean"?[new At(s,i,`boolean expected, ${d} found`)]:[]},number:Mi,color:function(a){const i=a.key,s=a.value,d=Pr(s);return d!=="string"?[new At(i,s,`color expected, ${d} found`)]:ga(s)===null?[new At(i,s,`color expected, "${s}" found`)]:[]},enum:Xd,filter:pd,function:Ka,layer:uh,object:wr,source:ef,light:Ql,terrain:tf,fog:nf,string:Jl,formatted:function(a){return Jl(a).length===0?[]:Di(a)},resolvedImage:function(a){return Jl(a).length===0?[]:Di(a)},projection:function(a){const i=a.value,s=a.styleSpec,d=s.projection,p=a.style;let g=[];const _=Pr(i);if(_==="object")for(const b in i)g=g.concat(Ro({key:b,value:i[b],valueSpec:d[b],style:p,styleSpec:s}));else _!=="string"&&(g=g.concat([new At("projection",i,`object or string expected, ${_} found`)]));return g}};function Ro(a){const i=a.value,s=a.valueSpec,d=a.styleSpec;return s.expression&&Ho(Vr(i))?Ka(a):s.expression&&zs(Zr(i))?Di(a):s.type&&fh[s.type]?fh[s.type](a):wr(vi({},a,{valueSpec:s.type?d[s.type]:s}))}function dp(a){const i=a.value,s=a.key,d=Jl(a);return d.length||(i.indexOf("{fontstack}")===-1&&d.push(new At(s,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&d.push(new At(s,i,'"glyphs" url must include a "{range}" token'))),d}function rf(a,i=vt){return mo(Ro({key:"",value:a,valueSpec:i.$root,styleSpec:i,style:a,objectElementValidators:{glyphs:dp,"*":()=>[]}}))}const eg=a=>mo(cp(a)),Ac=a=>mo(ch(a));function mo(a){return a.slice().sort((i,s)=>i.line&&s.line?i.line-s.line:0)}function fp(a,i){let s=!1;if(i&&i.length)for(const d of i)a.fire(new xr(new Error(d.message))),s=!0;return s}var tg=js,bs=3;function js(a,i,s){var d=this.cells=[];if(a instanceof ArrayBuffer){this.arrayBuffer=a;var p=new Int32Array(this.arrayBuffer);a=p[0],this.d=(i=p[1])+2*(s=p[2]);for(var g=0;g<this.d*this.d;g++){var _=p[bs+g],b=p[bs+g+1];d.push(_===b?null:p.subarray(_,b))}var C=p[bs+d.length+1];this.keys=p.subarray(p[bs+d.length],C),this.bboxes=p.subarray(C),this.insert=this._insertReadonly}else{this.d=i+2*s;for(var T=0;T<this.d*this.d;T++)d.push([]);this.keys=[],this.bboxes=[]}this.n=i,this.extent=a,this.padding=s,this.scale=i/a,this.uid=0;var R=s/i*a;this.min=-R,this.max=a+R}js.prototype.insert=function(a,i,s,d,p){this._forEachCell(i,s,d,p,this._insertCell,this.uid++),this.keys.push(a),this.bboxes.push(i),this.bboxes.push(s),this.bboxes.push(d),this.bboxes.push(p)},js.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},js.prototype._insertCell=function(a,i,s,d,p,g){this.cells[p].push(g)},js.prototype.query=function(a,i,s,d,p){var g=this.min,_=this.max;if(a<=g&&i<=g&&_<=s&&_<=d&&!p)return Array.prototype.slice.call(this.keys);var b=[];return this._forEachCell(a,i,s,d,this._queryCell,b,{},p),b},js.prototype._queryCell=function(a,i,s,d,p,g,_,b){var C=this.cells[p];if(C!==null)for(var T=this.keys,R=this.bboxes,F=0;F<C.length;F++){var V=C[F];if(_[V]===void 0){var Z=4*V;(b?b(R[Z+0],R[Z+1],R[Z+2],R[Z+3]):a<=R[Z+2]&&i<=R[Z+3]&&s>=R[Z+0]&&d>=R[Z+1])?(_[V]=!0,g.push(T[V])):_[V]=!1}}},js.prototype._forEachCell=function(a,i,s,d,p,g,_,b){for(var C=this._convertToCellCoord(a),T=this._convertToCellCoord(i),R=this._convertToCellCoord(s),F=this._convertToCellCoord(d),V=C;V<=R;V++)for(var Z=T;Z<=F;Z++){var X=this.d*Z+V;if((!b||b(this._convertFromCellCoord(V),this._convertFromCellCoord(Z),this._convertFromCellCoord(V+1),this._convertFromCellCoord(Z+1)))&&p.call(this,a,i,s,d,X,g,_,b))return}},js.prototype._convertFromCellCoord=function(a){return(a-this.padding)/this.scale},js.prototype._convertToCellCoord=function(a){return Math.max(0,Math.min(this.d-1,Math.floor(a*this.scale)+this.padding))},js.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var a=this.cells,i=bs+this.cells.length+1+1,s=0,d=0;d<this.cells.length;d++)s+=this.cells[d].length;var p=new Int32Array(i+s+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;for(var g=i,_=0;_<a.length;_++){var b=a[_];p[bs+_]=g,p.set(b,g),g+=b.length}return p[bs+a.length]=g,p.set(this.keys,g),p[bs+a.length+1]=g+=this.keys.length,p.set(this.bboxes,g),g+=this.bboxes.length,p.buffer};var Pc=Y(tg);const of={};function Wn(a,i,s={}){Object.defineProperty(a,"_classRegistryKey",{value:i,writeable:!1}),of[i]={klass:a,omit:s.omit||[]}}Wn(Object,"Object"),Pc.serialize=function(a,i){const s=a.toArrayBuffer();return i&&i.push(s),{buffer:s}},Pc.deserialize=function(a){return new Pc(a.buffer)},Object.defineProperty(Pc,"name",{value:"Grid"}),Wn(Pc,"Grid"),Wn(_i,"Color"),Wn(Error,"Error"),Wn(Vn,"AJAXError"),Wn(Go,"ResolvedImage"),Wn(ke,"StylePropertyFunction"),Wn(ku,"StyleExpression",{omit:["_evaluator"]}),Wn(z,"ZoomDependentExpression"),Wn(L,"ZoomConstantExpression"),Wn(va,"CompoundExpression",{omit:["_evaluate"]});for(const a in Xl)of[Xl[a]._classRegistryKey]||Wn(Xl[a],`Expression${a}`);function hh(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function af(a){return v.ImageBitmap&&a instanceof v.ImageBitmap}function bl(a,i){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp)return a;if(hh(a)||af(a))return i&&i.push(a),a;if(ArrayBuffer.isView(a)){const s=a;return i&&i.push(s.buffer),s}if(a instanceof v.ImageData)return i&&i.push(a.data.buffer),a;if(Array.isArray(a)){const s=[];for(const d of a)s.push(bl(d,i));return s}if(typeof a=="object"){const s=a.constructor,d=s._classRegistryKey;if(!d)throw new Error(`can't serialize object of unregistered class ${d}`);const p=s.serialize?s.serialize(a,i):{};if(!s.serialize){for(const g in a)a.hasOwnProperty(g)&&(of[d].omit.indexOf(g)>=0||(p[g]=bl(a[g],i)));a instanceof Error&&(p.message=a.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(p.$name=d),p}throw new Error("can't serialize object of type "+typeof a)}function Us(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||hh(a)||af(a)||ArrayBuffer.isView(a)||a instanceof v.ImageData)return a;if(Array.isArray(a))return a.map(Us);if(typeof a=="object"){const i=a.$name||"Object",{klass:s}=of[i];if(!s)throw new Error(`can't deserialize unregistered class ${i}`);if(s.deserialize)return s.deserialize(a);const d=Object.create(s.prototype);for(const p of Object.keys(a))p!=="$name"&&(d[p]=Us(a[p]));return d}throw new Error("can't deserialize object of type "+typeof a)}const Bn={"Latin-1 Supplement":a=>a>=128&&a<=255,Arabic:a=>a>=1536&&a<=1791,"Arabic Supplement":a=>a>=1872&&a<=1919,"Arabic Extended-A":a=>a>=2208&&a<=2303,"Hangul Jamo":a=>a>=4352&&a<=4607,"Unified Canadian Aboriginal Syllabics":a=>a>=5120&&a<=5759,Khmer:a=>a>=6016&&a<=6143,"Unified Canadian Aboriginal Syllabics Extended":a=>a>=6320&&a<=6399,"General Punctuation":a=>a>=8192&&a<=8303,"Letterlike Symbols":a=>a>=8448&&a<=8527,"Number Forms":a=>a>=8528&&a<=8591,"Miscellaneous Technical":a=>a>=8960&&a<=9215,"Control Pictures":a=>a>=9216&&a<=9279,"Optical Character Recognition":a=>a>=9280&&a<=9311,"Enclosed Alphanumerics":a=>a>=9312&&a<=9471,"Geometric Shapes":a=>a>=9632&&a<=9727,"Miscellaneous Symbols":a=>a>=9728&&a<=9983,"Miscellaneous Symbols and Arrows":a=>a>=11008&&a<=11263,"CJK Radicals Supplement":a=>a>=11904&&a<=12031,"Kangxi Radicals":a=>a>=12032&&a<=12255,"Ideographic Description Characters":a=>a>=12272&&a<=12287,"CJK Symbols and Punctuation":a=>a>=12288&&a<=12351,Hiragana:a=>a>=12352&&a<=12447,Katakana:a=>a>=12448&&a<=12543,Bopomofo:a=>a>=12544&&a<=12591,"Hangul Compatibility Jamo":a=>a>=12592&&a<=12687,Kanbun:a=>a>=12688&&a<=12703,"Bopomofo Extended":a=>a>=12704&&a<=12735,"CJK Strokes":a=>a>=12736&&a<=12783,"Katakana Phonetic Extensions":a=>a>=12784&&a<=12799,"Enclosed CJK Letters and Months":a=>a>=12800&&a<=13055,"CJK Compatibility":a=>a>=13056&&a<=13311,"CJK Unified Ideographs Extension A":a=>a>=13312&&a<=19903,"Yijing Hexagram Symbols":a=>a>=19904&&a<=19967,"CJK Unified Ideographs":a=>a>=19968&&a<=40959,"Yi Syllables":a=>a>=40960&&a<=42127,"Yi Radicals":a=>a>=42128&&a<=42191,"Hangul Jamo Extended-A":a=>a>=43360&&a<=43391,"Hangul Syllables":a=>a>=44032&&a<=55215,"Hangul Jamo Extended-B":a=>a>=55216&&a<=55295,"Private Use Area":a=>a>=57344&&a<=63743,"CJK Compatibility Ideographs":a=>a>=63744&&a<=64255,"Arabic Presentation Forms-A":a=>a>=64336&&a<=65023,"Vertical Forms":a=>a>=65040&&a<=65055,"CJK Compatibility Forms":a=>a>=65072&&a<=65103,"Small Form Variants":a=>a>=65104&&a<=65135,"Arabic Presentation Forms-B":a=>a>=65136&&a<=65279,"Halfwidth and Fullwidth Forms":a=>a>=65280&&a<=65519};function ph(a){for(const i of a)if(M(i.charCodeAt(0)))return!0;return!1}function gd(a){for(const i of a)if(!ce(i.charCodeAt(0)))return!1;return!0}function ce(a){return!(Bn.Arabic(a)||Bn["Arabic Supplement"](a)||Bn["Arabic Extended-A"](a)||Bn["Arabic Presentation Forms-A"](a)||Bn["Arabic Presentation Forms-B"](a))}function M(a){return!(a!==746&&a!==747&&(a<4352||!(Bn["Bopomofo Extended"](a)||Bn.Bopomofo(a)||Bn["CJK Compatibility Forms"](a)&&!(a>=65097&&a<=65103)||Bn["CJK Compatibility Ideographs"](a)||Bn["CJK Compatibility"](a)||Bn["CJK Radicals Supplement"](a)||Bn["CJK Strokes"](a)||!(!Bn["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||Bn["CJK Unified Ideographs Extension A"](a)||Bn["CJK Unified Ideographs"](a)||Bn["Enclosed CJK Letters and Months"](a)||Bn["Hangul Compatibility Jamo"](a)||Bn["Hangul Jamo Extended-A"](a)||Bn["Hangul Jamo Extended-B"](a)||Bn["Hangul Jamo"](a)||Bn["Hangul Syllables"](a)||Bn.Hiragana(a)||Bn["Ideographic Description Characters"](a)||Bn.Kanbun(a)||Bn["Kangxi Radicals"](a)||Bn["Katakana Phonetic Extensions"](a)||Bn.Katakana(a)&&a!==12540||!(!Bn["Halfwidth and Fullwidth Forms"](a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!Bn["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||Bn["Unified Canadian Aboriginal Syllabics"](a)||Bn["Unified Canadian Aboriginal Syllabics Extended"](a)||Bn["Vertical Forms"](a)||Bn["Yijing Hexagram Symbols"](a)||Bn["Yi Syllables"](a)||Bn["Yi Radicals"](a))))}function K(a){return!(M(a)||function(i){return!!(Bn["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||Bn["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||Bn["Letterlike Symbols"](i)||Bn["Number Forms"](i)||Bn["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||Bn["Control Pictures"](i)&&i!==9251||Bn["Optical Character Recognition"](i)||Bn["Enclosed Alphanumerics"](i)||Bn["Geometric Shapes"](i)||Bn["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||Bn["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Bn["CJK Symbols and Punctuation"](i)||Bn.Katakana(i)||Bn["Private Use Area"](i)||Bn["CJK Compatibility Forms"](i)||Bn["Small Form Variants"](i)||Bn["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(a))}function _e(a){return a>=1424&&a<=2303||Bn["Arabic Presentation Forms-A"](a)||Bn["Arabic Presentation Forms-B"](a)}function at(a,i){return!(!i&&_e(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||Bn.Khmer(a))}function dt(a){for(const i of a)if(_e(i.charCodeAt(0)))return!0;return!1}const Ft="deferred",dn="loading",Un="loaded";let Jn=null,m="unavailable",l=null;const f=function(a){a&&typeof a=="string"&&a.indexOf("NetworkError")>-1&&(m="error"),Jn&&Jn(a)};function y(){x.fire(new Ur("pluginStateChange",{pluginStatus:m,pluginURL:l}))}const x=new Br,w=function(){return m},P=function(){if(m!==Ft||!l)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");m=dn,y(),l&&yr({url:l},a=>{a?f(a):(m=Un,y())})},I={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>m===Un||I.applyArabicShaping!=null,isLoading:()=>m===dn,setState(a){m=a.pluginStatus,l=a.pluginURL},isParsed:()=>I.applyArabicShaping!=null&&I.processBidirectionalText!=null&&I.processStyledBidirectionalText!=null,getPluginURL:()=>l};class D{constructor(i,s){this.zoom=i,s?(this.now=s.now,this.fadeDuration=s.fadeDuration,this.transition=s.transition,this.pitch=s.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(i){return function(s,d){for(const p of s)if(!at(p.charCodeAt(0),d))return!1;return!0}(i,I.isLoaded())}}class ${constructor(i,s){this.property=i,this.value=s,this.expression=function(d,p){if(Ho(d))return new ke(d,p);if(zs(d)){const g=ne(d,p);if(g.result==="error")throw new Error(g.value.map(_=>`${_.key}: ${_.message}`).join(", "));return g.value}{let g=d;return typeof d=="string"&&p.type==="color"&&(g=_i.parse(d)),{kind:"constant",evaluate:()=>g}}}(s===void 0?i.specification.default:s,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,s,d){return this.property.possiblyEvaluate(this,i,s,d)}}class j{constructor(i){this.property=i,this.value=new $(i,void 0)}transitioned(i,s){return new ae(this.property,this.value,s,pn({},i.transition,this.transition),i.now)}untransitioned(){return new ae(this.property,this.value,null,{},0)}}class J{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return En(this._values[i].value.value)}setValue(i,s){this._values.hasOwnProperty(i)||(this._values[i]=new j(this._values[i].property)),this._values[i].value=new $(this._values[i].property,s===null?void 0:En(s))}getTransition(i){return En(this._values[i].transition)}setTransition(i,s){this._values.hasOwnProperty(i)||(this._values[i]=new j(this._values[i].property)),this._values[i].transition=En(s)||void 0}serialize(){const i={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(i[s]=d);const p=this.getTransition(s);p!==void 0&&(i[`${s}-transition`]=p)}return i}transitioned(i,s){const d=new ue(this._properties);for(const p of Object.keys(this._values))d._values[p]=this._values[p].transitioned(i,s._values[p]);return d}untransitioned(){const i=new ue(this._properties);for(const s of Object.keys(this._values))i._values[s]=this._values[s].untransitioned();return i}}class ae{constructor(i,s,d,p,g){const _=p.delay||0,b=p.duration||0;g=g||0,this.property=i,this.value=s,this.begin=g+_,this.end=this.begin+b,i.specification.transition&&(p.delay||p.duration)&&(this.prior=d)}possiblyEvaluate(i,s,d){const p=i.now||0,g=this.value.possiblyEvaluate(i,s,d),_=this.prior;if(_){if(p>this.end)return this.prior=null,g;if(this.value.isDataDriven())return this.prior=null,g;if(p<this.begin)return _.possiblyEvaluate(i,s,d);{const b=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(i,s,d),g,An(b))}}return g}}class ue{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,s,d){const p=new ve(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(i,s,d);return p}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class me{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}getValue(i){return En(this._values[i].value)}setValue(i,s){this._values[i]=new $(this._values[i].property,s===null?void 0:En(s))}serialize(){const i={};for(const s of Object.keys(this._values)){const d=this.getValue(s);d!==void 0&&(i[s]=d)}return i}possiblyEvaluate(i,s,d){const p=new ve(this._properties);for(const g of Object.keys(this._values))p._values[g]=this._values[g].possiblyEvaluate(i,s,d);return p}}class pe{constructor(i,s,d){this.property=i,this.value=s,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,s,d,p){return this.property.evaluate(this.value,this.parameters,i,s,d,p)}}class ve{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Q{constructor(i){this.specification=i}possiblyEvaluate(i,s){return i.expression.evaluate(s)}interpolate(i,s,d){const p=dl[this.specification.type];return p?p(i,s,d):i}}class ge{constructor(i,s){this.specification=i,this.overrides=s}possiblyEvaluate(i,s,d,p){return new pe(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(s,null,{},d,p)}:i.expression,s)}interpolate(i,s,d){if(i.value.kind!=="constant"||s.value.kind!=="constant")return i;if(i.value.value===void 0||s.value.value===void 0)return new pe(this,{kind:"constant",value:void 0},i.parameters);const p=dl[this.specification.type];return p?new pe(this,{kind:"constant",value:p(i.value.value,s.value.value,d)},i.parameters):i}evaluate(i,s,d,p,g,_){return i.kind==="constant"?i.value:i.evaluate(s,d,p,g,_)}}class we{constructor(i){this.specification=i}possiblyEvaluate(i,s,d,p){return!!i.expression.evaluate(s,null,{},d,p)}interpolate(){return!1}}class Te{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const s=new D(0,{});for(const d in i){const p=i[d];p.specification.overridable&&this.overridableProperties.push(d);const g=this.defaultPropertyValues[d]=new $(p,void 0),_=this.defaultTransitionablePropertyValues[d]=new j(p);this.defaultTransitioningPropertyValues[d]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=g.possiblyEvaluate(s)}}}function Ne(a,i){return 256*(a=Ve(Math.floor(a),0,255))+Ve(Math.floor(i),0,255)}Wn(ge,"DataDrivenProperty"),Wn(Q,"DataConstantProperty"),Wn(we,"ColorRampProperty");const De={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class $e{constructor(i,s){this._structArray=i,this._pos1=s*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Je{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,s){return i._trim(),s&&(i.isTransferred=!0,s.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const s=Object.create(this.prototype);return s.arrayBuffer=i.arrayBuffer,s.length=i.length,s.capacity=i.arrayBuffer.byteLength/s.bytesPerElement,s._refreshViews(),s}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const s=this.uint8;this._refreshViews(),s&&this.uint8.set(s)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ke(a,i=1){let s=0,d=0;return{members:a.map(p=>{const g=De[p.type].BYTES_PER_ELEMENT,_=s=st(s,Math.max(i,g)),b=p.components||1;return d=Math.max(d,g),s+=g*b,{name:p.name,type:p.type,components:b,offset:_}}),size:st(s,Math.max(d,i)),alignment:i}}function st(a,i){return Math.ceil(a/i)*i}class Ot extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,s){const d=this.length;return this.resize(d+1),this.emplace(d,i,s)}emplace(i,s,d){const p=2*i;return this.int16[p+0]=s,this.int16[p+1]=d,i}}Ot.prototype.bytesPerElement=4,Wn(Ot,"StructArrayLayout2i4");class it extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,s,d){const p=this.length;return this.resize(p+1),this.emplace(p,i,s,d)}emplace(i,s,d,p){const g=3*i;return this.int16[g+0]=s,this.int16[g+1]=d,this.int16[g+2]=p,i}}it.prototype.bytesPerElement=6,Wn(it,"StructArrayLayout3i6");class St extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,s,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,i,s,d,p)}emplace(i,s,d,p,g){const _=4*i;return this.int16[_+0]=s,this.int16[_+1]=d,this.int16[_+2]=p,this.int16[_+3]=g,i}}St.prototype.bytesPerElement=8,Wn(St,"StructArrayLayout4i8");class gt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_,b){const C=this.length;return this.resize(C+1),this.emplace(C,i,s,d,p,g,_,b)}emplace(i,s,d,p,g,_,b,C){const T=6*i,R=12*i,F=3*i;return this.int16[T+0]=s,this.int16[T+1]=d,this.uint8[R+4]=p,this.uint8[R+5]=g,this.uint8[R+6]=_,this.uint8[R+7]=b,this.float32[F+2]=C,i}}gt.prototype.bytesPerElement=12,Wn(gt,"StructArrayLayout2i4ub1f12");class tn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,i,s,d,p)}emplace(i,s,d,p,g){const _=4*i;return this.float32[_+0]=s,this.float32[_+1]=d,this.float32[_+2]=p,this.float32[_+3]=g,i}}tn.prototype.bytesPerElement=16,Wn(tn,"StructArrayLayout4f16");class mt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g){const _=this.length;return this.resize(_+1),this.emplace(_,i,s,d,p,g)}emplace(i,s,d,p,g,_){const b=6*i,C=3*i;return this.uint16[b+0]=s,this.uint16[b+1]=d,this.uint16[b+2]=p,this.uint16[b+3]=g,this.float32[C+2]=_,i}}mt.prototype.bytesPerElement=12,Wn(mt,"StructArrayLayout4ui1f12");class Dt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,s,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,i,s,d,p)}emplace(i,s,d,p,g){const _=4*i;return this.uint16[_+0]=s,this.uint16[_+1]=d,this.uint16[_+2]=p,this.uint16[_+3]=g,i}}Dt.prototype.bytesPerElement=8,Wn(Dt,"StructArrayLayout4ui8");class an extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_){const b=this.length;return this.resize(b+1),this.emplace(b,i,s,d,p,g,_)}emplace(i,s,d,p,g,_,b){const C=6*i;return this.int16[C+0]=s,this.int16[C+1]=d,this.int16[C+2]=p,this.int16[C+3]=g,this.int16[C+4]=_,this.int16[C+5]=b,i}}an.prototype.bytesPerElement=12,Wn(an,"StructArrayLayout6i12");class Yt extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_,b,C,T,R,F,V){const Z=this.length;return this.resize(Z+1),this.emplace(Z,i,s,d,p,g,_,b,C,T,R,F,V)}emplace(i,s,d,p,g,_,b,C,T,R,F,V,Z){const X=12*i;return this.int16[X+0]=s,this.int16[X+1]=d,this.int16[X+2]=p,this.int16[X+3]=g,this.uint16[X+4]=_,this.uint16[X+5]=b,this.uint16[X+6]=C,this.uint16[X+7]=T,this.int16[X+8]=R,this.int16[X+9]=F,this.int16[X+10]=V,this.int16[X+11]=Z,i}}Yt.prototype.bytesPerElement=24,Wn(Yt,"StructArrayLayout4i4ui4i24");class hn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_){const b=this.length;return this.resize(b+1),this.emplace(b,i,s,d,p,g,_)}emplace(i,s,d,p,g,_,b){const C=10*i,T=5*i;return this.int16[C+0]=s,this.int16[C+1]=d,this.int16[C+2]=p,this.float32[T+2]=g,this.float32[T+3]=_,this.float32[T+4]=b,i}}hn.prototype.bytesPerElement=20,Wn(hn,"StructArrayLayout3i3f20");class tr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const s=this.length;return this.resize(s+1),this.emplace(s,i)}emplace(i,s){return this.uint32[1*i+0]=s,i}}tr.prototype.bytesPerElement=4,Wn(tr,"StructArrayLayout1ul4");class _r extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_,b,C,T,R,F,V,Z){const X=this.length;return this.resize(X+1),this.emplace(X,i,s,d,p,g,_,b,C,T,R,F,V,Z)}emplace(i,s,d,p,g,_,b,C,T,R,F,V,Z,X){const ee=20*i,fe=10*i;return this.int16[ee+0]=s,this.int16[ee+1]=d,this.int16[ee+2]=p,this.int16[ee+3]=g,this.int16[ee+4]=_,this.float32[fe+3]=b,this.float32[fe+4]=C,this.float32[fe+5]=T,this.float32[fe+6]=R,this.int16[ee+14]=F,this.uint32[fe+8]=V,this.uint16[ee+18]=Z,this.uint16[ee+19]=X,i}}_r.prototype.bytesPerElement=40,Wn(_r,"StructArrayLayout5i4f1i1ul2ui40");class Zn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_,b){const C=this.length;return this.resize(C+1),this.emplace(C,i,s,d,p,g,_,b)}emplace(i,s,d,p,g,_,b,C){const T=8*i;return this.int16[T+0]=s,this.int16[T+1]=d,this.int16[T+2]=p,this.int16[T+4]=g,this.int16[T+5]=_,this.int16[T+6]=b,this.int16[T+7]=C,i}}Zn.prototype.bytesPerElement=16,Wn(Zn,"StructArrayLayout3i2i2i16");class cr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g){const _=this.length;return this.resize(_+1),this.emplace(_,i,s,d,p,g)}emplace(i,s,d,p,g,_){const b=4*i,C=8*i;return this.float32[b+0]=s,this.float32[b+1]=d,this.float32[b+2]=p,this.int16[C+6]=g,this.int16[C+7]=_,i}}cr.prototype.bytesPerElement=16,Wn(cr,"StructArrayLayout2f1f2i16");class Lr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,i,s,d,p)}emplace(i,s,d,p,g){const _=12*i,b=3*i;return this.uint8[_+0]=s,this.uint8[_+1]=d,this.float32[b+1]=p,this.float32[b+2]=g,i}}Lr.prototype.bytesPerElement=12,Wn(Lr,"StructArrayLayout2ub2f12");class Mr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d){const p=this.length;return this.resize(p+1),this.emplace(p,i,s,d)}emplace(i,s,d,p){const g=3*i;return this.float32[g+0]=s,this.float32[g+1]=d,this.float32[g+2]=p,i}}Mr.prototype.bytesPerElement=12,Wn(Mr,"StructArrayLayout3f12");class Qn extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,s,d){const p=this.length;return this.resize(p+1),this.emplace(p,i,s,d)}emplace(i,s,d,p){const g=3*i;return this.uint16[g+0]=s,this.uint16[g+1]=d,this.uint16[g+2]=p,i}}Qn.prototype.bytesPerElement=6,Wn(Qn,"StructArrayLayout3ui6");class ei extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe,be,Oe,Ee,Me,je){const ze=this.length;return this.resize(ze+1),this.emplace(ze,i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe,be,Oe,Ee,Me,je)}emplace(i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe,be,Oe,Ee,Me,je,ze){const yt=30*i,pt=15*i,Mt=60*i;return this.int16[yt+0]=s,this.int16[yt+1]=d,this.int16[yt+2]=p,this.float32[pt+2]=g,this.float32[pt+3]=_,this.uint16[yt+8]=b,this.uint16[yt+9]=C,this.uint32[pt+5]=T,this.uint32[pt+6]=R,this.uint32[pt+7]=F,this.uint16[yt+16]=V,this.uint16[yt+17]=Z,this.uint16[yt+18]=X,this.float32[pt+10]=ee,this.float32[pt+11]=fe,this.uint8[Mt+48]=be,this.uint8[Mt+49]=Oe,this.uint8[Mt+50]=Ee,this.uint32[pt+13]=Me,this.int16[yt+28]=je,this.uint8[Mt+58]=ze,i}}ei.prototype.bytesPerElement=60,Wn(ei,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Xr extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe,be,Oe,Ee,Me,je,ze,yt,pt,Mt,fn,bt,Zt,qt,rn){const _n=this.length;return this.resize(_n+1),this.emplace(_n,i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe,be,Oe,Ee,Me,je,ze,yt,pt,Mt,fn,bt,Zt,qt,rn)}emplace(i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe,be,Oe,Ee,Me,je,ze,yt,pt,Mt,fn,bt,Zt,qt,rn,_n){const Pt=38*i,Nn=19*i;return this.int16[Pt+0]=s,this.int16[Pt+1]=d,this.int16[Pt+2]=p,this.float32[Nn+2]=g,this.float32[Nn+3]=_,this.int16[Pt+8]=b,this.int16[Pt+9]=C,this.int16[Pt+10]=T,this.int16[Pt+11]=R,this.int16[Pt+12]=F,this.int16[Pt+13]=V,this.uint16[Pt+14]=Z,this.uint16[Pt+15]=X,this.uint16[Pt+16]=ee,this.uint16[Pt+17]=fe,this.uint16[Pt+18]=be,this.uint16[Pt+19]=Oe,this.uint16[Pt+20]=Ee,this.uint16[Pt+21]=Me,this.uint16[Pt+22]=je,this.uint16[Pt+23]=ze,this.uint16[Pt+24]=yt,this.uint16[Pt+25]=pt,this.uint16[Pt+26]=Mt,this.uint16[Pt+27]=fn,this.uint16[Pt+28]=bt,this.uint32[Nn+15]=Zt,this.float32[Nn+16]=qt,this.float32[Nn+17]=rn,this.float32[Nn+18]=_n,i}}Xr.prototype.bytesPerElement=76,Wn(Xr,"StructArrayLayout3i2f6i15ui1ul3f76");class ti extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const s=this.length;return this.resize(s+1),this.emplace(s,i)}emplace(i,s){return this.float32[1*i+0]=s,i}}ti.prototype.bytesPerElement=4,Wn(ti,"StructArrayLayout1f4");class oi extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s,d,p,g){const _=this.length;return this.resize(_+1),this.emplace(_,i,s,d,p,g)}emplace(i,s,d,p,g,_){const b=5*i;return this.float32[b+0]=s,this.float32[b+1]=d,this.float32[b+2]=p,this.float32[b+3]=g,this.float32[b+4]=_,i}}oi.prototype.bytesPerElement=20,Wn(oi,"StructArrayLayout5f20");class Wo extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,s,d,p){const g=this.length;return this.resize(g+1),this.emplace(g,i,s,d,p)}emplace(i,s,d,p,g){const _=6*i;return this.uint32[3*i+0]=s,this.uint16[_+2]=d,this.uint16[_+3]=p,this.uint16[_+4]=g,i}}Wo.prototype.bytesPerElement=12,Wn(Wo,"StructArrayLayout1ul3ui12");class oo extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,s){const d=this.length;return this.resize(d+1),this.emplace(d,i,s)}emplace(i,s,d){const p=2*i;return this.uint16[p+0]=s,this.uint16[p+1]=d,i}}oo.prototype.bytesPerElement=4,Wn(oo,"StructArrayLayout2ui4");class Da extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const s=this.length;return this.resize(s+1),this.emplace(s,i)}emplace(i,s){return this.uint16[1*i+0]=s,i}}Da.prototype.bytesPerElement=2,Wn(Da,"StructArrayLayout1ui2");class ws extends Je{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,s){const d=this.length;return this.resize(d+1),this.emplace(d,i,s)}emplace(i,s,d){const p=2*i;return this.float32[p+0]=s,this.float32[p+1]=d,i}}ws.prototype.bytesPerElement=8,Wn(ws,"StructArrayLayout2f8");class xi extends $e{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}xi.prototype.size=40;class ai extends _r{get(i){return new xi(this,i)}}Wn(ai,"CollisionBoxArray");class Yr extends $e{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(i){this._structArray.uint8[this._pos1+49]=i}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(i){this._structArray.uint8[this._pos1+50]=i}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(i){this._structArray.uint32[this._pos4+13]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(i){this._structArray.uint8[this._pos1+58]=i}}Yr.prototype.size=60;class eo extends ei{get(i){return new Yr(this,i)}}Wn(eo,"PlacedSymbolArray");class Zo extends $e{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(i){this._structArray.uint32[this._pos4+15]=i}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Zo.prototype.size=76;class hi extends Xr{get(i){return new Zo(this,i)}}Wn(hi,"SymbolInstanceArray");class Xa extends ti{getoffsetX(i){return this.float32[1*i+0]}}Wn(Xa,"GlyphOffsetArray");class hp extends Ot{getx(i){return this.int16[2*i+0]}gety(i){return this.int16[2*i+1]}}Wn(hp,"SymbolLineVertexArray");class yd extends $e{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}yd.prototype.size=12;class mh extends Wo{get(i){return new yd(this,i)}}Wn(mh,"FeatureIndexArray");class Ic extends oo{geta_centroid_pos0(i){return this.uint16[2*i+0]}geta_centroid_pos1(i){return this.uint16[2*i+1]}}Wn(Ic,"FillExtrusionCentroidArray");const Ou=Ke([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),vd=Ke([{name:"a_dash",components:4,type:"Uint16"}]);var pp={exports:{}},gh={exports:{}};gh.exports=function(a,i){var s,d,p,g,_,b,C,T;for(d=a.length-(s=3&a.length),p=i,_=3432918353,b=461845907,T=0;T<d;)C=255&a.charCodeAt(T)|(255&a.charCodeAt(++T))<<8|(255&a.charCodeAt(++T))<<16|(255&a.charCodeAt(++T))<<24,++T,p=27492+(65535&(g=5*(65535&(p=(p^=C=(65535&(C=(C=(65535&C)*_+(((C>>>16)*_&65535)<<16)&4294967295)<<15|C>>>17))*b+(((C>>>16)*b&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(g>>>16)&65535)<<16);switch(C=0,s){case 3:C^=(255&a.charCodeAt(T+2))<<16;case 2:C^=(255&a.charCodeAt(T+1))<<8;case 1:p^=C=(65535&(C=(C=(65535&(C^=255&a.charCodeAt(T)))*_+(((C>>>16)*_&65535)<<16)&4294967295)<<15|C>>>17))*b+(((C>>>16)*b&65535)<<16)&4294967295}return p^=a.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var ng=gh.exports,vP={exports:{}};vP.exports=function(a,i){for(var s,d=a.length,p=i^d,g=0;d>=4;)s=1540483477*(65535&(s=255&a.charCodeAt(g)|(255&a.charCodeAt(++g))<<8|(255&a.charCodeAt(++g))<<16|(255&a.charCodeAt(++g))<<24))+((1540483477*(s>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(s=1540483477*(65535&(s^=s>>>24))+((1540483477*(s>>>16)&65535)<<16)),d-=4,++g;switch(d){case 3:p^=(255&a.charCodeAt(g+2))<<16;case 2:p^=(255&a.charCodeAt(g+1))<<8;case 1:p=1540483477*(65535&(p^=255&a.charCodeAt(g)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var _P=ng,kF=vP.exports;pp.exports=_P,pp.exports.murmur3=_P,pp.exports.murmur2=kF;var kx=Y(pp.exports);class Tv{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,s,d,p){this.ids.push(xP(i)),this.positions.push(s,d,p)}getPositions(i){const s=xP(i);let d=0,p=this.ids.length-1;for(;d<p;){const _=d+p>>1;this.ids[_]>=s?p=_:d=_+1}const g=[];for(;this.ids[d]===s;)g.push({index:this.positions[3*d],start:this.positions[3*d+1],end:this.positions[3*d+2]}),d++;return g}static serialize(i,s){const d=new Float64Array(i.ids),p=new Uint32Array(i.positions);return Mx(d,p,0,d.length-1),s&&s.push(d.buffer,p.buffer),{ids:d,positions:p}}static deserialize(i){const s=new Tv;return s.ids=i.ids,s.positions=i.positions,s.indexed=!0,s}}function xP(a){const i=+a;return!isNaN(i)&&Number.MIN_SAFE_INTEGER<=i&&i<=Number.MAX_SAFE_INTEGER?i:kx(String(a))}function Mx(a,i,s,d){for(;s<d;){const p=a[s+d>>1];let g=s-1,_=d+1;for(;;){do g++;while(a[g]<p);do _--;while(a[_]>p);if(g>=_)break;Av(a,g,_),Av(i,3*g,3*_),Av(i,3*g+1,3*_+1),Av(i,3*g+2,3*_+2)}_-s<d-_?(Mx(a,i,s,_),s=_+1):(Mx(a,i,_+1,d),d=_)}}function Av(a,i,s){const d=a[i];a[i]=a[s],a[s]=d}Wn(Tv,"FeaturePositionMap");class _d{constructor(i){this.gl=i.gl,this.initialized=!1}fetchUniformLocation(i,s){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(i,s),this.initialized=!0),!!this.location}}class Pv extends _d{constructor(i){super(i),this.current=0}set(i,s,d){this.fetchUniformLocation(i,s)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class bP extends _d{constructor(i){super(i),this.current=[0,0,0,0]}set(i,s,d){this.fetchUniformLocation(i,s)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class wP extends _d{constructor(i){super(i),this.current=_i.transparent}set(i,s,d){this.fetchUniformLocation(i,s)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const MF=new Float32Array(16),OF=new Float32Array(9),RF=new Float32Array(4);function Ox(a){return[Ne(255*a.r,255*a.g),Ne(255*a.b,255*a.a)]}class rg{constructor(i,s,d){this.value=i,this.uniformNames=s.map(p=>`u_${p}`),this.type=d}setUniform(i,s,d,p,g){s.set(i,g,p.constantOr(this.value))}getBinding(i,s){return this.type==="color"?new wP(i):new Pv(i)}}class mp{constructor(i,s){this.uniformNames=s.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(i){this.pixelRatio=i.pixelRatio||1,this.pattern=i.tl.concat(i.br)}setUniform(i,s,d,p,g){const _=g==="u_pattern"||g==="u_dash"?this.pattern:g==="u_pixel_ratio"?this.pixelRatio:null;_&&s.set(i,g,_)}getBinding(i,s){return s==="u_pattern"||s==="u_dash"?new bP(i):new Pv(i)}}class xd{constructor(i,s,d,p){this.expression=i,this.type=d,this.maxValue=0,this.paintVertexAttributes=s.map(g=>({name:`a_${g}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(i,s,d,p,g,_){const b=this.paintVertexArray.length,C=this.expression.evaluate(new D(0),s,{},g,p,_);this.paintVertexArray.resize(i),this._setPaintValue(b,i,C)}updatePaintArray(i,s,d,p,g){const _=this.expression.evaluate({zoom:0},d,p,void 0,g);this._setPaintValue(i,s,_)}_setPaintValue(i,s,d){if(this.type==="color"){const p=Ox(d);for(let g=i;g<s;g++)this.paintVertexArray.emplace(g,p[0],p[1])}else{for(let p=i;p<s;p++)this.paintVertexArray.emplace(p,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class kc{constructor(i,s,d,p,g,_){this.expression=i,this.uniformNames=s.map(b=>`u_${b}_t`),this.type=d,this.useIntegerZoom=p,this.zoom=g,this.maxValue=0,this.paintVertexAttributes=s.map(b=>({name:`a_${b}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(i,s,d,p,g,_){const b=this.expression.evaluate(new D(this.zoom),s,{},g,p,_),C=this.expression.evaluate(new D(this.zoom+1),s,{},g,p,_),T=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(T,i,b,C)}updatePaintArray(i,s,d,p,g){const _=this.expression.evaluate({zoom:this.zoom},d,p,void 0,g),b=this.expression.evaluate({zoom:this.zoom+1},d,p,void 0,g);this._setPaintValue(i,s,_,b)}_setPaintValue(i,s,d,p){if(this.type==="color"){const g=Ox(d),_=Ox(p);for(let b=i;b<s;b++)this.paintVertexArray.emplace(b,g[0],g[1],_[0],_[1])}else{for(let g=i;g<s;g++)this.paintVertexArray.emplace(g,d,p);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(p))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,s,d,p,g){const _=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,b=Ve(this.expression.interpolationFactor(_,this.zoom,this.zoom+1),0,1);s.set(i,g,b)}getBinding(i,s){return new Pv(i)}}class sf{constructor(i,s,d,p,g){this.expression=i,this.layerId=g,this.paintVertexAttributes=(d==="array"?vd:Ou).members;for(let _=0;_<s.length;++_);this.paintVertexArray=new p}populatePaintArray(i,s,d){const p=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValues(p,i,s.patterns&&s.patterns[this.layerId],d)}updatePaintArray(i,s,d,p,g,_){this._setPaintValues(i,s,d.patterns&&d.patterns[this.layerId],_)}_setPaintValues(i,s,d,p){if(!p||!d)return;const g=p[d];if(!g)return;const{tl:_,br:b,pixelRatio:C}=g;for(let T=i;T<s;T++)this.paintVertexArray.emplace(T,_[0],_[1],b[0],b[1],C)}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class lf{constructor(i,s,d=()=>!0){this.binders={},this._buffers=[];const p=[];for(const g in i.paint._values){if(!d(g))continue;const _=i.paint.get(g);if(!(_ instanceof pe&&_l(_.property.specification)))continue;const b=LF(g,i.type),C=_.value,T=_.property.specification.type,R=!!_.property.useIntegerZoom,F=g==="line-dasharray"||g.endsWith("pattern"),V=g==="line-dasharray"&&i.layout.get("line-cap").value.kind!=="constant";if(C.kind!=="constant"||V)if(C.kind==="source"||V||F){const Z=EP(g,T,"source");this.binders[g]=F?new sf(C,b,T,Z,i.id):new xd(C,b,T,Z),p.push(`/a_${g}`)}else{const Z=EP(g,T,"composite");this.binders[g]=new kc(C,b,T,R,s,Z),p.push(`/z_${g}`)}else this.binders[g]=F?new mp(C.value,b):new rg(C.value,b,T),p.push(`/u_${g}`)}this.cacheKey=p.sort().join("")}getMaxValue(i){const s=this.binders[i];return s instanceof xd||s instanceof kc?s.maxValue:0}populatePaintArrays(i,s,d,p,g,_){for(const b in this.binders){const C=this.binders[b];(C instanceof xd||C instanceof kc||C instanceof sf)&&C.populatePaintArray(i,s,d,p,g,_)}}setConstantPatternPositions(i){for(const s in this.binders){const d=this.binders[s];d instanceof mp&&d.setConstantPatternPositions(i)}}updatePaintArrays(i,s,d,p,g,_){let b=!1;for(const C in i){const T=s.getPositions(C);for(const R of T){const F=d.feature(R.index);for(const V in this.binders){const Z=this.binders[V];if((Z instanceof xd||Z instanceof kc||Z instanceof sf)&&Z.expression.isStateDependent===!0){const X=p.paint.get(V);Z.expression=X.value,Z.updatePaintArray(R.start,R.end,F,i[C],g,_),b=!0}}}}return b}defines(){const i=[];for(const s in this.binders){const d=this.binders[s];(d instanceof rg||d instanceof mp)&&i.push(...d.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return i}getBinderAttributes(){const i=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof xd||d instanceof kc||d instanceof sf)for(let p=0;p<d.paintVertexAttributes.length;p++)i.push(d.paintVertexAttributes[p].name)}return i}getBinderUniforms(){const i=[];for(const s in this.binders){const d=this.binders[s];if(d instanceof rg||d instanceof mp||d instanceof kc)for(const p of d.uniformNames)i.push(p)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i){const s=[];for(const d in this.binders){const p=this.binders[d];if(p instanceof rg||p instanceof mp||p instanceof kc)for(const g of p.uniformNames)s.push({name:g,property:d,binding:p.getBinding(i,g)})}return s}setUniforms(i,s,d,p,g){for(const{name:_,property:b,binding:C}of d)this.binders[b].setUniform(i,C,g,p.get(b),_)}updatePaintBuffers(){this._buffers=[];for(const i in this.binders){const s=this.binders[i];(s instanceof xd||s instanceof kc||s instanceof sf)&&s.paintVertexBuffer&&this._buffers.push(s.paintVertexBuffer)}}upload(i){for(const s in this.binders){const d=this.binders[s];(d instanceof xd||d instanceof kc||d instanceof sf)&&d.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const s=this.binders[i];(s instanceof xd||s instanceof kc||s instanceof sf)&&s.destroy()}}}class yh{constructor(i,s,d=()=>!0){this.programConfigurations={};for(const p of i)this.programConfigurations[p.id]=new lf(p,s,d);this.needsUpload=!1,this._featureMap=new Tv,this._bufferOffset=0}populatePaintArrays(i,s,d,p,g,_,b){for(const C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(i,s,p,g,_,b);s.id!==void 0&&this._featureMap.add(s.id,d,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,s,d,p,g){for(const _ of d)this.needsUpload=this.programConfigurations[_.id].updatePaintArrays(i,this._featureMap,s,_,p,g)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const s in this.programConfigurations)this.programConfigurations[s].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}const DF={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function LF(a,i){return DF[a]||[a.replace(`${i}-`,"").replace(/-/g,"_")]}const FF={"line-pattern":{source:mt,composite:mt},"fill-pattern":{source:mt,composite:mt},"fill-extrusion-pattern":{source:mt,composite:mt},"line-dasharray":{source:Dt,composite:Dt}},NF={color:{source:ws,composite:tn},number:{source:ti,composite:ws}};function EP(a,i,s){const d=FF[a];return d&&d[s]||NF[i][s]}Wn(rg,"ConstantBinder"),Wn(mp,"PatternConstantBinder"),Wn(xd,"SourceExpressionBinder"),Wn(sf,"PatternCompositeBinder"),Wn(kc,"CompositeExpressionBinder"),Wn(lf,"ProgramConfiguration",{omit:["_buffers"]}),Wn(yh,"ProgramConfigurationSet");const CP="-transition";class Mc extends Br{constructor(i,s){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&i.type!=="sky"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),s.layout&&(this._unevaluatedLayout=new me(s.layout)),s.paint)){this._transitionablePaint=new J(s.paint);for(const d in i.paint)this.setPaintProperty(d,i.paint[d],{validate:!1});for(const d in i.layout)this.setLayoutProperty(d,i.layout[d],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ve(s.paint)}}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,s,d={}){s!=null&&this._validate(Ac,`layers.${this.id}.layout.${i}`,i,s,d)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,s):this.visibility=s)}getPaintProperty(i){return Xt(i,CP)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,s,d={}){if(s!=null&&this._validate(eg,`layers.${this.id}.paint.${i}`,i,s,d))return!1;if(Xt(i,CP))return this._transitionablePaint.setTransition(i.slice(0,-11),s||void 0),!1;{const p=this._transitionablePaint._values[i],g=p.value.isDataDriven(),_=p.value;this._transitionablePaint.setValue(i,s),this._handleSpecialPaintPropertyUpdate(i);const b=this._transitionablePaint._values[i].value,C=b.isDataDriven(),T=Xt(i,"pattern")||i==="line-dasharray";return C||g||T||this._handleOverridablePaintPropertyUpdate(i,_,b)}}_handleSpecialPaintPropertyUpdate(i){}getProgramIds(){return null}getProgramConfiguration(i){return null}_handleOverridablePaintPropertyUpdate(i,s,d){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,s){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,s)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,s)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),Mn(i,(s,d)=>!(s===void 0||d==="layout"&&!Object.keys(s).length||d==="paint"&&!Object.keys(s).length))}_validate(i,s,d,p,g={}){return(!g||g.validate!==!1)&&fp(this,i.call(rf,{key:s,layerType:this.type,objectKey:d,value:p,styleSpec:vt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const s=this.paint.get(i);if(s instanceof pe&&_l(s.property.specification)&&(s.value.kind==="source"||s.value.kind==="composite")&&s.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Jd(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const BF=Ke([{name:"a_pos",components:2,type:"Int16"}],4),zF=Ke([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class go{constructor(i=[]){this.segments=i}prepareSegment(i,s,d,p){let g=this.segments[this.segments.length-1];return i>go.MAX_VERTEX_ARRAY_LENGTH&&yn(`Max vertices per segment is ${go.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!g||g.vertexLength+i>go.MAX_VERTEX_ARRAY_LENGTH||g.sortKey!==p)&&(g={vertexOffset:s.length,primitiveOffset:d.length,vertexLength:0,primitiveLength:0},p!==void 0&&(g.sortKey=p),this.segments.push(g)),g}get(){return this.segments}destroy(){for(const i of this.segments)for(const s in i.vaos)i.vaos[s].destroy()}static simpleSegment(i,s,d,p){return new go([{vertexOffset:i,primitiveOffset:s,vertexLength:d,primitiveLength:p,vaos:{},sortKey:0}])}}go.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Wn(go,"SegmentVector");var ur=8192;class cf{constructor(i,s){i&&(s?this.setSouthWest(i).setNorthEast(s):i.length===4?this.setSouthWest([i[0],i[1]]).setNorthEast([i[2],i[3]]):this.setSouthWest(i[0]).setNorthEast(i[1]))}setNorthEast(i){return this._ne=i instanceof pi?new pi(i.lng,i.lat):pi.convert(i),this}setSouthWest(i){return this._sw=i instanceof pi?new pi(i.lng,i.lat):pi.convert(i),this}extend(i){const s=this._sw,d=this._ne;let p,g;if(i instanceof pi)p=i,g=i;else{if(!(i instanceof cf))return Array.isArray(i)?i.length===4||i.every(Array.isArray)?this.extend(cf.convert(i)):this.extend(pi.convert(i)):typeof i=="object"&&i!==null&&i.hasOwnProperty("lat")&&(i.hasOwnProperty("lon")||i.hasOwnProperty("lng"))?this.extend(pi.convert(i)):this;if(p=i._sw,g=i._ne,!p||!g)return this}return s||d?(s.lng=Math.min(p.lng,s.lng),s.lat=Math.min(p.lat,s.lat),d.lng=Math.max(g.lng,d.lng),d.lat=Math.max(g.lat,d.lat)):(this._sw=new pi(p.lng,p.lat),this._ne=new pi(g.lng,g.lat)),this}getCenter(){return new pi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new pi(this.getWest(),this.getNorth())}getSouthEast(){return new pi(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(i){const{lng:s,lat:d}=pi.convert(i);let p=this._sw.lng<=s&&s<=this._ne.lng;return this._sw.lng>this._ne.lng&&(p=this._sw.lng>=s&&s>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&p}static convert(i){return!i||i instanceof cf?i:new cf(i)}}var Iv=1e-6,Vs=typeof Float32Array<"u"?Float32Array:Array;function SP(){var a=new Vs(9);return Vs!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[5]=0,a[6]=0,a[7]=0),a[0]=1,a[4]=1,a[8]=1,a}function TP(a,i,s){var d=i[0],p=i[1],g=i[2],_=i[3],b=i[4],C=i[5],T=i[6],R=i[7],F=i[8],V=s[0],Z=s[1],X=s[2],ee=s[3],fe=s[4],be=s[5],Oe=s[6],Ee=s[7],Me=s[8];return a[0]=V*d+Z*_+X*T,a[1]=V*p+Z*b+X*R,a[2]=V*g+Z*C+X*F,a[3]=ee*d+fe*_+be*T,a[4]=ee*p+fe*b+be*R,a[5]=ee*g+fe*C+be*F,a[6]=Oe*d+Ee*_+Me*T,a[7]=Oe*p+Ee*b+Me*R,a[8]=Oe*g+Ee*C+Me*F,a}function Oc(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Rx(a,i){var s=i[0],d=i[1],p=i[2],g=i[3],_=i[4],b=i[5],C=i[6],T=i[7],R=i[8],F=i[9],V=i[10],Z=i[11],X=i[12],ee=i[13],fe=i[14],be=i[15],Oe=s*b-d*_,Ee=s*C-p*_,Me=s*T-g*_,je=d*C-p*b,ze=d*T-g*b,yt=p*T-g*C,pt=R*ee-F*X,Mt=R*fe-V*X,fn=R*be-Z*X,bt=F*fe-V*ee,Zt=F*be-Z*ee,qt=V*be-Z*fe,rn=Oe*qt-Ee*Zt+Me*bt+je*fn-ze*Mt+yt*pt;return rn?(a[0]=(b*qt-C*Zt+T*bt)*(rn=1/rn),a[1]=(p*Zt-d*qt-g*bt)*rn,a[2]=(ee*yt-fe*ze+be*je)*rn,a[3]=(V*ze-F*yt-Z*je)*rn,a[4]=(C*fn-_*qt-T*Mt)*rn,a[5]=(s*qt-p*fn+g*Mt)*rn,a[6]=(fe*Me-X*yt-be*Ee)*rn,a[7]=(R*yt-V*Me+Z*Ee)*rn,a[8]=(_*Zt-b*fn+T*pt)*rn,a[9]=(d*fn-s*Zt-g*pt)*rn,a[10]=(X*ze-ee*Me+be*Oe)*rn,a[11]=(F*Me-R*ze-Z*Oe)*rn,a[12]=(b*Mt-_*bt-C*pt)*rn,a[13]=(s*bt-d*Mt+p*pt)*rn,a[14]=(ee*Ee-X*je-fe*Oe)*rn,a[15]=(R*je-F*Ee+V*Oe)*rn,a):null}function vh(a,i,s){var d=i[0],p=i[1],g=i[2],_=i[3],b=i[4],C=i[5],T=i[6],R=i[7],F=i[8],V=i[9],Z=i[10],X=i[11],ee=i[12],fe=i[13],be=i[14],Oe=i[15],Ee=s[0],Me=s[1],je=s[2],ze=s[3];return a[0]=Ee*d+Me*b+je*F+ze*ee,a[1]=Ee*p+Me*C+je*V+ze*fe,a[2]=Ee*g+Me*T+je*Z+ze*be,a[3]=Ee*_+Me*R+je*X+ze*Oe,a[4]=(Ee=s[4])*d+(Me=s[5])*b+(je=s[6])*F+(ze=s[7])*ee,a[5]=Ee*p+Me*C+je*V+ze*fe,a[6]=Ee*g+Me*T+je*Z+ze*be,a[7]=Ee*_+Me*R+je*X+ze*Oe,a[8]=(Ee=s[8])*d+(Me=s[9])*b+(je=s[10])*F+(ze=s[11])*ee,a[9]=Ee*p+Me*C+je*V+ze*fe,a[10]=Ee*g+Me*T+je*Z+ze*be,a[11]=Ee*_+Me*R+je*X+ze*Oe,a[12]=(Ee=s[12])*d+(Me=s[13])*b+(je=s[14])*F+(ze=s[15])*ee,a[13]=Ee*p+Me*C+je*V+ze*fe,a[14]=Ee*g+Me*T+je*Z+ze*be,a[15]=Ee*_+Me*R+je*X+ze*Oe,a}function ig(a,i,s){var d,p,g,_,b,C,T,R,F,V,Z,X,ee=s[0],fe=s[1],be=s[2];return i===a?(a[12]=i[0]*ee+i[4]*fe+i[8]*be+i[12],a[13]=i[1]*ee+i[5]*fe+i[9]*be+i[13],a[14]=i[2]*ee+i[6]*fe+i[10]*be+i[14],a[15]=i[3]*ee+i[7]*fe+i[11]*be+i[15]):(p=i[1],g=i[2],_=i[3],b=i[4],C=i[5],T=i[6],R=i[7],F=i[8],V=i[9],Z=i[10],X=i[11],a[0]=d=i[0],a[1]=p,a[2]=g,a[3]=_,a[4]=b,a[5]=C,a[6]=T,a[7]=R,a[8]=F,a[9]=V,a[10]=Z,a[11]=X,a[12]=d*ee+b*fe+F*be+i[12],a[13]=p*ee+C*fe+V*be+i[13],a[14]=g*ee+T*fe+Z*be+i[14],a[15]=_*ee+R*fe+X*be+i[15]),a}function _h(a,i,s){var d=s[0],p=s[1],g=s[2];return a[0]=i[0]*d,a[1]=i[1]*d,a[2]=i[2]*d,a[3]=i[3]*d,a[4]=i[4]*p,a[5]=i[5]*p,a[6]=i[6]*p,a[7]=i[7]*p,a[8]=i[8]*g,a[9]=i[9]*g,a[10]=i[10]*g,a[11]=i[11]*g,a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15],a}function Dx(a,i,s){var d=Math.sin(s),p=Math.cos(s),g=i[4],_=i[5],b=i[6],C=i[7],T=i[8],R=i[9],F=i[10],V=i[11];return i!==a&&(a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[4]=g*p+T*d,a[5]=_*p+R*d,a[6]=b*p+F*d,a[7]=C*p+V*d,a[8]=T*p-g*d,a[9]=R*p-_*d,a[10]=F*p-b*d,a[11]=V*p-C*d,a}function kv(a,i,s){var d=Math.sin(s),p=Math.cos(s),g=i[0],_=i[1],b=i[2],C=i[3],T=i[8],R=i[9],F=i[10],V=i[11];return i!==a&&(a[4]=i[4],a[5]=i[5],a[6]=i[6],a[7]=i[7],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=g*p-T*d,a[1]=_*p-R*d,a[2]=b*p-F*d,a[3]=C*p-V*d,a[8]=g*d+T*p,a[9]=_*d+R*p,a[10]=b*d+F*p,a[11]=C*d+V*p,a}function AP(a,i){return a[0]=i[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=i[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function PP(a,i,s){var d,p,g,_=s[0],b=s[1],C=s[2],T=Math.hypot(_,b,C);return T<Iv?null:(_*=T=1/T,b*=T,C*=T,d=Math.sin(i),p=Math.cos(i),a[0]=_*_*(g=1-p)+p,a[1]=b*_*g+C*d,a[2]=C*_*g-b*d,a[3]=0,a[4]=_*b*g-C*d,a[5]=b*b*g+p,a[6]=C*b*g+_*d,a[7]=0,a[8]=_*C*g+b*d,a[9]=b*C*g-_*d,a[10]=C*C*g+p,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}Math.hypot||(Math.hypot=function(){for(var a=0,i=arguments.length;i--;)a+=arguments[i]*arguments[i];return Math.sqrt(a)});var $F=vh;function Lx(){var a=new Vs(3);return Vs!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a}function IP(a){var i=new Vs(3);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i}function og(a){return Math.hypot(a[0],a[1],a[2])}function gp(a,i,s){var d=new Vs(3);return d[0]=a,d[1]=i,d[2]=s,d}function bd(a,i,s){return a[0]=i[0]+s[0],a[1]=i[1]+s[1],a[2]=i[2]+s[2],a}function Fx(a,i,s){return a[0]=i[0]-s[0],a[1]=i[1]-s[1],a[2]=i[2]-s[2],a}function kP(a,i,s){return a[0]=i[0]*s[0],a[1]=i[1]*s[1],a[2]=i[2]*s[2],a}function ag(a,i,s){return a[0]=Math.min(i[0],s[0]),a[1]=Math.min(i[1],s[1]),a[2]=Math.min(i[2],s[2]),a}function sg(a,i,s){return a[0]=Math.max(i[0],s[0]),a[1]=Math.max(i[1],s[1]),a[2]=Math.max(i[2],s[2]),a}function wl(a,i,s){return a[0]=i[0]*s,a[1]=i[1]*s,a[2]=i[2]*s,a}function lg(a,i,s,d){return a[0]=i[0]+s[0]*d,a[1]=i[1]+s[1]*d,a[2]=i[2]+s[2]*d,a}function Ya(a,i){var s=i[0],d=i[1],p=i[2],g=s*s+d*d+p*p;return g>0&&(g=1/Math.sqrt(g)),a[0]=i[0]*g,a[1]=i[1]*g,a[2]=i[2]*g,a}function ec(a,i){return a[0]*i[0]+a[1]*i[1]+a[2]*i[2]}function Nx(a,i,s){var d=i[0],p=i[1],g=i[2],_=s[0],b=s[1],C=s[2];return a[0]=p*C-g*b,a[1]=g*_-d*C,a[2]=d*b-p*_,a}function ao(a,i,s){var d=i[0],p=i[1],g=i[2],_=s[3]*d+s[7]*p+s[11]*g+s[15];return a[0]=(s[0]*d+s[4]*p+s[8]*g+s[12])/(_=_||1),a[1]=(s[1]*d+s[5]*p+s[9]*g+s[13])/_,a[2]=(s[2]*d+s[6]*p+s[10]*g+s[14])/_,a}function MP(a,i,s){var d=s[0],p=s[1],g=s[2],_=i[0],b=i[1],C=i[2],T=p*C-g*b,R=g*_-d*C,F=d*b-p*_,V=p*F-g*R,Z=g*T-d*F,X=d*R-p*T,ee=2*s[3];return R*=ee,F*=ee,Z*=2,X*=2,a[0]=_+(T*=ee)+(V*=2),a[1]=b+R+Z,a[2]=C+F+X,a}var cg,Rc=Fx,jF=kP,UF=og;function OP(a,i,s){return a[0]=i[0]*s,a[1]=i[1]*s,a[2]=i[2]*s,a[3]=i[3]*s,a}function RP(a,i){var s=i[0],d=i[1],p=i[2],g=i[3],_=s*s+d*d+p*p+g*g;return _>0&&(_=1/Math.sqrt(_)),a[0]=s*_,a[1]=d*_,a[2]=p*_,a[3]=g*_,a}function xh(a,i,s){var d=i[0],p=i[1],g=i[2],_=i[3];return a[0]=s[0]*d+s[4]*p+s[8]*g+s[12]*_,a[1]=s[1]*d+s[5]*p+s[9]*g+s[13]*_,a[2]=s[2]*d+s[6]*p+s[10]*g+s[14]*_,a[3]=s[3]*d+s[7]*p+s[11]*g+s[15]*_,a}function DP(){var a=new Vs(4);return Vs!=Float32Array&&(a[0]=0,a[1]=0,a[2]=0),a[3]=1,a}function LP(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function FP(a,i,s){s*=.5;var d=i[0],p=i[1],g=i[2],_=i[3],b=Math.sin(s),C=Math.cos(s);return a[0]=d*C+_*b,a[1]=p*C+g*b,a[2]=g*C-p*b,a[3]=_*C-d*b,a}function NP(a,i,s){s*=.5;var d=i[0],p=i[1],g=i[2],_=i[3],b=Math.sin(s),C=Math.cos(s);return a[0]=d*C-g*b,a[1]=p*C+_*b,a[2]=g*C+d*b,a[3]=_*C-p*b,a}Lx(),cg=new Vs(4),Vs!=Float32Array&&(cg[0]=0,cg[1]=0,cg[2]=0,cg[3]=0);var VF=RP;Lx(),gp(1,0,0),gp(0,1,0),DP(),DP(),SP();const GF=Ke([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:BP}=GF,zP=Ke([{name:"a_pos_3",components:3,type:"Int16"}]);var ug=Ke([{name:"a_pos",type:"Int16",components:2}]);class Bx{constructor(i,s){this.pos=i,this.dir=s}intersectsPlane(i,s,d){const p=ec(s,this.dir);if(Math.abs(p)<1e-6)return!1;const g=((i[0]-this.pos[0])*s[0]+(i[1]-this.pos[1])*s[1]+(i[2]-this.pos[2])*s[2])/p;return d[0]=this.pos[0]+this.dir[0]*g,d[1]=this.pos[1]+this.dir[1]*g,d[2]=this.pos[2]+this.dir[2]*g,!0}closestPointOnSphere(i,s,d){if(function(Z,X){var ee=Z[0],fe=Z[1],be=Z[2],Oe=X[0],Ee=X[1],Me=X[2];return Math.abs(ee-Oe)<=Iv*Math.max(1,Math.abs(ee),Math.abs(Oe))&&Math.abs(fe-Ee)<=Iv*Math.max(1,Math.abs(fe),Math.abs(Ee))&&Math.abs(be-Me)<=Iv*Math.max(1,Math.abs(be),Math.abs(Me))}(this.pos,i)||s===0)return d[0]=d[1]=d[2]=0,!1;const[p,g,_]=this.dir,b=this.pos[0]-i[0],C=this.pos[1]-i[1],T=this.pos[2]-i[2],R=p*p+g*g+_*_,F=2*(b*p+C*g+T*_),V=F*F-4*R*(b*b+C*C+T*T-s*s);if(V<0){const Z=Math.max(-F/2,0),X=b+p*Z,ee=C+g*Z,fe=T+_*Z,be=Math.hypot(X,ee,fe);return d[0]=X*s/be,d[1]=ee*s/be,d[2]=fe*s/be,!1}{const Z=(-F-Math.sqrt(V))/(2*R);if(Z<0){const X=Math.hypot(b,C,T);return d[0]=b*s/X,d[1]=C*s/X,d[2]=T*s/X,!1}return d[0]=b+p*Z,d[1]=C+g*Z,d[2]=T+_*Z,!0}}}class zx{constructor(i,s,d,p,g){this.TL=i,this.TR=s,this.BR=d,this.BL=p,this.horizon=g}static fromInvProjectionMatrix(i,s,d){const p=[-1,1,1],g=[1,1,1],_=[1,-1,1],b=[-1,-1,1],C=ao(p,p,i),T=ao(g,g,i),R=ao(_,_,i),F=ao(b,b,i);return new zx(C,T,R,F,s/d)}}class $x{constructor(i,s){this.points=i,this.planes=s}static fromInvProjectionMatrix(i,s,d,p){const g=Math.pow(2,d),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(C=>{const T=xh([],C,i),R=1/T[3]/s*g;return function(F,V,Z){return F[0]=V[0]*Z[0],F[1]=V[1]*Z[1],F[2]=V[2]*Z[2],F[3]=V[3]*Z[3],F}(T,T,[R,R,p?1/T[3]:R,R])}),b=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(C=>{const T=Ya([],Nx([],Rc([],_[C[0]],_[C[1]]),Rc([],_[C[2]],_[C[1]]))),R=-ec(T,_[C[1]]);return T.concat(R)});return new $x(_,b)}}class Ja{static fromPoints(i){const s=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const p of i)ag(s,s,p),sg(d,d,p);return new Ja(s,d)}static applyTransform(i,s){const d=i.getCorners();for(let p=0;p<d.length;++p)ao(d[p],d[p],s);return Ja.fromPoints(d)}constructor(i,s){this.min=i,this.max=s,this.center=wl([],bd([],this.min,this.max),.5)}quadrant(i){const s=[i%2==0,i<2],d=IP(this.min),p=IP(this.max);for(let g=0;g<s.length;g++)d[g]=s[g]?this.min[g]:this.center[g],p[g]=s[g]?this.center[g]:this.max[g];return p[2]=this.max[2],new Ja(d,p)}distanceX(i){return Math.max(Math.min(this.max[0],i[0]),this.min[0])-i[0]}distanceY(i){return Math.max(Math.min(this.max[1],i[1]),this.min[1])-i[1]}distanceZ(i){return Math.max(Math.min(this.max[2],i[2]),this.min[2])-i[2]}getCorners(){const i=this.min,s=this.max;return[[i[0],i[1],i[2]],[s[0],i[1],i[2]],[s[0],s[1],i[2]],[i[0],s[1],i[2]],[i[0],i[1],s[2]],[s[0],i[1],s[2]],[s[0],s[1],s[2]],[i[0],s[1],s[2]]]}intersects(i){const s=this.getCorners();let d=!0;for(let p=0;p<i.planes.length;p++){const g=i.planes[p];let _=0;for(let b=0;b<s.length;b++)_+=ec(g,s[b])+g[3]>=0;if(_===0)return 0;_!==s.length&&(d=!1)}if(d)return 2;for(let p=0;p<3;p++){let g=Number.MAX_VALUE,_=-Number.MAX_VALUE;for(let b=0;b<i.points.length;b++){const C=i.points[b][p]-this.min[p];g=Math.min(g,C),_=Math.max(_,C)}if(_<0||g>this.max[p]-this.min[p])return 0}return 1}}const jx=5,$P=6,Ru=ur/Math.PI/2,HF=16383,bh=64,dg=[bh,32,16],tc=-Ru,nc=Ru,WF=[new Ja([tc,tc,tc],[nc,nc,nc]),new Ja([tc,tc,tc],[0,0,nc]),new Ja([0,tc,tc],[nc,0,nc]),new Ja([tc,0,tc],[0,nc,nc]),new Ja([0,0,tc],[nc,nc,nc])];function Mv(a){return a*Ru/pg}function jP(a,i,s,d=!0){const p=wl([],a._camera.position,a.worldSize),g=[i,s,1,1];xh(g,g,a.pixelMatrixInverse),OP(g,g,1/g[3]);const _=Ya([],Rc([],g,p)),b=a.globeMatrix,C=[b[12],b[13],b[14]],T=Rc([],C,p),R=og(T),F=Ya([],T),V=a.worldSize/(2*Math.PI),Z=ec(F,_),X=Math.asin(V/R);if(X<Math.acos(Z)){if(!d)return null;const fn=[],bt=[];wl(fn,_,R/Z),Ya(bt,Rc(bt,fn,T)),Ya(_,bd(_,T,wl(_,bt,Math.tan(X)*R)))}const ee=[];new Bx(p,_).closestPointOnSphere(C,V,ee);const fe=Ya([],Rn(b,0)),be=Ya([],Rn(b,1)),Oe=Ya([],Rn(b,2)),Ee=ec(fe,ee),Me=ec(be,ee),je=ec(Oe,ee),ze=Qt(Math.asin(-Me/V));let yt=Qt(Math.atan2(Ee,je));yt=a.center.lng+function(fn,bt){const Zt=(bt-fn+180)%360-180;return Zt<-180?Zt+360:Zt}(a.center.lng,yt);const pt=Lu(yt),Mt=Ve(Fu(ze),0,1);return new xp(pt,Mt)}class ZF{constructor(i,s,d){this.a=Rc([],i,d),this.b=Rc([],s,d),this.center=d;const p=Ya([],this.a),g=Ya([],this.b);this.angle=Math.acos(ec(p,g))}}function Ux(a,i){if(a.angle===0)return null;let s;return s=a.a[i]===0?1/a.angle*.5*Math.PI:1/a.angle*Math.atan(a.b[i]/a.a[i]/Math.sin(a.angle)-1/Math.tan(a.angle)),s<0||s>1?null:function(d,p,g,_){const b=Math.sin(g);return d*(Math.sin((1-_)*g)/b)+p*(Math.sin(_*g)/b)}(a.a[i],a.b[i],a.angle,Ve(s,0,1))+a.center[i]}function Du(a){if(a.z<=1)return WF[a.z+2*a.y+a.x];const i=Vx(Ov(a));return Ja.fromPoints(i)}function wh(a,i,s){return wl(a,a,1-s),lg(a,a,i,s)}function UP(a,i){const s=_p(i.zoom);if(s===0)return Du(a);const d=Ov(a),p=Vx(d),g=Lu(d.getWest())*i.worldSize,_=Lu(d.getEast())*i.worldSize,b=Fu(d.getNorth())*i.worldSize,C=Fu(d.getSouth())*i.worldSize,T=[g,b,0],R=[_,b,0],F=[g,C,0],V=[_,C,0],Z=Rx([],i.globeMatrix);return ao(T,T,Z),ao(R,R,Z),ao(F,F,Z),ao(V,V,Z),p[0]=wh(p[0],F,s),p[1]=wh(p[1],V,s),p[2]=wh(p[2],R,s),p[3]=wh(p[3],T,s),Ja.fromPoints(p)}function VP(a,i,s){for(const d of a)ao(d,d,i),wl(d,d,s)}function qF(a,i,s){const d=i/a.worldSize,p=a.globeMatrix;if(s.z<=1){const pt=Du(s).getCorners();return VP(pt,p,d),Ja.fromPoints(pt)}const g=Ov(s),_=Vx(g);VP(_,p,d);const b=Number.MAX_VALUE,C=[-b,-b,-b],T=[b,b,b];if(g.contains(a.center)){for(const fn of _)ag(T,T,fn),sg(C,C,fn);C[2]=0;const pt=a.point,Mt=[pt.x*d,pt.y*d,0];return ag(T,T,Mt),sg(C,C,Mt),new Ja(T,C)}const R=[p[12]*d,p[13]*d,p[14]*d],F=g.getCenter(),V=Ve(a.center.lat,-ba,ba),Z=Ve(F.lat,-ba,ba),X=Lu(a.center.lng),ee=Fu(V);let fe=X-Lu(F.lng);const be=ee-Fu(Z);fe>.5?fe-=1:fe<-.5&&(fe+=1);let Oe=0;Math.abs(fe)>Math.abs(be)?Oe=fe>=0?1:3:(Oe=be>=0?0:2,lg(R,R,[p[4]*d,p[5]*d,p[6]*d],-Math.sin(Ut(be>=0?g.getSouth():g.getNorth()))*Ru));const Ee=_[Oe],Me=_[(Oe+1)%4],je=new ZF(Ee,Me,R),ze=[Ux(je,0)||Ee[0],Ux(je,1)||Ee[1],Ux(je,2)||Ee[2]],yt=_p(a.zoom);if(yt>0){const pt=function({x:fn,y:bt,z:Zt},qt,rn,_n,Pt){const Nn=1/(1<<Zt);let Kn=fn*Nn,$n=Kn+Nn,Cr=bt*Nn,bn=Cr+Nn,sr=0;const Sr=(Kn+$n)/2-_n;return Sr>.5?sr=-1:Sr<-.5&&(sr=1),Kn=((Kn+sr)*qt-(_n*=qt))*rn+_n,$n=(($n+sr)*qt-_n)*rn+_n,Cr=(Cr*qt-(Pt*=qt))*rn+Pt,bn=(bn*qt-Pt)*rn+Pt,[[Kn,bn,0],[$n,bn,0],[$n,Cr,0],[Kn,Cr,0]]}(s,i,a._pixelsPerMercatorPixel,X,ee);for(let fn=0;fn<_.length;fn++)wh(_[fn],pt[fn],yt);const Mt=bd([],pt[Oe],pt[(Oe+1)%4]);wl(Mt,Mt,.5),wh(ze,Mt,yt)}for(const pt of _)ag(T,T,pt),sg(C,C,pt);return T[2]=Math.min(Ee[2],Me[2]),ag(T,T,ze),sg(C,C,ze),new Ja(T,C)}function Ov({x:a,y:i,z:s}){const d=1/(1<<s),p=new pi(El(a*d),xa((i+1)*d)),g=new pi(El((a+1)*d),xa(i*d));return new cf(p,g)}function Vx(a){const i=Ut(a.getNorth()),s=Ut(a.getSouth()),d=Math.cos(i),p=Math.cos(s),g=Math.sin(i),_=Math.sin(s),b=a.getWest(),C=a.getEast();return[yp(p,_,b),yp(p,_,C),yp(d,g,C),yp(d,g,b)]}function yp(a,i,s,d=Ru){return s=Ut(s),[a*Math.sin(s)*d,-i*d,a*Math.cos(s)*d]}function vp(a,i,s){return yp(Math.cos(Ut(a)),Math.sin(Ut(a)),i,s)}function fg(a,i,s,d){const p=1<<s.z,g=(a/ur+s.x)/p;return vp(xa((i/ur+s.y)/p),El(g),d)}function Rv({min:a,max:i}){return HF/Math.max(i[0]-a[0],i[1]-a[1],i[2]-a[2])}const GP=new Float64Array(16);function hg(a){const i=Rv(a),s=AP(GP,[i,i,i]);return ig(s,s,((d=[])[0]=-(p=a.min)[0],d[1]=-p[1],d[2]=-p[2],d));var d,p}function Gx(a){const i=(d=a.min,(s=GP)[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=d[0],s[13]=d[1],s[14]=d[2],s[15]=1,s);var s,d;const p=1/Rv(a);return _h(i,i,[p,p,p])}function HP(a,i,s,d,p){const g=function(C){const T=ur/(2*Math.PI);return C/(2*Math.PI)/T}(s),_=[a,i,-s/(2*Math.PI)],b=Oc(new Float64Array(16));return ig(b,b,_),_h(b,b,[g,g,g]),Dx(b,b,Ut(-p)),kv(b,b,Ut(-d)),b}function _p(a){return Rt(jx,$P,a)}function WP(a,i){const s=vp(i.lat,i.lng),d=function(X){const ee=vp(X._center.lat,X._center.lng);let fe=Nx([],gp(0,1,0),ee);const be=PP([],-X.angle,ee);fe=ao(fe,fe,be),PP(be,-X._pitch,fe);const Oe=Ya([],ee);return wl(Oe,Oe,Mv(X.cameraToCenterDistance/X.pixelsPerMeter)),ao(Oe,Oe,be),bd([],ee,Oe)}(a);return _=(p=Fx([],d,s))[0],b=p[1],C=p[2],T=(g=s)[0],R=g[1],F=g[2],Z=(V=Math.sqrt(_*_+b*b+C*C)*Math.sqrt(T*T+R*R+F*F))&&ec(p,g)/V,Math.acos(Math.min(Math.max(Z,-1),1));var p,g,_,b,C,T,R,F,V,Z}function Hx(a,i){return WP(a,i)>Math.PI/2*1.01}const ZP=Ut(85),KF=Math.cos(ZP),XF=Math.sin(ZP),pg=63710088e-1,qP=2*Math.PI*pg;class uf{constructor(i,s){if(isNaN(i)||isNaN(s))throw new Error(`Invalid LngLat object: (${i}, ${s})`);if(this.lng=+i,this.lat=+s,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new uf(Ge(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const s=Math.PI/180,d=this.lat*s,p=i.lat*s,g=Math.sin(d)*Math.sin(p)+Math.cos(d)*Math.cos(p)*Math.cos((i.lng-this.lng)*s);return pg*Math.acos(Math.min(g,1))}toBounds(i=0){const s=360*i/40075017,d=s/Math.cos(Math.PI/180*this.lat);return new cf(new uf(this.lng-d,this.lat-s),new uf(this.lng+d,this.lat+s))}toEcef(i){const s=Mv(i);return vp(this.lat,this.lng,Ru+s)}static convert(i){if(i instanceof uf)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new uf(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new uf(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var pi=uf;function Wx(a){return qP*Math.cos(a*Math.PI/180)}function Lu(a){return(180+a)/360}function Fu(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function Dc(a,i){return a/Wx(i)}function El(a){return 360*a-180}function xa(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}function KP(a,i){return a*Wx(xa(i))}const ba=85.051129;function XP(a){return 1/Math.cos(a*Math.PI/180)}class xp{constructor(i,s,d=0){this.x=+i,this.y=+s,this.z=+d}static fromLngLat(i,s=0){const d=pi.convert(i);return new xp(Lu(d.lng),Fu(d.lat),Dc(s,d.lat))}toLngLat(){return new pi(El(this.x),xa(this.y))}toAltitude(){return KP(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/qP*XP(xa(this.y))}}function Zx(a,i,s,d,p,g,_,b,C){const T=(i+d)/2,R=(s+p)/2,F=new Le(T,R);b(F),function(V,Z,X,ee,fe,be){const Oe=X-fe,Ee=ee-be;return Math.abs((ee-Z)*Oe-(X-V)*Ee)/Math.hypot(Oe,Ee)}(F.x,F.y,g.x,g.y,_.x,_.y)>=C?(Zx(a,i,s,T,R,g,F,b,C),Zx(a,T,R,d,p,F,_,b,C)):a.push(_)}function YP(a,i,s){let d=a[0],p=d.x,g=d.y;i(d);const _=[d];for(let b=1;b<a.length;b++){const C=a[b],{x:T,y:R}=C;i(C),Zx(_,p,g,T,R,d,C,i,s),p=T,g=R,d=C}return _}function qx(a,i,s,d){if(d(i,s)){const p=i.add(s)._mult(.5);qx(a,i,p,d),qx(a,p,s,d)}else a.push(s)}function YF(a,i){let s=a[0];const d=[s];for(let p=1;p<a.length;p++){const g=a[p];qx(d,s,g,i),s=g}return d}const Kx=Math.pow(2,14)-1,JP=-Kx-1;function JF(a,i){const s=Math.round(a.x*i),d=Math.round(a.y*i);return a.x=Ve(s,JP,Kx),a.y=Ve(d,JP,Kx),(s<a.x||s>a.x+1||d<a.y||d>a.y+1)&&yn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),a}function wd(a,i,s){const d=a.loadGeometry(),p=a.extent,g=ur/p;if(i&&s&&s.projection.isReprojectedInTileSpace){const _=1<<i.z,{scale:b,x:C,y:T,projection:R}=s,F=V=>{const Z=El((i.x+V.x/p)/_),X=xa((i.y+V.y/p)/_),ee=R.project(Z,X);V.x=(ee.x*b-C)*p,V.y=(ee.y*b-T)*p};for(let V=0;V<d.length;V++)if(a.type!==1)d[V]=YP(d[V],F,1);else{const Z=[];for(const X of d[V])X.x<0||X.x>=p||X.y<0||X.y>=p||(F(X),Z.push(X));d[V]=Z}}for(const _ of d)for(const b of _)JF(b,g);return d}function Eh(a,i){return{type:a.type,id:a.id,properties:a.properties,geometry:i?wd(a):[]}}function Dv(a,i,s,d,p){a.emplaceBack(2*i+(d+1)/2,2*s+(p+1)/2)}function Lv(a,i,s){a.emplaceBack(i.x,i.y,i.z,s[0]*16384,s[1]*16384,s[2]*16384)}class Xx{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(s=>s.id),this.index=i.index,this.hasPattern=!1,this.projection=i.projection,this.layoutVertexArray=new Ot,this.indexArray=new Qn,this.segments=new go,this.programConfigurations=new yh(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(i,s,d,p){const g=this.layers[0],_=[];let b=null;g.type==="circle"&&(b=g.layout.get("circle-sort-key"));for(const{feature:T,id:R,index:F,sourceLayerIndex:V}of i){const Z=this.layers[0]._featureFilter.needGeometry,X=Eh(T,Z);if(!this.layers[0]._featureFilter.filter(new D(this.zoom),X,d))continue;const ee=b?b.evaluate(X,{},d):void 0,fe={id:R,properties:T.properties,type:T.type,sourceLayerIndex:V,index:F,geometry:Z?X.geometry:wd(T,d,p),patterns:{},sortKey:ee};_.push(fe)}b&&_.sort((T,R)=>T.sortKey-R.sortKey);let C=null;p.projection.name==="globe"&&(this.globeExtVertexArray=new an,C=p.projection);for(const T of _){const{geometry:R,index:F,sourceLayerIndex:V}=T,Z=i[F].feature;this.addFeature(T,R,F,s.availableImages,d,C),s.featureIndex.insert(Z,R,F,V,this.index)}}update(i,s,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,s,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,BF.members),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,zF.members))),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(i,s,d,p,g,_){for(const b of s)for(const C of b){const T=C.x,R=C.y;if(T<0||T>=ur||R<0||R>=ur)continue;if(_){const Z=_.projectTilePoint(T,R,g),X=_.upVector(g,T,R),ee=this.globeExtVertexArray;Lv(ee,Z,X),Lv(ee,Z,X),Lv(ee,Z,X),Lv(ee,Z,X)}const F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),V=F.vertexLength;Dv(this.layoutVertexArray,T,R,-1,-1),Dv(this.layoutVertexArray,T,R,1,-1),Dv(this.layoutVertexArray,T,R,1,1),Dv(this.layoutVertexArray,T,R,-1,1),this.indexArray.emplaceBack(V,V+1,V+2),this.indexArray.emplaceBack(V,V+2,V+3),F.vertexLength+=4,F.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,{},p,g)}}function QP(a,i){for(let s=0;s<a.length;s++)if(Ch(i,a[s]))return!0;for(let s=0;s<i.length;s++)if(Ch(a,i[s]))return!0;return!!Yx(a,i)}function QF(a,i,s){return!!Ch(a,i)||!!Jx(i,a,s)}function e3(a,i){if(a.length===1)return n3(i,a[0]);for(let s=0;s<i.length;s++){const d=i[s];for(let p=0;p<d.length;p++)if(Ch(a,d[p]))return!0}for(let s=0;s<a.length;s++)if(n3(i,a[s]))return!0;for(let s=0;s<i.length;s++)if(Yx(a,i[s]))return!0;return!1}function e8(a,i,s){if(a.length>1){if(Yx(a,i))return!0;for(let d=0;d<i.length;d++)if(Jx(i[d],a,s))return!0}for(let d=0;d<a.length;d++)if(Jx(a[d],i,s))return!0;return!1}function Yx(a,i){if(a.length===0||i.length===0)return!1;for(let s=0;s<a.length-1;s++){const d=a[s],p=a[s+1];for(let g=0;g<i.length-1;g++)if(t8(d,p,i[g],i[g+1]))return!0}return!1}function t8(a,i,s,d){return xe(a,s,d)!==xe(i,s,d)&&xe(a,i,s)!==xe(a,i,d)}function Jx(a,i,s){const d=s*s;if(i.length===1)return a.distSqr(i[0])<d;for(let p=1;p<i.length;p++)if(t3(a,i[p-1],i[p])<d)return!0;return!1}function t3(a,i,s){const d=i.distSqr(s);if(d===0)return a.distSqr(i);const p=((a.x-i.x)*(s.x-i.x)+(a.y-i.y)*(s.y-i.y))/d;return a.distSqr(p<0?i:p>1?s:s.sub(i)._mult(p)._add(i))}function n3(a,i){let s,d,p,g=!1;for(let _=0;_<a.length;_++){s=a[_];for(let b=0,C=s.length-1;b<s.length;C=b++)d=s[b],p=s[C],d.y>i.y!=p.y>i.y&&i.x<(p.x-d.x)*(i.y-d.y)/(p.y-d.y)+d.x&&(g=!g)}return g}function Ch(a,i){let s=!1;for(let d=0,p=a.length-1;d<a.length;p=d++){const g=a[d],_=a[p];g.y>i.y!=_.y>i.y&&i.x<(_.x-g.x)*(i.y-g.y)/(_.y-g.y)+g.x&&(s=!s)}return s}function r3(a,i,s,d,p){for(const _ of a)if(i<=_.x&&s<=_.y&&d>=_.x&&p>=_.y)return!0;const g=[new Le(i,s),new Le(i,p),new Le(d,p),new Le(d,s)];if(a.length>2){for(const _ of g)if(Ch(a,_))return!0}for(let _=0;_<a.length-1;_++)if(n8(a[_],a[_+1],g))return!0;return!1}function n8(a,i,s){const d=s[0],p=s[2];if(a.x<d.x&&i.x<d.x||a.x>p.x&&i.x>p.x||a.y<d.y&&i.y<d.y||a.y>p.y&&i.y>p.y)return!1;const g=xe(a,i,s[0]);return g!==xe(a,i,s[1])||g!==xe(a,i,s[2])||g!==xe(a,i,s[3])}function bp(a,i,s){const d=i.paint.get(a).value;return d.kind==="constant"?d.value:s.programConfigurations.get(i.id).getMaxValue(a)}function Fv(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function i3(a,i,s,d,p){if(!i[0]&&!i[1])return a;const g=Le.convert(i)._mult(p);s==="viewport"&&g._rotate(-d);const _=[];for(let b=0;b<a.length;b++)_.push(a[b].sub(g));return _}function o3(a,i,s,d){const p=Le.convert(a)._mult(d);return i==="viewport"&&p._rotate(-s),p}Wn(Xx,"CircleBucket",{omit:["layers"]});const r8=new Te({"circle-sort-key":new ge(vt.layout_circle["circle-sort-key"])});var i8={paint:new Te({"circle-radius":new ge(vt.paint_circle["circle-radius"]),"circle-color":new ge(vt.paint_circle["circle-color"]),"circle-blur":new ge(vt.paint_circle["circle-blur"]),"circle-opacity":new ge(vt.paint_circle["circle-opacity"]),"circle-translate":new Q(vt.paint_circle["circle-translate"]),"circle-translate-anchor":new Q(vt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Q(vt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Q(vt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ge(vt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ge(vt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ge(vt.paint_circle["circle-stroke-opacity"])}),layout:r8};function a3(a,i,s,d,p,g,_,b,C){if(g&&a.queryGeometry.isAboveHorizon)return!1;g&&(C*=a.pixelToTileUnitsFactor);const T=a.tileID.canonical,R=s.projection.upVectorScale(T,s.center.lat,s.worldSize).metersToTile;for(const F of i)for(const V of F){const Z=V.add(b),X=p&&s.elevation?s.elevation.exaggeration()*p.getElevationAt(Z.x,Z.y,!0):0,ee=s.projection.projectTilePoint(Z.x,Z.y,T);if(X>0){const Ee=s.projection.upVector(T,Z.x,Z.y);ee.x+=Ee[0]*R*X,ee.y+=Ee[1]*R*X,ee.z+=Ee[2]*R*X}const fe=g?Z:o8(ee.x,ee.y,ee.z,d),be=g?a.tilespaceRays.map(Ee=>s8(Ee,X)):a.queryGeometry.screenGeometry,Oe=xh([],[ee.x,ee.y,ee.z,1],d);if(!_&&g?C*=Oe[3]/s.cameraToCenterDistance:_&&!g&&(C*=s.cameraToCenterDistance/Oe[3]),g){const Ee=xa((V.y/ur+T.y)/(1<<T.z));C/=s.projection.pixelsPerMeter(Ee,1)/Dc(1,Ee)}if(QF(be,fe,C))return!0}return!1}function o8(a,i,s,d){const p=xh([],[a,i,s,1],d);return new Le(p[0]/p[3],p[1]/p[3])}const s3=gp(0,0,0),a8=gp(0,0,1);function s8(a,i){const s=Lx();return s3[2]=i,a.intersectsPlane(s3,a8,s),new Le(s[0],s[1])}class l3 extends Xx{}function c3(a,{width:i,height:s},d,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==i*s*d)throw new RangeError("mismatched image size")}else p=new Uint8Array(i*s*d);return a.width=i,a.height=s,a.data=p,a}function u3(a,i,s){const{width:d,height:p}=i;d===a.width&&p===a.height||(Qx(a,i,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,d),height:Math.min(a.height,p)},s),a.width=d,a.height=p,a.data=i.data)}function Qx(a,i,s,d,p,g){if(p.width===0||p.height===0)return i;if(p.width>a.width||p.height>a.height||s.x>a.width-p.width||s.y>a.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>i.width||p.height>i.height||d.x>i.width-p.width||d.y>i.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const _=a.data,b=i.data;for(let C=0;C<p.height;C++){const T=((s.y+C)*a.width+s.x)*g,R=((d.y+C)*i.width+d.x)*g;for(let F=0;F<p.width*g;F++)b[R+F]=_[T+F]}return i}Wn(l3,"HeatmapBucket",{omit:["layers"]});class Ed{constructor(i,s){c3(this,i,1,s)}resize(i){u3(this,new Ed(i),1)}clone(){return new Ed({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,s,d,p,g){Qx(i,s,d,p,g,1)}}class Gs{constructor(i,s){c3(this,i,4,s)}resize(i){u3(this,new Gs(i),4)}replace(i,s){s?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Gs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,s,d,p,g){Qx(i,s,d,p,g,4)}}Wn(Ed,"AlphaImage"),Wn(Gs,"RGBAImage");var l8={paint:new Te({"heatmap-radius":new ge(vt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ge(vt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Q(vt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new we(vt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Q(vt.paint_heatmap["heatmap-opacity"])})};function eb(a){const i={},s=a.resolution||256,d=a.clips?a.clips.length:1,p=a.image||new Gs({width:s,height:d}),g=(_,b,C)=>{i[a.evaluationKey]=C;const T=a.expression.evaluate(i);p.data[_+b+0]=Math.floor(255*T.r/T.a),p.data[_+b+1]=Math.floor(255*T.g/T.a),p.data[_+b+2]=Math.floor(255*T.b/T.a),p.data[_+b+3]=Math.floor(255*T.a)};if(a.clips)for(let _=0,b=0;_<d;++_,b+=4*s)for(let C=0,T=0;C<s;C++,T+=4){const R=C/(s-1),{start:F,end:V}=a.clips[_];g(b,T,F*(1-R)+V*R)}else for(let _=0,b=0;_<s;_++,b+=4)g(0,b,_/(s-1));return p}var c8={paint:new Te({"hillshade-illumination-direction":new Q(vt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Q(vt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Q(vt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Q(vt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Q(vt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Q(vt.paint_hillshade["hillshade-accent-color"])})};const u8=Ke([{name:"a_pos",components:2,type:"Int16"}],4),{members:d8}=u8;var tb={exports:{}};function Nv(a,i,s){s=s||2;var d,p,g,_,b,C,T,R=i&&i.length,F=R?i[0]*s:a.length,V=d3(a,0,F,s,!0),Z=[];if(!V||V.next===V.prev)return Z;if(R&&(V=function(ee,fe,be,Oe){var Ee,Me,je,ze=[];for(Ee=0,Me=fe.length;Ee<Me;Ee++)(je=d3(ee,fe[Ee]*Oe,Ee<Me-1?fe[Ee+1]*Oe:ee.length,Oe,!1))===je.next&&(je.steiner=!0),ze.push(_8(je));for(ze.sort(g8),Ee=0;Ee<ze.length;Ee++)be=y8(ze[Ee],be);return be}(a,i,V,s)),a.length>80*s){d=g=a[0],p=_=a[1];for(var X=s;X<F;X+=s)(b=a[X])<d&&(d=b),(C=a[X+1])<p&&(p=C),b>g&&(g=b),C>_&&(_=C);T=(T=Math.max(g-d,_-p))!==0?32767/T:0}return mg(V,Z,s,d,p,T,0),Z}function d3(a,i,s,d,p){var g,_;if(p===ib(a,i,s,d)>0)for(g=i;g<s;g+=d)_=p3(g,a[g],a[g+1],_);else for(g=s-d;g>=i;g-=d)_=p3(g,a[g],a[g+1],_);return _&&Bv(_,_.next)&&(yg(_),_=_.next),_}function Sh(a,i){if(!a)return a;i||(i=a);var s,d=a;do if(s=!1,d.steiner||!Bv(d,d.next)&&yo(d.prev,d,d.next)!==0)d=d.next;else{if(yg(d),(d=i=d.prev)===d.next)break;s=!0}while(s||d!==i);return i}function mg(a,i,s,d,p,g,_){if(a){!_&&g&&function(R,F,V,Z){var X=R;do X.z===0&&(X.z=nb(X.x,X.y,F,V,Z)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==R);X.prevZ.nextZ=null,X.prevZ=null,function(ee){var fe,be,Oe,Ee,Me,je,ze,yt,pt=1;do{for(be=ee,ee=null,Me=null,je=0;be;){for(je++,Oe=be,ze=0,fe=0;fe<pt&&(ze++,Oe=Oe.nextZ);fe++);for(yt=pt;ze>0||yt>0&&Oe;)ze!==0&&(yt===0||!Oe||be.z<=Oe.z)?(Ee=be,be=be.nextZ,ze--):(Ee=Oe,Oe=Oe.nextZ,yt--),Me?Me.nextZ=Ee:ee=Ee,Ee.prevZ=Me,Me=Ee;be=Oe}Me.nextZ=null,pt*=2}while(je>1)}(X)}(a,d,p,g);for(var b,C,T=a;a.prev!==a.next;)if(b=a.prev,C=a.next,g?h8(a,d,p,g):f8(a))i.push(b.i/s|0),i.push(a.i/s|0),i.push(C.i/s|0),yg(a),a=C.next,T=C.next;else if((a=C)===T){_?_===1?mg(a=p8(Sh(a),i,s),i,s,d,p,g,2):_===2&&m8(a,i,s,d,p,g):mg(Sh(a),i,s,d,p,g,1);break}}}function f8(a){var i=a.prev,s=a,d=a.next;if(yo(i,s,d)>=0)return!1;for(var p=i.x,g=s.x,_=d.x,b=i.y,C=s.y,T=d.y,R=p<g?p<_?p:_:g<_?g:_,F=b<C?b<T?b:T:C<T?C:T,V=p>g?p>_?p:_:g>_?g:_,Z=b>C?b>T?b:T:C>T?C:T,X=d.next;X!==i;){if(X.x>=R&&X.x<=V&&X.y>=F&&X.y<=Z&&wp(p,b,g,C,_,T,X.x,X.y)&&yo(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function h8(a,i,s,d){var p=a.prev,g=a,_=a.next;if(yo(p,g,_)>=0)return!1;for(var b=p.x,C=g.x,T=_.x,R=p.y,F=g.y,V=_.y,Z=b<C?b<T?b:T:C<T?C:T,X=R<F?R<V?R:V:F<V?F:V,ee=b>C?b>T?b:T:C>T?C:T,fe=R>F?R>V?R:V:F>V?F:V,be=nb(Z,X,i,s,d),Oe=nb(ee,fe,i,s,d),Ee=a.prevZ,Me=a.nextZ;Ee&&Ee.z>=be&&Me&&Me.z<=Oe;){if(Ee.x>=Z&&Ee.x<=ee&&Ee.y>=X&&Ee.y<=fe&&Ee!==p&&Ee!==_&&wp(b,R,C,F,T,V,Ee.x,Ee.y)&&yo(Ee.prev,Ee,Ee.next)>=0||(Ee=Ee.prevZ,Me.x>=Z&&Me.x<=ee&&Me.y>=X&&Me.y<=fe&&Me!==p&&Me!==_&&wp(b,R,C,F,T,V,Me.x,Me.y)&&yo(Me.prev,Me,Me.next)>=0))return!1;Me=Me.nextZ}for(;Ee&&Ee.z>=be;){if(Ee.x>=Z&&Ee.x<=ee&&Ee.y>=X&&Ee.y<=fe&&Ee!==p&&Ee!==_&&wp(b,R,C,F,T,V,Ee.x,Ee.y)&&yo(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.prevZ}for(;Me&&Me.z<=Oe;){if(Me.x>=Z&&Me.x<=ee&&Me.y>=X&&Me.y<=fe&&Me!==p&&Me!==_&&wp(b,R,C,F,T,V,Me.x,Me.y)&&yo(Me.prev,Me,Me.next)>=0)return!1;Me=Me.nextZ}return!0}function p8(a,i,s){var d=a;do{var p=d.prev,g=d.next.next;!Bv(p,g)&&f3(p,d,d.next,g)&&gg(p,g)&&gg(g,p)&&(i.push(p.i/s|0),i.push(d.i/s|0),i.push(g.i/s|0),yg(d),yg(d.next),d=a=g),d=d.next}while(d!==a);return Sh(d)}function m8(a,i,s,d,p,g){var _=a;do{for(var b=_.next.next;b!==_.prev;){if(_.i!==b.i&&x8(_,b)){var C=h3(_,b);return _=Sh(_,_.next),C=Sh(C,C.next),mg(_,i,s,d,p,g,0),void mg(C,i,s,d,p,g,0)}b=b.next}_=_.next}while(_!==a)}function g8(a,i){return a.x-i.x}function y8(a,i){var s=function(p,g){var _,b=g,C=p.x,T=p.y,R=-1/0;do{if(T<=b.y&&T>=b.next.y&&b.next.y!==b.y){var F=b.x+(T-b.y)*(b.next.x-b.x)/(b.next.y-b.y);if(F<=C&&F>R&&(R=F,_=b.x<b.next.x?b:b.next,F===C))return _}b=b.next}while(b!==g);if(!_)return null;var V,Z=_,X=_.x,ee=_.y,fe=1/0;b=_;do C>=b.x&&b.x>=X&&C!==b.x&&wp(T<ee?C:R,T,X,ee,T<ee?R:C,T,b.x,b.y)&&(V=Math.abs(T-b.y)/(C-b.x),gg(b,p)&&(V<fe||V===fe&&(b.x>_.x||b.x===_.x&&v8(_,b)))&&(_=b,fe=V)),b=b.next;while(b!==Z);return _}(a,i);if(!s)return i;var d=h3(s,a);return Sh(d,d.next),Sh(s,s.next)}function v8(a,i){return yo(a.prev,a,i.prev)<0&&yo(i.next,a,a.next)<0}function nb(a,i,s,d,p){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-s)*p|0)|a<<8))|a<<4))|a<<2))|a<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-d)*p|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function _8(a){var i=a,s=a;do(i.x<s.x||i.x===s.x&&i.y<s.y)&&(s=i),i=i.next;while(i!==a);return s}function wp(a,i,s,d,p,g,_,b){return(p-_)*(i-b)>=(a-_)*(g-b)&&(a-_)*(d-b)>=(s-_)*(i-b)&&(s-_)*(g-b)>=(p-_)*(d-b)}function x8(a,i){return a.next.i!==i.i&&a.prev.i!==i.i&&!function(s,d){var p=s;do{if(p.i!==s.i&&p.next.i!==s.i&&p.i!==d.i&&p.next.i!==d.i&&f3(p,p.next,s,d))return!0;p=p.next}while(p!==s);return!1}(a,i)&&(gg(a,i)&&gg(i,a)&&function(s,d){var p=s,g=!1,_=(s.x+d.x)/2,b=(s.y+d.y)/2;do p.y>b!=p.next.y>b&&p.next.y!==p.y&&_<(p.next.x-p.x)*(b-p.y)/(p.next.y-p.y)+p.x&&(g=!g),p=p.next;while(p!==s);return g}(a,i)&&(yo(a.prev,a,i.prev)||yo(a,i.prev,i))||Bv(a,i)&&yo(a.prev,a,a.next)>0&&yo(i.prev,i,i.next)>0)}function yo(a,i,s){return(i.y-a.y)*(s.x-i.x)-(i.x-a.x)*(s.y-i.y)}function Bv(a,i){return a.x===i.x&&a.y===i.y}function f3(a,i,s,d){var p=$v(yo(a,i,s)),g=$v(yo(a,i,d)),_=$v(yo(s,d,a)),b=$v(yo(s,d,i));return p!==g&&_!==b||!(p!==0||!zv(a,s,i))||!(g!==0||!zv(a,d,i))||!(_!==0||!zv(s,a,d))||!(b!==0||!zv(s,i,d))}function zv(a,i,s){return i.x<=Math.max(a.x,s.x)&&i.x>=Math.min(a.x,s.x)&&i.y<=Math.max(a.y,s.y)&&i.y>=Math.min(a.y,s.y)}function $v(a){return a>0?1:a<0?-1:0}function gg(a,i){return yo(a.prev,a,a.next)<0?yo(a,i,a.next)>=0&&yo(a,a.prev,i)>=0:yo(a,i,a.prev)<0||yo(a,a.next,i)<0}function h3(a,i){var s=new rb(a.i,a.x,a.y),d=new rb(i.i,i.x,i.y),p=a.next,g=i.prev;return a.next=i,i.prev=a,s.next=p,p.prev=s,d.next=s,s.prev=d,g.next=d,d.prev=g,d}function p3(a,i,s,d){var p=new rb(a,i,s);return d?(p.next=d.next,p.prev=d,d.next.prev=p,d.next=p):(p.prev=p,p.next=p),p}function yg(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function rb(a,i,s){this.i=a,this.x=i,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ib(a,i,s,d){for(var p=0,g=i,_=s-d;g<s;g+=d)p+=(a[_]-a[g])*(a[g+1]+a[_+1]),_=g;return p}tb.exports=Nv,tb.exports.default=Nv,Nv.deviation=function(a,i,s,d){var p=i&&i.length,g=Math.abs(ib(a,0,p?i[0]*s:a.length,s));if(p)for(var _=0,b=i.length;_<b;_++)g-=Math.abs(ib(a,i[_]*s,_<b-1?i[_+1]*s:a.length,s));var C=0;for(_=0;_<d.length;_+=3){var T=d[_]*s,R=d[_+1]*s,F=d[_+2]*s;C+=Math.abs((a[T]-a[F])*(a[R+1]-a[T+1])-(a[T]-a[R])*(a[F+1]-a[T+1]))}return g===0&&C===0?0:Math.abs((C-g)/g)},Nv.flatten=function(a){for(var i=a[0][0].length,s={vertices:[],holes:[],dimensions:i},d=0,p=0;p<a.length;p++){for(var g=0;g<a[p].length;g++)for(var _=0;_<i;_++)s.vertices.push(a[p][g][_]);p>0&&s.holes.push(d+=a[p-1].length)}return s};var ob=Y(tb.exports);function b8(a,i,s,d,p){m3(a,i,s||0,d||a.length-1,p||w8)}function m3(a,i,s,d,p){for(;d>s;){if(d-s>600){var g=d-s+1,_=i-s+1,b=Math.log(g),C=.5*Math.exp(2*b/3),T=.5*Math.sqrt(b*C*(g-C)/g)*(_-g/2<0?-1:1);m3(a,i,Math.max(s,Math.floor(i-_*C/g+T)),Math.min(d,Math.floor(i+(g-_)*C/g+T)),p)}var R=a[i],F=s,V=d;for(vg(a,s,i),p(a[d],R)>0&&vg(a,s,d);F<V;){for(vg(a,F,V),F++,V--;p(a[F],R)<0;)F++;for(;p(a[V],R)>0;)V--}p(a[s],R)===0?vg(a,s,V):vg(a,++V,d),V<=i&&(s=V+1),i<=V&&(d=V-1)}}function vg(a,i,s){var d=a[i];a[i]=a[s],a[s]=d}function w8(a,i){return a<i?-1:a>i?1:0}function ab(a,i){const s=a.length;if(s<=1)return[a];const d=[];let p,g;for(let _=0;_<s;_++){const b=Re(a[_]);b!==0&&(a[_].area=Math.abs(b),g===void 0&&(g=b<0),g===b<0?(p&&d.push(p),p=[a[_]]):p.push(a[_]))}if(p&&d.push(p),i>1)for(let _=0;_<d.length;_++)d[_].length<=i||(b8(d[_],i,1,d[_].length-1,E8),d[_]=d[_].slice(0,i));return d}function E8(a,i){return i.area-a.area}function sb(a,i,s){const d=s.patternDependencies;let p=!1;for(const g of i){const _=g.paint.get(`${a}-pattern`);_.isConstant()||(p=!0);const b=_.constantOr(null);b&&(p=!0,d[b]=!0)}return p}function lb(a,i,s,d,p){const g=p.patternDependencies;for(const _ of i){const b=_.paint.get(`${a}-pattern`).value;if(b.kind!=="constant"){let C=b.evaluate({zoom:d},s,{},p.availableImages);C=C&&C.name?C.name:C,g[C]=!0,s.patterns[_.id]=C}}return s}class jv{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(s=>s.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ot,this.indexArray=new Qn,this.indexArray2=new oo,this.programConfigurations=new yh(i.layers,i.zoom),this.segments=new go,this.segments2=new go,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.projection=i.projection}populate(i,s,d,p){this.hasPattern=sb("fill",this.layers,s);const g=this.layers[0].layout.get("fill-sort-key"),_=[];for(const{feature:b,id:C,index:T,sourceLayerIndex:R}of i){const F=this.layers[0]._featureFilter.needGeometry,V=Eh(b,F);if(!this.layers[0]._featureFilter.filter(new D(this.zoom),V,d))continue;const Z=g?g.evaluate(V,{},d,s.availableImages):void 0,X={id:C,properties:b.properties,type:b.type,sourceLayerIndex:R,index:T,geometry:F?V.geometry:wd(b,d,p),patterns:{},sortKey:Z};_.push(X)}g&&_.sort((b,C)=>b.sortKey-C.sortKey);for(const b of _){const{geometry:C,index:T,sourceLayerIndex:R}=b;if(this.hasPattern){const F=lb("fill",this.layers,b,this.zoom,s);this.patternFeatures.push(F)}else this.addFeature(b,C,T,d,{},s.availableImages);s.featureIndex.insert(i[T].feature,C,T,R,this.index)}}update(i,s,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,s,this.stateDependentLayers,d,p)}addFeatures(i,s,d,p,g){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,s,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,d8),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,s,d,p,g,_=[]){for(const b of ab(s,500)){let C=0;for(const X of b)C+=X.length;const T=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),R=T.vertexLength,F=[],V=[];for(const X of b){if(X.length===0)continue;X!==b[0]&&V.push(F.length/2);const ee=this.segments2.prepareSegment(X.length,this.layoutVertexArray,this.indexArray2),fe=ee.vertexLength;this.layoutVertexArray.emplaceBack(X[0].x,X[0].y),this.indexArray2.emplaceBack(fe+X.length-1,fe),F.push(X[0].x),F.push(X[0].y);for(let be=1;be<X.length;be++)this.layoutVertexArray.emplaceBack(X[be].x,X[be].y),this.indexArray2.emplaceBack(fe+be-1,fe+be),F.push(X[be].x),F.push(X[be].y);ee.vertexLength+=X.length,ee.primitiveLength+=X.length}const Z=ob(F,V);for(let X=0;X<Z.length;X+=3)this.indexArray.emplaceBack(R+Z[X],R+Z[X+1],R+Z[X+2]);T.vertexLength+=C,T.primitiveLength+=Z.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,g,_,p)}}Wn(jv,"FillBucket",{omit:["layers","patternFeatures"]});const C8=new Te({"fill-sort-key":new ge(vt.layout_fill["fill-sort-key"])});var S8={paint:new Te({"fill-antialias":new Q(vt.paint_fill["fill-antialias"]),"fill-opacity":new ge(vt.paint_fill["fill-opacity"]),"fill-color":new ge(vt.paint_fill["fill-color"]),"fill-outline-color":new ge(vt.paint_fill["fill-outline-color"]),"fill-translate":new Q(vt.paint_fill["fill-translate"]),"fill-translate-anchor":new Q(vt.paint_fill["fill-translate-anchor"]),"fill-pattern":new ge(vt.paint_fill["fill-pattern"])}),layout:C8};const T8=Ke([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),A8=Ke([{name:"a_centroid_pos",components:2,type:"Uint16"}]),P8=Ke([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:I8}=T8;var Uv={},k8=Pe,g3=Ep;function Ep(a,i,s,d,p){this.properties={},this.extent=s,this.type=0,this._pbf=a,this._geometry=-1,this._keys=d,this._values=p,a.readFields(M8,this,i)}function M8(a,i,s){a==1?i.id=s.readVarint():a==2?function(d,p){for(var g=d.readVarint()+d.pos;d.pos<g;){var _=p._keys[d.readVarint()],b=p._values[d.readVarint()];p.properties[_]=b}}(s,i):a==3?i.type=s.readVarint():a==4&&(i._geometry=s.pos)}function O8(a){for(var i,s,d=0,p=0,g=a.length,_=g-1;p<g;_=p++)d+=((s=a[_]).x-(i=a[p]).x)*(i.y+s.y);return d}Ep.types=["Unknown","Point","LineString","Polygon"],Ep.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var i,s=a.readVarint()+a.pos,d=1,p=0,g=0,_=0,b=[];a.pos<s;){if(p<=0){var C=a.readVarint();d=7&C,p=C>>3}if(p--,d===1||d===2)g+=a.readSVarint(),_+=a.readSVarint(),d===1&&(i&&b.push(i),i=[]),i.push(new k8(g,_));else{if(d!==7)throw new Error("unknown command "+d);i&&i.push(i[0].clone())}}return i&&b.push(i),b},Ep.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var i=a.readVarint()+a.pos,s=1,d=0,p=0,g=0,_=1/0,b=-1/0,C=1/0,T=-1/0;a.pos<i;){if(d<=0){var R=a.readVarint();s=7&R,d=R>>3}if(d--,s===1||s===2)(p+=a.readSVarint())<_&&(_=p),p>b&&(b=p),(g+=a.readSVarint())<C&&(C=g),g>T&&(T=g);else if(s!==7)throw new Error("unknown command "+s)}return[_,C,b,T]},Ep.prototype.toGeoJSON=function(a,i,s){var d,p,g=this.extent*Math.pow(2,s),_=this.extent*a,b=this.extent*i,C=this.loadGeometry(),T=Ep.types[this.type];function R(Z){for(var X=0;X<Z.length;X++){var ee=Z[X];Z[X]=[360*(ee.x+_)/g-180,360/Math.PI*Math.atan(Math.exp((180-360*(ee.y+b)/g)*Math.PI/180))-90]}}switch(this.type){case 1:var F=[];for(d=0;d<C.length;d++)F[d]=C[d][0];R(C=F);break;case 2:for(d=0;d<C.length;d++)R(C[d]);break;case 3:for(C=function(Z){var X=Z.length;if(X<=1)return[Z];for(var ee,fe,be=[],Oe=0;Oe<X;Oe++){var Ee=O8(Z[Oe]);Ee!==0&&(fe===void 0&&(fe=Ee<0),fe===Ee<0?(ee&&be.push(ee),ee=[Z[Oe]]):ee.push(Z[Oe]))}return ee&&be.push(ee),be}(C),d=0;d<C.length;d++)for(p=0;p<C[d].length;p++)R(C[d][p])}C.length===1?C=C[0]:T="Multi"+T;var V={type:"Feature",geometry:{type:T,coordinates:C},properties:this.properties};return"id"in this&&(V.id=this.id),V};var R8=g3,y3=v3;function v3(a,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(D8,this,i),this.length=this._features.length}function D8(a,i,s){a===15?i.version=s.readVarint():a===1?i.name=s.readString():a===5?i.extent=s.readVarint():a===2?i._features.push(s.pos):a===3?i._keys.push(s.readString()):a===4&&i._values.push(function(d){for(var p=null,g=d.readVarint()+d.pos;d.pos<g;){var _=d.readVarint()>>3;p=_===1?d.readString():_===2?d.readFloat():_===3?d.readDouble():_===4?d.readVarint64():_===5?d.readVarint():_===6?d.readSVarint():_===7?d.readBoolean():null}return p}(s))}v3.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var i=this._pbf.readVarint()+this._pbf.pos;return new R8(this._pbf,i,this.extent,this._keys,this._values)};var L8=y3;function F8(a,i,s){if(a===3){var d=new L8(s,s.readVarint()+s.pos);d.length&&(i[d.name]=d)}}var cb=Uv.VectorTile=function(a,i){this.layers=a.readFields(F8,{},i)},Vv=Uv.VectorTileFeature=g3;function Gv(a,i,s,d){const p=[],g=d===0?(_,b,C,T,R,F)=>{_.push(new Le(F,C+(F-b)/(T-b)*(R-C)))}:(_,b,C,T,R,F)=>{_.push(new Le(b+(F-C)/(R-C)*(T-b),F))};for(const _ of a){const b=[];for(const C of _){if(C.length<=2)continue;const T=[];for(let V=0;V<C.length-1;V++){const Z=C[V].x,X=C[V].y,ee=C[V+1].x,fe=C[V+1].y,be=d===0?Z:X,Oe=d===0?ee:fe;be<i?Oe>i&&g(T,Z,X,ee,fe,i):be>s?Oe<s&&g(T,Z,X,ee,fe,s):T.push(C[V]),Oe<i&&be>=i&&g(T,Z,X,ee,fe,i),Oe>s&&be<=s&&g(T,Z,X,ee,fe,s)}let R=C[C.length-1];const F=d===0?R.x:R.y;F>=i&&F<=s&&T.push(R),T.length&&(R=T[T.length-1],T[0].x===R.x&&T[0].y===R.y||T.push(T[0]),b.push(T))}b.length&&p.push(b)}return p}Uv.VectorTileLayer=y3;const N8=Vv.types,B8=Math.pow(2,13);function _g(a,i,s,d,p,g,_,b){a.emplaceBack((i<<1)+_,(s<<1)+g,(Math.floor(d*B8)<<1)+p,Math.round(b))}function xg(a,i,s){a.emplaceBack(i.x,i.y,i.z,s[0]*16384,s[1]*16384,s[2]*16384)}class _3{constructor(){this.acc=new Le(0,0),this.polyCount=[]}startRing(i){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new Le(i.x,i.y),this.max=new Le(i.x,i.y))}append(i,s){this.currentPolyCount.edges++,this.acc._add(i);const d=this.min,p=this.max;i.x<d.x?d.x=i.x:i.x>p.x&&(p.x=i.x),i.y<d.y?d.y=i.y:i.y>p.y&&(p.y=i.y),((i.x===0||i.x===ur)&&i.x===s.x)!=((i.y===0||i.y===ur)&&i.y===s.y)&&this.processBorderOverlap(i,s),s.x<0!=i.x<0&&this.addBorderIntersection(0,jr(s.y,i.y,(0-s.x)/(i.x-s.x))),s.x>ur!=i.x>ur&&this.addBorderIntersection(1,jr(s.y,i.y,(ur-s.x)/(i.x-s.x))),s.y<0!=i.y<0&&this.addBorderIntersection(2,jr(s.x,i.x,(0-s.y)/(i.y-s.y))),s.y>ur!=i.y>ur&&this.addBorderIntersection(3,jr(s.x,i.x,(ur-s.y)/(i.y-s.y)))}addBorderIntersection(i,s){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[i];s<d[0]&&(d[0]=s),s>d[1]&&(d[1]=s)}processBorderOverlap(i,s){if(i.x===s.x){if(i.y===s.y)return;const d=i.x===0?0:1;this.addBorderIntersection(d,s.y),this.addBorderIntersection(d,i.y)}else{const d=i.y===0?2:3;this.addBorderIntersection(d,s.x),this.addBorderIntersection(d,i.x)}}centroid(){const i=this.polyCount.reduce((s,d)=>s+d.edges,0);return i!==0?this.acc.div(i)._round():new Le(0,0)}span(){return new Le(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((i,s)=>i+ +(s[0]!==Number.MAX_VALUE),0)}}class bg{constructor(i){this.zoom=i.zoom,this.canonical=i.canonical,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(s=>s.id),this.index=i.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=i.projection,this.layoutVertexArray=new St,this.centroidVertexArray=new Ic,this.indexArray=new Qn,this.programConfigurations=new yh(i.layers,i.zoom),this.segments=new go,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id),this.enableTerrain=i.enableTerrain}populate(i,s,d,p){this.features=[],this.hasPattern=sb("fill-extrusion",this.layers,s),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(g){const _=Math.exp(Math.PI*(1-g.y/(1<<g.z)*2));return 80150034*_/(_*_+1)/ur/(1<<g.z)}(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:g,id:_,index:b,sourceLayerIndex:C}of i){const T=this.layers[0]._featureFilter.needGeometry,R=Eh(g,T);if(!this.layers[0]._featureFilter.filter(new D(this.zoom),R,d))continue;const F={id:_,sourceLayerIndex:C,index:b,geometry:T?R.geometry:wd(g,d,p),properties:g.properties,type:g.type,patterns:{}},V=this.layoutVertexArray.length;this.hasPattern?this.features.push(lb("fill-extrusion",this.layers,F,this.zoom,s)):this.addFeature(F,F.geometry,b,d,{},s.availableImages,p),s.featureIndex.insert(g,F.geometry,b,C,this.index,V)}this.sortBorders()}addFeatures(i,s,d,p,g){for(const _ of this.features){const{geometry:b}=_;this.addFeature(_,b,_.index,s,d,p,g)}this.sortBorders()}update(i,s,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,s,this.stateDependentLayers,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,I8),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=i.createVertexBuffer(this.layoutVertexExtArray,P8.members,!0))),this.programConfigurations.upload(i),this.uploaded=!0}uploadCentroid(i){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,A8.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,s,d,p,g,_,b){const C=[new Le(0,0),new Le(ur,ur)],T=b.projection,R=T.name==="globe",F=this.enableTerrain&&!R?new _3:null,V=N8[i.type]==="Polygon";R&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new an);const Z=ab(s,500);for(let be=Z.length-1;be>=0;be--){const Oe=Z[be];(Oe.length===0||(X=Oe[0]).every(Ee=>Ee.x<=0)||X.every(Ee=>Ee.x>=ur)||X.every(Ee=>Ee.y<=0)||X.every(Ee=>Ee.y>=ur))&&Z.splice(be,1)}var X;let ee;if(R)ee=T3(Z,C,p);else{ee=[];for(const be of Z)ee.push({polygon:be,bounds:C})}const fe=V?this.edgeRadius:0;for(const{polygon:be,bounds:Oe}of ee){let Ee=0,Me=0;for(const ze of be)V&&!ze[0].equals(ze[ze.length-1])&&ze.push(ze[0]),Me+=V?ze.length-1:ze.length;const je=this.segments.prepareSegment((V?5:4)*Me,this.layoutVertexArray,this.indexArray);if(V){const ze=[],yt=[];Ee=je.vertexLength;for(const Mt of be){let fn,bt;Mt.length&&Mt!==be[0]&&yt.push(ze.length/2),fn=Mt[1].sub(Mt[0])._perp()._unit();for(let Zt=1;Zt<Mt.length;Zt++){const qt=Mt[Zt],rn=Mt[Zt===Mt.length-1?1:Zt+1];let{x:_n,y:Pt}=qt;if(fe){bt=rn.sub(qt)._perp()._unit();const Nn=fn.add(bt)._unit(),Kn=fe*Math.min(4,1/(fn.x*Nn.x+fn.y*Nn.y));_n+=Kn*Nn.x,Pt+=Kn*Nn.y,fn=bt}_g(this.layoutVertexArray,_n,Pt,0,0,1,1,0),je.vertexLength++,ze.push(qt.x,qt.y),R&&xg(this.layoutVertexExtArray,T.projectTilePoint(_n,Pt,p),T.upVector(p,_n,Pt))}}const pt=ob(ze,yt);for(let Mt=0;Mt<pt.length;Mt+=3)this.indexArray.emplaceBack(Ee+pt[Mt],Ee+pt[Mt+2],Ee+pt[Mt+1]),je.primitiveLength++}for(const ze of be){F&&ze.length&&F.startRing(ze[0]);let yt,pt,Mt,fn=ze.length>4&&E3(ze[ze.length-2],ze[0],ze[1]),bt=fe?z8(ze[ze.length-2],ze[0],ze[1],fe):0;pt=ze[1].sub(ze[0])._perp()._unit();let Zt=!0;for(let qt=1,rn=0;qt<ze.length;qt++){let _n=ze[qt-1],Pt=ze[qt];const Nn=ze[qt===ze.length-1?1:qt+1];if(F&&V&&F.currentPolyCount.top++,w3(Pt,_n,Oe)){fe&&(pt=Nn.sub(Pt)._perp()._unit(),Zt=!Zt);continue}F&&F.append(Pt,_n);const Kn=Pt.sub(_n)._perp(),$n=Kn.x/(Math.abs(Kn.x)+Math.abs(Kn.y)),Cr=Kn.y>0?1:0,bn=_n.dist(Pt);if(rn+bn>32768&&(rn=0),fe){Mt=Nn.sub(Pt)._perp()._unit();let Tr=b3(_n,Pt,Nn,x3(pt,Mt),fe);isNaN(Tr)&&(Tr=0);const fr=Pt.sub(_n)._unit();_n=_n.add(fr.mult(bt))._round(),Pt=Pt.add(fr.mult(-Tr))._round(),bt=Tr,pt=Mt}const sr=je.vertexLength,Sr=ze.length>4&&E3(_n,Pt,Nn);let Jr=C3(rn,fn,Zt);if(_g(this.layoutVertexArray,_n.x,_n.y,$n,Cr,0,0,Jr),_g(this.layoutVertexArray,_n.x,_n.y,$n,Cr,0,1,Jr),rn+=bn,Jr=C3(rn,Sr,!Zt),fn=Sr,_g(this.layoutVertexArray,Pt.x,Pt.y,$n,Cr,0,0,Jr),_g(this.layoutVertexArray,Pt.x,Pt.y,$n,Cr,0,1,Jr),je.vertexLength+=4,this.indexArray.emplaceBack(sr+0,sr+1,sr+2),this.indexArray.emplaceBack(sr+1,sr+3,sr+2),je.primitiveLength+=2,fe){const Tr=Ee+(qt===1?ze.length-2:qt-2),fr=qt===1?Ee:Tr+1;if(this.indexArray.emplaceBack(sr+1,Tr,sr+3),this.indexArray.emplaceBack(Tr,fr,sr+3),je.primitiveLength+=2,yt===void 0&&(yt=sr),!w3(Nn,ze[qt],Oe)){const Oi=qt===ze.length-1?yt:je.vertexLength;this.indexArray.emplaceBack(sr+2,sr+3,Oi),this.indexArray.emplaceBack(sr+3,Oi+1,Oi),this.indexArray.emplaceBack(sr+3,fr,Oi+1),je.primitiveLength+=3}Zt=!Zt}if(R){const Tr=this.layoutVertexExtArray,fr=T.projectTilePoint(_n.x,_n.y,p),Oi=T.projectTilePoint(Pt.x,Pt.y,p),Ir=T.upVector(p,_n.x,_n.y),kr=T.upVector(p,Pt.x,Pt.y);xg(Tr,fr,Ir),xg(Tr,fr,Ir),xg(Tr,Oi,kr),xg(Tr,Oi,kr)}}V&&(Ee+=ze.length-1)}}if(F&&F.polyCount.length>0){if(F.borders){F.vertexArrayOffset=this.centroidVertexArray.length;const be=F.borders,Oe=this.featuresOnBorder.push(F)-1;for(let Ee=0;Ee<4;Ee++)be[Ee][0]!==Number.MAX_VALUE&&this.borders[Ee].push(Oe)}this.encodeCentroid(F.borders?void 0:F.centroid(),F)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,g,_,p)}sortBorders(){for(let i=0;i<4;i++)this.borders[i].sort((s,d)=>this.featuresOnBorder[s].borders[i][0]-this.featuresOnBorder[d].borders[i][0])}encodeCentroid(i,s,d=!0){let p,g;if(i)if(i.y!==0){const b=s.span()._mult(this.tileToMeter);p=(Math.max(i.x,1)<<3)+Math.min(7,Math.round(b.x/10)),g=(Math.max(i.y,1)<<3)+Math.min(7,Math.round(b.y/10))}else p=Math.ceil(7*(i.x+450)),g=0;else p=0,g=+d;let _=d?this.centroidVertexArray.length:s.vertexArrayOffset;for(const b of s.polyCount){d&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*b.edges+b.top);for(let C=0;C<b.top;C++)this.centroidVertexArray.emplace(_++,p,g);for(let C=0;C<2*b.edges;C++)this.centroidVertexArray.emplace(_++,0,g),this.centroidVertexArray.emplace(_++,p,g)}}}function x3(a,i){const s=a.add(i)._unit();return a.x*s.x+a.y*s.y}function z8(a,i,s,d){const p=i.sub(a)._perp()._unit(),g=s.sub(i)._perp()._unit();return b3(a,i,s,x3(p,g),d)}function b3(a,i,s,d,p){const g=Math.sqrt(1-d*d);return Math.min(a.dist(i)/3,i.dist(s)/3,p*g/d)}function w3(a,i,s){return a.x<s[0].x&&i.x<s[0].x||a.x>s[1].x&&i.x>s[1].x||a.y<s[0].y&&i.y<s[0].y||a.y>s[1].y&&i.y>s[1].y}function E3(a,i,s){if(a.x<0||a.x>=ur||i.x<0||i.x>=ur||s.x<0||s.x>=ur)return!1;const d=s.sub(i),p=d.perp(),g=a.sub(i);return(d.x*g.x+d.y*g.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(g.x*g.x+g.y*g.y))>-.866&&p.x*g.x+p.y*g.y<0}function C3(a,i,s){const d=i?2|a:-3&a;return s?1|d:-2&d}function S3(){const a=Math.PI/32,i=Math.tan(a),s=pg;return s*Math.sqrt(1+2*i*i)-s}function T3(a,i,s){const d=1<<s.z,p=El(s.x/d),g=El((s.x+1)/d),_=xa(s.y/d),b=xa((s.y+1)/d);return function(C,T,R,F,V=0,Z){const X=[];if(!C.length||!R||!F)return X;const ee=(ze,yt)=>{for(const pt of ze)X.push({polygon:pt,bounds:yt})},fe=Math.ceil(Math.log2(R)),be=Math.ceil(Math.log2(F)),Oe=fe-be,Ee=[];for(let ze=0;ze<Math.abs(Oe);ze++)Ee.push(Oe>0?0:1);for(let ze=0;ze<Math.min(fe,be);ze++)Ee.push(0),Ee.push(1);let Me=C;if(Me=Gv(Me,T[0].y-V,T[1].y+V,1),Me=Gv(Me,T[0].x-V,T[1].x+V,0),!Me.length)return X;const je=[];for(Ee.length?je.push({polygons:Me,bounds:T,depth:0}):ee(Me,T);je.length;){const ze=je.pop(),yt=ze.depth,pt=Ee[yt],Mt=ze.bounds[0],fn=ze.bounds[1],bt=pt===0?Mt.x:Mt.y,Zt=pt===0?fn.x:fn.y,qt=Z?Z(pt,bt,Zt):.5*(bt+Zt),rn=Gv(ze.polygons,bt-V,qt+V,pt),_n=Gv(ze.polygons,qt-V,Zt+V,pt);if(rn.length){const Pt=[Mt,new Le(pt===0?qt:fn.x,pt===1?qt:fn.y)];Ee.length>yt+1?je.push({polygons:rn,bounds:Pt,depth:yt+1}):ee(rn,Pt)}if(_n.length){const Pt=[new Le(pt===0?qt:Mt.x,pt===1?qt:Mt.y),fn];Ee.length>yt+1?je.push({polygons:_n,bounds:Pt,depth:yt+1}):ee(_n,Pt)}}return X}(a,i,Math.ceil((g-p)/11.25),Math.ceil((_-b)/11.25),1,(C,T,R)=>{if(C===0)return .5*(T+R);{const F=xa((s.y+T/ur)/d);return(Fu(.5*(xa((s.y+R/ur)/d)+F))*d-s.y)*ur}})}Wn(bg,"FillExtrusionBucket",{omit:["layers","features"]}),Wn(_3,"PartMetadata");const $8=new Te({"fill-extrusion-edge-radius":new Q(vt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var j8={paint:new Te({"fill-extrusion-opacity":new Q(vt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ge(vt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Q(vt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Q(vt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ge(vt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ge(vt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ge(vt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Q(vt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Q(vt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Q(vt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new Q(vt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:$8};function A3(a,i,s){var d=2*Math.PI*6378137/256/Math.pow(2,s);return[a*d-2*Math.PI*6378137/2,i*d-2*Math.PI*6378137/2]}class Hv{constructor(i,s,d){this.z=i,this.x=s,this.y=d,this.key=wg(0,i,i,s,d)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,s){const d=function(g,_,b){var C=A3(256*g,256*(_=Math.pow(2,b)-_-1),b),T=A3(256*(g+1),256*(_+1),b);return C[0]+","+C[1]+","+T[0]+","+T[1]}(this.x,this.y,this.z),p=function(g,_,b){let C,T="";for(let R=g;R>0;R--)C=1<<R-1,T+=(_&C?1:0)+(b&C?2:0);return T}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(s==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",p).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class P3{constructor(i,s){this.wrap=i,this.canonical=s,this.key=wg(i,s.z,s.z,s.x,s.y)}}class Qa{constructor(i,s,d,p,g){this.overscaledZ=i,this.wrap=s,this.canonical=new Hv(d,+p,+g),this.key=s===0&&i===d?this.canonical.key:wg(s,i,d,p,g)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){const s=this.canonical.z-i;return i>this.canonical.z?new Qa(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Qa(i,this.wrap,i,this.canonical.x>>s,this.canonical.y>>s)}calculateScaledKey(i,s=!0){if(this.overscaledZ===i&&s)return this.key;if(i>this.canonical.z)return wg(this.wrap*+s,i,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-i;return wg(this.wrap*+s,i,i,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(i){if(i.wrap!==this.wrap)return!1;const s=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>s&&i.canonical.y===this.canonical.y>>s}children(i){if(this.overscaledZ>=i)return[new Qa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const s=this.canonical.z+1,d=2*this.canonical.x,p=2*this.canonical.y;return[new Qa(s,this.wrap,s,d,p),new Qa(s,this.wrap,s,d+1,p),new Qa(s,this.wrap,s,d,p+1),new Qa(s,this.wrap,s,d+1,p+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Qa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Qa(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new P3(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function wg(a,i,s,d,p){const g=1<<Math.min(s,22);let _=g*(p%g)+d%g;return a&&s<22&&(_+=g*g*((a<0?-2*a-1:2*a)%(1<<2*(22-s)))),16*(32*_+s)+(i-s)}Wn(Hv,"CanonicalTileID"),Wn(Qa,"OverscaledTileID",{omit:["projMatrix"]});class Cp extends Le{constructor(i,s,d){super(i,s),this.z=d}}function Eg(a,i){return a.x*i.x+a.y*i.y}function I3(a,i){if(a.length===1){let s=0;const d=i[s++];let p;for(;!p||d.equals(p);)if(p=i[s++],!p)return 1/0;for(;s<i.length;s++){const g=i[s],_=a[0],b=p.sub(d),C=g.sub(d),T=_.sub(d),R=Eg(b,b),F=Eg(b,C),V=Eg(C,C),Z=Eg(T,b),X=Eg(T,C),ee=R*V-F*F,fe=(V*Z-F*X)/ee,be=(R*X-F*Z)/ee,Oe=d.z*(1-fe-be)+p.z*fe+g.z*be;if(isFinite(Oe))return Oe}return 1/0}{let s=1/0;for(const d of i)s=Math.min(s,d.z);return s}}function k3(a,i,s,d,p,g,_,b){const C=_*p.getElevationAt(a,i,!0,!0),T=g[0]!==0,R=T?g[1]===0?_*(g[0]/7-450):_*function(F,V,Z){const X=Math.floor(V[0]/8),ee=Math.floor(V[1]/8),fe=10*(V[0]-8*X),be=10*(V[1]-8*ee),Oe=F.getElevationAt(X,ee,!0,!0),Ee=F.getMeterToDEM(Z),Me=Math.floor(.5*(fe*Ee-1)),je=Math.floor(.5*(be*Ee-1)),ze=F.tileCoordToPixel(X,ee),yt=2*Me+1,pt=2*je+1,Mt=function(_n,Pt,Nn,Kn,$n){return[_n.getElevationAtPixel(Pt,Nn,!0),_n.getElevationAtPixel(Pt+$n,Nn,!0),_n.getElevationAtPixel(Pt,Nn+$n,!0),_n.getElevationAtPixel(Pt+Kn,Nn+$n,!0)]}(F,ze.x-Me,ze.y-je,yt,pt),fn=Math.abs(Mt[0]-Mt[1]),bt=Math.abs(Mt[2]-Mt[3]),Zt=Math.abs(Mt[0]-Mt[2])+Math.abs(Mt[1]-Mt[3]),qt=Math.min(.25,.5*Ee*(fn+bt)/yt),rn=Math.min(.25,.5*Ee*Zt/pt);return Oe+Math.max(qt*fe,rn*be)}(p,g,b):C;return{base:C+(s===0)?-1:s,top:T?Math.max(R+d,C+s+2):C+d}}const U8=Ke([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:V8}=U8,G8=Ke([{name:"a_packed",components:4,type:"Float32"}]),{members:H8}=G8,W8=Vv.types,Z8=Math.cos(Math.PI/180*37.5);class Wv{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(s=>s.id),this.index=i.index,this.projection=i.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(s=>{this.gradients[s.id]={}}),this.layoutVertexArray=new gt,this.layoutVertexArray2=new tn,this.indexArray=new Qn,this.programConfigurations=new yh(i.layers,i.zoom),this.segments=new go,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(s=>s.isStateDependent()).map(s=>s.id)}populate(i,s,d,p){this.hasPattern=sb("line",this.layers,s);const g=this.layers[0].layout.get("line-sort-key"),_=[];for(const{feature:R,id:F,index:V,sourceLayerIndex:Z}of i){const X=this.layers[0]._featureFilter.needGeometry,ee=Eh(R,X);if(!this.layers[0]._featureFilter.filter(new D(this.zoom),ee,d))continue;const fe=g?g.evaluate(ee,{},d):void 0,be={id:F,properties:R.properties,type:R.type,sourceLayerIndex:Z,index:V,geometry:X?ee.geometry:wd(R,d,p),patterns:{},sortKey:fe};_.push(be)}g&&_.sort((R,F)=>R.sortKey-F.sortKey);const{lineAtlas:b,featureIndex:C}=s,T=this.addConstantDashes(b);for(const R of _){const{geometry:F,index:V,sourceLayerIndex:Z}=R;if(T&&this.addFeatureDashes(R,b),this.hasPattern){const X=lb("line",this.layers,R,this.zoom,s);this.patternFeatures.push(X)}else this.addFeature(R,F,V,d,b.positions,s.availableImages);C.insert(i[V].feature,F,V,Z,this.index)}}addConstantDashes(i){let s=!1;for(const d of this.layers){const p=d.paint.get("line-dasharray").value,g=d.layout.get("line-cap").value;if(p.kind!=="constant"||g.kind!=="constant")s=!0;else{const _=g.value,b=p.value;if(!b)continue;i.addDash(b,_)}}return s}addFeatureDashes(i,s){const d=this.zoom;for(const p of this.layers){const g=p.paint.get("line-dasharray").value,_=p.layout.get("line-cap").value;if(g.kind==="constant"&&_.kind==="constant")continue;let b,C;if(g.kind==="constant"){if(b=g.value,!b)continue}else b=g.evaluate({zoom:d},i);C=_.kind==="constant"?_.value:_.evaluate({zoom:d},i),s.addDash(b,C),i.patterns[p.id]=s.getKey(b,C)}}update(i,s,d,p){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,s,this.stateDependentLayers,d,p)}addFeatures(i,s,d,p,g){for(const _ of this.patternFeatures)this.addFeature(_,_.geometry,_.index,s,d,p)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,H8)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,V8),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&i.properties.hasOwnProperty("mapbox_clip_start")&&i.properties.hasOwnProperty("mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,s,d,p,g,_){const b=this.layers[0].layout,C=b.get("line-join").evaluate(i,{}),T=b.get("line-cap").evaluate(i,{}),R=b.get("line-miter-limit"),F=b.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const V of s)this.addLine(V,i,C,T,R,F);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,d,g,_,p)}addLine(i,s,d,p,g,_){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let be=0;be<i.length-1;be++)this.totalDistance+=i[be].dist(i[be+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const b=W8[s.type]==="Polygon";let C=i.length;for(;C>=2&&i[C-1].equals(i[C-2]);)C--;let T=0;for(;T<C-1&&i[T].equals(i[T+1]);)T++;if(C<(b?3:2))return;d==="bevel"&&(g=1.05);const R=this.overscaling<=16?15*ur/(512*this.overscaling):0,F=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray);let V,Z,X,ee,fe;this.e1=this.e2=-1,b&&(V=i[C-2],fe=i[T].sub(V)._unit()._perp());for(let be=T;be<C;be++){if(X=be===C-1?b?i[T+1]:void 0:i[be+1],X&&i[be].equals(X))continue;fe&&(ee=fe),V&&(Z=V),V=i[be],fe=X?X.sub(V)._unit()._perp():ee,ee=ee||fe;let Oe=ee.add(fe);Oe.x===0&&Oe.y===0||Oe._unit();const Ee=ee.x*fe.x+ee.y*fe.y,Me=Oe.x*fe.x+Oe.y*fe.y,je=Me!==0?1/Me:1/0,ze=2*Math.sqrt(2-2*Me),yt=Me<Z8&&Z&&X,pt=ee.x*fe.y-ee.y*fe.x>0;if(yt&&be>T){const bt=V.dist(Z);if(bt>2*R){const Zt=V.sub(V.sub(Z)._mult(R/bt)._round());this.updateDistance(Z,Zt),this.addCurrentVertex(Zt,ee,0,0,F),Z=Zt}}const Mt=Z&&X;let fn=Mt?d:b?"butt":p;if(Mt&&fn==="round"&&(je<_?fn="miter":je<=2&&(fn="fakeround")),fn==="miter"&&je>g&&(fn="bevel"),fn==="bevel"&&(je>2&&(fn="flipbevel"),je<g&&(fn="miter")),Z&&this.updateDistance(Z,V),fn==="miter")Oe._mult(je),this.addCurrentVertex(V,Oe,0,0,F);else if(fn==="flipbevel"){if(je>100)Oe=fe.mult(-1);else{const bt=je*ee.add(fe).mag()/ee.sub(fe).mag();Oe._perp()._mult(bt*(pt?-1:1))}this.addCurrentVertex(V,Oe,0,0,F),this.addCurrentVertex(V,Oe.mult(-1),0,0,F)}else if(fn==="bevel"||fn==="fakeround"){const bt=-Math.sqrt(je*je-1),Zt=pt?bt:0,qt=pt?0:bt;if(Z&&this.addCurrentVertex(V,ee,Zt,qt,F),fn==="fakeround"){const rn=Math.round(180*ze/Math.PI/20);for(let _n=1;_n<rn;_n++){let Pt=_n/rn;if(Pt!==.5){const Kn=Pt-.5;Pt+=Pt*Kn*(Pt-1)*((1.0904+Ee*(Ee*(3.55645-1.43519*Ee)-3.2452))*Kn*Kn+(.848013+Ee*(.215638*Ee-1.06021)))}const Nn=fe.sub(ee)._mult(Pt)._add(ee)._unit()._mult(pt?-1:1);this.addHalfVertex(V,Nn.x,Nn.y,!1,pt,0,F)}}X&&this.addCurrentVertex(V,fe,-Zt,-qt,F)}else if(fn==="butt")this.addCurrentVertex(V,Oe,0,0,F);else if(fn==="square"){const bt=Z?1:-1;Z||this.addCurrentVertex(V,Oe,bt,bt,F),this.addCurrentVertex(V,Oe,0,0,F),Z&&this.addCurrentVertex(V,Oe,bt,bt,F)}else fn==="round"&&(Z&&(this.addCurrentVertex(V,ee,0,0,F),this.addCurrentVertex(V,ee,1,1,F,!0)),X&&(this.addCurrentVertex(V,fe,-1,-1,F,!0),this.addCurrentVertex(V,fe,0,0,F)));if(yt&&be<C-1){const bt=V.dist(X);if(bt>2*R){const Zt=V.add(X.sub(V)._mult(R/bt)._round());this.updateDistance(V,Zt),this.addCurrentVertex(Zt,fe,0,0,F),V=Zt}}}}addCurrentVertex(i,s,d,p,g,_=!1){const b=s.y*p-s.x,C=-s.y-s.x*p;this.addHalfVertex(i,s.x+s.y*d,s.y-s.x*d,_,!1,d,g),this.addHalfVertex(i,b,C,_,!0,-p,g)}addHalfVertex({x:i,y:s},d,p,g,_,b,C){this.layoutVertexArray.emplaceBack((i<<1)+(g?1:0),(s<<1)+(_?1:0),Math.round(63*d)+128,Math.round(63*p)+128,1+(b===0?0:b<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const T=C.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,T),C.primitiveLength++),_?this.e2=T:this.e1=T}updateScaledDistance(){if(this.lineClips){const i=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=i*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(i,s){this.distance+=i.dist(s),this.updateScaledDistance()}}Wn(Wv,"LineBucket",{omit:["layers","patternFeatures"]});const q8=new Te({"line-cap":new ge(vt.layout_line["line-cap"]),"line-join":new ge(vt.layout_line["line-join"]),"line-miter-limit":new Q(vt.layout_line["line-miter-limit"]),"line-round-limit":new Q(vt.layout_line["line-round-limit"]),"line-sort-key":new ge(vt.layout_line["line-sort-key"])});var M3={paint:new Te({"line-opacity":new ge(vt.paint_line["line-opacity"]),"line-color":new ge(vt.paint_line["line-color"]),"line-translate":new Q(vt.paint_line["line-translate"]),"line-translate-anchor":new Q(vt.paint_line["line-translate-anchor"]),"line-width":new ge(vt.paint_line["line-width"]),"line-gap-width":new ge(vt.paint_line["line-gap-width"]),"line-offset":new ge(vt.paint_line["line-offset"]),"line-blur":new ge(vt.paint_line["line-blur"]),"line-dasharray":new ge(vt.paint_line["line-dasharray"]),"line-pattern":new ge(vt.paint_line["line-pattern"]),"line-gradient":new we(vt.paint_line["line-gradient"]),"line-trim-offset":new Q(vt.paint_line["line-trim-offset"])}),layout:q8};const O3=new class extends ge{possiblyEvaluate(a,i){return i=new D(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(a,i)}evaluate(a,i,s,d){return i=pn({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(a,i,s,d)}}(M3.paint.properties["line-width"].specification);function R3(a,i){return i>0?i+2*a:a}O3.useIntegerZoom=!0;const K8=Ke([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),X8=Ke([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Y8=Ke([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ke([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const J8=Ke([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Q8=Ke([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ke([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const D3=Ke([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),eN=Ke([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ke([{name:"triangle",components:3,type:"Uint16"}]),Ke([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ke([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ke([{type:"Float32",name:"offsetX"}]),Ke([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var ca=24;const Lc=128;function ub(a,i){const{expression:s}=i;if(s.kind==="constant")return{kind:"constant",layoutSize:s.evaluate(new D(a+1))};if(s.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:p}=s;let g=0;for(;g<d.length&&d[g]<=a;)g++;g=Math.max(0,g-1);let _=g;for(;_<d.length&&d[_]<a+1;)_++;_=Math.min(d.length-1,_);const b=d[g],C=d[_];return s.kind==="composite"?{kind:"composite",minZoom:b,maxZoom:C,interpolationType:p}:{kind:"camera",minZoom:b,maxZoom:C,minSize:s.evaluate(new D(b)),maxSize:s.evaluate(new D(C)),interpolationType:p}}}function Zv(a,{uSize:i,uSizeT:s},{lowerSize:d,upperSize:p}){return a.kind==="source"?d/Lc:a.kind==="composite"?jr(d/Lc,p/Lc,s):i}function Sp(a,i){let s=0,d=0;if(a.kind==="constant")d=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:p,minZoom:g,maxZoom:_}=a,b=p?Ve(Ra.interpolationFactor(p,i,g,_),0,1):0;a.kind==="camera"?d=jr(a.minSize,a.maxSize,b):s=b}return{uSizeT:s,uSize:d}}var tN=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Lc,evaluateSizeForFeature:Zv,evaluateSizeForZoom:Sp,getSizeData:ub});function nN(a,i,s){return a.sections.forEach(d=>{d.text=function(p,g,_){const b=g.layout.get("text-transform").evaluate(_,{});return b==="uppercase"?p=p.toLocaleUpperCase():b==="lowercase"&&(p=p.toLocaleLowerCase()),I.applyArabicShaping&&(p=I.applyArabicShaping(p)),p}(d.text,i,s)}),a}const Cg={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function rN(a){return a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""}function iN(a){return a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""||a===""}var L3=bi,F3=function(a,i,s,d,p){var g,_,b=8*p-d-1,C=(1<<b)-1,T=C>>1,R=-7,F=s?p-1:0,V=s?-1:1,Z=a[i+F];for(F+=V,g=Z&(1<<-R)-1,Z>>=-R,R+=b;R>0;g=256*g+a[i+F],F+=V,R-=8);for(_=g&(1<<-R)-1,g>>=-R,R+=d;R>0;_=256*_+a[i+F],F+=V,R-=8);if(g===0)g=1-T;else{if(g===C)return _?NaN:1/0*(Z?-1:1);_+=Math.pow(2,d),g-=T}return(Z?-1:1)*_*Math.pow(2,g-d)},N3=function(a,i,s,d,p,g){var _,b,C,T=8*g-p-1,R=(1<<T)-1,F=R>>1,V=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=d?0:g-1,X=d?1:-1,ee=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(b=isNaN(i)?1:0,_=R):(_=Math.floor(Math.log(i)/Math.LN2),i*(C=Math.pow(2,-_))<1&&(_--,C*=2),(i+=_+F>=1?V/C:V*Math.pow(2,1-F))*C>=2&&(_++,C/=2),_+F>=R?(b=0,_=R):_+F>=1?(b=(i*C-1)*Math.pow(2,p),_+=F):(b=i*Math.pow(2,F-1)*Math.pow(2,p),_=0));p>=8;a[s+Z]=255&b,Z+=X,b/=256,p-=8);for(_=_<<p|b,T+=p;T>0;a[s+Z]=255&_,Z+=X,_/=256,T-=8);a[s+Z-X]|=128*ee};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function bi(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}bi.Varint=0,bi.Fixed64=1,bi.Bytes=2,bi.Fixed32=5;var db=4294967296,B3=1/db,z3=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Cd(a){return a.type===bi.Bytes?a.readVarint()+a.pos:a.pos+1}function Tp(a,i,s){return s?4294967296*i+(a>>>0):4294967296*(i>>>0)+(a>>>0)}function $3(a,i,s){var d=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));s.realloc(d);for(var p=s.pos-1;p>=a;p--)s.buf[p+d]=s.buf[p]}function oN(a,i){for(var s=0;s<a.length;s++)i.writeVarint(a[s])}function aN(a,i){for(var s=0;s<a.length;s++)i.writeSVarint(a[s])}function sN(a,i){for(var s=0;s<a.length;s++)i.writeFloat(a[s])}function lN(a,i){for(var s=0;s<a.length;s++)i.writeDouble(a[s])}function cN(a,i){for(var s=0;s<a.length;s++)i.writeBoolean(a[s])}function uN(a,i){for(var s=0;s<a.length;s++)i.writeFixed32(a[s])}function dN(a,i){for(var s=0;s<a.length;s++)i.writeSFixed32(a[s])}function fN(a,i){for(var s=0;s<a.length;s++)i.writeFixed64(a[s])}function hN(a,i){for(var s=0;s<a.length;s++)i.writeSFixed64(a[s])}function qv(a,i){return(a[i]|a[i+1]<<8|a[i+2]<<16)+16777216*a[i+3]}function Ap(a,i,s){a[s]=i,a[s+1]=i>>>8,a[s+2]=i>>>16,a[s+3]=i>>>24}function j3(a,i){return(a[i]|a[i+1]<<8|a[i+2]<<16)+(a[i+3]<<24)}bi.prototype={destroy:function(){this.buf=null},readFields:function(a,i,s){for(s=s||this.length;this.pos<s;){var d=this.readVarint(),p=d>>3,g=this.pos;this.type=7&d,a(p,i,this),this.pos===g&&this.skip(d)}return i},readMessage:function(a,i){return this.readFields(a,i,this.readVarint()+this.pos)},readFixed32:function(){var a=qv(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=j3(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=qv(this.buf,this.pos)+qv(this.buf,this.pos+4)*db;return this.pos+=8,a},readSFixed64:function(){var a=qv(this.buf,this.pos)+j3(this.buf,this.pos+4)*db;return this.pos+=8,a},readFloat:function(){var a=F3(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=F3(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var i,s,d=this.buf;return i=127&(s=d[this.pos++]),s<128?i:(i|=(127&(s=d[this.pos++]))<<7,s<128?i:(i|=(127&(s=d[this.pos++]))<<14,s<128?i:(i|=(127&(s=d[this.pos++]))<<21,s<128?i:function(p,g,_){var b,C,T=_.buf;if(b=(112&(C=T[_.pos++]))>>4,C<128||(b|=(127&(C=T[_.pos++]))<<3,C<128)||(b|=(127&(C=T[_.pos++]))<<10,C<128)||(b|=(127&(C=T[_.pos++]))<<17,C<128)||(b|=(127&(C=T[_.pos++]))<<24,C<128)||(b|=(1&(C=T[_.pos++]))<<31,C<128))return Tp(p,b,g);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(s=d[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,i=this.pos;return this.pos=a,a-i>=12&&z3?function(s,d,p){return z3.decode(s.subarray(d,p))}(this.buf,i,a):function(s,d,p){for(var g="",_=d;_<p;){var b,C,T,R=s[_],F=null,V=R>239?4:R>223?3:R>191?2:1;if(_+V>p)break;V===1?R<128&&(F=R):V===2?(192&(b=s[_+1]))==128&&(F=(31&R)<<6|63&b)<=127&&(F=null):V===3?(C=s[_+2],(192&(b=s[_+1]))==128&&(192&C)==128&&((F=(15&R)<<12|(63&b)<<6|63&C)<=2047||F>=55296&&F<=57343)&&(F=null)):V===4&&(C=s[_+2],T=s[_+3],(192&(b=s[_+1]))==128&&(192&C)==128&&(192&T)==128&&((F=(15&R)<<18|(63&b)<<12|(63&C)<<6|63&T)<=65535||F>=1114112)&&(F=null)),F===null?(F=65533,V=1):F>65535&&(F-=65536,g+=String.fromCharCode(F>>>10&1023|55296),F=56320|1023&F),g+=String.fromCharCode(F),_+=V}return g}(this.buf,i,a)},readBytes:function(){var a=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,a);return this.pos=a,i},readPackedVarint:function(a,i){if(this.type!==bi.Bytes)return a.push(this.readVarint(i));var s=Cd(this);for(a=a||[];this.pos<s;)a.push(this.readVarint(i));return a},readPackedSVarint:function(a){if(this.type!==bi.Bytes)return a.push(this.readSVarint());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==bi.Bytes)return a.push(this.readBoolean());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==bi.Bytes)return a.push(this.readFloat());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==bi.Bytes)return a.push(this.readDouble());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==bi.Bytes)return a.push(this.readFixed32());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==bi.Bytes)return a.push(this.readSFixed32());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==bi.Bytes)return a.push(this.readFixed64());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==bi.Bytes)return a.push(this.readSFixed64());var i=Cd(this);for(a=a||[];this.pos<i;)a.push(this.readSFixed64());return a},skip:function(a){var i=7&a;if(i===bi.Varint)for(;this.buf[this.pos++]>127;);else if(i===bi.Bytes)this.pos=this.readVarint()+this.pos;else if(i===bi.Fixed32)this.pos+=4;else{if(i!==bi.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(a,i){this.writeVarint(a<<3|i)},realloc:function(a){for(var i=this.length||16;i<this.pos+a;)i*=2;if(i!==this.length){var s=new Uint8Array(i);s.set(this.buf),this.buf=s,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),Ap(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),Ap(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),Ap(this.buf,-1&a,this.pos),Ap(this.buf,Math.floor(a*B3),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),Ap(this.buf,-1&a,this.pos),Ap(this.buf,Math.floor(a*B3),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(i,s){var d,p;if(i>=0?(d=i%4294967296|0,p=i/4294967296|0):(p=~(-i/4294967296),4294967295^(d=~(-i%4294967296))?d=d+1|0:(d=0,p=p+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");s.realloc(10),function(g,_,b){b.buf[b.pos++]=127&g|128,g>>>=7,b.buf[b.pos++]=127&g|128,g>>>=7,b.buf[b.pos++]=127&g|128,g>>>=7,b.buf[b.pos++]=127&g|128,b.buf[b.pos]=127&(g>>>=7)}(d,0,s),function(g,_){var b=(7&g)<<4;_.buf[_.pos++]|=b|((g>>>=3)?128:0),g&&(_.buf[_.pos++]=127&g|((g>>>=7)?128:0),g&&(_.buf[_.pos++]=127&g|((g>>>=7)?128:0),g&&(_.buf[_.pos++]=127&g|((g>>>=7)?128:0),g&&(_.buf[_.pos++]=127&g|((g>>>=7)?128:0),g&&(_.buf[_.pos++]=127&g)))))}(p,s)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var i=this.pos;this.pos=function(d,p,g){for(var _,b,C=0;C<p.length;C++){if((_=p.charCodeAt(C))>55295&&_<57344){if(!b){_>56319||C+1===p.length?(d[g++]=239,d[g++]=191,d[g++]=189):b=_;continue}if(_<56320){d[g++]=239,d[g++]=191,d[g++]=189,b=_;continue}_=b-55296<<10|_-56320|65536,b=null}else b&&(d[g++]=239,d[g++]=191,d[g++]=189,b=null);_<128?d[g++]=_:(_<2048?d[g++]=_>>6|192:(_<65536?d[g++]=_>>12|224:(d[g++]=_>>18|240,d[g++]=_>>12&63|128),d[g++]=_>>6&63|128),d[g++]=63&_|128)}return g}(this.buf,a,this.pos);var s=this.pos-i;s>=128&&$3(i,s,this),this.pos=i-1,this.writeVarint(s),this.pos+=s},writeFloat:function(a){this.realloc(4),N3(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),N3(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var i=a.length;this.writeVarint(i),this.realloc(i);for(var s=0;s<i;s++)this.buf[this.pos++]=a[s]},writeRawMessage:function(a,i){this.pos++;var s=this.pos;a(i,this);var d=this.pos-s;d>=128&&$3(s,d,this),this.pos=s-1,this.writeVarint(d),this.pos+=d},writeMessage:function(a,i,s){this.writeTag(a,bi.Bytes),this.writeRawMessage(i,s)},writePackedVarint:function(a,i){i.length&&this.writeMessage(a,oN,i)},writePackedSVarint:function(a,i){i.length&&this.writeMessage(a,aN,i)},writePackedBoolean:function(a,i){i.length&&this.writeMessage(a,cN,i)},writePackedFloat:function(a,i){i.length&&this.writeMessage(a,sN,i)},writePackedDouble:function(a,i){i.length&&this.writeMessage(a,lN,i)},writePackedFixed32:function(a,i){i.length&&this.writeMessage(a,uN,i)},writePackedSFixed32:function(a,i){i.length&&this.writeMessage(a,dN,i)},writePackedFixed64:function(a,i){i.length&&this.writeMessage(a,fN,i)},writePackedSFixed64:function(a,i){i.length&&this.writeMessage(a,hN,i)},writeBytesField:function(a,i){this.writeTag(a,bi.Bytes),this.writeBytes(i)},writeFixed32Field:function(a,i){this.writeTag(a,bi.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(a,i){this.writeTag(a,bi.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(a,i){this.writeTag(a,bi.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(a,i){this.writeTag(a,bi.Fixed64),this.writeSFixed64(i)},writeVarintField:function(a,i){this.writeTag(a,bi.Varint),this.writeVarint(i)},writeSVarintField:function(a,i){this.writeTag(a,bi.Varint),this.writeSVarint(i)},writeStringField:function(a,i){this.writeTag(a,bi.Bytes),this.writeString(i)},writeFloatField:function(a,i){this.writeTag(a,bi.Fixed32),this.writeFloat(i)},writeDoubleField:function(a,i){this.writeTag(a,bi.Fixed64),this.writeDouble(i)},writeBooleanField:function(a,i){this.writeVarintField(a,!!i)}};var Kv=Y(L3);const fb=3;function pN(a,i,s){i.glyphs=[],a===1&&s.readMessage(mN,i)}function mN(a,i,s){if(a===3){const{id:d,bitmap:p,width:g,height:_,left:b,top:C,advance:T}=s.readMessage(gN,{});i.glyphs.push({id:d,bitmap:new Ed({width:g+2*fb,height:_+2*fb},p),metrics:{width:g,height:_,left:b,top:C,advance:T}})}else a===4?i.ascender=s.readSVarint():a===5&&(i.descender=s.readSVarint())}function gN(a,i,s){a===1?i.id=s.readVarint():a===2?i.bitmap=s.readBytes():a===3?i.width=s.readVarint():a===4?i.height=s.readVarint():a===5?i.left=s.readSVarint():a===6?i.top=s.readSVarint():a===7&&(i.advance=s.readVarint())}const U3=fb;function hb(a){let i=0,s=0;for(const _ of a)i+=_.w*_.h,s=Math.max(s,_.w);a.sort((_,b)=>b.h-_.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),s),h:1/0}];let p=0,g=0;for(const _ of a)for(let b=d.length-1;b>=0;b--){const C=d[b];if(!(_.w>C.w||_.h>C.h)){if(_.x=C.x,_.y=C.y,g=Math.max(g,_.y+_.h),p=Math.max(p,_.x+_.w),_.w===C.w&&_.h===C.h){const T=d.pop();b<d.length&&(d[b]=T)}else _.h===C.h?(C.x+=_.w,C.w-=_.w):_.w===C.w?(C.y+=_.h,C.h-=_.h):(d.push({x:C.x+_.w,y:C.y,w:C.w-_.w,h:_.h}),C.y+=_.h,C.h-=_.h);break}}return{w:p,h:g,fill:i/(p*g)||0}}const Es=1;class pb{constructor(i,{pixelRatio:s,version:d,stretchX:p,stretchY:g,content:_}){this.paddedRect=i,this.pixelRatio=s,this.stretchX=p,this.stretchY=g,this.content=_,this.version=d}get tl(){return[this.paddedRect.x+Es,this.paddedRect.y+Es]}get br(){return[this.paddedRect.x+this.paddedRect.w-Es,this.paddedRect.y+this.paddedRect.h-Es]}get displaySize(){return[(this.paddedRect.w-2*Es)/this.pixelRatio,(this.paddedRect.h-2*Es)/this.pixelRatio]}}class V3{constructor(i,s){const d={},p={};this.haveRenderCallbacks=[];const g=[];this.addImages(i,d,g),this.addImages(s,p,g);const{w:_,h:b}=hb(g),C=new Gs({width:_||1,height:b||1});for(const T in i){const R=i[T],F=d[T].paddedRect;Gs.copy(R.data,C,{x:0,y:0},{x:F.x+Es,y:F.y+Es},R.data)}for(const T in s){const R=s[T],F=p[T].paddedRect,V=F.x+Es,Z=F.y+Es,X=R.data.width,ee=R.data.height;Gs.copy(R.data,C,{x:0,y:0},{x:V,y:Z},R.data),Gs.copy(R.data,C,{x:0,y:ee-1},{x:V,y:Z-1},{width:X,height:1}),Gs.copy(R.data,C,{x:0,y:0},{x:V,y:Z+ee},{width:X,height:1}),Gs.copy(R.data,C,{x:X-1,y:0},{x:V-1,y:Z},{width:1,height:ee}),Gs.copy(R.data,C,{x:0,y:0},{x:V+X,y:Z},{width:1,height:ee})}this.image=C,this.iconPositions=d,this.patternPositions=p}addImages(i,s,d){for(const p in i){const g=i[p],_={x:0,y:0,w:g.data.width+2*Es,h:g.data.height+2*Es};d.push(_),s[p]=new pb(_,g),g.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(i,s){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(d=>i.hasImage(d)),i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const d in i.updatedImages)this.patchUpdatedImage(this.iconPositions[d],i.getImage(d),s),this.patchUpdatedImage(this.patternPositions[d],i.getImage(d),s)}patchUpdatedImage(i,s,d){if(!i||!s||i.version===s.version)return;i.version=s.version;const[p,g]=i.tl;d.update(s.data,void 0,{x:p,y:g})}}Wn(pb,"ImagePosition"),Wn(V3,"ImageAtlas");const Cl={horizontal:1,vertical:2,horizontalOnly:3},G3=-17;class Sg{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,s){const d=new Sg;return d.scale=i||1,d.fontStack=s,d}static forImage(i){const s=new Sg;return s.imageName=i,s}}class Pp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,s){const d=new Pp;for(let p=0;p<i.sections.length;p++){const g=i.sections[p];g.image?d.addImageSection(g):d.addTextSection(g,s)}return d}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSections(){return this.sections}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(i){this.text=function(s,d){let p="";for(let g=0;g<s.length;g++){const _=s.charCodeAt(g+1)||null,b=s.charCodeAt(g-1)||null;p+=!d&&(_&&K(_)&&!Cg[s[g+1]]||b&&K(b)&&!Cg[s[g-1]])||!Cg[s[g]]?s[g]:Cg[s[g]]}return p}(this.text,i)}trim(){let i=0;for(let d=0;d<this.text.length&&Xv[this.text.charCodeAt(d)];d++)i++;let s=this.text.length;for(let d=this.text.length-1;d>=0&&d>=i&&Xv[this.text.charCodeAt(d)];d--)s--;this.text=this.text.substring(i,s),this.sectionIndex=this.sectionIndex.slice(i,s)}substring(i,s){const d=new Pp;return d.text=this.text.substring(i,s),d.sectionIndex=this.sectionIndex.slice(i,s),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,s)=>Math.max(i,this.sections[s].scale),0)}addTextSection(i,s){this.text+=i.text,this.sections.push(Sg.forText(i.scale,i.fontStack||s));const d=this.sections.length-1;for(let p=0;p<i.text.length;++p)this.sectionIndex.push(d)}addImageSection(i){const s=i.image?i.image.name:"";if(s.length===0)return void yn("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCharCode(d),this.sections.push(Sg.forImage(s)),this.sectionIndex.push(this.sections.length-1)):yn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function mb(a,i,s,d,p,g,_,b,C,T,R,F,V,Z,X){const ee=Pp.fromFeature(a,p);F===Cl.vertical&&ee.verticalizePunctuation(V);let fe=[];const be=function(ze,yt,pt,Mt,fn,bt){if(!ze)return[];const Zt=[],qt=function(Nn,Kn,$n,Cr,bn,sr){let Sr=0;for(let Jr=0;Jr<Nn.length();Jr++){const Tr=Nn.getSection(Jr);Sr+=H3(Nn.getCharCode(Jr),Tr,Cr,bn,Kn,sr)}return Sr/Math.max(1,Math.ceil(Sr/$n))}(ze,yt,pt,Mt,fn,bt),rn=ze.text.indexOf("")>=0;let _n=0;for(let Nn=0;Nn<ze.length();Nn++){const Kn=ze.getSection(Nn),$n=ze.getCharCode(Nn);if(Xv[$n]||(_n+=H3($n,Kn,Mt,fn,yt,bt)),Nn<ze.length()-1){const Cr=!((Pt=$n)<11904||!(Bn["Bopomofo Extended"](Pt)||Bn.Bopomofo(Pt)||Bn["CJK Compatibility Forms"](Pt)||Bn["CJK Compatibility Ideographs"](Pt)||Bn["CJK Compatibility"](Pt)||Bn["CJK Radicals Supplement"](Pt)||Bn["CJK Strokes"](Pt)||Bn["CJK Symbols and Punctuation"](Pt)||Bn["CJK Unified Ideographs Extension A"](Pt)||Bn["CJK Unified Ideographs"](Pt)||Bn["Enclosed CJK Letters and Months"](Pt)||Bn["Halfwidth and Fullwidth Forms"](Pt)||Bn.Hiragana(Pt)||Bn["Ideographic Description Characters"](Pt)||Bn["Kangxi Radicals"](Pt)||Bn["Katakana Phonetic Extensions"](Pt)||Bn.Katakana(Pt)||Bn["Vertical Forms"](Pt)||Bn["Yi Radicals"](Pt)||Bn["Yi Syllables"](Pt)));(yN[$n]||Cr||Kn.imageName)&&Zt.push(Z3(Nn+1,_n,qt,Zt,vN($n,ze.getCharCode(Nn+1),Cr&&rn),!1))}}var Pt;return q3(Z3(ze.length(),_n,qt,Zt,0,!0))}(ee,T,g,i,d,Z),{processBidirectionalText:Oe,processStyledBidirectionalText:Ee}=I;if(Oe&&ee.sections.length===1){const ze=Oe(ee.toString(),be);for(const yt of ze){const pt=new Pp;pt.text=yt,pt.sections=ee.sections;for(let Mt=0;Mt<yt.length;Mt++)pt.sectionIndex.push(0);fe.push(pt)}}else if(Ee){const ze=Ee(ee.text,ee.sectionIndex,be);for(const yt of ze){const pt=new Pp;pt.text=yt[0],pt.sectionIndex=yt[1],pt.sections=ee.sections,fe.push(pt)}}else fe=function(ze,yt){const pt=[],Mt=ze.text;let fn=0;for(const bt of yt)pt.push(ze.substring(fn,bt)),fn=bt;return fn<Mt.length&&pt.push(ze.substring(fn,Mt.length)),pt}(ee,be);const Me=[],je={positionedLines:Me,text:ee.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:F,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(ze,yt,pt,Mt,fn,bt,Zt,qt,rn,_n,Pt,Nn){let Kn=0,$n=0,Cr=0;const bn=qt==="right"?1:qt==="left"?0:.5;let sr=!1;for(const Ir of fn){const kr=Ir.getSections();for(const mi of kr){if(mi.imageName)continue;const wi=yt[mi.fontStack];if(wi&&(sr=wi.ascender!==void 0&&wi.descender!==void 0,!sr))break}if(!sr)break}let Sr=0;for(const Ir of fn){Ir.trim();const kr=Ir.getMaxScale(),mi=(kr-1)*ca,wi={positionedGlyphs:[],lineOffset:0};ze.positionedLines[Sr]=wi;const Ei=wi.positionedGlyphs;let gi=0;if(!Ir.length()){$n+=bt,++Sr;continue}let Vi=0,to=0;for(let yi=0;yi<Ir.length();yi++){const Do=Ir.getSection(yi),_o=Ir.getSectionIndex(yi),Wi=Ir.getCharCode(yi);let ni=Do.scale,xo=null,Ci=null,es=null,bo=ca,ua=0;const ea=!(rn===Cl.horizontal||!Pt&&!M(Wi)||Pt&&(Xv[Wi]||(Jr=Wi,Bn.Arabic(Jr)||Bn["Arabic Supplement"](Jr)||Bn["Arabic Extended-A"](Jr)||Bn["Arabic Presentation Forms-A"](Jr)||Bn["Arabic Presentation Forms-B"](Jr))));if(Do.imageName){const ts=Mt[Do.imageName];if(!ts)continue;es=Do.imageName,ze.iconsInText=ze.iconsInText||!0,Ci=ts.paddedRect;const ta=ts.displaySize;ni=ni*ca/Nn,xo={width:ta[0],height:ta[1],left:Es,top:-U3,advance:ea?ta[1]:ta[0],localGlyph:!1},ua=sr?-xo.height*ni:G3+kr*ca-ta[1]*ni,bo=xo.advance;const Bc=(ea?ta[0]:ta[1])*ni-ca*kr;Bc>0&&Bc>gi&&(gi=Bc)}else{const ts=pt[Do.fontStack];if(!ts)continue;ts[Wi]&&(Ci=ts[Wi]);const ta=yt[Do.fontStack];if(!ta)continue;const Bc=ta.glyphs[Wi];if(!Bc)continue;if(xo=Bc.metrics,bo=Wi!==8203?ca:0,sr){const Lp=ta.ascender!==void 0?Math.abs(ta.ascender):0,Lg=ta.descender!==void 0?Math.abs(ta.descender):0,Fg=(Lp+Lg)*ni;Vi<Fg&&(Vi=Fg,to=(Lp-Lg)/2*ni),ua=-Lp*ni}else ua=G3+(kr-ni)*ca}ea?(ze.verticalizable=!0,Ei.push({glyph:Wi,imageName:es,x:Kn,y:$n+ua,vertical:ea,scale:ni,localGlyph:xo.localGlyph,fontStack:Do.fontStack,sectionIndex:_o,metrics:xo,rect:Ci}),Kn+=bo*ni+_n):(Ei.push({glyph:Wi,imageName:es,x:Kn,y:$n+ua,vertical:ea,scale:ni,localGlyph:xo.localGlyph,fontStack:Do.fontStack,sectionIndex:_o,metrics:xo,rect:Ci}),Kn+=xo.advance*ni+_n)}Ei.length!==0&&(Cr=Math.max(Kn-_n,Cr),sr?K3(Ei,bn,gi,to,bt*kr/2):K3(Ei,bn,gi,0,bt/2)),Kn=0;const vo=bt*kr+gi;wi.lineOffset=Math.max(gi,mi),$n+=vo,++Sr}var Jr;const Tr=$n,{horizontalAlign:fr,verticalAlign:Oi}=gb(Zt);(function(Ir,kr,mi,wi,Ei,gi){const Vi=(kr-mi)*Ei,to=-gi*wi;for(const vo of Ir)for(const yi of vo.positionedGlyphs)yi.x+=Vi,yi.y+=to})(ze.positionedLines,bn,fr,Oi,Cr,Tr),ze.top+=-Oi*Tr,ze.bottom=ze.top+Tr,ze.left+=-fr*Cr,ze.right=ze.left+Cr,ze.hasBaseline=sr}(je,i,s,d,fe,_,b,C,F,T,V,X),!function(ze){for(const yt of ze)if(yt.positionedGlyphs.length!==0)return!1;return!0}(Me)&&je}const Xv={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yN={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function H3(a,i,s,d,p,g){if(i.imageName){const _=d[i.imageName];return _?_.displaySize[0]*i.scale*ca/g+p:0}{const _=s[i.fontStack],b=_&&_.glyphs[a];return b?b.metrics.advance*i.scale+p:0}}function W3(a,i,s,d){const p=Math.pow(a-i,2);return d?a<i?p/2:2*p:p+Math.abs(s)*s}function vN(a,i,s){let d=0;return a===10&&(d-=1e4),s&&(d+=150),a!==40&&a!==65288||(d+=50),i!==41&&i!==65289||(d+=50),d}function Z3(a,i,s,d,p,g){let _=null,b=W3(i,s,p,g);for(const C of d){const T=W3(i-C.x,s,p,g)+C.badness;T<=b&&(_=C,b=T)}return{index:a,x:i,priorBreak:_,badness:b}}function q3(a){return a?q3(a.priorBreak).concat(a.index):[]}function gb(a){let i=.5,s=.5;switch(a){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}return{horizontalAlign:i,verticalAlign:s}}function K3(a,i,s,d,p){if(!(i||s||d||p))return;const g=a.length-1,_=a[g],b=(_.x+_.metrics.advance*_.scale)*i;for(let C=0;C<=g;C++)a[C].x-=b,a[C].y+=s+d+p}function _N(a,i,s){const{horizontalAlign:d,verticalAlign:p}=gb(s),g=i[0]-a.displaySize[0]*d,_=i[1]-a.displaySize[1]*p;return{image:a,top:_,bottom:_+a.displaySize[1],left:g,right:g+a.displaySize[0]}}function X3(a,i,s,d,p,g){const _=a.image;let b;if(_.content){const fe=_.content,be=_.pixelRatio||1;b=[fe[0]/be,fe[1]/be,_.displaySize[0]-fe[2]/be,_.displaySize[1]-fe[3]/be]}const C=i.left*g,T=i.right*g;let R,F,V,Z;s==="width"||s==="both"?(Z=p[0]+C-d[3],F=p[0]+T+d[1]):(Z=p[0]+(C+T-_.displaySize[0])/2,F=Z+_.displaySize[0]);const X=i.top*g,ee=i.bottom*g;return s==="height"||s==="both"?(R=p[1]+X-d[0],V=p[1]+ee+d[2]):(R=p[1]+(X+ee-_.displaySize[1])/2,V=R+_.displaySize[1]),{image:_,top:R,right:F,bottom:V,left:Z,collisionPadding:b}}class Sd extends Le{constructor(i,s,d,p,g){super(i,s),this.angle=p,this.z=d,g!==void 0&&(this.segment=g)}clone(){return new Sd(this.x,this.y,this.z,this.angle,this.segment)}}function Y3(a,i,s,d,p){if(i.segment===void 0)return!0;let g=i,_=i.segment+1,b=0;for(;b>-s/2;){if(_--,_<0)return!1;b-=a[_].dist(g),g=a[_]}b+=a[_].dist(a[_+1]),_++;const C=[];let T=0;for(;b<s/2;){const R=a[_],F=a[_+1];if(!F)return!1;let V=a[_-1].angleTo(R)-R.angleTo(F);for(V=Math.abs((V+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:b,angleDelta:V}),T+=V;b-C[0].distance>d;)T-=C.shift().angleDelta;if(T>p)return!1;_++,b+=R.dist(F)}return!0}function J3(a){let i=0;for(let s=0;s<a.length-1;s++)i+=a[s].dist(a[s+1]);return i}function Q3(a,i,s){return a?.6*i*s:0}function eI(a,i){return Math.max(a?a.right-a.left:0,i?i.right-i.left:0)}function xN(a,i,s,d,p,g){const _=Q3(s,p,g),b=eI(s,d)*g;let C=0;const T=J3(a)/2;for(let R=0;R<a.length-1;R++){const F=a[R],V=a[R+1],Z=F.dist(V);if(C+Z>T){const X=(T-C)/Z,ee=jr(F.x,V.x,X),fe=jr(F.y,V.y,X),be=new Sd(ee,fe,0,V.angleTo(F),R);return!_||Y3(a,be,b,_,i)?be:void 0}C+=Z}}function bN(a,i,s,d,p,g,_,b,C){const T=Q3(d,g,_),R=eI(d,p),F=R*_,V=a[0].x===0||a[0].x===C||a[0].y===0||a[0].y===C;return i-F<i/4&&(i=F+i/4),tI(a,V?i/2*b%i:(R/2+2*g)*_*b%i,i,T,s,F,V,!1,C)}function tI(a,i,s,d,p,g,_,b,C){const T=g/2,R=J3(a);let F=0,V=i-s,Z=[];for(let X=0;X<a.length-1;X++){const ee=a[X],fe=a[X+1],be=ee.dist(fe),Oe=fe.angleTo(ee);for(;V+s<F+be;){V+=s;const Ee=(V-F)/be,Me=jr(ee.x,fe.x,Ee),je=jr(ee.y,fe.y,Ee);if(Me>=0&&Me<C&&je>=0&&je<C&&V-T>=0&&V+T<=R){const ze=new Sd(Me,je,0,Oe,X);ze._round(),d&&!Y3(a,ze,g,d,p)||Z.push(ze)}}F+=be}return b||Z.length||_||(Z=tI(a,F/2,s,d,p,g,_,!0,C)),Z}function nI(a,i,s,d,p){const g=[];for(let _=0;_<a.length;_++){const b=a[_];let C;for(let T=0;T<b.length-1;T++){let R=b[T],F=b[T+1];R.x<i&&F.x<i||(R.x<i?R=new Le(i,R.y+(i-R.x)/(F.x-R.x)*(F.y-R.y))._round():F.x<i&&(F=new Le(i,R.y+(i-R.x)/(F.x-R.x)*(F.y-R.y))._round()),R.y<s&&F.y<s||(R.y<s?R=new Le(R.x+(s-R.y)/(F.y-R.y)*(F.x-R.x),s)._round():F.y<s&&(F=new Le(R.x+(s-R.y)/(F.y-R.y)*(F.x-R.x),s)._round()),R.x>=d&&F.x>=d||(R.x>=d?R=new Le(d,R.y+(d-R.x)/(F.x-R.x)*(F.y-R.y))._round():F.x>=d&&(F=new Le(d,R.y+(d-R.x)/(F.x-R.x)*(F.y-R.y))._round()),R.y>=p&&F.y>=p||(R.y>=p?R=new Le(R.x+(p-R.y)/(F.y-R.y)*(F.x-R.x),p)._round():F.y>=p&&(F=new Le(R.x+(p-R.y)/(F.y-R.y)*(F.x-R.x),p)._round()),C&&R.equals(C[C.length-1])||(C=[R],g.push(C)),C.push(F)))))}}return g}Wn(Sd,"Anchor");const Tg=1e20;function rI(a,i,s,d,p,g,_,b,C){for(let T=i;T<i+d;T++)iI(a,s*g+T,g,p,_,b,C);for(let T=s;T<s+p;T++)iI(a,T*g+i,1,d,_,b,C)}function iI(a,i,s,d,p,g,_){g[0]=0,_[0]=-Tg,_[1]=Tg,p[0]=a[i];for(let b=1,C=0,T=0;b<d;b++){p[b]=a[i+b*s];const R=b*b;do{const F=g[C];T=(p[b]-p[F]+R-F*F)/(b-F)/2}while(T<=_[C]&&--C>-1);C++,g[C]=b,_[C]=T,_[C+1]=Tg}for(let b=0,C=0;b<d;b++){for(;_[C+1]<b;)C++;const T=g[C],R=b-T;a[i+b*s]=p[T]+R*R}}const Fc=2,yb={none:0,ideographs:1,all:2};class Ip{constructor(i,s,d){this.requestManager=i,this.localGlyphMode=s,this.localFontFamily=d,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(i){this.url=i}getGlyphs(i,s){const d=[];for(const p in i)for(const g of i[p])d.push({stack:p,id:g});sn(d,({stack:p,id:g},_)=>{let b=this.entries[p];b||(b=this.entries[p]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let C=b.glyphs[g];if(C!==void 0)return void _(null,{stack:p,id:g,glyph:C});if(C=this._tinySDF(b,p,g),C)return b.glyphs[g]=C,void _(null,{stack:p,id:g,glyph:C});const T=Math.floor(g/256);if(256*T>65535)return void _(new Error("glyphs > 65535 not supported"));if(b.ranges[T])return void _(null,{stack:p,id:g,glyph:C});let R=b.requests[T];R||(R=b.requests[T]=[],Ip.loadGlyphRange(p,T,this.url,this.requestManager,(F,V)=>{if(V){b.ascender=V.ascender,b.descender=V.descender;for(const Z in V.glyphs)this._doesCharSupportLocalGlyph(+Z)||(b.glyphs[+Z]=V.glyphs[+Z]);b.ranges[T]=!0}for(const Z of R)Z(F,V);delete b.requests[T]})),R.push((F,V)=>{F?_(F):V&&_(null,{stack:p,id:g,glyph:V.glyphs[g]||null})})},(p,g)=>{if(p)s(p);else if(g){const _={};for(const{stack:b,id:C,glyph:T}of g)_[b]===void 0&&(_[b]={}),_[b].glyphs===void 0&&(_[b].glyphs={}),_[b].glyphs[C]=T&&{id:T.id,bitmap:T.bitmap.clone(),metrics:T.metrics},_[b].ascender=this.entries[b].ascender,_[b].descender=this.entries[b].descender;s(null,_)}})}_doesCharSupportLocalGlyph(i){return this.localGlyphMode!==yb.none&&(this.localGlyphMode===yb.all?!!this.localFontFamily:!!this.localFontFamily&&(Bn["CJK Unified Ideographs"](i)||Bn["Hangul Syllables"](i)||Bn.Hiragana(i)||Bn.Katakana(i)||Bn["CJK Symbols and Punctuation"](i)))}_tinySDF(i,s,d){const p=this.localFontFamily;if(!p||!this._doesCharSupportLocalGlyph(d))return;let g=i.tinySDF;if(!g){let ee="400";/bold/i.test(s)?ee="900":/medium/i.test(s)?ee="500":/light/i.test(s)&&(ee="200"),g=i.tinySDF=new Ip.TinySDF({fontFamily:p,fontWeight:ee,fontSize:24*Fc,buffer:3*Fc,radius:8*Fc}),g.fontWeight=ee}if(this.localGlyphs[g.fontWeight][d])return this.localGlyphs[g.fontWeight][d];const _=String.fromCharCode(d),{data:b,width:C,height:T,glyphWidth:R,glyphHeight:F,glyphLeft:V,glyphTop:Z,glyphAdvance:X}=g.draw(_);return this.localGlyphs[g.fontWeight][d]={id:d,bitmap:new Ed({width:C,height:T},b),metrics:{width:R/Fc,height:F/Fc,left:V/Fc,top:Z/Fc-27,advance:X/Fc,localGlyph:!0}}}}Ip.loadGlyphRange=function(a,i,s,d,p){const g=256*i,_=g+255,b=d.transformRequest(d.normalizeGlyphsURL(s).replace("{fontstack}",a).replace("{range}",`${g}-${_}`),Cn.Glyphs);yr(b,(C,T)=>{if(C)p(C);else if(T){const R={},F=function(V){return new Kv(V).readFields(pN,{})}(T);for(const V of F.glyphs)R[V.id]=V;p(null,{glyphs:R,ascender:F.ascender,descender:F.descender})}})},Ip.TinySDF=class{constructor({fontSize:a=24,buffer:i=3,radius:s=8,cutoff:d=.25,fontFamily:p="sans-serif",fontWeight:g="normal",fontStyle:_="normal"}={}){this.buffer=i,this.cutoff=d,this.radius=s;const b=this.size=a+4*i,C=this._createCanvas(b),T=this.ctx=C.getContext("2d",{willReadFrequently:!0});T.font=`${_} ${g} ${a}px ${p}`,T.textBaseline="alphabetic",T.textAlign="left",T.fillStyle="black",this.gridOuter=new Float64Array(b*b),this.gridInner=new Float64Array(b*b),this.f=new Float64Array(b),this.z=new Float64Array(b+1),this.v=new Uint16Array(b)}_createCanvas(a){const i=document.createElement("canvas");return i.width=i.height=a,i}draw(a){const{width:i,actualBoundingBoxAscent:s,actualBoundingBoxDescent:d,actualBoundingBoxLeft:p,actualBoundingBoxRight:g}=this.ctx.measureText(a),_=Math.ceil(s),b=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(g-p))),C=Math.min(this.size-this.buffer,_+Math.ceil(d)),T=b+2*this.buffer,R=C+2*this.buffer,F=Math.max(T*R,0),V=new Uint8ClampedArray(F),Z={data:V,width:T,height:R,glyphWidth:b,glyphHeight:C,glyphTop:_,glyphLeft:0,glyphAdvance:i};if(b===0||C===0)return Z;const{ctx:X,buffer:ee,gridInner:fe,gridOuter:be}=this;X.clearRect(ee,ee,b,C),X.fillText(a,ee,ee+_);const Oe=X.getImageData(ee,ee,b,C);be.fill(Tg,0,F),fe.fill(0,0,F);for(let Ee=0;Ee<C;Ee++)for(let Me=0;Me<b;Me++){const je=Oe.data[4*(Ee*b+Me)+3]/255;if(je===0)continue;const ze=(Ee+ee)*T+Me+ee;if(je===1)be[ze]=0,fe[ze]=Tg;else{const yt=.5-je;be[ze]=yt>0?yt*yt:0,fe[ze]=yt<0?yt*yt:0}}rI(be,0,0,T,R,T,this.f,this.v,this.z),rI(fe,ee,ee,b,C,T,this.f,this.v,this.z);for(let Ee=0;Ee<F;Ee++){const Me=Math.sqrt(be[Ee])-Math.sqrt(fe[Ee]);V[Ee]=Math.round(255-255*(Me/this.radius+this.cutoff))}return Z}};const kp=Es;function oI(a,i,s,d){const p=[],g=a.image,_=g.pixelRatio,b=g.paddedRect.w-2*kp,C=g.paddedRect.h-2*kp,T=a.right-a.left,R=a.bottom-a.top,F=g.stretchX||[[0,b]],V=g.stretchY||[[0,C]],Z=(bt,Zt)=>bt+Zt[1]-Zt[0],X=F.reduce(Z,0),ee=V.reduce(Z,0),fe=b-X,be=C-ee;let Oe=0,Ee=X,Me=0,je=ee,ze=0,yt=fe,pt=0,Mt=be;if(g.content&&d){const bt=g.content;Oe=Yv(F,0,bt[0]),Me=Yv(V,0,bt[1]),Ee=Yv(F,bt[0],bt[2]),je=Yv(V,bt[1],bt[3]),ze=bt[0]-Oe,pt=bt[1]-Me,yt=bt[2]-bt[0]-Ee,Mt=bt[3]-bt[1]-je}const fn=(bt,Zt,qt,rn)=>{const _n=Jv(bt.stretch-Oe,Ee,T,a.left),Pt=Qv(bt.fixed-ze,yt,bt.stretch,X),Nn=Jv(Zt.stretch-Me,je,R,a.top),Kn=Qv(Zt.fixed-pt,Mt,Zt.stretch,ee),$n=Jv(qt.stretch-Oe,Ee,T,a.left),Cr=Qv(qt.fixed-ze,yt,qt.stretch,X),bn=Jv(rn.stretch-Me,je,R,a.top),sr=Qv(rn.fixed-pt,Mt,rn.stretch,ee),Sr=new Le(_n,Nn),Jr=new Le($n,Nn),Tr=new Le($n,bn),fr=new Le(_n,bn),Oi=new Le(Pt/_,Kn/_),Ir=new Le(Cr/_,sr/_),kr=i*Math.PI/180;if(kr){const Ei=Math.sin(kr),gi=Math.cos(kr),Vi=[gi,-Ei,Ei,gi];Sr._matMult(Vi),Jr._matMult(Vi),fr._matMult(Vi),Tr._matMult(Vi)}const mi=bt.stretch+bt.fixed,wi=Zt.stretch+Zt.fixed;return{tl:Sr,tr:Jr,bl:fr,br:Tr,tex:{x:g.paddedRect.x+kp+mi,y:g.paddedRect.y+kp+wi,w:qt.stretch+qt.fixed-mi,h:rn.stretch+rn.fixed-wi},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Oi,pixelOffsetBR:Ir,minFontScaleX:yt/_/T,minFontScaleY:Mt/_/R,isSDF:s}};if(d&&(g.stretchX||g.stretchY)){const bt=aI(F,fe,X),Zt=aI(V,be,ee);for(let qt=0;qt<bt.length-1;qt++){const rn=bt[qt],_n=bt[qt+1];for(let Pt=0;Pt<Zt.length-1;Pt++)p.push(fn(rn,Zt[Pt],_n,Zt[Pt+1]))}}else p.push(fn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:b+1},{fixed:0,stretch:C+1}));return p}function Yv(a,i,s){let d=0;for(const p of a)d+=Math.max(i,Math.min(s,p[1]))-Math.max(i,Math.min(s,p[0]));return d}function aI(a,i,s){const d=[{fixed:-kp,stretch:0}];for(const[p,g]of a){const _=d[d.length-1];d.push({fixed:p-_.stretch,stretch:_.stretch}),d.push({fixed:p-_.stretch,stretch:_.stretch+(g-p)})}return d.push({fixed:i+kp,stretch:s}),d}function Jv(a,i,s,d){return a/i*s+d}function Qv(a,i,s,d){return a-i*s/d}function wN(a,i,s,d){const p=i+a.positionedLines[d].lineOffset;return d===0?s+p/2:s+(p+(i+a.positionedLines[d-1].lineOffset))/2}class EN{constructor(i=[],s=CN){if(this.data=i,this.length=this.data.length,this.compare=s,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],s=this.data.pop();return this.length--,this.length>0&&(this.data[0]=s,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:s,compare:d}=this,p=s[i];for(;i>0;){const g=i-1>>1,_=s[g];if(d(p,_)>=0)break;s[i]=_,i=g}s[i]=p}_down(i){const{data:s,compare:d}=this,p=this.length>>1,g=s[i];for(;i<p;){let _=1+(i<<1),b=s[_];const C=_+1;if(C<this.length&&d(s[C],b)<0&&(_=C,b=s[C]),d(b,g)>=0)break;s[i]=b,i=_}s[i]=g}}function CN(a,i){return a<i?-1:a>i?1:0}function SN(a,i=1,s=!1){let d=1/0,p=1/0,g=-1/0,_=-1/0;const b=a[0];for(let Z=0;Z<b.length;Z++){const X=b[Z];(!Z||X.x<d)&&(d=X.x),(!Z||X.y<p)&&(p=X.y),(!Z||X.x>g)&&(g=X.x),(!Z||X.y>_)&&(_=X.y)}const C=Math.min(g-d,_-p);let T=C/2;const R=new EN([],TN);if(C===0)return new Le(d,p);for(let Z=d;Z<g;Z+=C)for(let X=p;X<_;X+=C)R.push(new Mp(Z+T,X+T,T,a));let F=function(Z){let X=0,ee=0,fe=0;const be=Z[0];for(let Oe=0,Ee=be.length,Me=Ee-1;Oe<Ee;Me=Oe++){const je=be[Oe],ze=be[Me],yt=je.x*ze.y-ze.x*je.y;ee+=(je.x+ze.x)*yt,fe+=(je.y+ze.y)*yt,X+=3*yt}return new Mp(ee/X,fe/X,0,Z)}(a),V=R.length;for(;R.length;){const Z=R.pop();(Z.d>F.d||!F.d)&&(F=Z,s&&console.log("found best %d after %d probes",Math.round(1e4*Z.d)/1e4,V)),Z.max-F.d<=i||(T=Z.h/2,R.push(new Mp(Z.p.x-T,Z.p.y-T,T,a)),R.push(new Mp(Z.p.x+T,Z.p.y-T,T,a)),R.push(new Mp(Z.p.x-T,Z.p.y+T,T,a)),R.push(new Mp(Z.p.x+T,Z.p.y+T,T,a)),V+=4)}return s&&(console.log(`num probes: ${V}`),console.log(`best distance: ${F.d}`)),F.p}function TN(a,i){return i.max-a.max}class Mp{constructor(i,s,d,p){this.p=new Le(i,s),this.h=d,this.d=function(g,_){let b=!1,C=1/0;for(let T=0;T<_.length;T++){const R=_[T];for(let F=0,V=R.length,Z=V-1;F<V;Z=F++){const X=R[F],ee=R[Z];X.y>g.y!=ee.y>g.y&&g.x<(ee.x-X.x)*(g.y-X.y)/(ee.y-X.y)+X.x&&(b=!b),C=Math.min(C,t3(g,X,ee))}}return(b?1:-1)*Math.sqrt(C)}(this.p,p),this.max=this.d+this.h*Math.SQRT2}}const Op=7,vb=Number.POSITIVE_INFINITY,AN=Math.sqrt(2);function sI(a,[i,s]){let d=0,p=0;if(s===vb){i<0&&(i=0);const g=i/AN;switch(a){case"top-right":case"top-left":p=g-Op;break;case"bottom-right":case"bottom-left":p=-g+Op;break;case"bottom":p=-i+Op;break;case"top":p=i-Op}switch(a){case"top-right":case"bottom-right":d=-g;break;case"top-left":case"bottom-left":d=g;break;case"left":d=i;break;case"right":d=-i}}else{switch(i=Math.abs(i),s=Math.abs(s),a){case"top-right":case"top-left":case"top":p=s-Op;break;case"bottom-right":case"bottom-left":case"bottom":p=-s+Op}switch(a){case"top-right":case"bottom-right":case"right":d=-i;break;case"top-left":case"bottom-left":case"left":d=i}}return[d,p]}function PN(a,i,s,d,p,g,_,b,C,T){a.createArrays(),a.tilePixelRatio=ur/(512*a.overscaling),a.compareText={},a.iconsNeedLinear=!1;const R=a.layers[0].layout,F=a.layers[0]._unevaluatedLayout._values,V={};if(a.textSizeData.kind==="composite"){const{minZoom:ee,maxZoom:fe}=a.textSizeData;V.compositeTextSizes=[F["text-size"].possiblyEvaluate(new D(ee),b),F["text-size"].possiblyEvaluate(new D(fe),b)]}if(a.iconSizeData.kind==="composite"){const{minZoom:ee,maxZoom:fe}=a.iconSizeData;V.compositeIconSizes=[F["icon-size"].possiblyEvaluate(new D(ee),b),F["icon-size"].possiblyEvaluate(new D(fe),b)]}V.layoutTextSize=F["text-size"].possiblyEvaluate(new D(C+1),b),V.layoutIconSize=F["icon-size"].possiblyEvaluate(new D(C+1),b),V.textMaxSize=F["text-size"].possiblyEvaluate(new D(18),b);const Z=R.get("text-rotation-alignment")==="map"&&R.get("symbol-placement")!=="point",X=R.get("text-size");for(const ee of a.features){const fe=R.get("text-font").evaluate(ee,{},b).join(","),be=X.evaluate(ee,{},b),Oe=V.layoutTextSize.evaluate(ee,{},b),Ee=(V.layoutIconSize.evaluate(ee,{},b),{horizontal:{},vertical:void 0}),Me=ee.text;let je,ze=[0,0];if(Me){const Mt=Me.toString(),fn=R.get("text-letter-spacing").evaluate(ee,{},b)*ca,bt=R.get("text-line-height").evaluate(ee,{},b)*ca,Zt=gd(Mt)?fn:0,qt=R.get("text-anchor").evaluate(ee,{},b),rn=R.get("text-variable-anchor");if(!rn){const $n=R.get("text-radial-offset").evaluate(ee,{},b);ze=$n?sI(qt,[$n*ca,vb]):R.get("text-offset").evaluate(ee,{},b).map(Cr=>Cr*ca)}let _n=Z?"center":R.get("text-justify").evaluate(ee,{},b);const Pt=R.get("symbol-placement")==="point",Nn=Pt?R.get("text-max-width").evaluate(ee,{},b)*ca:1/0,Kn=$n=>{a.allowVerticalPlacement&&ph(Mt)&&(Ee.vertical=mb(Me,i,s,p,fe,Nn,bt,qt,$n,Zt,ze,Cl.vertical,!0,Oe,be))};if(!Z&&rn){const $n=_n==="auto"?rn.map(bn=>_b(bn)):[_n];let Cr=!1;for(let bn=0;bn<$n.length;bn++){const sr=$n[bn];if(!Ee.horizontal[sr])if(Cr)Ee.horizontal[sr]=Ee.horizontal[0];else{const Sr=mb(Me,i,s,p,fe,Nn,bt,"center",sr,Zt,ze,Cl.horizontal,!1,Oe,be);Sr&&(Ee.horizontal[sr]=Sr,Cr=Sr.positionedLines.length===1)}}Kn("left")}else{if(_n==="auto"&&(_n=_b(qt)),Pt||R.get("text-writing-mode").indexOf("horizontal")>=0||!ph(Mt)){const $n=mb(Me,i,s,p,fe,Nn,bt,qt,_n,Zt,ze,Cl.horizontal,!1,Oe,be);$n&&(Ee.horizontal[_n]=$n)}Kn(Pt?"left":_n)}}let yt=!1;if(ee.icon&&ee.icon.name){const Mt=d[ee.icon.name];Mt&&(je=_N(p[ee.icon.name],R.get("icon-offset").evaluate(ee,{},b),R.get("icon-anchor").evaluate(ee,{},b)),yt=Mt.sdf,a.sdfIcons===void 0?a.sdfIcons=Mt.sdf:a.sdfIcons!==Mt.sdf&&yn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Mt.pixelRatio!==a.pixelRatio||R.get("icon-rotate").constantOr(1)!==0)&&(a.iconsNeedLinear=!0))}const pt=cI(Ee.horizontal)||Ee.vertical;a.iconsInText||(a.iconsInText=!!pt&&pt.iconsInText),(pt||je)&&IN(a,ee,Ee,je,d,V,Oe,0,ze,yt,_,b,T)}g&&a.generateCollisionDebugBuffers(C,a.collisionBoxArray)}function _b(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function IN(a,i,s,d,p,g,_,b,C,T,R,F,V){let Z=g.textMaxSize.evaluate(i,{},F);Z===void 0&&(Z=_);const X=a.layers[0].layout,ee=X.get("icon-offset").evaluate(i,{},F),fe=cI(s.horizontal)||s.vertical,be=V.name==="globe",Oe=ca,Ee=_/Oe,Me=a.tilePixelRatio*Z/Oe,je=(qt=a.overscaling,a.zoom>18&&qt>2&&(qt>>=1),Math.max(ur/(512*qt),1)*X.get("symbol-spacing")),ze=X.get("text-padding")*a.tilePixelRatio,yt=X.get("icon-padding")*a.tilePixelRatio,pt=Ut(X.get("text-max-angle")),Mt=X.get("text-rotation-alignment")==="map"&&X.get("symbol-placement")!=="point",fn=X.get("icon-rotation-alignment")==="map"&&X.get("symbol-placement")!=="point",bt=X.get("symbol-placement"),Zt=je/2;var qt;const rn=X.get("icon-text-fit");let _n;d&&rn!=="none"&&(a.allowVerticalPlacement&&s.vertical&&(_n=X3(d,s.vertical,rn,X.get("icon-text-fit-padding"),ee,Ee)),fe&&(d=X3(d,fe,rn,X.get("icon-text-fit-padding"),ee,Ee)));const Pt=(Nn,Kn,$n)=>{if(Kn.x<0||Kn.x>=ur||Kn.y<0||Kn.y>=ur)return;let Cr=null;if(be){const{x:bn,y:sr,z:Sr}=V.projectTilePoint(Kn.x,Kn.y,$n);Cr={anchor:new Sd(bn,sr,Sr,0,void 0),up:V.upVector($n,Kn.x,Kn.y)}}(function(bn,sr,Sr,Jr,Tr,fr,Oi,Ir,kr,mi,wi,Ei,gi,Vi,to,vo,yi,Do,_o,Wi,ni,xo,Ci,es,bo){const ua=bn.addToLineVertexArray(sr,Jr);let ea,ts,ta,Bc,Lp,Lg,Fg,UI=0,VI=0,GI=0,HI=0,Db=-1,Lb=-1;const $u={};let WI=kx("");const Ph=Sr?Sr.anchor:sr;let Fb=0,Nb=0;if(kr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[Fb,Nb]=kr.layout.get("text-offset").evaluate(ni,{},bo).map(Hs=>Hs*ca):(Fb=kr.layout.get("text-radial-offset").evaluate(ni,{},bo)*ca,Nb=vb),bn.allowVerticalPlacement&&Tr.vertical){const Hs=Tr.vertical;if(to)Lg=xb(Hs),Ir&&(Fg=xb(Ir));else{const Ws=kr.layout.get("text-rotate").evaluate(ni,{},bo)+90;ta=e0(mi,Ph,sr,wi,Ei,gi,Hs,Vi,Ws,vo),Ir&&(Bc=e0(mi,Ph,sr,wi,Ei,gi,Ir,Do,Ws))}}if(fr){const Hs=kr.layout.get("icon-rotate").evaluate(ni,{},bo),Ws=kr.layout.get("icon-text-fit")!=="none",Ng=oI(fr,Hs,Ci,Ws),zb=Ir?oI(Ir,Hs,Ci,Ws):void 0;ts=e0(mi,Ph,sr,wi,Ei,gi,fr,Do,Hs),UI=4*Ng.length;const ZI=bn.iconSizeData;let Ih=null;ZI.kind==="source"?(Ih=[Lc*kr.layout.get("icon-size").evaluate(ni,{},bo)],Ih[0]>df&&yn(`${bn.layerIds[0]}: Value for "icon-size" is >= ${Ag}. Reduce your "icon-size".`)):ZI.kind==="composite"&&(Ih=[Lc*xo.compositeIconSizes[0].evaluate(ni,{},bo),Lc*xo.compositeIconSizes[1].evaluate(ni,{},bo)],(Ih[0]>df||Ih[1]>df)&&yn(`${bn.layerIds[0]}: Value for "icon-size" is >= ${Ag}. Reduce your "icon-size".`)),bn.addSymbols(bn.icon,Ng,Ih,Wi,_o,ni,!1,Sr,sr,ua.lineStartIndex,ua.lineLength,-1,es,bo),Db=bn.icon.placedSymbolArray.length-1,zb&&(VI=4*zb.length,bn.addSymbols(bn.icon,zb,Ih,Wi,_o,ni,Cl.vertical,Sr,sr,ua.lineStartIndex,ua.lineLength,-1,es,bo),Lb=bn.icon.placedSymbolArray.length-1)}for(const Hs in Tr.horizontal){const Ws=Tr.horizontal[Hs];ea||(WI=kx(Ws.text),to?Lp=xb(Ws):ea=e0(mi,Ph,sr,wi,Ei,gi,Ws,Vi,kr.layout.get("text-rotate").evaluate(ni,{},bo),vo));const Ng=Ws.positionedLines.length===1;if(GI+=lI(bn,Sr,sr,Ws,Oi,kr,to,ni,vo,ua,Tr.vertical?Cl.horizontal:Cl.horizontalOnly,Ng?Object.keys(Tr.horizontal):[Hs],$u,Db,xo,es,bo),Ng)break}Tr.vertical&&(HI+=lI(bn,Sr,sr,Tr.vertical,Oi,kr,to,ni,vo,ua,Cl.vertical,["vertical"],$u,Lb,xo,es,bo));let yf=-1;const Bb=(Hs,Ws)=>Hs?Math.max(Hs,Ws):Ws;yf=Bb(Lp,yf),yf=Bb(Lg,yf),yf=Bb(Fg,yf);const rB=yf>-1?1:0;bn.glyphOffsetArray.length>=hf.MAX_GLYPHS&&yn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ni.sortKey!==void 0&&bn.addToSortKeyRanges(bn.symbolInstances.length,ni.sortKey),bn.symbolInstances.emplaceBack(Ph.x,Ph.y,Ph.z,sr.x,sr.y,$u.right>=0?$u.right:-1,$u.center>=0?$u.center:-1,$u.left>=0?$u.left:-1,$u.vertical>=0?$u.vertical:-1,Db,Lb,WI,ea!==void 0?ea:bn.collisionBoxArray.length,ea!==void 0?ea+1:bn.collisionBoxArray.length,ta!==void 0?ta:bn.collisionBoxArray.length,ta!==void 0?ta+1:bn.collisionBoxArray.length,ts!==void 0?ts:bn.collisionBoxArray.length,ts!==void 0?ts+1:bn.collisionBoxArray.length,Bc||bn.collisionBoxArray.length,Bc?Bc+1:bn.collisionBoxArray.length,wi,GI,HI,UI,VI,rB,0,Fb,Nb,yf)})(a,Kn,Cr,Nn,s,d,p,_n,a.layers[0],a.collisionBoxArray,i.index,i.sourceLayerIndex,a.index,ze,Mt,C,0,yt,fn,ee,i,g,T,R,F)};if(bt==="line")for(const Nn of nI(i.geometry,0,0,ur,ur)){const Kn=bN(Nn,je,pt,s.vertical||fe,d,Oe,Me,a.overscaling,ur);for(const $n of Kn)fe&&kN(a,fe.text,Zt,$n)||Pt(Nn,$n,F)}else if(bt==="line-center"){for(const Nn of i.geometry)if(Nn.length>1){const Kn=xN(Nn,pt,s.vertical||fe,d,Oe,Me);Kn&&Pt(Nn,Kn,F)}}else if(i.type==="Polygon")for(const Nn of ab(i.geometry,0)){const Kn=SN(Nn,16);Pt(Nn[0],new Sd(Kn.x,Kn.y,0,0,void 0),F)}else if(i.type==="LineString")for(const Nn of i.geometry)Pt(Nn,new Sd(Nn[0].x,Nn[0].y,0,0,void 0),F);else if(i.type==="Point")for(const Nn of i.geometry)for(const Kn of Nn)Pt([Kn],new Sd(Kn.x,Kn.y,0,0,void 0),F)}const Ag=255,df=Ag*Lc;function lI(a,i,s,d,p,g,_,b,C,T,R,F,V,Z,X,ee,fe){const be=function(Me,je,ze,yt,pt,Mt,fn,bt){const Zt=[];if(je.positionedLines.length===0)return Zt;const qt=yt.layout.get("text-rotate").evaluate(Mt,{})*Math.PI/180,rn=function($n){const Cr=$n[0],bn=$n[1],sr=Cr*bn;return sr>0?[Cr,-bn]:sr<0?[-Cr,bn]:Cr===0?[bn,Cr]:[bn,-Cr]}(ze);let _n=Math.abs(je.top-je.bottom);for(const $n of je.positionedLines)_n-=$n.lineOffset;const Pt=je.positionedLines.length,Nn=_n/Pt;let Kn=je.top-ze[1];for(let $n=0;$n<Pt;++$n){const Cr=je.positionedLines[$n];Kn=wN(je,Nn,Kn,$n);for(const bn of Cr.positionedGlyphs){if(!bn.rect)continue;const sr=bn.rect||{};let Sr=U3+1,Jr=!0,Tr=1,fr=0;if(bn.imageName){const Ci=fn[bn.imageName];if(!Ci)continue;if(Ci.sdf){yn("SDF images are not supported in formatted text and will be ignored.");continue}Jr=!1,Tr=Ci.pixelRatio,Sr=Es/Tr}const Oi=(pt||bt)&&bn.vertical,Ir=bn.metrics.advance*bn.scale/2,kr=bn.metrics,mi=bn.rect;if(mi===null)continue;bt&&je.verticalizable&&(fr=bn.imageName?Ir-bn.metrics.width*bn.scale/2:0);const wi=pt?[bn.x+Ir,bn.y]:[0,0];let Ei=[0,0],gi=[0,0],Vi=!1;pt||(Oi?(gi=[bn.x+Ir+rn[0],bn.y+rn[1]-fr],Vi=!0):Ei=[bn.x+Ir+ze[0],bn.y+ze[1]-fr]);const to=mi.w*bn.scale/(Tr*(bn.localGlyph?Fc:1)),vo=mi.h*bn.scale/(Tr*(bn.localGlyph?Fc:1));let yi,Do,_o,Wi;if(Oi){const Ci=bn.y-Kn,es=new Le(-Ir,Ir-Ci),bo=-Math.PI/2,ua=new Le(...gi);yi=new Le(-Ir+Ei[0],Ei[1]),yi._rotateAround(bo,es)._add(ua),yi.x+=-Ci+Ir,yi.y-=(kr.left-Sr)*bn.scale;const ea=bn.imageName?kr.advance*bn.scale:ca*bn.scale,ts=String.fromCharCode(bn.glyph);rN(ts)?yi.x+=(1-Sr)*bn.scale:iN(ts)?yi.x+=ea-kr.height*bn.scale+(-Sr-1)*bn.scale:yi.x+=bn.imageName||kr.width+2*Sr===mi.w&&kr.height+2*Sr===mi.h?(ea-vo)/2:(ea-(kr.height+2*Sr)*bn.scale)/2,Do=new Le(yi.x,yi.y-to),_o=new Le(yi.x+vo,yi.y),Wi=new Le(yi.x+vo,yi.y-to)}else{const Ci=(kr.left-Sr)*bn.scale-Ir+Ei[0],es=(-kr.top-Sr)*bn.scale+Ei[1],bo=Ci+to,ua=es+vo;yi=new Le(Ci,es),Do=new Le(bo,es),_o=new Le(Ci,ua),Wi=new Le(bo,ua)}if(qt){let Ci;Ci=pt?new Le(0,0):Vi?new Le(rn[0],rn[1]):new Le(ze[0],ze[1]),yi._rotateAround(qt,Ci),Do._rotateAround(qt,Ci),_o._rotateAround(qt,Ci),Wi._rotateAround(qt,Ci)}const ni=new Le(0,0),xo=new Le(0,0);Zt.push({tl:yi,tr:Do,bl:_o,br:Wi,tex:sr,writingMode:je.writingMode,glyphOffset:wi,sectionIndex:bn.sectionIndex,isSDF:Jr,pixelOffsetTL:ni,pixelOffsetBR:xo,minFontScaleX:0,minFontScaleY:0})}}return Zt}(0,d,C,g,_,b,p,a.allowVerticalPlacement),Oe=a.textSizeData;let Ee=null;Oe.kind==="source"?(Ee=[Lc*g.layout.get("text-size").evaluate(b,{},fe)],Ee[0]>df&&yn(`${a.layerIds[0]}: Value for "text-size" is >= ${Ag}. Reduce your "text-size".`)):Oe.kind==="composite"&&(Ee=[Lc*X.compositeTextSizes[0].evaluate(b,{},fe),Lc*X.compositeTextSizes[1].evaluate(b,{},fe)],(Ee[0]>df||Ee[1]>df)&&yn(`${a.layerIds[0]}: Value for "text-size" is >= ${Ag}. Reduce your "text-size".`)),a.addSymbols(a.text,be,Ee,C,_,b,R,i,s,T.lineStartIndex,T.lineLength,Z,ee,fe);for(const Me of F)V[Me]=a.text.placedSymbolArray.length-1;return 4*be.length}function cI(a){for(const i in a)return a[i];return null}function e0(a,i,s,d,p,g,_,b,C,T){let R=_.top,F=_.bottom,V=_.left,Z=_.right;const X=_.collisionPadding;if(X&&(V-=X[0],R-=X[1],Z+=X[2],F+=X[3]),C){const ee=new Le(V,R),fe=new Le(Z,R),be=new Le(V,F),Oe=new Le(Z,F),Ee=Ut(C);let Me=new Le(0,0);T&&(Me=new Le(T[0],T[1])),ee._rotateAround(Ee,Me),fe._rotateAround(Ee,Me),be._rotateAround(Ee,Me),Oe._rotateAround(Ee,Me),V=Math.min(ee.x,fe.x,be.x,Oe.x),Z=Math.max(ee.x,fe.x,be.x,Oe.x),R=Math.min(ee.y,fe.y,be.y,Oe.y),F=Math.max(ee.y,fe.y,be.y,Oe.y)}return a.emplaceBack(i.x,i.y,i.z,s.x,s.y,V,R,Z,F,b,d,p,g),a.length-1}function xb(a){a.collisionPadding&&(a.top-=a.collisionPadding[1],a.bottom+=a.collisionPadding[3]);const i=a.bottom-a.top;return i>0?Math.max(10,i):null}function kN(a,i,s,d){const p=a.compareText;if(i in p){const g=p[i];for(let _=g.length-1;_>=0;_--)if(d.dist(g[_])<s)return!0}else p[i]=[];return p[i].push(d),!1}function uI(a,i){const s=a.fovAboveCenter,d=a.elevation?a.elevation.getMinElevationBelowMSL()*i:0,p=(a._camera.position[2]*a.worldSize-d)/Math.cos(a._pitch),g=Math.sin(s)*p/Math.sin(Math.max(Math.PI/2-a._pitch-s,.01)),_=Math.sin(a._pitch)*g+p;return Math.min(1.01*_,p*(1/a._horizonShift))}function Th(a,i){if(!i.isReprojectedInTileSpace)return{scale:1<<a.z,x:a.x,y:a.y,x2:a.x+1,y2:a.y+1,projection:i};const s=Math.pow(2,-a.z),d=a.x*s,p=(a.x+1)*s,g=a.y*s,_=(a.y+1)*s,b=El(d),C=El(p),T=xa(g),R=xa(_),F=i.project(b,T),V=i.project(C,T),Z=i.project(C,R),X=i.project(b,R);let ee=Math.min(F.x,V.x,Z.x,X.x),fe=Math.min(F.y,V.y,Z.y,X.y),be=Math.max(F.x,V.x,Z.x,X.x),Oe=Math.max(F.y,V.y,Z.y,X.y);const Ee=s/16;function Me(ze,yt,pt,Mt,fn,bt){const Zt=(pt+fn)/2,qt=(Mt+bt)/2,rn=i.project(El(Zt),xa(qt)),_n=Math.max(0,ee-rn.x,fe-rn.y,rn.x-be,rn.y-Oe);ee=Math.min(ee,rn.x),be=Math.max(be,rn.x),fe=Math.min(fe,rn.y),Oe=Math.max(Oe,rn.y),_n>Ee&&(Me(ze,rn,pt,Mt,Zt,qt),Me(rn,yt,Zt,qt,fn,bt))}Me(F,V,d,g,p,g),Me(V,Z,p,g,p,_),Me(Z,X,p,_,d,_),Me(X,F,d,_,d,g),ee-=Ee,fe-=Ee,be+=Ee,Oe+=Ee;const je=1/Math.max(be-ee,Oe-fe);return{scale:je,x:ee*je,y:fe*je,x2:be*je,y2:Oe*je,projection:i}}const MN=Oc(new Float32Array(16));class ff{constructor(i){this.spec=i,this.name=i.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(i,s){return{x:0,y:0,z:0}}unproject(i,s){return new pi(0,0)}projectTilePoint(i,s,d){return{x:i,y:s,z:0}}locationPoint(i,s,d=!0){return i._coordinatePoint(i.locationCoordinate(s),d)}pixelsPerMeter(i,s){return Dc(1,i)*s}pixelSpaceConversion(i,s,d){return 1}farthestPixelDistance(i){return uI(i,i.pixelsPerMeter)}pointCoordinate(i,s,d,p){const g=i.horizonLineFromTop(!1),_=new Le(s,Math.max(g,d));return i.rayIntersectionCoordinate(i.pointRayIntersection(_,p))}pointCoordinate3D(i,s,d){const p=new Le(s,d);if(i.elevation)return i.elevation.pointCoordinate(p);{const g=this.pointCoordinate(i,p.x,p.y,0);return[g.x,g.y,g.z]}}isPointAboveHorizon(i,s){if(i.elevation)return!this.pointCoordinate3D(i,s.x,s.y);const d=i.horizonLineFromTop();return s.y<d}createInversionMatrix(i,s){return MN}createTileMatrix(i,s,d){let p,g,_;const b=d.canonical,C=Oc(new Float64Array(16));if(this.isReprojectedInTileSpace){const T=Th(b,this);p=1,g=T.x+d.wrap*T.scale,_=T.y,_h(C,C,[p/T.scale,p/T.scale,i.pixelsPerMeter/s])}else p=s/i.zoomScale(b.z),g=(b.x+Math.pow(2,b.z)*d.wrap)*p,_=b.y*p;return ig(C,C,[g,_,0]),_h(C,C,[p/ur,p/ur,1]),C}upVector(i,s,d){return[0,0,1]}upVectorScale(i,s,d){return{metersToTile:1}}}class ON extends ff{constructor(i){super(i),this.range=[4,7],this.center=i.center||[-96,37.5];const[s,d]=this.parallels=i.parallels||[29.5,45.5],p=Math.sin(Ut(s));this.n=(p+Math.sin(Ut(d)))/2,this.c=1+p*(2*this.n-p),this.r0=Math.sqrt(this.c)/this.n}project(i,s){const{n:d,c:p,r0:g}=this,_=Ut(i-this.center[0]),b=Ut(s),C=Math.sqrt(p-2*d*Math.sin(b))/d;return{x:C*Math.sin(_*d),y:C*Math.cos(_*d)-g,z:0}}unproject(i,s){const{n:d,c:p,r0:g}=this,_=g+s;let b=Math.atan2(i,Math.abs(_))*Math.sign(_);_*d<0&&(b-=Math.PI*Math.sign(i)*Math.sign(_));const C=Ut(this.center[0])*d;b=Ge(b,-Math.PI-C,Math.PI-C);const T=Ve(Qt(b/d)+this.center[0],-180,180),R=Math.asin(Ve((p-(i*i+_*_)*d*d)/(2*d),-1,1)),F=Ve(Qt(R),-ba,ba);return new pi(T,F)}}const Pg=1.340264,Ig=-.081106,kg=893e-6,Mg=.003796,t0=Math.sqrt(3)/2;class RN extends ff{project(i,s){s=s/180*Math.PI,i=i/180*Math.PI;const d=Math.asin(t0*Math.sin(s)),p=d*d,g=p*p*p;return{x:.5*(i*Math.cos(d)/(t0*(Pg+3*Ig*p+g*(7*kg+9*Mg*p)))/Math.PI+.5),y:1-.5*(d*(Pg+Ig*p+g*(kg+Mg*p))/Math.PI+1),z:0}}unproject(i,s){i=(2*i-.5)*Math.PI;let d=s=(2*(1-s)-1)*Math.PI,p=d*d,g=p*p*p;for(let R,F,V,Z=0;Z<12&&(F=d*(Pg+Ig*p+g*(kg+Mg*p))-s,V=Pg+3*Ig*p+g*(7*kg+9*Mg*p),R=F/V,d=Ve(d-R,-Math.PI/3,Math.PI/3),p=d*d,g=p*p*p,!(Math.abs(R)<1e-12));++Z);const _=t0*i*(Pg+3*Ig*p+g*(7*kg+9*Mg*p))/Math.cos(d),b=Math.asin(Math.sin(d)/t0),C=Ve(180*_/Math.PI,-180,180),T=Ve(180*b/Math.PI,-ba,ba);return new pi(C,T)}}class DN extends ff{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0}project(i,s){return{x:.5+i/360,y:.5-s/360,z:0}}unproject(i,s){const d=360*(i-.5),p=Ve(360*(.5-s),-ba,ba);return new pi(d,p)}}const Rp=Math.PI/2;function n0(a){return Math.tan((Rp+a)/2)}class LN extends ff{constructor(i){super(i),this.center=i.center||[0,30];const[s,d]=this.parallels=i.parallels||[30,30];let p=Ut(s),g=Ut(d);this.southernCenter=p+g<0,this.southernCenter&&(p=-p,g=-g);const _=Math.cos(p),b=n0(p);this.n=p===g?Math.sin(p):Math.log(_/Math.cos(g))/Math.log(n0(g)/b),this.f=_*Math.pow(n0(p),this.n)/this.n}project(i,s){s=Ut(s),this.southernCenter&&(s=-s),i=Ut(i-this.center[0]);const d=1e-6,{n:p,f:g}=this;g>0?s<-Rp+d&&(s=-Rp+d):s>Rp-d&&(s=Rp-d);const _=g/Math.pow(n0(s),p);let b=_*Math.sin(p*i),C=g-_*Math.cos(p*i);return b=.5*(b/Math.PI+.5),C=.5*(C/Math.PI+.5),{x:b,y:this.southernCenter?C:1-C,z:0}}unproject(i,s){i=(2*i-.5)*Math.PI,this.southernCenter&&(s=1-s),s=(2*(1-s)-.5)*Math.PI;const{n:d,f:p}=this,g=p-s,_=Math.sign(g),b=Math.sign(d)*Math.sqrt(i*i+g*g);let C=Math.atan2(i,Math.abs(g))*_;g*d<0&&(C-=Math.PI*Math.sign(i)*_);const T=Ve(Qt(C/d)+this.center[0],-180,180),R=Ve(Qt(2*Math.atan(Math.pow(p/b,1/d))-Rp),-ba,ba);return new pi(T,this.southernCenter?-R:R)}}class dI extends ff{constructor(i){super(i),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(i,s){return{x:Lu(i),y:Fu(s),z:0}}unproject(i,s){const d=El(i),p=xa(s);return new pi(d,p)}}const fI=Ut(ba);class FN extends ff{project(i,s){const d=(s=Ut(s))*s,p=d*d;return{x:.5*((i=Ut(i))*(.8707-.131979*d+p*(p*(.003971*d-.001529*p)-.013791))/Math.PI+.5),y:1-.5*(s*(1.007226+d*(.015085+p*(.028874*d-.044475-.005916*p)))/Math.PI+1),z:0}}unproject(i,s){i=(2*i-.5)*Math.PI;let d=s=(2*(1-s)-1)*Math.PI,p=25,g=0,_=d*d;do{_=d*d;const T=_*_;g=(d*(1.007226+_*(.015085+T*(.028874*_-.044475-.005916*T)))-s)/(1.007226+_*(.045255+T*(.259866*_-.311325-.005916*11*T))),d=Ve(d-g,-fI,fI)}while(Math.abs(g)>1e-6&&--p>0);_=d*d;const b=Ve(Qt(i/(.8707+_*(_*(_*_*_*(.003971-.001529*_)-.013791)-.131979))),-180,180),C=Qt(d);return new pi(b,C)}}const hI=Ut(ba);class NN extends ff{project(i,s){s=Ut(s),i=Ut(i);const d=Math.cos(s),p=2/Math.PI,g=Math.acos(d*Math.cos(i/2)),_=Math.sin(g)/g,b=.5*(i*p+2*d*Math.sin(i/2)/_)||0,C=.5*(s+Math.sin(s)/_)||0;return{x:.5*(b/Math.PI+.5),y:1-.5*(C/Math.PI+1),z:0}}unproject(i,s){let d=i=(2*i-.5)*Math.PI,p=s=(2*(1-s)-1)*Math.PI,g=25;const _=1e-6;let b=0,C=0;do{const T=Math.cos(p),R=Math.sin(p),F=2*R*T,V=R*R,Z=T*T,X=Math.cos(d/2),ee=Math.sin(d/2),fe=2*X*ee,be=ee*ee,Oe=1-Z*X*X,Ee=Oe?1/Oe:0,Me=Oe?Math.acos(T*X)*Math.sqrt(1/Oe):0,je=.5*(2*Me*T*ee+2*d/Math.PI)-i,ze=.5*(Me*R+p)-s,yt=.5*Ee*(Z*be+Me*T*X*V)+1/Math.PI,pt=Ee*(fe*F/4-Me*R*ee),Mt=.125*Ee*(F*ee-Me*R*Z*fe),fn=.5*Ee*(V*X+Me*be*T)+.5,bt=pt*Mt-fn*yt;b=(ze*pt-je*fn)/bt,C=(je*Mt-ze*yt)/bt,d=Ve(d-b,-Math.PI,Math.PI),p=Ve(p-C,-hI,hI)}while((Math.abs(b)>_||Math.abs(C)>_)&&--g>0);return new pi(Qt(d),Qt(p))}}class pI extends ff{constructor(i){super(i),this.center=i.center||[0,0],this.parallels=i.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Ut(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(i,s){const{scale:d,cosPhi:p}=this;return{x:Ut(i)*p*d+.5,y:-Math.sin(Ut(s))/p*d+.5,z:0}}unproject(i,s){const{scale:d,cosPhi:p}=this,g=-(s-.5)/d,_=Ve(Qt((i-.5)/d)/p,-180,180),b=Math.asin(Ve(g*p,-1,1)),C=Ve(Qt(b),-ba,ba);return new pi(_,C)}}class BN extends dI{constructor(i){super(i),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(i,s,d){const p=fg(i,s,d);return ao(p,p,hg(Du(d))),{x:p[0],y:p[1],z:p[2]}}locationPoint(i,s){const d=vp(s.lat,s.lng),p=Ya([],d),g=i.elevation?i.elevation.getAtPointOrZero(i.locationCoordinate(s),i._centerAltitude):i._centerAltitude;lg(d,d,p,Dc(1,0)*ur*g);const _=Oc(new Float64Array(16));return vh(_,i.pixelMatrix,i.globeMatrix),ao(d,d,_),new Le(d[0],d[1])}pixelsPerMeter(i,s){return Dc(1,0)*s}pixelSpaceConversion(i,s,d){const p=Dc(1,i)*s,g=jr(Dc(1,45)*s,p,d);return this.pixelsPerMeter(i,s)/g}createTileMatrix(i,s,d){const p=Gx(Du(d.canonical));return vh(new Float64Array(16),i.globeMatrix,p)}createInversionMatrix(i,s){const{center:d}=i,p=hg(Du(s));return kv(p,p,Ut(d.lng)),Dx(p,p,Ut(d.lat)),_h(p,p,[i._pixelsPerMercatorPixel,i._pixelsPerMercatorPixel,1]),Float32Array.from(p)}pointCoordinate(i,s,d,p){return jP(i,s,d,!0)||new xp(0,0)}pointCoordinate3D(i,s,d){const p=this.pointCoordinate(i,s,d,0);return[p.x,p.y,p.z]}isPointAboveHorizon(i,s){return!jP(i,s.x,s.y,!1)}farthestPixelDistance(i){const s=function(p,g){const _=p.cameraToCenterDistance,b=p._centerAltitude*g,C=p._camera,T=p._camera.forward(),R=bd([],wl([],T,-_),[0,0,b]),F=p.worldSize/(2*Math.PI),V=[0,0,-F],Z=p.width/p.height,X=Math.tan(p.fovAboveCenter),ee=wl([],C.up(),X),fe=wl([],C.right(),X*Z),be=Ya([],bd([],bd([],T,ee),fe)),Oe=[];let Ee;if(new Bx(R,be).closestPointOnSphere(V,F,Oe)){const Me=bd([],Oe,V),je=Rc([],Me,R);Ee=Math.cos(p.fovAboveCenter)*og(je)}else{const Me=Rc([],R,V),je=Rc([],V,R);Ya(je,je);const ze=og(Me)-F;Ee=Math.sqrt(ze*(ze+2*F));const yt=Math.acos(Ee/(F+ze))-Math.acos(ec(T,je));Ee*=Math.cos(yt)}return 1.01*Ee}(i,this.pixelsPerMeter(i.center.lat,i.worldSize)),d=_p(i.zoom);if(d>0){const p=uI(i,Dc(1,i.center.lat)*i.worldSize),g=i.worldSize/(2*Math.PI),_=Math.max(i.width,i.height)/i.worldSize*Math.PI;return jr(s,p+g*(1-Math.cos(_)),Math.pow(d,10))}return s}upVector(i,s,d){return fg(s,d,i,1)}upVectorScale(i){return{metersToTile:Mv(Rv(Du(i)))}}}function mI(a){const i=a.parallels,s=!!i&&Math.abs(i[0]+i[1])<.01;switch(a.name){case"mercator":return new dI(a);case"equirectangular":return new DN(a);case"naturalEarth":return new FN(a);case"equalEarth":return new RN(a);case"winkelTripel":return new NN(a);case"albers":return s?new pI(a):new ON(a);case"lambertConformalConic":return s?new pI(a):new LN(a);case"globe":return new BN(a)}throw new Error(`Invalid projection name: ${a.name}`)}const zN=Vv.types,$N=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function r0(a,i,s,d,p,g,_,b,C,T,R,F,V){const Z=b?Math.min(df,Math.round(b[0])):0,X=b?Math.min(df,Math.round(b[1])):0;a.emplaceBack(i,s,Math.round(32*d),Math.round(32*p),g,_,(Z<<1)+(C?1:0),X,16*T,16*R,256*F,256*V)}function i0(a,i,s,d,p,g,_){a.emplaceBack(i,s,d,p,g,_)}function o0(a,i,s,d,p){a.emplaceBack(i,s,d,p),a.emplaceBack(i,s,d,p),a.emplaceBack(i,s,d,p),a.emplaceBack(i,s,d,p)}function jN(a){for(const i of a.sections)if(dt(i.text))return!0;return!1}class bb{constructor(i){this.layoutVertexArray=new Yt,this.indexArray=new Qn,this.programConfigurations=i,this.segments=new go,this.dynamicLayoutVertexArray=new tn,this.opacityVertexArray=new tr,this.placedSymbolArray=new eo,this.globeExtVertexArray=new hn}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,s,d,p){this.isEmpty()||(d&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,K8.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,s),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,Y8.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,$N,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=i.createVertexBuffer(this.globeExtVertexArray,X8.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||p)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Wn(bb,"SymbolBuffers");class wb{constructor(i,s,d){this.layoutVertexArray=new i,this.layoutAttributes=s,this.indexArray=new d,this.segments=new go,this.collisionVertexArray=new Lr,this.collisionVertexArrayExt=new Mr}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,J8.members,!0),this.collisionVertexBufferExt=i.createVertexBuffer(this.collisionVertexArrayExt,Q8.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Wn(wb,"CollisionBuffers");class hf{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(_=>_.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Oc([]),this.placementViewportMatrix=Oc([]);const s=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ub(this.zoom,s["text-size"]),this.iconSizeData=ub(this.zoom,s["icon-size"]);const d=this.layers[0].layout,p=d.get("symbol-sort-key"),g=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=g!=="viewport-y"&&p.constantOr(1)!==void 0,this.sortFeaturesByY=(g==="viewport-y"||g==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(_=>Cl[_]),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=i.sourceID,this.projection=i.projection}createArrays(){this.text=new bb(new yh(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new bb(new yh(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Xa,this.lineVertexArray=new hp,this.symbolInstances=new hi}calculateGlyphDependencies(i,s,d,p,g){for(let _=0;_<i.length;_++)if(s[i.charCodeAt(_)]=!0,p&&g){const b=Cg[i.charAt(_)];b&&(s[b.charCodeAt(0)]=!0)}}populate(i,s,d,p){const g=this.layers[0],_=g.layout,b=this.projection.name==="globe",C=_.get("text-font"),T=_.get("text-field"),R=_.get("icon-image"),F=(T.value.kind!=="constant"||T.value.value instanceof Io&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(C.value.kind!=="constant"||C.value.value.length>0),V=R.value.kind!=="constant"||!!R.value.value||Object.keys(R.parameters).length>0,Z=_.get("symbol-sort-key");if(this.features=[],!F&&!V)return;const X=s.iconDependencies,ee=s.glyphDependencies,fe=s.availableImages,be=new D(this.zoom);for(const{feature:Oe,id:Ee,index:Me,sourceLayerIndex:je}of i){const ze=g._featureFilter.needGeometry,yt=Eh(Oe,ze);if(!g._featureFilter.filter(be,yt,d))continue;if(ze||(yt.geometry=wd(Oe,d,p)),b&&Oe.type!==1&&d.z<=5){const bt=yt.geometry,Zt=.98078528056,qt=(rn,_n)=>ec(fg(rn.x,rn.y,d,1),fg(_n.x,_n.y,d,1))<Zt;for(let rn=0;rn<bt.length;rn++)bt[rn]=YF(bt[rn],qt)}let pt,Mt;if(F){const bt=g.getValueAndResolveTokens("text-field",yt,d,fe),Zt=Io.factory(bt);jN(Zt)&&(this.hasRTLText=!0),(!this.hasRTLText||w()==="unavailable"||this.hasRTLText&&I.isParsed())&&(pt=nN(Zt,g,yt))}if(V){const bt=g.getValueAndResolveTokens("icon-image",yt,d,fe);Mt=bt instanceof Go?bt:Go.fromString(bt)}if(!pt&&!Mt)continue;const fn=this.sortFeaturesByKey?Z.evaluate(yt,{},d):void 0;if(this.features.push({id:Ee,text:pt,icon:Mt,index:Me,sourceLayerIndex:je,geometry:yt.geometry,properties:Oe.properties,type:zN[Oe.type],sortKey:fn}),Mt&&(X[Mt.name]=!0),pt){const bt=C.evaluate(yt,{},d).join(","),Zt=_.get("text-rotation-alignment")==="map"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Cl.vertical)>=0;for(const qt of pt.sections)if(qt.image)X[qt.image.name]=!0;else{const rn=ph(pt.toString()),_n=qt.fontStack||bt,Pt=ee[_n]=ee[_n]||{};this.calculateGlyphDependencies(qt.text,Pt,Zt,this.allowVerticalPlacement,rn)}}}_.get("symbol-placement")==="line"&&(this.features=function(Oe){const Ee={},Me={},je=[];let ze=0;function yt(bt){je.push(Oe[bt]),ze++}function pt(bt,Zt,qt){const rn=Me[bt];return delete Me[bt],Me[Zt]=rn,je[rn].geometry[0].pop(),je[rn].geometry[0]=je[rn].geometry[0].concat(qt[0]),rn}function Mt(bt,Zt,qt){const rn=Ee[Zt];return delete Ee[Zt],Ee[bt]=rn,je[rn].geometry[0].shift(),je[rn].geometry[0]=qt[0].concat(je[rn].geometry[0]),rn}function fn(bt,Zt,qt){const rn=qt?Zt[0][Zt[0].length-1]:Zt[0][0];return`${bt}:${rn.x}:${rn.y}`}for(let bt=0;bt<Oe.length;bt++){const Zt=Oe[bt],qt=Zt.geometry,rn=Zt.text?Zt.text.toString():null;if(!rn){yt(bt);continue}const _n=fn(rn,qt),Pt=fn(rn,qt,!0);if(_n in Me&&Pt in Ee&&Me[_n]!==Ee[Pt]){const Nn=Mt(_n,Pt,qt),Kn=pt(_n,Pt,je[Nn].geometry);delete Ee[_n],delete Me[Pt],Me[fn(rn,je[Kn].geometry,!0)]=Kn,je[Nn].geometry=null}else _n in Me?pt(_n,Pt,qt):Pt in Ee?Mt(_n,Pt,qt):(yt(bt),Ee[_n]=ze-1,Me[Pt]=ze-1)}return je.filter(bt=>bt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Oe,Ee)=>Oe.sortKey-Ee.sortKey)}update(i,s,d,p){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,s,this.layers,d,p),this.icon.programConfigurations.updatePaintArrays(i,s,this.layers,d,p))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=mI(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,s){const d=this.lineVertexArray.length;if(i.segment!==void 0)for(const{x:p,y:g}of s)this.lineVertexArray.emplaceBack(p,g);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(i,s,d,p,g,_,b,C,T,R,F,V,Z,X){const ee=i.indexArray,fe=i.layoutVertexArray,be=i.globeExtVertexArray,Oe=i.segments.prepareSegment(4*s.length,fe,ee,this.canOverlap?_.sortKey:void 0),Ee=this.glyphOffsetArray.length,Me=Oe.vertexLength,je=this.allowVerticalPlacement&&b===Cl.vertical?Math.PI/2:0,ze=_.text&&_.text.sections;for(let pt=0;pt<s.length;pt++){const{tl:Mt,tr:fn,bl:bt,br:Zt,tex:qt,pixelOffsetTL:rn,pixelOffsetBR:_n,minFontScaleX:Pt,minFontScaleY:Nn,glyphOffset:Kn,isSDF:$n,sectionIndex:Cr}=s[pt],bn=Oe.vertexLength,sr=Kn[1];if(r0(fe,T.x,T.y,Mt.x,sr+Mt.y,qt.x,qt.y,d,$n,rn.x,rn.y,Pt,Nn),r0(fe,T.x,T.y,fn.x,sr+fn.y,qt.x+qt.w,qt.y,d,$n,_n.x,rn.y,Pt,Nn),r0(fe,T.x,T.y,bt.x,sr+bt.y,qt.x,qt.y+qt.h,d,$n,rn.x,_n.y,Pt,Nn),r0(fe,T.x,T.y,Zt.x,sr+Zt.y,qt.x+qt.w,qt.y+qt.h,d,$n,_n.x,_n.y,Pt,Nn),C){const{x:Sr,y:Jr,z:Tr}=C.anchor,[fr,Oi,Ir]=C.up;i0(be,Sr,Jr,Tr,fr,Oi,Ir),i0(be,Sr,Jr,Tr,fr,Oi,Ir),i0(be,Sr,Jr,Tr,fr,Oi,Ir),i0(be,Sr,Jr,Tr,fr,Oi,Ir),o0(i.dynamicLayoutVertexArray,Sr,Jr,Tr,je)}else o0(i.dynamicLayoutVertexArray,T.x,T.y,T.z,je);ee.emplaceBack(bn,bn+1,bn+2),ee.emplaceBack(bn+1,bn+2,bn+3),Oe.vertexLength+=4,Oe.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Kn[0]),pt!==s.length-1&&Cr===s[pt+1].sectionIndex||i.programConfigurations.populatePaintArrays(fe.length,_,_.index,{},Z,X,ze&&ze[Cr])}const yt=C?C.anchor:T;i.placedSymbolArray.emplaceBack(yt.x,yt.y,yt.z,T.x,T.y,Ee,this.glyphOffsetArray.length-Ee,Me,R,F,T.segment,d?d[0]:0,d?d[1]:0,p[0],p[1],b,0,!1,0,V,0)}_commitLayoutVertex(i,s,d,p,g,_,b){i.emplaceBack(s,d,p,g,_,Math.round(b.x),Math.round(b.y))}_addCollisionDebugVertices(i,s,d,p,g,_,b){const C=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),T=C.vertexLength,R=b.tileAnchorX,F=b.tileAnchorY;for(let Z=0;Z<4;Z++)d.collisionVertexArray.emplaceBack(0,0,0,0);d.collisionVertexArrayExt.emplaceBack(s,-i.padding,-i.padding),d.collisionVertexArrayExt.emplaceBack(s,i.padding,-i.padding),d.collisionVertexArrayExt.emplaceBack(s,i.padding,i.padding),d.collisionVertexArrayExt.emplaceBack(s,-i.padding,i.padding),this._commitLayoutVertex(d.layoutVertexArray,p,g,_,R,F,new Le(i.x1,i.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,g,_,R,F,new Le(i.x2,i.y1)),this._commitLayoutVertex(d.layoutVertexArray,p,g,_,R,F,new Le(i.x2,i.y2)),this._commitLayoutVertex(d.layoutVertexArray,p,g,_,R,F,new Le(i.x1,i.y2)),C.vertexLength+=4;const V=d.indexArray;V.emplaceBack(T,T+1),V.emplaceBack(T+1,T+2),V.emplaceBack(T+2,T+3),V.emplaceBack(T+3,T),C.primitiveLength+=4}_addTextDebugCollisionBoxes(i,s,d,p,g,_){for(let b=p;b<g;b++){const C=d.get(b),T=this.getSymbolInstanceTextSize(i,_,s,b);this._addCollisionDebugVertices(C,T,this.textCollisionBox,C.projectedAnchorX,C.projectedAnchorY,C.projectedAnchorZ,_)}}_addIconDebugCollisionBoxes(i,s,d,p,g,_){for(let b=p;b<g;b++){const C=d.get(b),T=this.getSymbolInstanceIconSize(i,s,_.placedIconSymbolIndex);this._addCollisionDebugVertices(C,T,this.iconCollisionBox,C.projectedAnchorX,C.projectedAnchorY,C.projectedAnchorZ,_)}}generateCollisionDebugBuffers(i,s){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new wb(Zn,D3.members,oo),this.iconCollisionBox=new wb(Zn,D3.members,oo);const d=Sp(this.iconSizeData,i),p=Sp(this.textSizeData,i);for(let g=0;g<this.symbolInstances.length;g++){const _=this.symbolInstances.get(g);this._addTextDebugCollisionBoxes(p,i,s,_.textBoxStartIndex,_.textBoxEndIndex,_),this._addTextDebugCollisionBoxes(p,i,s,_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_),this._addIconDebugCollisionBoxes(d,i,s,_.iconBoxStartIndex,_.iconBoxEndIndex,_),this._addIconDebugCollisionBoxes(d,i,s,_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex,_)}}getSymbolInstanceTextSize(i,s,d,p){const g=this.text.placedSymbolArray.get(s.rightJustifiedTextSymbolIndex>=0?s.rightJustifiedTextSymbolIndex:s.centerJustifiedTextSymbolIndex>=0?s.centerJustifiedTextSymbolIndex:s.leftJustifiedTextSymbolIndex>=0?s.leftJustifiedTextSymbolIndex:s.verticalPlacedTextSymbolIndex>=0?s.verticalPlacedTextSymbolIndex:p),_=Zv(this.textSizeData,i,g)/ca;return this.tilePixelRatio*_}getSymbolInstanceIconSize(i,s,d){const p=this.icon.placedSymbolArray.get(d),g=Zv(this.iconSizeData,i,p);return this.tilePixelRatio*g}_commitDebugCollisionVertexUpdate(i,s,d){i.emplaceBack(s,-d,-d),i.emplaceBack(s,d,-d),i.emplaceBack(s,d,d),i.emplaceBack(s,-d,d)}_updateTextDebugCollisionBoxes(i,s,d,p,g,_){for(let b=p;b<g;b++){const C=d.get(b),T=this.getSymbolInstanceTextSize(i,_,s,b);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,T,C.padding)}}_updateIconDebugCollisionBoxes(i,s,d,p,g,_){for(let b=p;b<g;b++){const C=d.get(b),T=this.getSymbolInstanceIconSize(i,s,_);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,T,C.padding)}}updateCollisionDebugBuffers(i,s){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const d=Sp(this.iconSizeData,i),p=Sp(this.textSizeData,i);for(let g=0;g<this.symbolInstances.length;g++){const _=this.symbolInstances.get(g);this._updateTextDebugCollisionBoxes(p,i,s,_.textBoxStartIndex,_.textBoxEndIndex,_),this._updateTextDebugCollisionBoxes(p,i,s,_.verticalTextBoxStartIndex,_.verticalTextBoxEndIndex,_),this._updateIconDebugCollisionBoxes(d,i,s,_.iconBoxStartIndex,_.iconBoxEndIndex,_.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(d,i,s,_.verticalIconBoxStartIndex,_.verticalIconBoxEndIndex,_.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(i,s,d,p,g,_,b,C,T){const R={};if(s<d){const{x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me,featureIndex:je}=i.get(s);R.textBox={x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me},R.textFeatureIndex=je}if(p<g){const{x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me,featureIndex:je}=i.get(p);R.verticalTextBox={x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me},R.verticalTextFeatureIndex=je}if(_<b){const{x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me,featureIndex:je}=i.get(_);R.iconBox={x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me},R.iconFeatureIndex=je}if(C<T){const{x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me,featureIndex:je}=i.get(C);R.verticalIconBox={x1:F,y1:V,x2:Z,y2:X,padding:ee,projectedAnchorX:fe,projectedAnchorY:be,projectedAnchorZ:Oe,tileAnchorX:Ee,tileAnchorY:Me},R.verticalIconFeatureIndex=je}return R}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let s=0;s<this.symbolInstances.length;s++){const d=this.symbolInstances.get(s);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,s){const d=i.placedSymbolArray.get(s),p=d.vertexStartIndex+4*d.numGlyphs;for(let g=d.vertexStartIndex;g<p;g+=4)i.indexArray.emplaceBack(g,g+1,g+2),i.indexArray.emplaceBack(g+1,g+2,g+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const s=Math.sin(i),d=Math.cos(i),p=[],g=[],_=[];for(let b=0;b<this.symbolInstances.length;++b){_.push(b);const C=this.symbolInstances.get(b);p.push(0|Math.round(s*C.tileAnchorX+d*C.tileAnchorY)),g.push(C.featureIndex)}return _.sort((b,C)=>p[b]-p[C]||g[C]-g[b]),_}addToSortKeyRanges(i,s){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===s?d.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:s,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const s of this.symbolInstanceIndexes){const d=this.symbolInstances.get(s);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:p,centerJustifiedTextSymbolIndex:g,leftJustifiedTextSymbolIndex:_,verticalPlacedTextSymbolIndex:b,placedIconSymbolIndex:C,verticalPlacedIconSymbolIndex:T}=d;p>=0&&this.addIndicesForPlacedSymbol(this.text,p),g>=0&&g!==p&&this.addIndicesForPlacedSymbol(this.text,g),_>=0&&_!==g&&_!==p&&this.addIndicesForPlacedSymbol(this.text,_),b>=0&&this.addIndicesForPlacedSymbol(this.text,b),C>=0&&this.addIndicesForPlacedSymbol(this.icon,C),T>=0&&this.addIndicesForPlacedSymbol(this.icon,T)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Wn(hf,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),hf.MAX_GLYPHS=65535,hf.addDynamicAttributes=o0;const UN=new Te({"symbol-placement":new Q(vt.layout_symbol["symbol-placement"]),"symbol-spacing":new Q(vt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Q(vt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ge(vt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Q(vt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Q(vt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Q(vt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Q(vt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Q(vt.layout_symbol["icon-rotation-alignment"]),"icon-size":new ge(vt.layout_symbol["icon-size"]),"icon-text-fit":new Q(vt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Q(vt.layout_symbol["icon-text-fit-padding"]),"icon-image":new ge(vt.layout_symbol["icon-image"]),"icon-rotate":new ge(vt.layout_symbol["icon-rotate"]),"icon-padding":new Q(vt.layout_symbol["icon-padding"]),"icon-keep-upright":new Q(vt.layout_symbol["icon-keep-upright"]),"icon-offset":new ge(vt.layout_symbol["icon-offset"]),"icon-anchor":new ge(vt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Q(vt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Q(vt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Q(vt.layout_symbol["text-rotation-alignment"]),"text-field":new ge(vt.layout_symbol["text-field"]),"text-font":new ge(vt.layout_symbol["text-font"]),"text-size":new ge(vt.layout_symbol["text-size"]),"text-max-width":new ge(vt.layout_symbol["text-max-width"]),"text-line-height":new ge(vt.layout_symbol["text-line-height"]),"text-letter-spacing":new ge(vt.layout_symbol["text-letter-spacing"]),"text-justify":new ge(vt.layout_symbol["text-justify"]),"text-radial-offset":new ge(vt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Q(vt.layout_symbol["text-variable-anchor"]),"text-anchor":new ge(vt.layout_symbol["text-anchor"]),"text-max-angle":new Q(vt.layout_symbol["text-max-angle"]),"text-writing-mode":new Q(vt.layout_symbol["text-writing-mode"]),"text-rotate":new ge(vt.layout_symbol["text-rotate"]),"text-padding":new Q(vt.layout_symbol["text-padding"]),"text-keep-upright":new Q(vt.layout_symbol["text-keep-upright"]),"text-transform":new ge(vt.layout_symbol["text-transform"]),"text-offset":new ge(vt.layout_symbol["text-offset"]),"text-allow-overlap":new Q(vt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Q(vt.layout_symbol["text-ignore-placement"]),"text-optional":new Q(vt.layout_symbol["text-optional"])});var Eb={paint:new Te({"icon-opacity":new ge(vt.paint_symbol["icon-opacity"]),"icon-color":new ge(vt.paint_symbol["icon-color"]),"icon-halo-color":new ge(vt.paint_symbol["icon-halo-color"]),"icon-halo-width":new ge(vt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ge(vt.paint_symbol["icon-halo-blur"]),"icon-translate":new Q(vt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Q(vt.paint_symbol["icon-translate-anchor"]),"text-opacity":new ge(vt.paint_symbol["text-opacity"]),"text-color":new ge(vt.paint_symbol["text-color"],{runtimeType:di,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new ge(vt.paint_symbol["text-halo-color"]),"text-halo-width":new ge(vt.paint_symbol["text-halo-width"]),"text-halo-blur":new ge(vt.paint_symbol["text-halo-blur"]),"text-translate":new Q(vt.paint_symbol["text-translate"]),"text-translate-anchor":new Q(vt.paint_symbol["text-translate-anchor"])}),layout:UN};class gI{constructor(i){this.type=i.property.overrides?i.property.overrides.runtimeType:br,this.defaultValue=i}evaluate(i){if(i.formattedSection){const s=this.defaultValue.property.overrides;if(s&&s.hasOverride(i.formattedSection))return s.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Wn(gI,"FormatSectionOverride",{omit:["defaultValue"]});class a0 extends Mc{constructor(i){super(i,Eb)}recalculate(i,s){super.recalculate(i,s),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const p=[];for(const g of d)p.indexOf(g)<0&&p.push(g);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(i,s,d,p){const g=this.layout.get(i).evaluate(s,{},d,p),_=this._unevaluatedLayout._values[i];return _.isDataDriven()||zs(_.value)||!g?g:function(b,C){return C.replace(/{([^{}]+)}/g,(T,R)=>R in b?String(b[R]):"")}(s.properties,g)}createBucket(i){return new hf(i)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const i of Eb.paint.overridableProperties){if(!a0.hasPaintOverride(this.layout,i))continue;const s=this.paint.get(i),d=new gI(s),p=new ku(d,s.property.specification);let g=null;g=s.value.kind==="constant"||s.value.kind==="source"?new L("source",p):new z("composite",p,s.value.zoomStops,s.value._interpolationType),this.paint._values[i]=new pe(s.property,g,s.parameters)}}_handleOverridablePaintPropertyUpdate(i,s,d){return!(!this.layout||s.isDataDriven()||d.isDataDriven())&&a0.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,s){const d=i.get("text-field"),p=Eb.paint.properties[s];let g=!1;const _=b=>{for(const C of b)if(p.overrides&&p.overrides.hasOverride(C))return void(g=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Io)_(d.value.value.sections);else if(d.value.kind==="source"){const b=T=>{g||(T instanceof Va&&Kr(T.value)===ho?_(T.value.sections):T instanceof Mo?_(T.sections):T.eachChild(b))},C=d.value;C._styleExpression&&b(C._styleExpression.expression)}return g}getProgramConfiguration(i){return new lf(this,i)}}var VN={paint:new Te({"background-color":new Q(vt.paint_background["background-color"]),"background-pattern":new Q(vt.paint_background["background-pattern"]),"background-opacity":new Q(vt.paint_background["background-opacity"])})},GN={paint:new Te({"raster-opacity":new Q(vt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Q(vt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Q(vt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Q(vt.paint_raster["raster-brightness-max"]),"raster-saturation":new Q(vt.paint_raster["raster-saturation"]),"raster-contrast":new Q(vt.paint_raster["raster-contrast"]),"raster-resampling":new Q(vt.paint_raster["raster-resampling"]),"raster-fade-duration":new Q(vt.paint_raster["raster-fade-duration"])})};class HN extends Mc{constructor(i){super(i,{}),this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(i){this.implementation.onAdd&&this.implementation.onAdd(i,i.painter.context.gl)}onRemove(i){this.implementation.onRemove&&this.implementation.onRemove(i,i.painter.context.gl)}}var WN={paint:new Te({"sky-type":new Q(vt.paint_sky["sky-type"]),"sky-atmosphere-sun":new Q(vt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Q(vt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Q(vt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Q(vt.paint_sky["sky-gradient-radius"]),"sky-gradient":new we(vt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Q(vt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Q(vt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Q(vt.paint_sky["sky-opacity"])})};function Cb(a,i,s){const d=[0,0,1],p=LP([]);return NP(p,p,s?-Ut(a)+Math.PI:Ut(a)),FP(p,p,-Ut(i)),MP(d,d,p),Ya(d,d)}const ZN={circle:class extends Mc{constructor(a){super(a,i8)}createBucket(a){return new Xx(a)}queryRadius(a){const i=a;return bp("circle-radius",this,i)+bp("circle-stroke-width",this,i)+Fv(this.paint.get("circle-translate"))}queryIntersectsFeature(a,i,s,d,p,g,_,b){const C=o3(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),g.angle,a.pixelToTileUnitsFactor),T=this.paint.get("circle-radius").evaluate(i,s)+this.paint.get("circle-stroke-width").evaluate(i,s);return a3(a,d,g,_,b,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",C,T)}getProgramIds(){return["circle"]}getProgramConfiguration(a){return new lf(this,a)}},heatmap:class extends Mc{createBucket(a){return new l3(a)}constructor(a){super(a,l8),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=eb({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(a){return bp("heatmap-radius",this,a)}queryIntersectsFeature(a,i,s,d,p,g,_,b){const C=this.paint.get("heatmap-radius").evaluate(i,s);return a3(a,d,g,_,b,!0,!0,new Le(0,0),C)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(a){return new lf(this,a)}},hillshade:class extends Mc{constructor(a){super(a,c8)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends Mc{constructor(a){super(a,S8)}getProgramIds(){const a=this.paint.get("fill-pattern"),i=a&&a.constantOr(1),s=[i?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&s.push(i&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),s}getProgramConfiguration(a){return new lf(this,a)}recalculate(a,i){super.recalculate(a,i);const s=this.paint._values["fill-outline-color"];s.value.kind==="constant"&&s.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(a){return new jv(a)}queryRadius(){return Fv(this.paint.get("fill-translate"))}queryIntersectsFeature(a,i,s,d,p,g){return!a.queryGeometry.isAboveHorizon&&e3(i3(a.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),g.angle,a.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}},"fill-extrusion":class extends Mc{constructor(a){super(a,j8)}createBucket(a){return new bg(a)}queryRadius(){return Fv(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(a){return new lf(this,a)}queryIntersectsFeature(a,i,s,d,p,g,_,b,C){const T=o3(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),g.angle,a.pixelToTileUnitsFactor),R=this.paint.get("fill-extrusion-height").evaluate(i,s),F=this.paint.get("fill-extrusion-base").evaluate(i,s),V=[0,0],Z=b&&g.elevation,X=g.elevation?g.elevation.exaggeration():1,ee=a.tile.getBucket(this);if(Z&&ee instanceof bg){const Me=ee.centroidVertexArray,je=C+1;je<Me.length&&(V[0]=Me.geta_centroid_pos0(je),V[1]=Me.geta_centroid_pos1(je))}if(V[0]===0&&V[1]===1)return!1;g.projection.name==="globe"&&(d=T3([d],[new Le(0,0),new Le(ur,ur)],a.tileID.canonical).map(Me=>Me.polygon).flat());const fe=Z?b:null,[be,Oe]=function(Me,je,ze,yt,pt,Mt,fn,bt,Zt,qt,rn){return Me.projection.name==="globe"?function(_n,Pt,Nn,Kn,$n,Cr,bn,sr,Sr,Jr,Tr){const fr=[],Oi=[],Ir=_n.projection.upVectorScale(Tr,_n.center.lat,_n.worldSize).metersToTile,kr=[0,0,0,1],mi=[0,0,0,1],wi=(gi,Vi,to,vo)=>{gi[0]=Vi,gi[1]=to,gi[2]=vo,gi[3]=1},Ei=S3();Nn>0&&(Nn+=Ei),Kn+=Ei;for(const gi of Pt){const Vi=[],to=[];for(const vo of gi){const yi=vo.x+$n.x,Do=vo.y+$n.y,_o=_n.projection.projectTilePoint(yi,Do,Tr),Wi=_n.projection.upVector(Tr,vo.x,vo.y);let ni=Nn,xo=Kn;if(bn){const Ci=k3(yi,Do,Nn,Kn,bn,sr,Sr,Jr);ni+=Ci.base,xo+=Ci.top}Nn!==0?wi(kr,_o.x+Wi[0]*Ir*ni,_o.y+Wi[1]*Ir*ni,_o.z+Wi[2]*Ir*ni):wi(kr,_o.x,_o.y,_o.z),wi(mi,_o.x+Wi[0]*Ir*xo,_o.y+Wi[1]*Ir*xo,_o.z+Wi[2]*Ir*xo),ao(kr,kr,Cr),ao(mi,mi,Cr),Vi.push(new Cp(kr[0],kr[1],kr[2])),to.push(new Cp(mi[0],mi[1],mi[2]))}fr.push(Vi),Oi.push(to)}return[fr,Oi]}(Me,je,ze,yt,pt,Mt,fn,bt,Zt,qt,rn):fn?function(_n,Pt,Nn,Kn,$n,Cr,bn,sr,Sr){const Jr=[],Tr=[],fr=[0,0,0,1];for(const Oi of _n){const Ir=[],kr=[];for(const mi of Oi){const wi=mi.x+Kn.x,Ei=mi.y+Kn.y,gi=k3(wi,Ei,Pt,Nn,Cr,bn,sr,Sr);fr[0]=wi,fr[1]=Ei,fr[2]=gi.base,fr[3]=1,xh(fr,fr,$n),fr[3]=Math.max(fr[3],1e-5);const Vi=new Cp(fr[0]/fr[3],fr[1]/fr[3],fr[2]/fr[3]);fr[0]=wi,fr[1]=Ei,fr[2]=gi.top,fr[3]=1,xh(fr,fr,$n),fr[3]=Math.max(fr[3],1e-5);const to=new Cp(fr[0]/fr[3],fr[1]/fr[3],fr[2]/fr[3]);Ir.push(Vi),kr.push(to)}Jr.push(Ir),Tr.push(kr)}return[Jr,Tr]}(je,ze,yt,pt,Mt,fn,bt,Zt,qt):function(_n,Pt,Nn,Kn,$n){const Cr=[],bn=[],sr=$n[8]*Pt,Sr=$n[9]*Pt,Jr=$n[10]*Pt,Tr=$n[11]*Pt,fr=$n[8]*Nn,Oi=$n[9]*Nn,Ir=$n[10]*Nn,kr=$n[11]*Nn;for(const mi of _n){const wi=[],Ei=[];for(const gi of mi){const Vi=gi.x+Kn.x,to=gi.y+Kn.y,vo=$n[0]*Vi+$n[4]*to+$n[12],yi=$n[1]*Vi+$n[5]*to+$n[13],Do=$n[2]*Vi+$n[6]*to+$n[14],_o=$n[3]*Vi+$n[7]*to+$n[15],Wi=vo+sr,ni=yi+Sr,xo=Do+Jr,Ci=Math.max(_o+Tr,1e-5),es=vo+fr,bo=yi+Oi,ua=Do+Ir,ea=Math.max(_o+kr,1e-5);wi.push(new Cp(Wi/Ci,ni/Ci,xo/Ci)),Ei.push(new Cp(es/ea,bo/ea,ua/ea))}Cr.push(wi),bn.push(Ei)}return[Cr,bn]}(je,ze,yt,pt,Mt)}(g,d,F,R,T,_,fe,V,X,g.center.lat,a.tileID.canonical),Ee=a.queryGeometry;return function(Me,je,ze){let yt=1/0;e3(ze,je)&&(yt=I3(ze,je[0]));for(let pt=0;pt<je.length;pt++){const Mt=je[pt],fn=Me[pt];for(let bt=0;bt<Mt.length-1;bt++){const Zt=Mt[bt],qt=[Zt,Mt[bt+1],fn[bt+1],fn[bt],Zt];QP(ze,qt)&&(yt=Math.min(yt,I3(ze,qt)))}}return yt!==1/0&&yt}(be,Oe,Ee.isPointQuery()?Ee.screenBounds:Ee.screenGeometry)}},line:class extends Mc{constructor(a){super(a,M3),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(a){if(a==="line-gradient"){const i=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=i._styleExpression&&i._styleExpression.expression instanceof Oo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(a,i){super.recalculate(a,i),this.paint._values["line-floorwidth"]=O3.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,a)}createBucket(a){return new Wv(a)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(a){return new lf(this,a)}queryRadius(a){const i=a,s=R3(bp("line-width",this,i),bp("line-gap-width",this,i)),d=bp("line-offset",this,i);return s/2+Math.abs(d)+Fv(this.paint.get("line-translate"))}queryIntersectsFeature(a,i,s,d,p,g){if(a.queryGeometry.isAboveHorizon)return!1;const _=i3(a.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),g.angle,a.pixelToTileUnitsFactor),b=a.pixelToTileUnitsFactor/2*R3(this.paint.get("line-width").evaluate(i,s),this.paint.get("line-gap-width").evaluate(i,s)),C=this.paint.get("line-offset").evaluate(i,s);return C&&(d=function(T,R){const F=[],V=new Le(0,0);for(let Z=0;Z<T.length;Z++){const X=T[Z],ee=[];for(let fe=0;fe<X.length;fe++){const be=X[fe],Oe=X[fe+1],Ee=fe===0?V:be.sub(X[fe-1])._unit()._perp(),Me=fe===X.length-1?V:Oe.sub(be)._unit()._perp(),je=Ee._add(Me)._unit();je._mult(1/(je.x*Me.x+je.y*Me.y)),ee.push(je._mult(R)._add(be))}F.push(ee)}return F}(d,C*a.pixelToTileUnitsFactor)),function(T,R,F){for(let V=0;V<R.length;V++){const Z=R[V];if(T.length>=3){for(let X=0;X<Z.length;X++)if(Ch(T,Z[X]))return!0}if(e8(T,Z,F))return!0}return!1}(_,d,b)}isTileClipped(){return!0}},symbol:a0,background:class extends Mc{constructor(a){super(a,VN)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends Mc{constructor(a){super(a,GN)}getProgramIds(){return["raster"]}},sky:class extends Mc{constructor(a){super(a,WN),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(a){a==="sky-gradient"?this._updateColorRamp():a!=="sky-atmosphere-sun"&&a!=="sky-atmosphere-halo-color"&&a!=="sky-atmosphere-color"&&a!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=eb({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(a){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const i=a.style.light.properties.get("position");return this._lightPosition.azimuthal!==i.azimuthal||this._lightPosition.polar!==i.polar}return!1}getCenter(a,i){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),p=!d,g=a.style.light,_=g.properties.get("position");return p&&g.properties.get("anchor")==="viewport"&&yn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),p?Cb(_.azimuthal,90-_.polar,i):Cb(d[0],90-d[1],i)}const s=this.paint.get("sky-gradient-center");return Cb(s[0],90-s[1],i)}is3D(){return!1}isSky(){return!0}markSkyboxValid(a){this._skyboxInvalidated=!1,this._lightPosition=a.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const a=this.paint.get("sky-type");return a==="atmosphere"?["skyboxCapture","skybox"]:a==="gradient"?["skyboxGradient"]:null}}};class Og{constructor(i,s,d,p){this.context=i,this.format=d,this.texture=i.gl.createTexture(),this.update(s,p)}update(i,s,d){const{width:p,height:g}=i,{context:_}=this,{gl:b}=_,{HTMLImageElement:C,HTMLCanvasElement:T,HTMLVideoElement:R,ImageData:F,ImageBitmap:V}=v;if(b.bindTexture(b.TEXTURE_2D,this.texture),_.pixelStoreUnpackFlipY.set(!1),_.pixelStoreUnpack.set(1),_.pixelStoreUnpackPremultiplyAlpha.set(this.format===b.RGBA&&(!s||s.premultiply!==!1)),d||this.size&&this.size[0]===p&&this.size[1]===g){const{x:Z,y:X}=d||{x:0,y:0};i instanceof C||i instanceof T||i instanceof R||i instanceof F||V&&i instanceof V?b.texSubImage2D(b.TEXTURE_2D,0,Z,X,b.RGBA,b.UNSIGNED_BYTE,i):b.texSubImage2D(b.TEXTURE_2D,0,Z,X,p,g,b.RGBA,b.UNSIGNED_BYTE,i.data)}else this.size=[p,g],i instanceof C||i instanceof T||i instanceof R||i instanceof F||V&&i instanceof V?b.texImage2D(b.TEXTURE_2D,0,this.format,this.format,b.UNSIGNED_BYTE,i):b.texImage2D(b.TEXTURE_2D,0,this.format,p,g,0,this.format,b.UNSIGNED_BYTE,i.data);this.useMipmap=!!(s&&s.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&b.generateMipmap(b.TEXTURE_2D)}bind(i,s){const{context:d}=this,{gl:p}=d;p.bindTexture(p.TEXTURE_2D,this.texture),i!==this.filter&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.useMipmap?i===p.NEAREST?p.NEAREST_MIPMAP_NEAREST:p.LINEAR_MIPMAP_NEAREST:i),this.filter=i),s!==this.wrap&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,s),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,s),this.wrap=s)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:i}=this.context;i.deleteTexture(this.texture),this.texture=null}}class qN{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class KN{constructor(){this.tasks={},this.taskQueue=[],Xe(["process"],this),this.invoker=new qN(this.process),this.nextId=0}add(i,s){const d=this.nextId++,p=function({type:g,isSymbolTile:_,zoom:b}){return b=b||0,g==="message"?0:g!=="maybePrepare"||_?g!=="parseTile"||_?g==="parseTile"&&_?300-b:g==="maybePrepare"&&_?400-b:500:200-b:100-b}(s);if(p===0){lt();try{i()}finally{}return{cancel:()=>{}}}return this.tasks[d]={fn:i,metadata:s,priority:p,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){lt();try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const i=this.pick();if(i===null)return;const s=this.tasks[i];if(delete this.tasks[i],this.taskQueue.length&&this.invoker.trigger(),!s)return;s.fn()}finally{}}pick(){let i=null,s=1/0;for(let p=0;p<this.taskQueue.length;p++){const g=this.tasks[this.taskQueue[p]];g.priority<s&&(s=g.priority,i=p)}if(i===null)return null;const d=this.taskQueue[i];return this.taskQueue.splice(i,1),d}remove(){this.invoker.remove()}}class yI{constructor(i){this._stringToNumber={},this._numberToString=[];for(let s=0;s<i.length;s++){const d=i[s];this._stringToNumber[d]=s,this._numberToString[s]=d}}encode(i){return this._stringToNumber[i]}decode(i){return this._numberToString[i]}}const XN=["tile","layer","source","sourceLayer","state"];class vI{constructor(i,s,d,p,g){this.type="Feature",this._vectorTileFeature=i,this._z=s,this._x=d,this._y=p,this.properties=i.properties,this.id=g}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(i.id=this.id);for(const s of XN)this[s]!==void 0&&(i[s]=this[s]);return i}}const rc=32,Nu=33,pf=new Uint16Array(8184);for(let a=0;a<2046;a++){let i=a+2,s=0,d=0,p=0,g=0,_=0,b=0;for(1&i?p=g=_=rc:s=d=b=rc;(i>>=1)>1;){const T=s+p>>1,R=d+g>>1;1&i?(p=s,g=d,s=_,d=b):(s=p,d=g,p=_,g=b),_=T,b=R}const C=4*a;pf[C+0]=s,pf[C+1]=d,pf[C+2]=p,pf[C+3]=g}const Bu=new Uint16Array(2178),mf=new Uint8Array(1089),s0=new Uint16Array(1089);function _I(a){return a===0?-.03125:a===32?.03125:0}var xI=Ke([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const bI={type:2,extent:ur,loadGeometry:()=>[[new Le(0,0),new Le(ur+1,0),new Le(ur+1,ur+1),new Le(0,ur+1),new Le(0,0)]]};class Sb{constructor(i,s,d,p,g){this.tileID=i,this.uid=qn(),this.uses=0,this.tileSize=s,this.tileZoom=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=g,this.expiredRequestCount=0,this.state="loading",p&&p.transform&&(this.projection=p.transform.projection)}registerFadeDuration(i){const s=i+this.timeAdded;s<Xn.now()||this.fadeEndTime&&s<this.fadeEndTime||(this.fadeEndTime=s)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Th(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(i,s,d){if(this.unloadVectorData(),this.state="loaded",i){i.featureIndex&&(this.latestFeatureIndex=i.featureIndex,i.rawTileData?(this.latestRawTileData=i.rawTileData,this.latestFeatureIndex.rawTileData=i.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=i.collisionBoxArray,this.buckets=function(p,g){const _={};if(!g)return _;for(const b of p){const C=b.layerIds.map(T=>g.getLayer(T)).filter(Boolean);if(C.length!==0){b.layers=C,b.stateDependentLayerIds&&(b.stateDependentLayers=b.stateDependentLayerIds.map(T=>C.filter(R=>R.id===T)[0]));for(const T of C)_[T.id]=b}}return _}(i.buckets,s.style),this.hasSymbolBuckets=!1;for(const p in this.buckets){const g=this.buckets[p];if(g instanceof hf){if(this.hasSymbolBuckets=!0,!d)break;g.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const p in this.buckets){const g=this.buckets[p];if(g instanceof hf&&g.hasRTLText){this.hasRTLText=!0,I.isLoading()||I.isLoaded()||w()!=="deferred"||P();break}}this.queryPadding=0;for(const p in this.buckets){const g=this.buckets[p];this.queryPadding=Math.max(this.queryPadding,s.style.getLayer(p).queryRadius(g))}i.imageAtlas&&(this.imageAtlas=i.imageAtlas),i.glyphAtlasImage&&(this.glyphAtlasImage=i.glyphAtlasImage),i.lineAtlas&&(this.lineAtlas=i.lineAtlas)}else this.collisionBoxArray=new ai}unloadVectorData(){if(this.hasData()){for(const i in this.buckets)this.buckets[i].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(i){return this.buckets[i.id]}upload(i){for(const d in this.buckets){const p=this.buckets[d];p.uploadPending()&&p.upload(i)}const s=i.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Og(i,this.imageAtlas.image,s.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Og(i,this.glyphAtlasImage,s.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Og(i,this.lineAtlas.image,s.ALPHA),this.lineAtlas.uploaded=!0)}prepare(i){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(i,this.imageAtlasTexture)}queryRenderedFeatures(i,s,d,p,g,_,b,C){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:p,pixelPosMatrix:b,transform:_,params:g,tileTransform:this.tileTransform},i,s,d):{}}querySourceFeatures(i,s){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const p=d.loadVTLayers(),g=s?s.sourceLayer:"",_=p._geojsonTileLayer||p[g];if(!_)return;const b=Jd(s&&s.filter),{z:C,x:T,y:R}=this.tileID.canonical,F={z:C,x:T,y:R};for(let V=0;V<_.length;V++){const Z=_.feature(V);if(b.needGeometry){const fe=Eh(Z,!0);if(!b.filter(new D(this.tileID.overscaledZ),fe,this.tileID.canonical))continue}else if(!b.filter(new D(this.tileID.overscaledZ),Z))continue;const X=d.getId(Z,g),ee=new vI(Z,C,T,R,X);ee.tile=F,i.push(ee)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(i){const s=this.expirationTime;if(i.cacheControl){const d=kt(i.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else i.expires&&(this.expirationTime=new Date(i.expires).getTime());if(this.expirationTime){const d=Date.now();let p=!1;if(this.expirationTime>d)p=!1;else if(s)if(this.expirationTime<s)p=!0;else{const g=this.expirationTime-s;g?this.expirationTime=d+Math.max(g,3e4):p=!0}else p=!0;p?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(i,s){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(i).length===0||!s)return;const d=this.latestFeatureIndex.loadVTLayers(),p=s.style.listImages();for(const g in this.buckets){if(!s.style.hasLayer(g))continue;const _=this.buckets[g],b=_.layers[0].sourceLayer||"_geojsonTileLayer",C=d[b],T=i[b];if(!C||!T||Object.keys(T).length===0)continue;if(_.update(T,C,p,this.imageAtlas&&this.imageAtlas.patternPositions||{}),_ instanceof Wv||_ instanceof jv){const F=s.style._getSourceCache(_.layers[0].source);s._terrain&&s._terrain.enabled&&F&&_.programConfigurations.needsUpload&&s._terrain._clearRenderCacheForTile(F.id,this.tileID)}const R=s&&s.style&&s.style.getLayer(g);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Xn.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(i){this.symbolFadeHoldUntil=Xn.now()+i}setTexture(i,s){const d=s.context,p=d.gl;this.texture=this.texture||s.getTileTexture(i.width),this.texture?this.texture.update(i,{useMipmap:!0}):(this.texture=new Og(d,i,p.RGBA,{useMipmap:!0}),this.texture.bind(p.LINEAR,p.CLAMP_TO_EDGE))}setDependencies(i,s){const d={};for(const p of s)d[p]=!0;this.dependencies[i]=d}hasDependency(i,s){for(const d of i){const p=this.dependencies[d];if(p){for(const g of s)if(p[g])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(i,s){if(!s||s.name==="mercator"||this._tileDebugBuffer)return;const d=wd(bI,this.tileID.canonical,this.tileTransform)[0],p=new Ot,g=new Da;for(let _=0;_<d.length;_++){const{x:b,y:C}=d[_];p.emplaceBack(b,C),g.emplaceBack(_)}g.emplaceBack(0),this._tileDebugIndexBuffer=i.createIndexBuffer(g),this._tileDebugBuffer=i.createVertexBuffer(p,ug.members),this._tileDebugSegments=go.simpleSegment(0,0,p.length,g.length)}_makeTileBoundsBuffers(i,s){if(this._tileBoundsBuffer||!s||s.name==="mercator")return;const d=wd(bI,this.tileID.canonical,this.tileTransform)[0];let p,g;if(this.isRaster){const _=function(b,C){const T=Th(b,C),R=Math.pow(2,b.z);for(let fe=0;fe<Nu;fe++)for(let be=0;be<Nu;be++){const Oe=El((b.x+(be+_I(be))/rc)/R),Ee=xa((b.y+(fe+_I(fe))/rc)/R),Me=C.project(Oe,Ee),je=fe*Nu+be;Bu[2*je+0]=Math.round((Me.x*T.scale-T.x)*ur),Bu[2*je+1]=Math.round((Me.y*T.scale-T.y)*ur)}mf.fill(0),s0.fill(0);for(let fe=2045;fe>=0;fe--){const be=4*fe,Oe=pf[be+0],Ee=pf[be+1],Me=pf[be+2],je=pf[be+3],ze=Oe+Me>>1,yt=Ee+je>>1,pt=ze+yt-Ee,Mt=yt+Oe-ze,fn=Ee*Nu+Oe,bt=je*Nu+Me,Zt=yt*Nu+ze,qt=Math.hypot((Bu[2*fn+0]+Bu[2*bt+0])/2-Bu[2*Zt+0],(Bu[2*fn+1]+Bu[2*bt+1])/2-Bu[2*Zt+1])>=16;mf[Zt]=mf[Zt]||(qt?1:0),fe<1022&&(mf[Zt]=mf[Zt]||mf[(Ee+Mt>>1)*Nu+(Oe+pt>>1)]||mf[(je+Mt>>1)*Nu+(Me+pt>>1)])}const F=new St,V=new Qn;let Z=0;function X(fe,be){const Oe=be*Nu+fe;return s0[Oe]===0&&(F.emplaceBack(Bu[2*Oe+0],Bu[2*Oe+1],fe*ur/rc,be*ur/rc),s0[Oe]=++Z),s0[Oe]-1}function ee(fe,be,Oe,Ee,Me,je){const ze=fe+Oe>>1,yt=be+Ee>>1;if(Math.abs(fe-Me)+Math.abs(be-je)>1&&mf[yt*Nu+ze])ee(Me,je,fe,be,ze,yt),ee(Oe,Ee,Me,je,ze,yt);else{const pt=X(fe,be),Mt=X(Oe,Ee),fn=X(Me,je);V.emplaceBack(pt,Mt,fn)}}return ee(0,0,rc,rc,rc,0),ee(rc,rc,0,0,0,rc),{vertices:F,indices:V}}(this.tileID.canonical,s);p=_.vertices,g=_.indices}else{p=new St,g=new Qn;for(const{x:b,y:C}of d)p.emplaceBack(b,C,0,0);const _=ob(p.int16,void 0,4);for(let b=0;b<_.length;b+=3)g.emplaceBack(_[b],_[b+1],_[b+2])}this._tileBoundsBuffer=i.createVertexBuffer(p,xI.members),this._tileBoundsIndexBuffer=i.createIndexBuffer(g),this._tileBoundsSegments=go.simpleSegment(0,0,p.length,g.length)}_makeGlobeTileDebugBuffers(i,s){const d=s.projection;if(!d||d.name!=="globe"||s.freezeTileCoverage)return;const p=this.tileID.canonical,g=hg(UP(p,s)),_=_p(s.zoom);let b;_>0&&(b=Rx(new Float64Array(16),s.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(i,p,s,g,b,_),this._makeGlobeTileDebugTextBuffer(i,p,s,g,b,_)}_globePoint(i,s,d,p,g,_,b){let C=fg(i,s,d);if(_){const T=1<<d.z,R=Lu(p.center.lng),F=Fu(p.center.lat),V=(d.x+.5)/T-R;let Z=0;V>.5?Z=-1:V<-.5&&(Z=1);let X=(i/ur+d.x)/T+Z,ee=(s/ur+d.y)/T;X=(X-R)*p._pixelsPerMercatorPixel+R,ee=(ee-F)*p._pixelsPerMercatorPixel+F;const fe=[X*p.worldSize,ee*p.worldSize,0];ao(fe,fe,_),C=wh(C,fe,b)}return ao(C,C,g)}_makeGlobeTileDebugBorderBuffer(i,s,d,p,g,_){const b=new Ot,C=new Da,T=new it,R=(V,Z,X,ee,fe)=>{const be=(X-V)/(fe-1),Oe=(ee-Z)/(fe-1),Ee=b.length;for(let Me=0;Me<fe;Me++){const je=V+Me*be,ze=Z+Me*Oe;b.emplaceBack(je,ze);const yt=this._globePoint(je,ze,s,d,p,g,_);T.emplaceBack(yt[0],yt[1],yt[2]),C.emplaceBack(Ee+Me)}},F=ur;R(0,0,F,0,16),R(F,0,F,F,16),R(F,F,0,F,16),R(0,F,0,0,16),this._tileDebugIndexBuffer=i.createIndexBuffer(C),this._tileDebugBuffer=i.createVertexBuffer(b,ug.members),this._globeTileDebugBorderBuffer=i.createVertexBuffer(T,zP.members),this._tileDebugSegments=go.simpleSegment(0,0,b.length,C.length)}_makeGlobeTileDebugTextBuffer(i,s,d,p,g,_){const b=ur/4,C=new Ot,T=new Qn,R=new it,F=25;T.reserve(32),C.reserve(F),R.reserve(F);const V=(Z,X)=>F*Z+X;for(let Z=0;Z<F;Z++){const X=Z*b;for(let ee=0;ee<F;ee++){const fe=ee*b;C.emplaceBack(fe,X);const be=this._globePoint(fe,X,s,d,p,g,_);R.emplaceBack(be[0],be[1],be[2])}}for(let Z=0;Z<4;Z++)for(let X=0;X<4;X++){const ee=V(Z,X),fe=V(Z,X+1),be=V(Z+1,X),Oe=V(Z+1,X+1);T.emplaceBack(ee,fe,be),T.emplaceBack(be,fe,Oe)}this._tileDebugTextIndexBuffer=i.createIndexBuffer(T),this._tileDebugTextBuffer=i.createVertexBuffer(C,ug.members),this._globeTileDebugTextBuffer=i.createVertexBuffer(R,zP.members),this._tileDebugTextSegments=go.simpleSegment(0,0,F,32)}}class YN{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(i,s,d){const p=String(s);if(this.stateChanges[i]=this.stateChanges[i]||{},this.stateChanges[i][p]=this.stateChanges[i][p]||{},pn(this.stateChanges[i][p],d),this.deletedStates[i]===null){this.deletedStates[i]={};for(const g in this.state[i])g!==p&&(this.deletedStates[i][g]=null)}else if(this.deletedStates[i]&&this.deletedStates[i][p]===null){this.deletedStates[i][p]={};for(const g in this.state[i][p])d[g]||(this.deletedStates[i][p][g]=null)}else for(const g in d)this.deletedStates[i]&&this.deletedStates[i][p]&&this.deletedStates[i][p][g]===null&&delete this.deletedStates[i][p][g]}removeFeatureState(i,s,d){if(this.deletedStates[i]===null)return;const p=String(s);if(this.deletedStates[i]=this.deletedStates[i]||{},d&&s!==void 0)this.deletedStates[i][p]!==null&&(this.deletedStates[i][p]=this.deletedStates[i][p]||{},this.deletedStates[i][p][d]=null);else if(s!==void 0)if(this.stateChanges[i]&&this.stateChanges[i][p])for(d in this.deletedStates[i][p]={},this.stateChanges[i][p])this.deletedStates[i][p][d]=null;else this.deletedStates[i][p]=null;else this.deletedStates[i]=null}getState(i,s){const d=String(s),p=pn({},(this.state[i]||{})[d],(this.stateChanges[i]||{})[d]);if(this.deletedStates[i]===null)return{};if(this.deletedStates[i]){const g=this.deletedStates[i][s];if(g===null)return{};for(const _ in g)delete p[_]}return p}initializeTileState(i,s){i.setFeatureState(this.state,s)}coalesceChanges(i,s){const d={};for(const p in this.stateChanges){this.state[p]=this.state[p]||{};const g={};for(const _ in this.stateChanges[p])this.state[p][_]||(this.state[p][_]={}),pn(this.state[p][_],this.stateChanges[p][_]),g[_]=this.state[p][_];d[p]=g}for(const p in this.deletedStates){this.state[p]=this.state[p]||{};const g={};if(this.deletedStates[p]===null)for(const _ in this.state[p])g[_]={},this.state[p][_]={};else for(const _ in this.deletedStates[p]){if(this.deletedStates[p][_]===null)this.state[p][_]={};else if(this.state[p][_])for(const b of Object.keys(this.deletedStates[p][_]))delete this.state[p][_][b];g[_]=this.state[p][_]}d[p]=d[p]||{},pn(d[p],g)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const p in i)i[p].setFeatureState(d,s)}}class wI{constructor(i){this.size=i,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(i,s){const d=this.toIdx(i,s);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(i,s){return this.leaves[this.toIdx(i,s)]}toIdx(i,s){return s*this.size+i}}function EI(a,i,s,d){let p=0,g=Number.MAX_VALUE;for(let _=0;_<3;_++)if(Math.abs(d[_])<1e-15){if(s[_]<a[_]||s[_]>i[_])return null}else{const b=1/d[_];let C=(a[_]-s[_])*b,T=(i[_]-s[_])*b;if(C>T){const R=C;C=T,T=R}if(C>p&&(p=C),T<g&&(g=T),p>g)return null}return p}function CI(a,i,s,d,p,g,_,b,C,T,R){const F=d-a,V=p-i,Z=g-s,X=_-a,ee=b-i,fe=C-s,be=R[1]*fe-R[2]*ee,Oe=R[2]*X-R[0]*fe,Ee=R[0]*ee-R[1]*X,Me=F*be+V*Oe+Z*Ee;if(Math.abs(Me)<1e-15)return null;const je=1/Me,ze=T[0]-a,yt=T[1]-i,pt=T[2]-s,Mt=(ze*be+yt*Oe+pt*Ee)*je;if(Mt<0||Mt>1)return null;const fn=yt*Z-pt*V,bt=pt*F-ze*Z,Zt=ze*V-yt*F,qt=(R[0]*fn+R[1]*bt+R[2]*Zt)*je;return qt<0||Mt+qt>1?null:(X*fn+ee*bt+fe*Zt)*je}function SI(a,i,s){return(a-i)/(s-i)}function TI(a,i,s,d,p,g,_,b,C){const T=1<<s,R=g-d,F=_-p,V=(a+1)/T*R+d,Z=(i+0)/T*F+p,X=(i+1)/T*F+p;b[0]=(a+0)/T*R+d,b[1]=Z,C[0]=V,C[1]=X}class AI{constructor(i){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=i,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const s=function(g){const _=Math.ceil(Math.log2(g.dim/8)),b=[];let C=Math.ceil(Math.pow(2,_));const T=1/C,R=(Z,X,ee,fe,be)=>{const Oe=fe?1:0,Ee=(Z+1)*ee-Oe,Me=X*ee,je=(X+1)*ee-Oe;be[0]=Z*ee,be[1]=Me,be[2]=Ee,be[3]=je};let F=new wI(C);const V=[];for(let Z=0;Z<C*C;Z++){R(Z%C,Math.floor(Z/C),T,!1,V);const X=gf(V[0],V[1],g),ee=gf(V[2],V[1],g),fe=gf(V[2],V[3],g),be=gf(V[0],V[3],g);F.minimums.push(Math.min(X,ee,fe,be)),F.maximums.push(Math.max(X,ee,fe,be)),F.leaves.push(1)}for(b.push(F),C/=2;C>=1;C/=2){const Z=b[b.length-1];F=new wI(C);for(let X=0;X<C*C;X++){R(X%C,Math.floor(X/C),2,!0,V);const ee=Z.getElevation(V[0],V[1]),fe=Z.getElevation(V[2],V[1]),be=Z.getElevation(V[2],V[3]),Oe=Z.getElevation(V[0],V[3]),Ee=Z.isLeaf(V[0],V[1]),Me=Z.isLeaf(V[2],V[1]),je=Z.isLeaf(V[2],V[3]),ze=Z.isLeaf(V[0],V[3]),yt=Math.min(ee.min,fe.min,be.min,Oe.min),pt=Math.max(ee.max,fe.max,be.max,Oe.max),Mt=Ee&&Me&&je&&ze;F.maximums.push(pt),F.minimums.push(yt),F.leaves.push(pt-yt<=5&&Mt?1:0)}b.push(F)}return b}(this.dem),d=s.length-1,p=s[d];this._addNode(p.minimums[0],p.maximums[0],p.leaves[0]),this._construct(s,0,0,d,0)}raycastRoot(i,s,d,p,g,_,b=1){return EI([i,s,-100],[d,p,this.maximums[0]*b],g,_)}raycast(i,s,d,p,g,_,b=1){if(!this.nodeCount)return null;const C=this.raycastRoot(i,s,d,p,g,_,b);if(C==null)return null;const T=[],R=[],F=[],V=[],Z=[{idx:0,t:C,nodex:0,nodey:0,depth:0}];for(;Z.length>0;){const{idx:X,t:ee,nodex:fe,nodey:be,depth:Oe}=Z.pop();if(this.leaves[X]){TI(fe,be,Oe,i,s,d,p,F,V);const Me=1<<Oe,je=(fe+0)/Me,ze=(fe+1)/Me,yt=(be+0)/Me,pt=(be+1)/Me,Mt=gf(je,yt,this.dem)*b,fn=gf(ze,yt,this.dem)*b,bt=gf(ze,pt,this.dem)*b,Zt=gf(je,pt,this.dem)*b,qt=CI(F[0],F[1],Mt,V[0],F[1],fn,V[0],V[1],bt,g,_),rn=CI(V[0],V[1],bt,F[0],V[1],Zt,F[0],F[1],Mt,g,_),_n=Math.min(qt!==null?qt:Number.MAX_VALUE,rn!==null?rn:Number.MAX_VALUE);if(_n!==Number.MAX_VALUE)return _n;{const Pt=lg([],g,_,ee);if(PI(Mt,fn,Zt,bt,SI(Pt[0],F[0],V[0]),SI(Pt[1],F[1],V[1]))>=Pt[2])return ee}continue}let Ee=0;for(let Me=0;Me<this._siblingOffset.length;Me++){TI((fe<<1)+this._siblingOffset[Me][0],(be<<1)+this._siblingOffset[Me][1],Oe+1,i,s,d,p,F,V),F[2]=-100,V[2]=this.maximums[this.childOffsets[X]+Me]*b;const je=EI(F,V,g,_);if(je!=null){const ze=je;T[Me]=ze;let yt=!1;for(let pt=0;pt<Ee&&!yt;pt++)ze>=T[R[pt]]&&(R.splice(pt,0,Me),yt=!0);yt||(R[Ee]=Me),Ee++}}for(let Me=0;Me<Ee;Me++){const je=R[Me];Z.push({idx:this.childOffsets[X]+je,t:T[je],nodex:(fe<<1)+this._siblingOffset[je][0],nodey:(be<<1)+this._siblingOffset[je][1],depth:Oe+1})}}return null}_addNode(i,s,d){return this.minimums.push(i),this.maximums.push(s),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(i,s,d,p,g){if(i[p].isLeaf(s,d)===1)return;this.childOffsets[g]||(this.childOffsets[g]=this.nodeCount);const _=p-1,b=i[_];let C=0,T=0;for(let R=0;R<this._siblingOffset.length;R++){const F=2*s+this._siblingOffset[R][0],V=2*d+this._siblingOffset[R][1],Z=b.getElevation(F,V),X=b.isLeaf(F,V),ee=this._addNode(Z.min,Z.max,X);X&&(C|=1<<R),T||(T=ee)}for(let R=0;R<this._siblingOffset.length;R++)C&1<<R||this._construct(i,2*s+this._siblingOffset[R][0],2*d+this._siblingOffset[R][1],_,T+R)}}function PI(a,i,s,d,p,g){return jr(jr(a,s,g),jr(i,d,g),p)}function gf(a,i,s){const d=s.dim,p=Ve(a*d-.5,0,d-1),g=Ve(i*d-.5,0,d-1),_=Math.floor(p),b=Math.floor(g),C=Math.min(_+1,d-1),T=Math.min(b+1,d-1);return PI(s.get(_,b),s.get(C,b),s.get(_,T),s.get(C,T),p-_,g-b)}const II={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function JN(a,i,s){return(256*a*256+256*i+s)/10-1e4}function QN(a,i,s){return 256*a+i+s/256-32768}class l0{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(i,s,d,p=!1,g=!1){if(this.uid=i,s.height!==s.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return yn(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=s.height;const _=this.dim=s.height-2,b=new Uint32Array(s.data.buffer);if(this.pixels=new Uint8Array(s.data.buffer),this.encoding=d||"mapbox",this.borderReady=p,!p){for(let C=0;C<_;C++)b[this._idx(-1,C)]=b[this._idx(0,C)],b[this._idx(_,C)]=b[this._idx(_-1,C)],b[this._idx(C,-1)]=b[this._idx(C,0)],b[this._idx(C,_)]=b[this._idx(C,_-1)];b[this._idx(-1,-1)]=b[this._idx(0,0)],b[this._idx(_,-1)]=b[this._idx(_-1,0)],b[this._idx(-1,_)]=b[this._idx(0,_-1)],b[this._idx(_,_)]=b[this._idx(_-1,_-1)],g&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new AI(this)}get(i,s,d=!1){d&&(i=Ve(i,-1,this.dim),s=Ve(s,-1,this.dim));const p=4*this._idx(i,s);return(this.encoding==="terrarium"?QN:JN)(this.pixels[p],this.pixels[p+1],this.pixels[p+2])}static getUnpackVector(i){return II[i]}get unpackVector(){return II[this.encoding]}_idx(i,s){if(i<-1||i>=this.dim+1||s<-1||s>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(s+1)*this.stride+(i+1)}static pack(i,s){const d=[0,0,0,0],p=l0.getUnpackVector(s);let g=Math.floor((i+p[3])/p[2]);return d[2]=g%256,g=Math.floor(g/256),d[1]=g%256,g=Math.floor(g/256),d[0]=g,d}getPixels(){return new Gs({width:this.stride,height:this.stride},this.pixels)}backfillBorder(i,s,d){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let p=s*this.dim,g=s*this.dim+this.dim,_=d*this.dim,b=d*this.dim+this.dim;switch(s){case-1:p=g-1;break;case 1:g=p+1}switch(d){case-1:_=b-1;break;case 1:b=_+1}const C=-s*this.dim,T=-d*this.dim;for(let R=_;R<b;R++)for(let F=p;F<g;F++){const V=4*this._idx(F,R),Z=4*this._idx(F+C,R+T);this.pixels[V+0]=i.pixels[Z+0],this.pixels[V+1]=i.pixels[Z+1],this.pixels[V+2]=i.pixels[Z+2],this.pixels[V+3]=i.pixels[Z+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Wn(l0,"DEMData"),Wn(AI,"DemMinMaxQuadTree",{omit:["dem"]});class eB{constructor(i,s){this.max=i,this.onRemove=s,this.reset()}reset(){for(const i in this.data)for(const s of this.data[i])s.timeout&&clearTimeout(s.timeout),this.onRemove(s.value);return this.data={},this.order=[],this}add(i,s,d){const p=i.wrapped().key;this.data[p]===void 0&&(this.data[p]=[]);const g={value:s,timeout:void 0};if(d!==void 0&&(g.timeout=setTimeout(()=>{this.remove(i,g)},d)),this.data[p].push(g),this.order.push(p),this.order.length>this.max){const _=this._getAndRemoveByKey(this.order[0]);_&&this.onRemove(_)}return this}has(i){return i.wrapped().key in this.data}getAndRemove(i){return this.has(i)?this._getAndRemoveByKey(i.wrapped().key):null}_getAndRemoveByKey(i){const s=this.data[i].shift();return s.timeout&&clearTimeout(s.timeout),this.data[i].length===0&&delete this.data[i],this.order.splice(this.order.indexOf(i),1),s.value}getByKey(i){const s=this.data[i];return s?s[0].value:null}get(i){return this.has(i)?this.data[i.wrapped().key][0].value:null}remove(i,s){if(!this.has(i))return this;const d=i.wrapped().key,p=s===void 0?0:this.data[d].indexOf(s),g=this.data[d][p];return this.data[d].splice(p,1),g.timeout&&clearTimeout(g.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(g.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(i){for(this.max=i;this.order.length>this.max;){const s=this._getAndRemoveByKey(this.order[0]);s&&this.onRemove(s)}return this}filter(i){const s=[];for(const d in this.data)for(const p of this.data[d])i(p.value)||s.push(p);for(const d of s)this.remove(d.value.tileID,d)}}class Dp{constructor(i,s,d){this.func=i,this.mask=s,this.range=d}}Dp.ReadOnly=!1,Dp.ReadWrite=!0,Dp.disabled=new Dp(519,Dp.ReadOnly,[0,1]);const Tb=7680;class Ab{constructor(i,s,d,p,g,_){this.test=i,this.ref=s,this.mask=d,this.fail=p,this.depthFail=g,this.pass=_}}Ab.disabled=new Ab({func:519,mask:0},0,0,Tb,Tb,Tb);class zu{constructor(i,s,d){this.blendFunction=i,this.blendColor=s,this.mask=d}}zu.Replace=[1,0],zu.disabled=new zu(zu.Replace,_i.transparent,[!1,!1,!1,!1]),zu.unblended=new zu(zu.Replace,_i.transparent,[!0,!0,!0,!0]),zu.alphaBlended=new zu([1,771],_i.transparent,[!0,!0,!0,!0]);const Pb=1029,Ib=2305;class Nc{constructor(i,s,d){this.enable=i,this.mode=s,this.frontFace=d}}Nc.disabled=new Nc(!1,Pb,Ib),Nc.backCCW=new Nc(!0,Pb,Ib),Nc.backCW=new Nc(!0,Pb,2304),Nc.frontCW=new Nc(!0,1028,2304),Nc.frontCCW=new Nc(!0,1028,Ib);class Ah extends Br{constructor(i,s,d){super(),this.id=i,this._onlySymbols=d,s.on("data",p=>{p.dataType==="source"&&p.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&p.dataType==="source"&&p.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),s.on("error",()=>{this._sourceErrored=!0}),this._source=s,this._tiles={},this._cache=new eB(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=s.minTileCacheSize,this._maxTileCacheSize=s.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new YN,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(i){this.map=i,this._minTileCacheSize=this._minTileCacheSize===void 0&&i?i._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&i?i._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const i in this._tiles){const s=this._tiles[i];if(s.state!=="loaded"&&s.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const i=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,i&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(i,s){return i.isSymbolTile=this._onlySymbols,this._source.loadTile(i,s)}_unloadTile(i){if(this._source.unloadTile)return this._source.unloadTile(i,()=>{})}_abortTile(i){if(this._source.abortTile)return this._source.abortTile(i,()=>{})}serialize(){return this._source.serialize()}prepare(i){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const s in this._tiles){const d=this._tiles[s];d.upload(i),d.prepare(this.map.style.imageManager)}}getIds(){return ln(this._tiles).map(i=>i.tileID).sort(kI).map(i=>i.key)}getRenderableIds(i){const s=[];for(const d in this._tiles)this._isIdRenderable(+d,i)&&s.push(this._tiles[d]);return i?s.sort((d,p)=>{const g=d.tileID,_=p.tileID,b=new Le(g.canonical.x,g.canonical.y)._rotate(this.transform.angle),C=new Le(_.canonical.x,_.canonical.y)._rotate(this.transform.angle);return g.overscaledZ-_.overscaledZ||C.y-b.y||C.x-b.x}).map(d=>d.tileID.key):s.map(d=>d.tileID).sort(kI).map(d=>d.key)}hasRenderableParent(i){const s=this.findLoadedParent(i,0);return!!s&&this._isIdRenderable(s.tileID.key)}_isIdRenderable(i,s){return this._tiles[i]&&this._tiles[i].hasData()&&!this._coveredTiles[i]&&(s||!this._tiles[i].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)this._tiles[i].state!=="errored"&&this._reloadTile(+i,"reloading")}}_reloadTile(i,s){const d=this._tiles[i];d&&(d.state!=="loading"&&(d.state=s),this._loadTile(d,this._tileLoaded.bind(this,d,i,s)))}_tileLoaded(i,s,d,p){if(p)if(i.state="errored",p.status!==404)this._source.fire(new xr(p,{tile:i}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const g=this.map.painter.terrain;this.update(this.transform,g.getScaledDemTileSize(),!0),g.resetTileLookupCache(this.id)}else this.update(this.transform);else i.timeAdded=Xn.now(),d==="expired"&&(i.refreshedUponExpiration=!0),this._setTileReloadTimer(s,i),this._source.type==="raster-dem"&&i.dem&&this._backfillDEM(i),this._state.initializeTileState(i,this.map?this.map.painter:null),this._source.fire(new Ur("data",{dataType:"source",tile:i,coord:i.tileID,sourceCacheId:this.id}))}_backfillDEM(i){const s=this.getRenderableIds();for(let p=0;p<s.length;p++){const g=s[p];if(i.neighboringTiles&&i.neighboringTiles[g]){const _=this.getTileByID(g);d(i,_),d(_,i)}}function d(p,g){if(!p.dem||p.dem.borderReady)return;p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0;let _=g.tileID.canonical.x-p.tileID.canonical.x;const b=g.tileID.canonical.y-p.tileID.canonical.y,C=Math.pow(2,p.tileID.canonical.z),T=g.tileID.key;_===0&&b===0||Math.abs(b)>1||(Math.abs(_)>1&&(Math.abs(_+C)===1?_+=C:Math.abs(_-C)===1&&(_-=C)),g.dem&&p.dem&&(p.dem.backfillBorder(g.dem,_,b),p.neighboringTiles&&p.neighboringTiles[T]&&(p.neighboringTiles[T].backfilled=!0)))}}getTile(i){return this.getTileByID(i.key)}getTileByID(i){return this._tiles[i]}_retainLoadedChildren(i,s,d,p){for(const g in this._tiles){let _=this._tiles[g];if(p[g]||!_.hasData()||_.tileID.overscaledZ<=s||_.tileID.overscaledZ>d)continue;let b=_.tileID;for(;_&&_.tileID.overscaledZ>s+1;){const T=_.tileID.scaledTo(_.tileID.overscaledZ-1);_=this._tiles[T.key],_&&_.hasData()&&(b=T)}let C=b;for(;C.overscaledZ>s;)if(C=C.scaledTo(C.overscaledZ-1),i[C.key]){p[b.key]=b;break}}}findLoadedParent(i,s){if(i.key in this._loadedParentTiles){const d=this._loadedParentTiles[i.key];return d&&d.tileID.overscaledZ>=s?d:null}for(let d=i.overscaledZ-1;d>=s;d--){const p=i.scaledTo(d),g=this._getLoadedTile(p);if(g)return g}}_getLoadedTile(i){const s=this._tiles[i.key];return s&&s.hasData()?s:this._cache.getByKey(this._source.reparseOverscaled?i.wrapped().key:i.canonical.key)}updateCacheSize(i,s){s=s||this._source.tileSize;const d=Math.ceil(i.width/s)+1,p=Math.ceil(i.height/s)+1,g=Math.floor(d*p*5),_=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,g):g,b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,_):_;this._cache.setMaxSize(b)}handleWrapJump(i){const s=Math.round((i-(this._prevLng===void 0?i:this._prevLng))/360);if(this._prevLng=i,s){const d={};for(const p in this._tiles){const g=this._tiles[p];g.tileID=g.tileID.unwrapTo(g.tileID.wrap+s),d[g.tileID.key]=g}this._tiles=d;for(const p in this._timers)clearTimeout(this._timers[p]),delete this._timers[p];for(const p in this._tiles)this._setTileReloadTimer(+p,this._tiles[p])}}update(i,s,d){if(this.transform=i,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!d)return;let p;this.updateCacheSize(i,s),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=i.getVisibleUnwrappedCoordinates(this._source.tileID).map(b=>new Qa(b.canonical.z,b.wrap,b.canonical.z,b.canonical.x,b.canonical.y)):(p=i.coveringTiles({tileSize:s||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!d,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(p=p.filter(b=>this._source.hasTile(b)))):p=[];const g=this._updateRetainedTiles(p);if(MI(this._source.type)&&p.length!==0){const b={},C={},T=Object.keys(g);for(const F of T){const V=g[F],Z=this._tiles[F];if(!Z||Z.fadeEndTime&&Z.fadeEndTime<=Xn.now())continue;const X=this.findLoadedParent(V,Math.max(V.overscaledZ-Ah.maxOverzooming,this._source.minzoom));X&&(this._addTile(X.tileID),b[X.tileID.key]=X.tileID),C[F]=V}const R=p[p.length-1].overscaledZ;for(const F in this._tiles){const V=this._tiles[F];if(g[F]||!V.hasData())continue;let Z=V.tileID;for(;Z.overscaledZ>R;){Z=Z.scaledTo(Z.overscaledZ-1);const X=this._tiles[Z.key];if(X&&X.hasData()&&C[Z.key]){g[F]=V.tileID;break}}}for(const F in b)g[F]||(this._coveredTiles[F]=!0,g[F]=b[F])}for(const b in g)this._tiles[b].clearFadeHold();const _=function(b,C){const T=[];for(const R in b)R in C||T.push(R);return T}(this._tiles,g);for(const b of _){const C=this._tiles[b];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(+b)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const i in this._tiles)this._tiles[i].holdingForFade()&&this._removeTile(+i)}_updateRetainedTiles(i){const s={};if(i.length===0)return s;const d={},p=i.reduce((T,R)=>Math.min(T,R.overscaledZ),1/0),g=i[0].overscaledZ,_=Math.max(g-Ah.maxOverzooming,this._source.minzoom),b=Math.max(g+Ah.maxUnderzooming,this._source.minzoom),C={};for(const T of i){const R=this._addTile(T);s[T.key]=T,R.hasData()||p<this._source.maxzoom&&(C[T.key]=T)}this._retainLoadedChildren(C,p,b,s);for(const T of i){let R=this._tiles[T.key];if(R.hasData())continue;if(T.canonical.z>=this._source.maxzoom){const V=T.children(this._source.maxzoom)[0],Z=this.getTile(V);if(Z&&Z.hasData()){s[V.key]=V;continue}}else{const V=T.children(this._source.maxzoom);if(s[V[0].key]&&s[V[1].key]&&s[V[2].key]&&s[V[3].key])continue}let F=R.wasRequested();for(let V=T.overscaledZ-1;V>=_;--V){const Z=T.scaledTo(V);if(d[Z.key]||(d[Z.key]=!0,R=this.getTile(Z),!R&&F&&(R=this._addTile(Z)),R&&(s[Z.key]=Z,F=R.wasRequested(),R.hasData())))break}}return s}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const i in this._tiles){const s=[];let d,p=this._tiles[i].tileID;for(;p.overscaledZ>0;){if(p.key in this._loadedParentTiles){d=this._loadedParentTiles[p.key];break}s.push(p.key);const g=p.scaledTo(p.overscaledZ-1);if(d=this._getLoadedTile(g),d)break;p=g}for(const g of s)this._loadedParentTiles[g]=d}}_addTile(i){let s=this._tiles[i.key];if(s)return s;s=this._cache.getAndRemove(i),s&&(this._setTileReloadTimer(i.key,s),s.tileID=i,this._state.initializeTileState(s,this.map?this.map.painter:null),this._cacheTimers[i.key]&&(clearTimeout(this._cacheTimers[i.key]),delete this._cacheTimers[i.key],this._setTileReloadTimer(i.key,s)));const d=!!s;if(!d){const p=this.map?this.map.painter:null;s=new Sb(i,this._source.tileSize*i.overscaleFactor(),this.transform.tileZoom,p,this._isRaster),this._loadTile(s,this._tileLoaded.bind(this,s,i.key,s.state))}return s?(s.uses++,this._tiles[i.key]=s,d||this._source.fire(new Ur("dataloading",{tile:s,coord:s.tileID,dataType:"source"})),s):null}_setTileReloadTimer(i,s){i in this._timers&&(clearTimeout(this._timers[i]),delete this._timers[i]);const d=s.getExpiryTimeout();d&&(this._timers[i]=setTimeout(()=>{this._reloadTile(i,"expired"),delete this._timers[i]},d))}_removeTile(i){const s=this._tiles[i];s&&(s.uses--,delete this._tiles[i],this._timers[i]&&(clearTimeout(this._timers[i]),delete this._timers[i]),s.uses>0||(s.hasData()&&s.state!=="reloading"?this._cache.add(s.tileID,s,s.getExpiryTimeout()):(s.aborted=!0,this._abortTile(s),this._unloadTile(s))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const i in this._tiles)this._removeTile(+i);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(i,s,d){const p=[],g=this.transform;if(!g)return p;const _=g.projection.name==="globe",b=Lu(g.center.lng);for(const C in this._tiles){const T=this._tiles[C];if(d&&T.clearQueryDebugViz(),T.holdingForFade())continue;let R;if(_){const F=T.tileID.canonical;if(F.z===0){const V=[Math.abs(Ve(b,...Rg(F,-1))-b),Math.abs(Ve(b,...Rg(F,1))-b)];R=[0,2*V.indexOf(Math.min(...V))-1]}else{const V=[Math.abs(Ve(b,...Rg(F,-1))-b),Math.abs(Ve(b,...Rg(F,0))-b),Math.abs(Ve(b,...Rg(F,1))-b)];R=[V.indexOf(Math.min(...V))-1]}}else R=[0];for(const F of R){const V=i.containsTile(T,g,s,F);V&&p.push(V)}}return p}getVisibleCoordinates(i){const s=this.getRenderableIds(i).map(d=>this._tiles[d].tileID);for(const d of s)d.projMatrix=this.transform.calculateProjMatrix(d.toUnwrapped());return s}hasTransition(){if(this._source.hasTransition())return!0;if(MI(this._source.type))for(const i in this._tiles){const s=this._tiles[i];if(s.fadeEndTime!==void 0&&s.fadeEndTime>=Xn.now())return!0}return!1}setFeatureState(i,s,d){this._state.updateState(i=i||"_geojsonTileLayer",s,d)}removeFeatureState(i,s,d){this._state.removeFeatureState(i=i||"_geojsonTileLayer",s,d)}getFeatureState(i,s){return this._state.getState(i=i||"_geojsonTileLayer",s)}setDependencies(i,s,d){const p=this._tiles[i];p&&p.setDependencies(s,d)}reloadTilesForDependencies(i,s){for(const d in this._tiles)this._tiles[d].hasDependency(i,s)&&this._reloadTile(+d,"reloading");this._cache.filter(d=>!d.hasDependency(i,s))}_preloadTiles(i,s){if(!this._sourceLoaded){const b=()=>{this._sourceLoaded&&(this._source.off("data",b),this._preloadTiles(i,s))};return void this._source.on("data",b)}const d=new Map,p=Array.isArray(i)?i:[i],g=this.map.painter.terrain,_=this.usedForTerrain&&g?g.getScaledDemTileSize():this._source.tileSize;for(const b of p){const C=b.coveringTiles({tileSize:_,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const T of C)d.set(T.key,T);this.usedForTerrain&&b.updateElevation(!1)}sn(Array.from(d.values()),(b,C)=>{const T=new Sb(b,this._source.tileSize*b.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(T,R=>{this._source.type==="raster-dem"&&T.dem&&this._backfillDEM(T),C(R,T)})},s)}}function kI(a,i){const s=Math.abs(2*a.wrap)-+(a.wrap<0),d=Math.abs(2*i.wrap)-+(i.wrap<0);return a.overscaledZ-i.overscaledZ||d-s||i.canonical.y-a.canonical.y||i.canonical.x-a.canonical.x}function MI(a){return a==="raster"||a==="image"||a==="video"||a==="custom"}function Rg(a,i){const s=1<<a.z;return[a.x/s+i,(a.x+1)/s+i]}Ah.maxOverzooming=10,Ah.maxUnderzooming=3;class c0{constructor(i,s,d){this._demTile=i,this._dem=this._demTile.dem,this._scale=s,this._offset=d}static create(i,s,d){const p=d||i.findDEMTileFor(s);if(!p||!p.dem)return;const g=p.dem,_=p.tileID,b=1<<s.canonical.z-_.canonical.z;return new c0(p,p.tileSize/ur/b,[(s.canonical.x/b-_.canonical.x)*g.dim,(s.canonical.y/b-_.canonical.y)*g.dim])}tileCoordToPixel(i,s){const d=s*this._scale+this._offset[1],p=Math.floor(i*this._scale+this._offset[0]),g=Math.floor(d);return new Le(p,g)}getElevationAt(i,s,d,p){const g=i*this._scale+this._offset[0],_=s*this._scale+this._offset[1],b=Math.floor(g),C=Math.floor(_),T=this._dem;return p=!!p,d?jr(jr(T.get(b,C,p),T.get(b,C+1,p),_-C),jr(T.get(b+1,C,p),T.get(b+1,C+1,p),_-C),g-b):T.get(b,C,p)}getElevationAtPixel(i,s,d){return this._dem.get(i,s,!!d)}getMeterToDEM(i){return(1<<this._demTile.tileID.canonical.z)*Dc(1,i)*this._dem.stride}}class OI{constructor(i,s){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Pc(ur,16,0),this.featureIndexArray=new mh,this.promoteId=s}insert(i,s,d,p,g,_=0){const b=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,p,g,_);const C=this.grid;for(let T=0;T<s.length;T++){const R=s[T],F=[1/0,1/0,-1/0,-1/0];for(let V=0;V<R.length;V++){const Z=R[V];F[0]=Math.min(F[0],Z.x),F[1]=Math.min(F[1],Z.y),F[2]=Math.max(F[2],Z.x),F[3]=Math.max(F[3],Z.y)}F[0]<ur&&F[1]<ur&&F[2]>=0&&F[3]>=0&&C.insert(b,F[0],F[1],F[2],F[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new cb(new Kv(this.rawTileData)).layers,this.sourceLayerCoder=new yI(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const i in this.vtLayers)this.vtFeatures[i]=[]}return this.vtLayers}query(i,s,d,p){this.loadVTLayers();const g=i.params||{},_=Jd(g.filter),b=i.tileResult,C=i.transform,T=b.bufferedTilespaceBounds,R=this.grid.query(T.min.x,T.min.y,T.max.x,T.max.y,(X,ee,fe,be)=>r3(b.bufferedTilespaceGeometry,X,ee,fe,be));R.sort(tB);let F=null;C.elevation&&R.length>0&&(F=c0.create(C.elevation,this.tileID));const V={};let Z;for(let X=0;X<R.length;X++){const ee=R[X];if(ee===Z)continue;Z=ee;const fe=this.featureIndexArray.get(ee);let be=null;this.loadMatchingFeature(V,fe,_,g.layers,g.availableImages,s,d,p,(Oe,Ee,Me,je=0)=>(be||(be=wd(Oe,this.tileID.canonical,i.tileTransform)),Ee.queryIntersectsFeature(b,Oe,Me,be,this.z,i.transform,i.pixelPosMatrix,F,je)))}return V}loadMatchingFeature(i,s,d,p,g,_,b,C,T){const{featureIndex:R,bucketIndex:F,sourceLayerIndex:V,layoutVertexArrayOffset:Z}=s,X=this.bucketLayerIDs[F];if(p&&!function(Oe,Ee){for(let Me=0;Me<Oe.length;Me++)if(Ee.indexOf(Oe[Me])>=0)return!0;return!1}(p,X))return;const ee=this.sourceLayerCoder.decode(V),fe=this.vtLayers[ee].feature(R);if(d.needGeometry){const Oe=Eh(fe,!0);if(!d.filter(new D(this.tileID.overscaledZ),Oe,this.tileID.canonical))return}else if(!d.filter(new D(this.tileID.overscaledZ),fe))return;const be=this.getId(fe,ee);for(let Oe=0;Oe<X.length;Oe++){const Ee=X[Oe];if(p&&p.indexOf(Ee)<0)continue;const Me=_[Ee];if(!Me)continue;let je={};be!==void 0&&C&&(je=C.getState(Me.sourceLayer||"_geojsonTileLayer",be));const ze=pn({},b[Ee]);ze.paint=RI(ze.paint,Me.paint,fe,je,g),ze.layout=RI(ze.layout,Me.layout,fe,je,g);const yt=!T||T(fe,Me,je,Z);if(!yt)continue;const pt=new vI(fe,this.z,this.x,this.y,be);pt.layer=ze;let Mt=i[Ee];Mt===void 0&&(Mt=i[Ee]=[]),Mt.push({featureIndex:R,feature:pt,intersectionZ:yt})}}lookupSymbolFeatures(i,s,d,p,g,_,b,C){const T={};this.loadVTLayers();const R=Jd(g);for(const F of i)this.loadMatchingFeature(T,{bucketIndex:d,sourceLayerIndex:p,featureIndex:F,layoutVertexArrayOffset:0},R,_,b,C,s);return T}loadFeature(i){const{featureIndex:s,sourceLayerIndex:d}=i;this.loadVTLayers();const p=this.sourceLayerCoder.decode(d),g=this.vtFeatures[p];if(g[s])return g[s];const _=this.vtLayers[p].feature(s);return g[s]=_,_}hasLayer(i){for(const s of this.bucketLayerIDs)for(const d of s)if(i===d)return!0;return!1}getId(i,s){let d=i.id;if(this.promoteId){const p=typeof this.promoteId=="string"?this.promoteId:this.promoteId[s];p!=null&&(d=i.properties[p]),typeof d=="boolean"&&(d=Number(d))}return d}}function RI(a,i,s,d,p){return It(a,(g,_)=>{const b=i instanceof ve?i.get(_):null;return b&&b.evaluate?b.evaluate(s,d,p):b})}function tB(a,i){return i-a}Wn(OI,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class DI{constructor(i,s){this.width=i,this.height=s,this.nextRow=0,this.image=new Ed({width:i,height:s}),this.positions={},this.uploaded=!1}getDash(i,s){const d=this.getKey(i,s);return this.positions[d]}trim(){const i=this.width,s=this.height=Bt(this.nextRow);this.image.resize({width:i,height:s})}getKey(i,s){return i.join(",")+s}getDashRanges(i,s,d){const p=[];let g=i.length%2==1?-i[i.length-1]*d:0,_=i[0]*d,b=!0;p.push({left:g,right:_,isDash:b,zeroLength:i[0]===0});let C=i[0];for(let T=1;T<i.length;T++){b=!b;const R=i[T];g=C*d,C+=R,_=C*d,p.push({left:g,right:_,isDash:b,zeroLength:R===0})}return p}addRoundDash(i,s,d){const p=s/2;for(let g=-d;g<=d;g++){const _=this.width*(this.nextRow+d+g);let b=0,C=i[b];for(let T=0;T<this.width;T++){T/C.right>1&&(C=i[++b]);const R=Math.abs(T-C.left),F=Math.abs(T-C.right),V=Math.min(R,F);let Z;const X=g/d*(p+1);if(C.isDash){const ee=p-Math.abs(X);Z=Math.sqrt(V*V+ee*ee)}else Z=p-Math.sqrt(V*V+X*X);this.image.data[_+T]=Math.max(0,Math.min(255,Z+128))}}}addRegularDash(i,s){for(let C=i.length-1;C>=0;--C){const T=i[C],R=i[C+1];T.zeroLength?i.splice(C,1):R&&R.isDash===T.isDash&&(R.left=T.left,i.splice(C,1))}const d=i[0],p=i[i.length-1];d.isDash===p.isDash&&(d.left=p.left-this.width,p.right=d.right+this.width);const g=this.width*this.nextRow;let _=0,b=i[_];for(let C=0;C<this.width;C++){C/b.right>1&&(b=i[++_]);const T=Math.abs(C-b.left),R=Math.abs(C-b.right),F=Math.min(T,R);this.image.data[g+C]=Math.max(0,Math.min(255,(b.isDash?F:-F)+s+128))}}addDash(i,s){const d=this.getKey(i,s);if(this.positions[d])return this.positions[d];const p=s==="round",g=p?7:0,_=2*g+1;if(this.nextRow+_>this.height)return yn("LineAtlas out of space"),null;i.length===0&&i.push(1);let b=0;for(let R=0;R<i.length;R++)i[R]<0&&(yn("Negative value is found in line dasharray, replacing values with 0"),i[R]=0),b+=i[R];if(b!==0){const R=this.width/b,F=this.getDashRanges(i,this.width,R);p?this.addRoundDash(F,R,g):this.addRegularDash(F,s==="square"?.5*R:0)}const C=this.nextRow+g;this.nextRow+=_;const T={tl:[C,g],br:[b,0]};return this.positions[d]=T,T}}Wn(DI,"LineAtlas");const LI=1*Fc;class FI{constructor(i){const s={},d=[];for(const b in i){const C=i[b],T=s[b]={};for(const R in C.glyphs){const F=C.glyphs[+R];if(!F||F.bitmap.width===0||F.bitmap.height===0)continue;const V=F.metrics.localGlyph?LI:1,Z={x:0,y:0,w:F.bitmap.width+2*V,h:F.bitmap.height+2*V};d.push(Z),T[R]=Z}}const{w:p,h:g}=hb(d),_=new Ed({width:p||1,height:g||1});for(const b in i){const C=i[b];for(const T in C.glyphs){const R=C.glyphs[+T];if(!R||R.bitmap.width===0||R.bitmap.height===0)continue;const F=s[b][T],V=R.metrics.localGlyph?LI:1;Ed.copy(R.bitmap,_,{x:0,y:0},{x:F.x+V,y:F.y+V},R.bitmap)}}this.image=_,this.positions=s}}Wn(FI,"GlyphAtlas");class nB{constructor(i){this.tileID=new Qa(i.tileID.overscaledZ,i.tileID.wrap,i.tileID.canonical.z,i.tileID.canonical.x,i.tileID.canonical.y),this.tileZoom=i.tileZoom,this.uid=i.uid,this.zoom=i.zoom,this.canonical=i.tileID.canonical,this.pixelRatio=i.pixelRatio,this.tileSize=i.tileSize,this.source=i.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=i.showCollisionBoxes,this.collectResourceTiming=!!i.collectResourceTiming,this.returnDependencies=!!i.returnDependencies,this.promoteId=i.promoteId,this.enableTerrain=!!i.enableTerrain,this.isSymbolTile=i.isSymbolTile,this.tileTransform=Th(i.tileID.canonical,i.projection),this.projection=i.projection}parse(i,s,d,p,g){this.status="parsing",this.data=i,this.collisionBoxArray=new ai;const _=new yI(Object.keys(i.layers).sort()),b=new OI(this.tileID,this.promoteId);b.bucketLayerIDs=[];const C={},T=new DI(256,256),R={featureIndex:b,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:T,availableImages:d},F=s.familiesBySource[this.source];for(const je in F){const ze=i.layers[je];if(!ze)continue;let yt=!1,pt=!1;for(const bt of F[je])bt[0].type==="symbol"?yt=!0:pt=!0;if(this.isSymbolTile===!0&&!yt||this.isSymbolTile===!1&&!pt)continue;ze.version===1&&yn(`Vector tile source "${this.source}" layer "${je}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Mt=_.encode(je),fn=[];for(let bt=0;bt<ze.length;bt++){const Zt=ze.feature(bt),qt=b.getId(Zt,je);fn.push({feature:Zt,id:qt,index:bt,sourceLayerIndex:Mt})}for(const bt of F[je]){const Zt=bt[0];this.isSymbolTile!==void 0&&Zt.type==="symbol"!==this.isSymbolTile||Zt.minzoom&&this.zoom<Math.floor(Zt.minzoom)||Zt.maxzoom&&this.zoom>=Zt.maxzoom||Zt.visibility!=="none"&&(kb(bt,this.zoom,d),(C[Zt.id]=Zt.createBucket({index:b.bucketLayerIDs.length,layers:bt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:d})).populate(fn,R,this.tileID.canonical,this.tileTransform),b.bucketLayerIDs.push(bt.map(qt=>qt.id)))}}let V,Z,X,ee;T.trim();const fe={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},be=()=>{if(V)return g(V);if(Z&&X&&ee){const je=new FI(Z),ze=new V3(X,ee);for(const yt in C){const pt=C[yt];pt instanceof hf?(kb(pt.layers,this.zoom,d),PN(pt,Z,je.positions,X,ze.iconPositions,this.showCollisionBoxes,d,this.tileID.canonical,this.tileZoom,this.projection)):pt.hasPattern&&(pt instanceof Wv||pt instanceof jv||pt instanceof bg)&&(kb(pt.layers,this.zoom,d),pt.addFeatures(R,this.tileID.canonical,ze.patternPositions,d,this.tileTransform))}this.status="done",g(null,{buckets:ln(C).filter(yt=>!yt.isEmpty()),featureIndex:b,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:je.image,lineAtlas:T,imageAtlas:ze,glyphMap:this.returnDependencies?Z:null,iconMap:this.returnDependencies?X:null,glyphPositions:this.returnDependencies?je.positions:null})}},Oe=It(R.glyphDependencies,je=>Object.keys(je).map(Number));Object.keys(Oe).length?p.send("getGlyphs",{uid:this.uid,stacks:Oe},(je,ze)=>{V||(V=je,Z=ze,be())},void 0,!1,fe):Z={};const Ee=Object.keys(R.iconDependencies);Ee.length?p.send("getImages",{icons:Ee,source:this.source,tileID:this.tileID,type:"icons"},(je,ze)=>{V||(V=je,X=ze,be())},void 0,!1,fe):X={};const Me=Object.keys(R.patternDependencies);Me.length?p.send("getImages",{icons:Me,source:this.source,tileID:this.tileID,type:"patterns"},(je,ze)=>{V||(V=je,ee=ze,be())},void 0,!1,fe):ee={},be()}}function kb(a,i,s){const d=new D(i);for(const p of a)p.recalculate(d,s)}class NI{constructor(i){this.entries={},this.scheduler=i}request(i,s,d,p){const g=this.entries[i]=this.entries[i]||{callbacks:[]};if(g.result){const[_,b]=g.result;return this.scheduler?this.scheduler.add(()=>{p(_,b)},s):p(_,b),()=>{}}return g.callbacks.push(p),g.cancel||(g.cancel=d((_,b)=>{g.result=[_,b];for(const C of g.callbacks)this.scheduler?this.scheduler.add(()=>{C(_,b)},s):C(_,b);setTimeout(()=>delete this.entries[i],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(_=>_!==p),g.callbacks.length||(g.cancel(),delete this.entries[i]))}}}function BI(a,i,s){const d=JSON.stringify(a.request);return a.data&&(this.deduped.entries[d]={result:[null,a.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom},p=>{const g=yr(a.request,(_,b,C,T)=>{_?p(_):b&&p(null,{vectorTile:s?void 0:new cb(new Kv(b)),rawData:b,cacheControl:C,expires:T})});return()=>{g.cancel(),p()}},i)}const zI=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Mb{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[s,d]=new Uint8Array(i,0,2);if(s!==219)throw new Error("Data does not appear to be in a KDBush format.");const p=d>>4;if(p!==1)throw new Error(`Got v${p} data when expected v1.`);const g=zI[15&d];if(!g)throw new Error("Unrecognized array type.");const[_]=new Uint16Array(i,2,1),[b]=new Uint32Array(i,4,1);return new Mb(b,_,g,i)}constructor(i,s=64,d=Float64Array,p){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+s,2),65535),this.ArrayType=d,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const g=zI.indexOf(this.ArrayType),_=2*i*this.ArrayType.BYTES_PER_ELEMENT,b=i*this.IndexArrayType.BYTES_PER_ELEMENT,C=(8-b%8)%8;if(g<0)throw new Error(`Unexpected typed array class: ${d}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+b+C,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+_+b+C),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+b+C,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+g]),new Uint16Array(this.data,2,1)[0]=s,new Uint32Array(this.data,4,1)[0]=i)}add(i,s){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=i,this.coords[this._pos++]=s,d}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Ob(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,s,d,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:_,nodeSize:b}=this,C=[0,g.length-1,0],T=[];for(;C.length;){const R=C.pop()||0,F=C.pop()||0,V=C.pop()||0;if(F-V<=b){for(let fe=V;fe<=F;fe++){const be=_[2*fe],Oe=_[2*fe+1];be>=i&&be<=d&&Oe>=s&&Oe<=p&&T.push(g[fe])}continue}const Z=V+F>>1,X=_[2*Z],ee=_[2*Z+1];X>=i&&X<=d&&ee>=s&&ee<=p&&T.push(g[Z]),(R===0?i<=X:s<=ee)&&(C.push(V),C.push(Z-1),C.push(1-R)),(R===0?d>=X:p>=ee)&&(C.push(Z+1),C.push(F),C.push(1-R))}return T}within(i,s,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:g,nodeSize:_}=this,b=[0,p.length-1,0],C=[],T=d*d;for(;b.length;){const R=b.pop()||0,F=b.pop()||0,V=b.pop()||0;if(F-V<=_){for(let fe=V;fe<=F;fe++)jI(g[2*fe],g[2*fe+1],i,s)<=T&&C.push(p[fe]);continue}const Z=V+F>>1,X=g[2*Z],ee=g[2*Z+1];jI(X,ee,i,s)<=T&&C.push(p[Z]),(R===0?i-d<=X:s-d<=ee)&&(b.push(V),b.push(Z-1),b.push(1-R)),(R===0?i+d>=X:s+d>=ee)&&(b.push(Z+1),b.push(F),b.push(1-R))}return C}}function Ob(a,i,s,d,p,g){if(p-d<=s)return;const _=d+p>>1;$I(a,i,_,d,p,g),Ob(a,i,s,d,_-1,1-g),Ob(a,i,s,_+1,p,1-g)}function $I(a,i,s,d,p,g){for(;p>d;){if(p-d>600){const T=p-d+1,R=s-d+1,F=Math.log(T),V=.5*Math.exp(2*F/3),Z=.5*Math.sqrt(F*V*(T-V)/T)*(R-T/2<0?-1:1);$I(a,i,s,Math.max(d,Math.floor(s-R*V/T+Z)),Math.min(p,Math.floor(s+(T-R)*V/T+Z)),g)}const _=i[2*s+g];let b=d,C=p;for(Dg(a,i,d,s),i[2*p+g]>_&&Dg(a,i,d,p);b<C;){for(Dg(a,i,b,C),b++,C--;i[2*b+g]<_;)b++;for(;i[2*C+g]>_;)C--}i[2*d+g]===_?Dg(a,i,d,C):(C++,Dg(a,i,C,p)),C<=s&&(d=C+1),s<=C&&(p=C-1)}}function Dg(a,i,s,d){Rb(a,s,d),Rb(i,2*s,2*d),Rb(i,2*s+1,2*d+1)}function Rb(a,i,s){const d=a[i];a[i]=a[s],a[s]=d}function jI(a,i,s,d){const p=a-s,g=i-d;return p*p+g*g}o.ARRAY_TYPE=Vs,o.AUTH_ERR_MSG=Ie,o.Aabb=Ja,o.Actor=class{constructor(a,i,s){this.target=a,this.parent=i,this.mapId=s,this.callbacks={},this.cancelCallbacks={},Xe(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=lt()?a:v,this.scheduler=new KN}send(a,i,s,d,p=!1,g){const _=Math.round(1e18*Math.random()).toString(36).substring(0,10);s&&(s.metadata=g,this.callbacks[_]=s);const b=Wt(this.globalScope)?void 0:[];return this.target.postMessage({id:_,type:a,hasCallback:!!s,targetMapId:d,mustQueue:p,sourceMapId:this.mapId,data:bl(i,b)},b),{cancel:()=>{s&&delete this.callbacks[_],this.target.postMessage({id:_,type:"<cancel>",targetMapId:d,sourceMapId:this.mapId})}}}receive(a){const i=a.data,s=i.id;if(s&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const d=this.cancelCallbacks[s];delete this.cancelCallbacks[s],d&&d.cancel()}else if(i.mustQueue||lt()){const d=this.callbacks[s];this.cancelCallbacks[s]=this.scheduler.add(()=>this.processTask(s,i),d&&d.metadata||{type:"message"})}else this.processTask(s,i)}processTask(a,i){if(i.type==="<response>"){const s=this.callbacks[a];delete this.callbacks[a],s&&(i.error?s(Us(i.error)):s(null,Us(i.data)))}else{const s=Wt(this.globalScope)?void 0:[],d=i.hasCallback?(g,_)=>{delete this.cancelCallbacks[a],this.target.postMessage({id:a,type:"<response>",sourceMapId:this.mapId,error:g?bl(g):null,data:bl(_,s)},s)}:g=>{},p=Us(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,p,d);else if(this.parent.getWorkerSource){const g=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,g[0],p.source)[g[1]](p,d)}else d(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},o.CanonicalTileID=Hv,o.Color=_i,o.ColorMode=zu,o.CullFaceMode=Nc,o.DEMData=l0,o.DataConstantProperty=Q,o.DedupedRequest=NI,o.DepthMode=Dp,o.EXTENT=ur,o.Elevation=class{isDataAvailableAtPoint(a){const i=this._source();if(this.isUsingMockSource()||!i||a.y<0||a.y>1)return!1;const s=i.getSource().maxzoom,d=1<<s,p=Math.floor(a.x),g=Math.floor((a.x-p)*d),_=Math.floor(a.y*d),b=this.findDEMTileFor(new Qa(s,p,s,g,_));return!(!b||!b.dem)}getAtPointOrZero(a,i=0){return this.getAtPoint(a,i)||0}getAtPoint(a,i,s=!0){if(this.isUsingMockSource())return null;i==null&&(i=null);const d=this._source();if(!d||a.y<0||a.y>1)return i;const p=d.getSource().maxzoom,g=1<<p,_=Math.floor(a.x),b=a.x-_,C=new Qa(p,_,p,Math.floor(b*g),Math.floor(a.y*g)),T=this.findDEMTileFor(C);if(!T||!T.dem)return i;const R=T.dem,F=1<<T.tileID.canonical.z,V=(b*F-T.tileID.canonical.x)*R.dim,Z=(a.y*F-T.tileID.canonical.y)*R.dim,X=Math.floor(V),ee=Math.floor(Z);return(s?this.exaggeration():1)*jr(jr(R.get(X,ee),R.get(X,ee+1),Z-ee),jr(R.get(X+1,ee),R.get(X+1,ee+1),Z-ee),V-X)}getAtTileOffset(a,i,s){const d=1<<a.canonical.z;return this.getAtPointOrZero(new xp(a.wrap+(a.canonical.x+i/ur)/d,(a.canonical.y+s/ur)/d))}getAtTileOffsetFunc(a,i,s,d){return p=>{const g=this.getAtTileOffset(a,p.x,p.y),_=d.upVector(a.canonical,p.x,p.y);return wl(_,_,g*d.upVectorScale(a.canonical,i,s).metersToTile),_}}getForTilePoints(a,i,s,d){if(this.isUsingMockSource())return!1;const p=c0.create(this,a,d);return!!p&&(i.forEach(g=>{g[2]=this.exaggeration()*p.getElevationAt(g[0],g[1],s)}),!0)}getMinMaxForTile(a){if(this.isUsingMockSource())return null;const i=this.findDEMTileFor(a);if(!i||!i.dem)return null;const s=i.dem.tree,d=i.tileID,p=1<<a.canonical.z-d.canonical.z;let g=a.canonical.x/p-d.canonical.x,_=a.canonical.y/p-d.canonical.y,b=0;for(let C=0;C<a.canonical.z-d.canonical.z&&!s.leaves[b];C++){g*=2,_*=2;const T=2*Math.floor(_)+Math.floor(g);b=s.childOffsets[b]+T,g%=1,_%=1}return{min:this.exaggeration()*s.minimums[b],max:this.exaggeration()*s.maximums[b]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(a,i,s){throw new Error("Pure virtual method called.")}pointCoordinate(a){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(a){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},o.ErrorEvent=xr,o.EvaluationParameters=D,o.Event=Ur,o.Evented=Br,o.FillExtrusionBucket=bg,o.Frustum=$x,o.FrustumCorners=zx,o.GLOBE_RADIUS=Ru,o.GLOBE_SCALE_MATCH_LATITUDE=45,o.GLOBE_ZOOM_THRESHOLD_MAX=$P,o.GLOBE_ZOOM_THRESHOLD_MIN=jx,o.GlobeSharedBuffers=class{constructor(a){this._createGrid(a),this._createPoles(a)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const a of this._poleSegments)a.destroy();for(const a of this._gridSegments)a.withSkirts.destroy(),a.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const a of this._wireframeSegments)a.destroy()}}_fillGridMeshWithLods(a,i){const s=new Ot,d=new Qn,p=[],g=a+1+2,_=i[0]+1,b=i[0]+1+(1+i.length),C=(T,R,F)=>{let V=T===g-1?T-2:T===0?T:T-1;return V+=F?24575:0,[V,R]};for(let T=0;T<g;++T)s.emplaceBack(...C(T,0,!0));for(let T=0;T<_;++T)for(let R=0;R<g;++R)s.emplaceBack(...C(R,T,(R===0||R===g-1)&&!0));for(let T=0;T<i.length;++T){const R=i[T];for(let F=0;F<g;++F)s.emplaceBack(...C(F,R,!0))}for(let T=0;T<i.length;++T){const R=d.length,F=i[T]+1+2,V=new Qn;for(let ee=0;ee<F-1;ee++){const fe=ee===F-2,be=fe?g*(b-i.length+T-ee):g;for(let Oe=0;Oe<g-1;Oe++){const Ee=ee*g+Oe;ee===0||fe||Oe===0||Oe===g-2?(V.emplaceBack(Ee+1,Ee,Ee+be),V.emplaceBack(Ee+be,Ee+be+1,Ee+1)):(d.emplaceBack(Ee+1,Ee,Ee+be),d.emplaceBack(Ee+be,Ee+be+1,Ee+1))}}const Z=go.simpleSegment(0,R,s.length,d.length-R);for(let ee=0;ee<V.uint16.length;ee+=3)d.emplaceBack(V.uint16[ee],V.uint16[ee+1],V.uint16[ee+2]);const X=go.simpleSegment(0,R,s.length,d.length-R);p.push({withoutSkirts:Z,withSkirts:X})}return{vertices:s,indices:d,segments:p}}_createGrid(a){const i=this._fillGridMeshWithLods(bh,dg);this._gridSegments=i.segments,this._gridBuffer=a.createVertexBuffer(i.vertices,ug.members),this._gridIndexBuffer=a.createIndexBuffer(i.indices,!0)}_createPoles(a){const i=new Qn;for(let p=0;p<=bh;p++)i.emplaceBack(0,p+1,p+2);this._poleIndexBuffer=a.createIndexBuffer(i,!0);const s=new oi,d=new oi;this._poleSegments=[];for(let p=0,g=0;p<jx;p++){const _=360/(1<<p);s.emplaceBack(0,-Ru,0,.5,0),d.emplaceBack(0,-Ru,0,.5,1);for(let b=0;b<=bh;b++){const C=b/bh,T=jr(0,_,C),[R,F,V]=yp(KF,XF,T,Ru);s.emplaceBack(R,F,V,C,0),d.emplaceBack(R,F,V,C,1)}this._poleSegments.push(go.simpleSegment(g,0,66,64)),g+=66}this._poleNorthVertexBuffer=a.createVertexBuffer(s,BP,!1),this._poleSouthVertexBuffer=a.createVertexBuffer(d,BP,!1)}getGridBuffers(a,i){return[this._gridBuffer,this._gridIndexBuffer,i?this._gridSegments[a].withSkirts:this._gridSegments[a].withoutSkirts]}getPoleBuffers(a){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[a]]}getWirefameBuffers(a,i){if(!this._wireframeSegments){const s=new oo,d=bh,p=d+1+2,g=1;this._wireframeSegments=[];for(let _=0,b=0;_<dg.length;_++){const C=dg[_];for(let R=g;R<C+g;R++)for(let F=g;F<d+g;F++){const V=R*p+F;s.emplaceBack(V,V+1),s.emplaceBack(V,V+p),s.emplaceBack(V,V+p+1)}const T=C*d*3;this._wireframeSegments.push(go.simpleSegment(0,b,(C+1)*p,T)),b+=T}this._wireframeIndexBuffer=a.createIndexBuffer(s)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[i]]}},o.GlyphManager=Ip,o.ImagePosition=pb,o.KDBush=Mb,o.LivePerformanceUtils=ye,o.LngLat=pi,o.LngLatBounds=cf,o.LocalGlyphMode=yb,o.MAX_MERCATOR_LATITUDE=ba,o.MercatorCoordinate=xp,o.ONE_EM=ca,o.OverscaledTileID=Qa,o.PerformanceMarkers=le,o.Point=Le,o.Properties=Te,o.RGBAImage=Gs,o.Ray=Bx,o.RequestManager=class{constructor(a,i,s){this._transformRequestFn=a,this._customAccessToken=i,this._silenceAuthErrors=!!s,this._createSkuToken()}_createSkuToken(){const a=function(){let i="";for(let s=0;s<10;s++)i+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",W,i].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=a.token,this._skuTokenExpiresAt=a.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(a,i){return this._transformRequestFn&&this._transformRequestFn(a,i)||{url:a}}normalizeStyleURL(a,i){if(!Ue(a))return a;const s=Jt(a);return s.path=`/styles/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||i)}normalizeGlyphsURL(a,i){if(!Ue(a))return a;const s=Jt(a);return s.path=`/fonts/v1${s.path}`,this._makeAPIURL(s,this._customAccessToken||i)}normalizeSourceURL(a,i,s,d){if(!Ue(a))return a;const p=Jt(a);return p.path=`/v4/${p.authority}.json`,p.params.push("secure"),s&&p.params.push(`language=${s}`),d&&p.params.push(`worldview=${d}`),this._makeAPIURL(p,this._customAccessToken||i)}normalizeSpriteURL(a,i,s,d){const p=Jt(a);return Ue(a)?(p.path=`/styles/v1${p.path}/sprite${i}${s}`,this._makeAPIURL(p,this._customAccessToken||d)):(p.path+=`${i}${s}`,Et(p))}normalizeTileURL(a,i,s){if(this._isSkuTokenExpired()&&this._createSkuToken(),a&&!Ue(a))return a;const d=Jt(a);d.path=d.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${i||s&&d.authority!=="raster"&&s===512?"@2x":""}${O.supported?".webp":"$1"}`),d.authority==="raster"?d.path=`/${k.RASTER_URL_PREFIX}${d.path}`:(d.path=d.path.replace(/^.+\/v4\//,"/"),d.path=`/${k.TILE_URL_VERSION}${d.path}`);const p=this._customAccessToken||function(g){for(const _ of g){const b=_.match(/^access_token=(.*)$/);if(b)return b[1]}return null}(d.params)||k.ACCESS_TOKEN;return k.REQUIRE_ACCESS_TOKEN&&p&&this._skuToken&&d.params.push(`sku=${this._skuToken}`),this._makeAPIURL(d,p)}canonicalizeTileURL(a,i){const s=Jt(a);if(!s.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!s.path.match(/\.[\w]+$/))return a;let d="mapbox://";s.path.match(/^\/raster\/v1\//)?d+=`raster/${s.path.replace(`/${k.RASTER_URL_PREFIX}/`,"")}`:d+=`tiles/${s.path.replace(`/${k.TILE_URL_VERSION}/`,"")}`;let p=s.params;return i&&(p=p.filter(g=>!g.match(/^access_token=/))),p.length&&(d+=`?${p.join("&")}`),d}canonicalizeTileset(a,i){const s=!!i&&Ue(i),d=[];for(const p of a.tiles||[])et(p)?d.push(this.canonicalizeTileURL(p,s)):d.push(p);return d}_makeAPIURL(a,i){const s="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",d=Jt(k.API_URL);if(a.protocol=d.protocol,a.authority=d.authority,a.protocol==="http"){const p=a.params.indexOf("secure");p>=0&&a.params.splice(p,1)}if(d.path!=="/"&&(a.path=`${d.path}${a.path}`),!k.REQUIRE_ACCESS_TOKEN)return Et(a);if(i=i||k.ACCESS_TOKEN,!this._silenceAuthErrors){if(!i)throw new Error(`An API access token is required to use Mapbox GL. ${s}`);if(i[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${s}`)}return a.params=a.params.filter(p=>p.indexOf("access_token")===-1),a.params.push(`access_token=${i||""}`),Et(a)}},o.ResourceType=Cn,o.SegmentVector=go,o.SourceCache=Ah,o.StencilMode=Ab,o.StructArrayLayout1ui2=Da,o.StructArrayLayout2f1f2i16=cr,o.StructArrayLayout2i4=Ot,o.StructArrayLayout2ui4=oo,o.StructArrayLayout3f12=Mr,o.StructArrayLayout3ui6=Qn,o.StructArrayLayout4i8=St,o.StructArrayLayout5f20=oi,o.Texture=Og,o.Tile=Sb,o.Transitionable=J,o.Uniform1f=Pv,o.Uniform1i=class extends _d{constructor(a){super(a),this.current=0}set(a,i,s){this.fetchUniformLocation(a,i)&&this.current!==s&&(this.current=s,this.gl.uniform1i(this.location,s))}},o.Uniform2f=class extends _d{constructor(a){super(a),this.current=[0,0]}set(a,i,s){this.fetchUniformLocation(a,i)&&(s[0]===this.current[0]&&s[1]===this.current[1]||(this.current=s,this.gl.uniform2f(this.location,s[0],s[1])))}},o.Uniform3f=class extends _d{constructor(a){super(a),this.current=[0,0,0]}set(a,i,s){this.fetchUniformLocation(a,i)&&(s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]||(this.current=s,this.gl.uniform3f(this.location,s[0],s[1],s[2])))}},o.Uniform4f=bP,o.UniformColor=wP,o.UniformMatrix2f=class extends _d{constructor(a){super(a),this.current=RF}set(a,i,s){if(this.fetchUniformLocation(a,i)){for(let d=0;d<4;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix2fv(this.location,!1,s);break}}}},o.UniformMatrix3f=class extends _d{constructor(a){super(a),this.current=OF}set(a,i,s){if(this.fetchUniformLocation(a,i)){for(let d=0;d<9;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix3fv(this.location,!1,s);break}}}},o.UniformMatrix4f=class extends _d{constructor(a){super(a),this.current=MF}set(a,i,s){if(this.fetchUniformLocation(a,i)){if(s[12]!==this.current[12]||s[0]!==this.current[0])return this.current=s,void this.gl.uniformMatrix4fv(this.location,!1,s);for(let d=1;d<16;d++)if(s[d]!==this.current[d]){this.current=s,this.gl.uniformMatrix4fv(this.location,!1,s);break}}}},o.UnwrappedTileID=P3,o.ValidationError=At,o.VectorTileFeature=Vv,o.VectorTileWorkerSource=class extends Br{constructor(a,i,s,d,p){super(),this.actor=a,this.layerIndex=i,this.availableImages=s,this.loadVectorData=p||BI,this.loading={},this.loaded={},this.deduped=new NI(a.scheduler),this.isSpriteLoaded=d,this.scheduler=a.scheduler}loadTile(a,i){const s=a.uid,d=a&&a.request,p=d&&d.collectResourceTiming,g=this.loading[s]=new nB(a);g.abort=this.loadVectorData(a,(_,b)=>{const C=!this.loading[s];if(delete this.loading[s],C||_||!b)return g.status="done",C||(this.loaded[s]=g),i(_);const T=b.rawData,R={};b.expires&&(R.expires=b.expires),b.cacheControl&&(R.cacheControl=b.cacheControl),g.vectorTile=b.vectorTile||new cb(new Kv(T));const F=()=>{g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,(V,Z)=>{if(V||!Z)return i(V);const X={};if(p){const ee=He(d);ee.length>0&&(X.resourceTiming=JSON.parse(JSON.stringify(ee)))}i(null,pn({rawTileData:T.slice(0)},Z,R,X))})};this.isSpriteLoaded?F():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(F,{type:"parseTile",isSymbolTile:a.isSymbolTile,zoom:a.tileZoom}):F()}),this.loaded=this.loaded||{},this.loaded[s]=g})}reloadTile(a,i){const s=this.loaded,d=a.uid,p=this;if(s&&s[d]){const g=s[d];g.showCollisionBoxes=a.showCollisionBoxes,g.enableTerrain=!!a.enableTerrain,g.projection=a.projection,g.tileTransform=Th(a.tileID.canonical,a.projection);const _=(b,C)=>{const T=g.reloadCallback;T&&(delete g.reloadCallback,g.parse(g.vectorTile,p.layerIndex,this.availableImages,p.actor,T)),i(b,C)};g.status==="parsing"?g.reloadCallback=_:g.status==="done"&&(g.vectorTile?g.parse(g.vectorTile,this.layerIndex,this.availableImages,this.actor,_):_())}}abortTile(a,i){const s=a.uid,d=this.loading[s];d&&(d.abort&&d.abort(),delete this.loading[s]),i()}removeTile(a,i){const s=this.loaded,d=a.uid;s&&s[d]&&delete s[d],i()}},o.WritingMode=Cl,o.ZoomDependentExpression=z,o.add=bd,o.addDynamicAttributes=o0,o.adjoint=function(a,i){var s=i[0],d=i[1],p=i[2],g=i[3],_=i[4],b=i[5],C=i[6],T=i[7],R=i[8];return a[0]=_*R-b*T,a[1]=p*T-d*R,a[2]=d*b-p*_,a[3]=b*C-g*R,a[4]=s*R-p*C,a[5]=p*g-s*b,a[6]=g*T-_*C,a[7]=d*C-s*T,a[8]=s*_-d*g,a},o.asyncAll=sn,o.bezier=Vt,o.bindAll=Xe,o.boundsAttributes=xI,o.bufferConvexPolygon=function(a,i){const s=[];for(let d=0;d<a.length;d++){const p=Ge(d-1,-1,a.length-1),g=Ge(d+1,-1,a.length-1),_=a[d],b=a[g],C=a[p].sub(_).unit(),T=b.sub(_).unit(),R=T.angleWithSep(C.x,C.y),F=C.add(T).unit().mult(-1*i/Math.sin(R/2));s.push(_.add(F))}return s},o.cacheEntryPossiblyAdded=function(a){Gt++,Gt>jn&&(a.getActor().send("enforceCacheSizeLimit",xn),Gt=0)},o.calculateGlobeLabelMatrix=function(a,i){const{x:s,y:d}=a.point,p=HP(s,d,a.worldSize/a._pixelsPerMercatorPixel,0,0);return vh(p,p,Gx(Du(i)))},o.calculateGlobeMatrix=function(a){const{x:i,y:s}=a.point,{lng:d,lat:p}=a._center;return HP(i,s,a.worldSize,d,p)},o.calculateGlobeMercatorMatrix=function(a){const i=a.pixelsPerMeter,s=i/Dc(1,a.center.lat),d=Oc(new Float64Array(16));return ig(d,d,[a.point.x,a.point.y,0]),_h(d,d,[s,s,i]),Float32Array.from(d)},o.circumferenceAtLatitude=Wx,o.clamp=Ve,o.clearTileCache=function(a){if(!Qe())return;const i=v.caches.delete(kn);a&&i.catch(a).then(()=>a())},o.clipLine=nI,o.clone=function(a){var i=new Vs(16);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],i[6]=a[6],i[7]=a[7],i[8]=a[8],i[9]=a[9],i[10]=a[10],i[11]=a[11],i[12]=a[12],i[13]=a[13],i[14]=a[14],i[15]=a[15],i},o.clone$1=En,o.collisionCircleLayout=eN,o.config=k,o.conjugate=function(a,i){return a[0]=-i[0],a[1]=-i[1],a[2]=-i[2],a[3]=i[3],a},o.create=function(){var a=new Vs(16);return Vs!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},o.create$1=SP,o.createExpression=_a,o.createLayout=Ke,o.createStyleLayer=function(a){return a.type==="custom"?new HN(a):new ZN[a.type](a)},o.cross=Nx,o.degToRad=Ut,o.distance=function(a,i){return Math.hypot(i[0]-a[0],i[1]-a[1],i[2]-a[2])},o.div=function(a,i,s){return a[0]=i[0]/s[0],a[1]=i[1]/s[1],a[2]=i[2]/s[2],a},o.dot=ec,o.earthRadius=pg,o.ease=_t,o.easeCubicInOut=An,o.ecefToLatLng=function([a,i,s]){const d=Math.hypot(a,i,s),p=Math.atan2(a,s),g=.5*Math.PI-Math.acos(-i/d);return new pi(Qt(p),Qt(g))},o.emitValidationErrors=fp,o.endsWith=Xt,o.enforceCacheSizeLimit=function(a){xt(),nr&&nr.then(i=>{i.keys().then(s=>{for(let d=0;d<s.length-a;d++)i.delete(s[d])})})},o.evaluateSizeForFeature=Zv,o.evaluateSizeForZoom=Sp,o.evaluateVariableOffset=sI,o.evented=x,o.exactEquals=function(a,i){return a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]&&a[3]===i[3]},o.exactEquals$1=function(a,i){return a[0]===i[0]&&a[1]===i[1]&&a[2]===i[2]},o.exported=Xn,o.exported$1=O,o.extend=pn,o.extend$1=vi,o.fillExtrusionHeightLift=S3,o.filterObject=Mn,o.fromMat4=function(a,i){return a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[4],a[4]=i[5],a[5]=i[6],a[6]=i[8],a[7]=i[9],a[8]=i[10],a},o.fromQuat=function(a,i){var s=i[0],d=i[1],p=i[2],g=i[3],_=s+s,b=d+d,C=p+p,T=s*_,R=d*_,F=d*b,V=p*_,Z=p*b,X=p*C,ee=g*_,fe=g*b,be=g*C;return a[0]=1-F-X,a[1]=R+be,a[2]=V-fe,a[3]=0,a[4]=R-be,a[5]=1-T-X,a[6]=Z+ee,a[7]=0,a[8]=V+fe,a[9]=Z-ee,a[10]=1-T-F,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},o.fromRotation=function(a,i){var s=Math.sin(i),d=Math.cos(i);return a[0]=d,a[1]=s,a[2]=0,a[3]=-s,a[4]=d,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},o.fromScaling=AP,o.furthestTileCorner=function(a){const i=Math.round((a+45+360)%360/90)%4;return Tn[i]},o.getAABBPointSquareDist=function(a,i,s){let d=0;for(let p=0;p<2;++p){const g=s?s[p]:0;a[p]>g&&(d+=(a[p]-g)*(a[p]-g)),i[p]<g&&(d+=(g-i[p])*(g-i[p]))}return d},o.getAnchorAlignment=gb,o.getAnchorJustification=_b,o.getBounds=function(a){let i=1/0,s=1/0,d=-1/0,p=-1/0;for(const g of a)i=Math.min(i,g.x),s=Math.min(s,g.y),d=Math.max(d,g.x),p=Math.max(p,g.y);return{min:new Le(i,s),max:new Le(d,p)}},o.getColumn=Rn,o.getDefaultExportFromCjs=Y,o.getGridMatrix=function(a,i,s,d){const p=i.getNorth(),g=i.getSouth(),_=i.getWest(),b=i.getEast(),C=1<<a.z,T=b-_,R=p-g,F=T/bh,V=-R/dg[s],Z=[0,F,0,V,0,0,p,_,0];if(a.z>0){const X=180/d;TP(Z,Z,[X/T+1,0,0,0,X/R+1,0,-.5*X/F,.5*X/V,1])}return Z[2]=C,Z[5]=a.x,Z[8]=a.y,Z},o.getImage=Ce,o.getJSON=function(a,i){return dr(pn(a,{type:"json"}),i)},o.getLatitudinalLod=function(a){const i=ba-5;a=Ve(a,-i,i)/i*90;const s=Math.pow(Math.abs(Math.sin(Ut(a))),3);return Math.round(s*(dg.length-1))},o.getMapSessionAPI=ft,o.getPerformanceMeasurement=He,o.getProjection=mI,o.getRTLTextPluginStatus=w,o.getReferrer=mr,o.getTilePoint=function(a,{x:i,y:s},d=0){return new Le(((i-d)*a.scale-a.x)*ur,(s*a.scale-a.y)*ur)},o.getTileVec3=function(a,i,s=0){return gp(((i.x-s)*a.scale-a.x)*ur,(i.y*a.scale-a.y)*ur,KP(i.z,i.y))},o.getVideo=function(a,i){const s=v.document.createElement("video");s.muted=!0,s.onloadstart=function(){i(null,s)};for(let d=0;d<a.length;d++){const p=v.document.createElement("source");Nr(a[d])||(s.crossOrigin="Anonymous"),p.src=a[d],s.appendChild(p)}return{cancel:()=>{}}},o.globeCenterToScreenPoint=function(a){const i=[0,0,0],s=Oc(new Float64Array(16));return vh(s,a.pixelMatrix,a.globeMatrix),ao(i,i,s),new Le(i[0],i[1])},o.globeDenormalizeECEF=Gx,o.globeECEFOrigin=function(a,i){const s=[0,0,0];return ao(s,s,hg(Du(i.canonical))),ao(s,s,a),s},o.globeMetersToEcef=Mv,o.globeNormalizeECEF=hg,o.globePixelsToTileUnits=function(a,i){return ur/(512*Math.pow(2,a))*Rv(Du(i))},o.globePoleMatrixForTile=function(a,i,s){const d=Oc(new Float64Array(16)),p=(i/(1<<a)-.5)*Math.PI*2;return kv(d,s.globeMatrix,p),Float32Array.from(d)},o.globeTileBounds=Du,o.globeTiltAtLngLat=WP,o.globeToMercatorTransition=_p,o.globeUseCustomAntiAliasing=function(a,i,s){const d=_p(s.zoom),p=a.style.map._antialias,g=!!i.extStandardDerivatives,_=i.extStandardDerivativesForceOff||a.terrain&&a.terrain.exaggeration()>0;return d===0&&!p&&!_&&g},o.identity=Oc,o.identity$1=LP,o.invert=Rx,o.isFullscreen=function(){return!!v.document.fullscreenElement||!!v.document.webkitFullscreenElement},o.isLngLatBehindGlobe=Hx,o.isMapAuthenticated=function(a){return re.has(a)},o.isMapboxURL=Ue,o.isSafariWithAntialiasingBug=function(a){const i=a.navigator?a.navigator.userAgent:null;return!!Wt(a)&&i&&(i.match("Version/15.4")||i.match("Version/15.5")||i.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},o.latFromMercatorY=xa,o.latLngToECEF=vp,o.len=UF,o.length=og,o.length$1=function(a){return Math.hypot(a[0],a[1],a[2],a[3])},o.lngFromMercatorX=El,o.loadVectorTile=BI,o.makeRequest=dr,o.mapValue=function(a,i,s,d,p){return Ve((a-i)/(s-i)*(p-d)+d,d,p)},o.mercatorScale=XP,o.mercatorXfromLng=Lu,o.mercatorYfromLat=Fu,o.mercatorZfromAltitude=Dc,o.mul=$F,o.mul$1=jF,o.multiply=vh,o.multiply$1=TP,o.multiply$2=kP,o.nextPowerOfTwo=Bt,o.normalize=Ya,o.normalize$1=VF,o.normalize$2=RP,o.number=jr,o.ortho=function(a,i,s,d,p,g,_){var b=1/(i-s),C=1/(d-p),T=1/(g-_);return a[0]=-2*b,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*C,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*T,a[11]=0,a[12]=(i+s)*b,a[13]=(p+d)*C,a[14]=(_+g)*T,a[15]=1,a},o.pbf=L3,o.perspective=function(a,i,s,d,p){var g,_=1/Math.tan(i/2);return a[0]=_/s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=_,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,p!=null&&p!==1/0?(a[10]=(p+d)*(g=1/(d-p)),a[14]=2*p*d*g):(a[10]=-1,a[14]=-2*d),a},o.pick=function(a,i){const s={};for(let d=0;d<i.length;d++){const p=i[d];p in a&&(s[p]=a[p])}return s},o.plugin=I,o.pointGeometry=Pe,o.polesInViewport=function(a){const i=Oc(new Float64Array(16));vh(i,a.pixelMatrix,a.globeMatrix);const s=[0,tc,0],d=[0,nc,0];return ao(s,s,i),ao(d,d,i),[s[0]>0&&s[0]<=a.width&&s[1]>0&&s[1]<=a.height&&!Hx(a,new pi(a.center.lat,90)),d[0]>0&&d[0]<=a.width&&d[1]>0&&d[1]<=a.height&&!Hx(a,new pi(a.center.lat,-90))]},o.polygonContainsPoint=Ch,o.polygonIntersectsBox=r3,o.polygonIntersectsPolygon=QP,o.polygonizeBounds=function(a,i,s=0,d=!0){const p=new Le(s,s),g=a.sub(p),_=i.add(p),b=[g,new Le(_.x,g.y),_,new Le(g.x,_.y)];return d&&b.push(g.clone()),b},o.posAttributes=ug,o.postMapLoadEvent=Fn,o.postPerformanceEvent=On,o.postTurnstileEvent=Ct,o.potpack=hb,o.prevPowerOfTwo=function(a){return a<=1?1:Math.pow(2,Math.floor(Math.log(a)/Math.LN2))},o.radToDeg=Qt,o.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],o.registerForPluginStateChange=function(a){return a({pluginStatus:m,pluginURL:l}),x.on("pluginStateChange",a),a},o.removeAuthState=function(a){re.delete(a)},o.renderColorRamp=eb,o.resample=YP,o.rotateX=Dx,o.rotateX$1=FP,o.rotateY=kv,o.rotateY$1=NP,o.rotateZ=function(a,i,s){var d=Math.sin(s),p=Math.cos(s),g=i[0],_=i[1],b=i[2],C=i[3],T=i[4],R=i[5],F=i[6],V=i[7];return i!==a&&(a[8]=i[8],a[9]=i[9],a[10]=i[10],a[11]=i[11],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=g*p+T*d,a[1]=_*p+R*d,a[2]=b*p+F*d,a[3]=C*p+V*d,a[4]=T*p-g*d,a[5]=R*p-_*d,a[6]=F*p-b*d,a[7]=V*p-C*d,a},o.rotateZ$1=function(a,i,s){s*=.5;var d=i[0],p=i[1],g=i[2],_=i[3],b=Math.sin(s),C=Math.cos(s);return a[0]=d*C+p*b,a[1]=p*C-d*b,a[2]=g*C+_*b,a[3]=_*C-g*b,a},o.scale=_h,o.scale$1=OP,o.scale$2=wl,o.scaleAndAdd=lg,o.set=function(a,i,s,d){return a[0]=i,a[1]=s,a[2]=d,a},o.setCacheLimits=function(a,i){xn=a,jn=i},o.setColumn=function(a,i,s){a[4*i+0]=s[0],a[4*i+1]=s[1],a[4*i+2]=s[2],a[4*i+3]=s[3]},o.setRTLTextPlugin=function(a,i,s=!1){if(m===Ft||m===dn||m===Un)throw new Error("setRTLTextPlugin cannot be called multiple times.");l=Xn.resolveURL(a),m=Ft,Jn=i,y(),s||P()},o.smoothstep=Rt,o.spec=vt,o.squaredLength=function(a){var i=a[0],s=a[1],d=a[2];return i*i+s*s+d*d},o.storeAuthState=function(a,i){i?re.add(a):re.delete(a)},o.sub=Rc,o.subtract=Fx,o.symbolSize=tN,o.tileAABB=function(a,i,s,d,p,g,_,b,C){if(C.name==="globe")return qF(a,i,new Hv(s,d,p));const T=Th({z:s,x:d,y:p},C);return new Ja([(g+T.x/T.scale)*i,i*(T.y/T.scale),_],[(g+T.x2/T.scale)*i,i*(T.y2/T.scale),b])},o.tileCornersToBounds=Ov,o.tileTransform=Th,o.transformMat3=function(a,i,s){var d=i[0],p=i[1],g=i[2];return a[0]=d*s[0]+p*s[3]+g*s[6],a[1]=d*s[1]+p*s[4]+g*s[7],a[2]=d*s[2]+p*s[5]+g*s[8],a},o.transformMat4=ao,o.transformMat4$1=xh,o.transformQuat=MP,o.transitionTileAABBinECEF=UP,o.translate=ig,o.transpose=function(a,i){if(a===i){var s=i[1],d=i[2],p=i[5];a[1]=i[3],a[2]=i[6],a[3]=s,a[5]=i[7],a[6]=d,a[7]=p}else a[0]=i[0],a[1]=i[3],a[2]=i[6],a[3]=i[1],a[4]=i[4],a[5]=i[7],a[6]=i[2],a[7]=i[5],a[8]=i[8];return a},o.triggerPluginCompletionEvent=f,o.uniqueId=qn,o.updateGlobeVertexNormal=function(a,i,s,d,p){const g=5*i+2;a.float32[g+0]=s,a.float32[g+1]=d,a.float32[g+2]=p},o.validateCustomStyleLayer=function(a){const i=[],s=a.id;return s===void 0&&i.push({message:`layers.${s}: missing required property "id"`}),a.render===void 0&&i.push({message:`layers.${s}: missing required method "render"`}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&i.push({message:`layers.${s}: property "renderingMode" must be either "2d" or "3d"`}),i},o.validateFilter=a=>mo(pd(a)),o.validateFog=a=>mo(nf(a)),o.validateLayer=a=>mo(uh(a)),o.validateLight=a=>mo(Ql(a)),o.validateSource=a=>mo(ef(a)),o.validateStyle=rf,o.validateTerrain=a=>mo(tf(a)),o.values=ln,o.vectorTile=Uv,o.version=E,o.warnOnce=yn,o.window=v,o.wrap=Ge}),u(["./shared"],function(o){function v(Ae){if(typeof Ae=="number"||typeof Ae=="boolean"||typeof Ae=="string"||Ae==null)return JSON.stringify(Ae);if(Array.isArray(Ae)){let oe="[";for(const Ce of Ae)oe+=`${v(Ce)},`;return`${oe}]`}let te="{";for(const oe of Object.keys(Ae).sort())te+=`${oe}:${v(Ae[oe])},`;return`${te}}`}function E(Ae){let te="";for(const oe of o.refProperties)te+=`/${v(Ae[oe])}`;return te}class S{constructor(te){this.keyCache={},te&&this.replace(te)}replace(te){this._layerConfigs={},this._layers={},this.update(te,[])}update(te,oe){for(const Ie of te)this._layerConfigs[Ie.id]=Ie,(this._layers[Ie.id]=o.createStyleLayer(Ie)).compileFilter(),this.keyCache[Ie.id]&&delete this.keyCache[Ie.id];for(const Ie of oe)delete this.keyCache[Ie],delete this._layerConfigs[Ie],delete this._layers[Ie];this.familiesBySource={};const Ce=function(Ie,Ue){const et={};for(let Fe=0;Fe<Ie.length;Fe++){const ct=Ue&&Ue[Ie[Fe].id]||E(Ie[Fe]);Ue&&(Ue[Ie[Fe].id]=ct);let Ht=et[ct];Ht||(Ht=et[ct]=[]),Ht.push(Ie[Fe])}const Ye=[];for(const Fe in et)Ye.push(et[Fe]);return Ye}(o.values(this._layerConfigs),this.keyCache);for(const Ie of Ce){const Ue=Ie.map(Jt=>this._layers[Jt.id]),et=Ue[0];if(et.visibility==="none")continue;const Ye=et.source||"";let Fe=this.familiesBySource[Ye];Fe||(Fe=this.familiesBySource[Ye]={});const ct=et.sourceLayer||"_geojsonTileLayer";let Ht=Fe[ct];Ht||(Ht=Fe[ct]=[]),Ht.push(Ue)}}}class k{loadTile(te,oe){const{uid:Ce,encoding:Ie,rawImageData:Ue,padding:et,buildQuadTree:Ye}=te,Fe=o.window.ImageBitmap&&Ue instanceof o.window.ImageBitmap?this.getImageData(Ue,et):Ue;oe(null,new o.DEMData(Ce,Fe,Ie,et<1,Ye))}getImageData(te,oe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(te.width,te.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=te.width,this.offscreenCanvas.height=te.height,this.offscreenCanvasContext.drawImage(te,0,0,te.width,te.height);const Ce=this.offscreenCanvasContext.getImageData(-oe,-oe,te.width+2*oe,te.height+2*oe);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ce}}function O(Ae,te){if(Ae.length!==0){N(Ae[0],te);for(var oe=1;oe<Ae.length;oe++)N(Ae[oe],!te)}}function N(Ae,te){for(var oe=0,Ce=0,Ie=0,Ue=Ae.length,et=Ue-1;Ie<Ue;et=Ie++){var Ye=(Ae[Ie][0]-Ae[et][0])*(Ae[et][1]+Ae[Ie][1]),Fe=oe+Ye;Ce+=Math.abs(oe)>=Math.abs(Ye)?oe-Fe+Ye:Ye-Fe+oe,oe=Fe}oe+Ce>=0!=!!te&&Ae.reverse()}var G=o.getDefaultExportFromCjs(function Ae(te,oe){var Ce,Ie=te&&te.type;if(Ie==="FeatureCollection")for(Ce=0;Ce<te.features.length;Ce++)Ae(te.features[Ce],oe);else if(Ie==="GeometryCollection")for(Ce=0;Ce<te.geometries.length;Ce++)Ae(te.geometries[Ce],oe);else if(Ie==="Feature")Ae(te.geometry,oe);else if(Ie==="Polygon")O(te.coordinates,oe);else if(Ie==="MultiPolygon")for(Ce=0;Ce<te.coordinates.length;Ce++)O(te.coordinates[Ce],oe);return te});const U=o.VectorTileFeature.prototype.toGeoJSON;var H={exports:{}},q=o.pointGeometry,W=o.vectorTile.VectorTileFeature,Y=ie;function ie(Ae,te){this.options=te||{},this.features=Ae,this.length=Ae.length}function he(Ae,te){this.id=typeof Ae.id=="number"?Ae.id:void 0,this.type=Ae.type,this.rawGeometry=Ae.type===1?[Ae.geometry]:Ae.geometry,this.properties=Ae.tags,this.extent=te||4096}ie.prototype.feature=function(Ae){return new he(this.features[Ae],this.options.extent)},he.prototype.loadGeometry=function(){var Ae=this.rawGeometry;this.geometry=[];for(var te=0;te<Ae.length;te++){for(var oe=Ae[te],Ce=[],Ie=0;Ie<oe.length;Ie++)Ce.push(new q(oe[Ie][0],oe[Ie][1]));this.geometry.push(Ce)}return this.geometry},he.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ae=this.geometry,te=1/0,oe=-1/0,Ce=1/0,Ie=-1/0,Ue=0;Ue<Ae.length;Ue++)for(var et=Ae[Ue],Ye=0;Ye<et.length;Ye++){var Fe=et[Ye];te=Math.min(te,Fe.x),oe=Math.max(oe,Fe.x),Ce=Math.min(Ce,Fe.y),Ie=Math.max(Ie,Fe.y)}return[te,Ce,oe,Ie]},he.prototype.toGeoJSON=W.prototype.toGeoJSON;var Se=o.pbf,Pe=Y;function We(Ae){var te=new Se;return function(oe,Ce){for(var Ie in oe.layers)Ce.writeMessage(3,Le,oe.layers[Ie])}(Ae,te),te.finish()}function Le(Ae,te){var oe;te.writeVarintField(15,Ae.version||1),te.writeStringField(1,Ae.name||""),te.writeVarintField(5,Ae.extent||4096);var Ce={keys:[],values:[],keycache:{},valuecache:{}};for(oe=0;oe<Ae.length;oe++)Ce.feature=Ae.feature(oe),te.writeMessage(2,qe,Ce);var Ie=Ce.keys;for(oe=0;oe<Ie.length;oe++)te.writeStringField(3,Ie[oe]);var Ue=Ce.values;for(oe=0;oe<Ue.length;oe++)te.writeMessage(4,An,Ue[oe])}function qe(Ae,te){var oe=Ae.feature;oe.id!==void 0&&te.writeVarintField(1,oe.id),te.writeMessage(2,Kt,Ae),te.writeVarintField(3,oe.type),te.writeMessage(4,Tn,oe)}function Kt(Ae,te){var oe=Ae.feature,Ce=Ae.keys,Ie=Ae.values,Ue=Ae.keycache,et=Ae.valuecache;for(var Ye in oe.properties){var Fe=oe.properties[Ye],ct=Ue[Ye];if(Fe!==null){ct===void 0&&(Ce.push(Ye),Ue[Ye]=ct=Ce.length-1),te.writeVarint(ct);var Ht=typeof Fe;Ht!=="string"&&Ht!=="boolean"&&Ht!=="number"&&(Fe=JSON.stringify(Fe));var Jt=Ht+":"+Fe,Et=et[Jt];Et===void 0&&(Ie.push(Fe),et[Jt]=Et=Ie.length-1),te.writeVarint(Et)}}}function Ut(Ae,te){return(te<<3)+(7&Ae)}function Qt(Ae){return Ae<<1^Ae>>31}function Tn(Ae,te){for(var oe=Ae.loadGeometry(),Ce=Ae.type,Ie=0,Ue=0,et=oe.length,Ye=0;Ye<et;Ye++){var Fe=oe[Ye],ct=1;Ce===1&&(ct=Fe.length),te.writeVarint(Ut(1,ct));for(var Ht=Ce===3?Fe.length-1:Fe.length,Jt=0;Jt<Ht;Jt++){Jt===1&&Ce!==1&&te.writeVarint(Ut(2,Ht-1));var Et=Fe[Jt].x-Ie,Hn=Fe[Jt].y-Ue;te.writeVarint(Qt(Et)),te.writeVarint(Qt(Hn)),Ie+=Et,Ue+=Hn}Ce===3&&te.writeVarint(Ut(7,1))}}function An(Ae,te){var oe=typeof Ae;oe==="string"?te.writeStringField(1,Ae):oe==="boolean"?te.writeBooleanField(7,Ae):oe==="number"&&(Ae%1!=0?te.writeDoubleField(3,Ae):Ae<0?te.writeSVarintField(6,Ae):te.writeVarintField(5,Ae))}H.exports=We,H.exports.fromVectorTileJs=We,H.exports.fromGeojsonVt=function(Ae,te){te=te||{};var oe={};for(var Ce in Ae)oe[Ce]=new Pe(Ae[Ce].features,te),oe[Ce].name=Ce,oe[Ce].version=te.version,oe[Ce].extent=te.extent;return We({layers:oe})},H.exports.GeoJSONWrapper=Pe;var Vt=o.getDefaultExportFromCjs(H.exports);const _t={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ae=>Ae},Ve=Math.fround||(Rt=new Float32Array(1),Ae=>(Rt[0]=+Ae,Rt[0]));var Rt;const Ge=3,sn=5,ln=6;class pn{constructor(te){this.options=Object.assign(Object.create(_t),te),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(te){const{log:oe,minZoom:Ce,maxZoom:Ie}=this.options;oe&&console.time("total time");const Ue=`prepare ${te.length} points`;oe&&console.time(Ue),this.points=te;const et=[];for(let Fe=0;Fe<te.length;Fe++){const ct=te[Fe];if(!ct.geometry)continue;const[Ht,Jt]=ct.geometry.coordinates,Et=Ve(nn(Ht)),Hn=Ve(Bt(Jt));et.push(Et,Hn,1/0,Fe,-1,1),this.options.reduce&&et.push(0)}let Ye=this.trees[Ie+1]=this._createTree(et);oe&&console.timeEnd(Ue);for(let Fe=Ie;Fe>=Ce;Fe--){const ct=+Date.now();Ye=this.trees[Fe]=this._createTree(this._cluster(Ye,Fe)),oe&&console.log("z%d: %d clusters in %dms",Fe,Ye.numItems,+Date.now()-ct)}return oe&&console.timeEnd("total time"),this}getClusters(te,oe){let Ce=((te[0]+180)%360+360)%360-180;const Ie=Math.max(-90,Math.min(90,te[1]));let Ue=te[2]===180?180:((te[2]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,te[3]));if(te[2]-te[0]>=360)Ce=-180,Ue=180;else if(Ce>Ue){const Jt=this.getClusters([Ce,Ie,180,et],oe),Et=this.getClusters([-180,Ie,Ue,et],oe);return Jt.concat(Et)}const Ye=this.trees[this._limitZoom(oe)],Fe=Ye.range(nn(Ce),Bt(et),nn(Ue),Bt(Ie)),ct=Ye.data,Ht=[];for(const Jt of Fe){const Et=this.stride*Jt;Ht.push(ct[Et+sn]>1?Yn(ct,Et,this.clusterProps):this.points[ct[Et+Ge]])}return Ht}getChildren(te){const oe=this._getOriginId(te),Ce=this._getOriginZoom(te),Ie="No cluster with the specified id.",Ue=this.trees[Ce];if(!Ue)throw new Error(Ie);const et=Ue.data;if(oe*this.stride>=et.length)throw new Error(Ie);const Ye=this.options.radius/(this.options.extent*Math.pow(2,Ce-1)),Fe=Ue.within(et[oe*this.stride],et[oe*this.stride+1],Ye),ct=[];for(const Ht of Fe){const Jt=Ht*this.stride;et[Jt+4]===te&&ct.push(et[Jt+sn]>1?Yn(et,Jt,this.clusterProps):this.points[et[Jt+Ge]])}if(ct.length===0)throw new Error(Ie);return ct}getLeaves(te,oe,Ce){const Ie=[];return this._appendLeaves(Ie,te,oe=oe||10,Ce=Ce||0,0),Ie}getTile(te,oe,Ce){const Ie=this.trees[this._limitZoom(te)],Ue=Math.pow(2,te),{extent:et,radius:Ye}=this.options,Fe=Ye/et,ct=(Ce-Fe)/Ue,Ht=(Ce+1+Fe)/Ue,Jt={features:[]};return this._addTileFeatures(Ie.range((oe-Fe)/Ue,ct,(oe+1+Fe)/Ue,Ht),Ie.data,oe,Ce,Ue,Jt),oe===0&&this._addTileFeatures(Ie.range(1-Fe/Ue,ct,1,Ht),Ie.data,Ue,Ce,Ue,Jt),oe===Ue-1&&this._addTileFeatures(Ie.range(0,ct,Fe/Ue,Ht),Ie.data,-1,Ce,Ue,Jt),Jt.features.length?Jt:null}getClusterExpansionZoom(te){let oe=this._getOriginZoom(te)-1;for(;oe<=this.options.maxZoom;){const Ce=this.getChildren(te);if(oe++,Ce.length!==1)break;te=Ce[0].properties.cluster_id}return oe}_appendLeaves(te,oe,Ce,Ie,Ue){const et=this.getChildren(oe);for(const Ye of et){const Fe=Ye.properties;if(Fe&&Fe.cluster?Ue+Fe.point_count<=Ie?Ue+=Fe.point_count:Ue=this._appendLeaves(te,Fe.cluster_id,Ce,Ie,Ue):Ue<Ie?Ue++:te.push(Ye),te.length===Ce)break}return Ue}_createTree(te){const oe=new o.KDBush(te.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ce=0;Ce<te.length;Ce+=this.stride)oe.add(te[Ce],te[Ce+1]);return oe.finish(),oe.data=te,oe}_addTileFeatures(te,oe,Ce,Ie,Ue,et){for(const Ye of te){const Fe=Ye*this.stride,ct=oe[Fe+sn]>1;let Ht,Jt,Et;if(ct)Ht=qn(oe,Fe,this.clusterProps),Jt=oe[Fe],Et=oe[Fe+1];else{const Tt=this.points[oe[Fe+Ge]];Ht=Tt.properties;const[nt,Ct]=Tt.geometry.coordinates;Jt=nn(nt),Et=Bt(Ct)}const Hn={type:1,geometry:[[Math.round(this.options.extent*(Jt*Ue-Ce)),Math.round(this.options.extent*(Et*Ue-Ie))]],tags:Ht};let rr;rr=ct||this.options.generateId?oe[Fe+Ge]:this.points[oe[Fe+Ge]].id,rr!==void 0&&(Hn.id=rr),et.features.push(Hn)}}_limitZoom(te){return Math.max(this.options.minZoom,Math.min(Math.floor(+te),this.options.maxZoom+1))}_cluster(te,oe){const{radius:Ce,extent:Ie,reduce:Ue,minPoints:et}=this.options,Ye=Ce/(Ie*Math.pow(2,oe)),Fe=te.data,ct=[],Ht=this.stride;for(let Jt=0;Jt<Fe.length;Jt+=Ht){if(Fe[Jt+2]<=oe)continue;Fe[Jt+2]=oe;const Et=Fe[Jt],Hn=Fe[Jt+1],rr=te.within(Fe[Jt],Fe[Jt+1],Ye),Tt=Fe[Jt+sn];let nt=Tt;for(const Ct of rr){const cn=Ct*Ht;Fe[cn+2]>oe&&(nt+=Fe[cn+sn])}if(nt>Tt&&nt>=et){let Ct,cn=Et*Tt,Fn=Hn*Tt,ir=-1;const On=((Jt/Ht|0)<<5)+(oe+1)+this.points.length;for(const vr of rr){const ft=vr*Ht;if(Fe[ft+2]<=oe)continue;Fe[ft+2]=oe;const re=Fe[ft+sn];cn+=Fe[ft]*re,Fn+=Fe[ft+1]*re,Fe[ft+4]=On,Ue&&(Ct||(Ct=this._map(Fe,Jt,!0),ir=this.clusterProps.length,this.clusterProps.push(Ct)),Ue(Ct,this._map(Fe,ft)))}Fe[Jt+4]=On,ct.push(cn/nt,Fn/nt,1/0,On,-1,nt),Ue&&ct.push(ir)}else{for(let Ct=0;Ct<Ht;Ct++)ct.push(Fe[Jt+Ct]);if(nt>1)for(const Ct of rr){const cn=Ct*Ht;if(!(Fe[cn+2]<=oe)){Fe[cn+2]=oe;for(let Fn=0;Fn<Ht;Fn++)ct.push(Fe[cn+Fn])}}}}return ct}_getOriginId(te){return te-this.points.length>>5}_getOriginZoom(te){return(te-this.points.length)%32}_map(te,oe,Ce){if(te[oe+sn]>1){const et=this.clusterProps[te[oe+ln]];return Ce?Object.assign({},et):et}const Ie=this.points[te[oe+Ge]].properties,Ue=this.options.map(Ie);return Ce&&Ue===Ie?Object.assign({},Ue):Ue}}function Yn(Ae,te,oe){return{type:"Feature",id:Ae[te+Ge],properties:qn(Ae,te,oe),geometry:{type:"Point",coordinates:[(Ce=Ae[te],360*(Ce-.5)),ot(Ae[te+1])]}};var Ce}function qn(Ae,te,oe){const Ce=Ae[te+sn],Ie=Ce>=1e4?`${Math.round(Ce/1e3)}k`:Ce>=1e3?Math.round(Ce/100)/10+"k":Ce,Ue=Ae[te+ln],et=Ue===-1?{}:Object.assign({},oe[Ue]);return Object.assign(et,{cluster:!0,cluster_id:Ae[te+Ge],point_count:Ce,point_count_abbreviated:Ie})}function nn(Ae){return Ae/360+.5}function Bt(Ae){const te=Math.sin(Ae*Math.PI/180),oe=.5-.25*Math.log((1+te)/(1-te))/Math.PI;return oe<0?0:oe>1?1:oe}function ot(Ae){const te=(180-360*Ae)*Math.PI/180;return 360*Math.atan(Math.exp(te))/Math.PI-90}function Xe(Ae,te,oe,Ce){for(var Ie,Ue=Ce,et=oe-te>>1,Ye=oe-te,Fe=Ae[te],ct=Ae[te+1],Ht=Ae[oe],Jt=Ae[oe+1],Et=te+3;Et<oe;Et+=3){var Hn=Xt(Ae[Et],Ae[Et+1],Fe,ct,Ht,Jt);if(Hn>Ue)Ie=Et,Ue=Hn;else if(Hn===Ue){var rr=Math.abs(Et-et);rr<Ye&&(Ie=Et,Ye=rr)}}Ue>Ce&&(Ie-te>3&&Xe(Ae,te,Ie,Ce),Ae[Ie+2]=Ue,oe-Ie>3&&Xe(Ae,Ie,oe,Ce))}function Xt(Ae,te,oe,Ce,Ie,Ue){var et=Ie-oe,Ye=Ue-Ce;if(et!==0||Ye!==0){var Fe=((Ae-oe)*et+(te-Ce)*Ye)/(et*et+Ye*Ye);Fe>1?(oe=Ie,Ce=Ue):Fe>0&&(oe+=et*Fe,Ce+=Ye*Fe)}return(et=Ae-oe)*et+(Ye=te-Ce)*Ye}function It(Ae,te,oe,Ce){var Ie={id:Ae===void 0?null:Ae,type:te,geometry:oe,tags:Ce,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ue){var et=Ue.geometry,Ye=Ue.type;if(Ye==="Point"||Ye==="MultiPoint"||Ye==="LineString")Mn(Ue,et);else if(Ye==="Polygon"||Ye==="MultiLineString")for(var Fe=0;Fe<et.length;Fe++)Mn(Ue,et[Fe]);else if(Ye==="MultiPolygon")for(Fe=0;Fe<et.length;Fe++)for(var ct=0;ct<et[Fe].length;ct++)Mn(Ue,et[Fe][ct])}(Ie),Ie}function Mn(Ae,te){for(var oe=0;oe<te.length;oe+=3)Ae.minX=Math.min(Ae.minX,te[oe]),Ae.minY=Math.min(Ae.minY,te[oe+1]),Ae.maxX=Math.max(Ae.maxX,te[oe]),Ae.maxY=Math.max(Ae.maxY,te[oe+1])}function En(Ae,te,oe,Ce){if(te.geometry){var Ie=te.geometry.coordinates,Ue=te.geometry.type,et=Math.pow(oe.tolerance/((1<<oe.maxZoom)*oe.extent),2),Ye=[],Fe=te.id;if(oe.promoteId?Fe=te.properties[oe.promoteId]:oe.generateId&&(Fe=Ce||0),Ue==="Point")er(Ie,Ye);else if(Ue==="MultiPoint")for(var ct=0;ct<Ie.length;ct++)er(Ie[ct],Ye);else if(Ue==="LineString")yn(Ie,Ye,et,!1);else if(Ue==="MultiLineString"){if(oe.lineMetrics){for(ct=0;ct<Ie.length;ct++)yn(Ie[ct],Ye=[],et,!1),Ae.push(It(Fe,"LineString",Ye,te.properties));return}xe(Ie,Ye,et,!1)}else if(Ue==="Polygon")xe(Ie,Ye,et,!0);else{if(Ue!=="MultiPolygon"){if(Ue==="GeometryCollection"){for(ct=0;ct<te.geometry.geometries.length;ct++)En(Ae,{id:Fe,geometry:te.geometry.geometries[ct],properties:te.properties},oe,Ce);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ct=0;ct<Ie.length;ct++){var Ht=[];xe(Ie[ct],Ht,et,!0),Ye.push(Ht)}}Ae.push(It(Fe,Ue,Ye,te.properties))}}function er(Ae,te){te.push(Re(Ae[0])),te.push(lt(Ae[1])),te.push(0)}function yn(Ae,te,oe,Ce){for(var Ie,Ue,et=0,Ye=0;Ye<Ae.length;Ye++){var Fe=Re(Ae[Ye][0]),ct=lt(Ae[Ye][1]);te.push(Fe),te.push(ct),te.push(0),Ye>0&&(et+=Ce?(Ie*ct-Fe*Ue)/2:Math.sqrt(Math.pow(Fe-Ie,2)+Math.pow(ct-Ue,2))),Ie=Fe,Ue=ct}var Ht=te.length-3;te[2]=1,Xe(te,0,Ht,oe),te[Ht+2]=1,te.size=Math.abs(et),te.start=0,te.end=te.size}function xe(Ae,te,oe,Ce){for(var Ie=0;Ie<Ae.length;Ie++){var Ue=[];yn(Ae[Ie],Ue,oe,Ce),te.push(Ue)}}function Re(Ae){return Ae/360+.5}function lt(Ae){var te=Math.sin(Ae*Math.PI/180),oe=.5-.25*Math.log((1+te)/(1-te))/Math.PI;return oe<0?0:oe>1?1:oe}function kt(Ae,te,oe,Ce,Ie,Ue,et,Ye){if(Ce/=te,Ue>=(oe/=te)&&et<Ce)return Ae;if(et<oe||Ue>=Ce)return null;for(var Fe=[],ct=0;ct<Ae.length;ct++){var Ht=Ae[ct],Jt=Ht.geometry,Et=Ht.type,Hn=Ie===0?Ht.minX:Ht.minY,rr=Ie===0?Ht.maxX:Ht.maxY;if(Hn>=oe&&rr<Ce)Fe.push(Ht);else if(!(rr<oe||Hn>=Ce)){var Tt=[];if(Et==="Point"||Et==="MultiPoint")zt(Jt,Tt,oe,Ce,Ie);else if(Et==="LineString")Wt(Jt,Tt,oe,Ce,Ie,!1,Ye.lineMetrics);else if(Et==="MultiLineString")Rn(Jt,Tt,oe,Ce,Ie,!1);else if(Et==="Polygon")Rn(Jt,Tt,oe,Ce,Ie,!0);else if(Et==="MultiPolygon")for(var nt=0;nt<Jt.length;nt++){var Ct=[];Rn(Jt[nt],Ct,oe,Ce,Ie,!0),Ct.length&&Tt.push(Ct)}if(Tt.length){if(Ye.lineMetrics&&Et==="LineString"){for(nt=0;nt<Tt.length;nt++)Fe.push(It(Ht.id,Et,Tt[nt],Ht.tags));continue}Et!=="LineString"&&Et!=="MultiLineString"||(Tt.length===1?(Et="LineString",Tt=Tt[0]):Et="MultiLineString"),Et!=="Point"&&Et!=="MultiPoint"||(Et=Tt.length===3?"Point":"MultiPoint"),Fe.push(It(Ht.id,Et,Tt,Ht.tags))}}}return Fe.length?Fe:null}function zt(Ae,te,oe,Ce,Ie){for(var Ue=0;Ue<Ae.length;Ue+=3){var et=Ae[Ue+Ie];et>=oe&&et<=Ce&&(te.push(Ae[Ue]),te.push(Ae[Ue+1]),te.push(Ae[Ue+2]))}}function Wt(Ae,te,oe,Ce,Ie,Ue,et){for(var Ye,Fe,ct=Pn(Ae),Ht=Ie===0?xn:jn,Jt=Ae.start,Et=0;Et<Ae.length-3;Et+=3){var Hn=Ae[Et],rr=Ae[Et+1],Tt=Ae[Et+2],nt=Ae[Et+3],Ct=Ae[Et+4],cn=Ie===0?Hn:rr,Fn=Ie===0?nt:Ct,ir=!1;et&&(Ye=Math.sqrt(Math.pow(Hn-nt,2)+Math.pow(rr-Ct,2))),cn<oe?Fn>oe&&(Fe=Ht(ct,Hn,rr,nt,Ct,oe),et&&(ct.start=Jt+Ye*Fe)):cn>Ce?Fn<Ce&&(Fe=Ht(ct,Hn,rr,nt,Ct,Ce),et&&(ct.start=Jt+Ye*Fe)):kn(ct,Hn,rr,Tt),Fn<oe&&cn>=oe&&(Fe=Ht(ct,Hn,rr,nt,Ct,oe),ir=!0),Fn>Ce&&cn<=Ce&&(Fe=Ht(ct,Hn,rr,nt,Ct,Ce),ir=!0),!Ue&&ir&&(et&&(ct.end=Jt+Ye*Fe),te.push(ct),ct=Pn(Ae)),et&&(Jt+=Ye)}var On=Ae.length-3;Hn=Ae[On],rr=Ae[On+1],Tt=Ae[On+2],(cn=Ie===0?Hn:rr)>=oe&&cn<=Ce&&kn(ct,Hn,rr,Tt),On=ct.length-3,Ue&&On>=3&&(ct[On]!==ct[0]||ct[On+1]!==ct[1])&&kn(ct,ct[0],ct[1],ct[2]),ct.length&&te.push(ct)}function Pn(Ae){var te=[];return te.size=Ae.size,te.start=Ae.start,te.end=Ae.end,te}function Rn(Ae,te,oe,Ce,Ie,Ue){for(var et=0;et<Ae.length;et++)Wt(Ae[et],te,oe,Ce,Ie,Ue,!1)}function kn(Ae,te,oe,Ce){Ae.push(te),Ae.push(oe),Ae.push(Ce)}function xn(Ae,te,oe,Ce,Ie,Ue){var et=(Ue-te)/(Ce-te);return Ae.push(Ue),Ae.push(oe+(Ie-oe)*et),Ae.push(1),et}function jn(Ae,te,oe,Ce,Ie,Ue){var et=(Ue-oe)/(Ie-oe);return Ae.push(te+(Ce-te)*et),Ae.push(Ue),Ae.push(1),et}function nr(Ae,te){for(var oe=[],Ce=0;Ce<Ae.length;Ce++){var Ie,Ue=Ae[Ce],et=Ue.type;if(et==="Point"||et==="MultiPoint"||et==="LineString")Ie=wn(Ue.geometry,te);else if(et==="MultiLineString"||et==="Polygon"){Ie=[];for(var Ye=0;Ye<Ue.geometry.length;Ye++)Ie.push(wn(Ue.geometry[Ye],te))}else if(et==="MultiPolygon")for(Ie=[],Ye=0;Ye<Ue.geometry.length;Ye++){for(var Fe=[],ct=0;ct<Ue.geometry[Ye].length;ct++)Fe.push(wn(Ue.geometry[Ye][ct],te));Ie.push(Fe)}oe.push(It(Ue.id,et,Ie,Ue.tags))}return oe}function wn(Ae,te){var oe=[];oe.size=Ae.size,Ae.start!==void 0&&(oe.start=Ae.start,oe.end=Ae.end);for(var Ce=0;Ce<Ae.length;Ce+=3)oe.push(Ae[Ce]+te,Ae[Ce+1],Ae[Ce+2]);return oe}function Qe(Ae,te){if(Ae.transformed)return Ae;var oe,Ce,Ie,Ue=1<<Ae.z,et=Ae.x,Ye=Ae.y;for(oe=0;oe<Ae.features.length;oe++){var Fe=Ae.features[oe],ct=Fe.geometry,Ht=Fe.type;if(Fe.geometry=[],Ht===1)for(Ce=0;Ce<ct.length;Ce+=2)Fe.geometry.push(xt(ct[Ce],ct[Ce+1],te,Ue,et,Ye));else for(Ce=0;Ce<ct.length;Ce++){var Jt=[];for(Ie=0;Ie<ct[Ce].length;Ie+=2)Jt.push(xt(ct[Ce][Ie],ct[Ce][Ie+1],te,Ue,et,Ye));Fe.geometry.push(Jt)}}return Ae.transformed=!0,Ae}function xt(Ae,te,oe,Ce,Ie,Ue){return[Math.round(oe*(Ae*Ce-Ie)),Math.round(oe*(te*Ce-Ue))]}function Ze(Ae,te,oe,Ce,Ie){for(var Ue=te===Ie.maxZoom?0:Ie.tolerance/((1<<te)*Ie.extent),et={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:oe,y:Ce,z:te,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ye=0;Ye<Ae.length;Ye++){et.numFeatures++,Gt(et,Ae[Ye],Ue,Ie);var Fe=Ae[Ye].minX,ct=Ae[Ye].minY,Ht=Ae[Ye].maxX,Jt=Ae[Ye].maxY;Fe<et.minX&&(et.minX=Fe),ct<et.minY&&(et.minY=ct),Ht>et.maxX&&(et.maxX=Ht),Jt>et.maxY&&(et.maxY=Jt)}return et}function Gt(Ae,te,oe,Ce){var Ie=te.geometry,Ue=te.type,et=[];if(Ue==="Point"||Ue==="MultiPoint")for(var Ye=0;Ye<Ie.length;Ye+=3)et.push(Ie[Ye]),et.push(Ie[Ye+1]),Ae.numPoints++,Ae.numSimplified++;else if(Ue==="LineString")Cn(et,Ie,Ae,oe,!1,!1);else if(Ue==="MultiLineString"||Ue==="Polygon")for(Ye=0;Ye<Ie.length;Ye++)Cn(et,Ie[Ye],Ae,oe,Ue==="Polygon",Ye===0);else if(Ue==="MultiPolygon")for(var Fe=0;Fe<Ie.length;Fe++){var ct=Ie[Fe];for(Ye=0;Ye<ct.length;Ye++)Cn(et,ct[Ye],Ae,oe,!0,Ye===0)}if(et.length){var Ht=te.tags||null;if(Ue==="LineString"&&Ce.lineMetrics){for(var Jt in Ht={},te.tags)Ht[Jt]=te.tags[Jt];Ht.mapbox_clip_start=Ie.start/Ie.size,Ht.mapbox_clip_end=Ie.end/Ie.size}var Et={geometry:et,type:Ue==="Polygon"||Ue==="MultiPolygon"?3:Ue==="LineString"||Ue==="MultiLineString"?2:1,tags:Ht};te.id!==null&&(Et.id=te.id),Ae.features.push(Et)}}function Cn(Ae,te,oe,Ce,Ie,Ue){var et=Ce*Ce;if(Ce>0&&te.size<(Ie?et:Ce))oe.numPoints+=te.length/3;else{for(var Ye=[],Fe=0;Fe<te.length;Fe+=3)(Ce===0||te[Fe+2]>et)&&(oe.numSimplified++,Ye.push(te[Fe]),Ye.push(te[Fe+1])),oe.numPoints++;Ie&&function(ct,Ht){for(var Jt=0,Et=0,Hn=ct.length,rr=Hn-2;Et<Hn;rr=Et,Et+=2)Jt+=(ct[Et]-ct[rr])*(ct[Et+1]+ct[rr+1]);if(Jt>0===Ht)for(Et=0,Hn=ct.length;Et<Hn/2;Et+=2){var Tt=ct[Et],nt=ct[Et+1];ct[Et]=ct[Hn-2-Et],ct[Et+1]=ct[Hn-1-Et],ct[Hn-2-Et]=Tt,ct[Hn-1-Et]=nt}}(Ye,Ue),Ae.push(Ye)}}function Vn(Ae,te){var oe=(te=this.options=function(Ie,Ue){for(var et in Ue)Ie[et]=Ue[et];return Ie}(Object.create(this.options),te)).debug;if(oe&&console.time("preprocess data"),te.maxZoom<0||te.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(te.promoteId&&te.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ce=function(Ie,Ue){var et=[];if(Ie.type==="FeatureCollection")for(var Ye=0;Ye<Ie.features.length;Ye++)En(et,Ie.features[Ye],Ue,Ye);else En(et,Ie.type==="Feature"?Ie:{geometry:Ie},Ue);return et}(Ae,te);this.tiles={},this.tileCoords=[],oe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",te.indexMaxZoom,te.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ce=function(Ie,Ue){var et=Ue.buffer/Ue.extent,Ye=Ie,Fe=kt(Ie,1,-1-et,et,0,-1,2,Ue),ct=kt(Ie,1,1-et,2+et,0,-1,2,Ue);return(Fe||ct)&&(Ye=kt(Ie,1,-et,1+et,0,-1,2,Ue)||[],Fe&&(Ye=nr(Fe,1).concat(Ye)),ct&&(Ye=Ye.concat(nr(ct,-1)))),Ye}(Ce,te),Ce.length&&this.splitTile(Ce,0,0,0),oe&&(Ce.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function mr(Ae,te,oe){return 32*((1<<Ae)*oe+te)+Ae}function dr(Ae,te){const oe=Ae.tileID.canonical;if(!this._geoJSONIndex)return te(null,null);const Ce=this._geoJSONIndex.getTile(oe.z,oe.x,oe.y);if(!Ce)return te(null,null);const Ie=new class{constructor(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.EXTENT,this.length=et.length,this._features=et}feature(et){return new class{constructor(Ye){this._feature=Ye,this.extent=o.EXTENT,this.type=Ye.type,this.properties=Ye.tags,"id"in Ye&&!isNaN(Ye.id)&&(this.id=parseInt(Ye.id,10))}loadGeometry(){if(this._feature.type===1){const Ye=[];for(const Fe of this._feature.geometry)Ye.push([new o.Point(Fe[0],Fe[1])]);return Ye}{const Ye=[];for(const Fe of this._feature.geometry){const ct=[];for(const Ht of Fe)ct.push(new o.Point(Ht[0],Ht[1]));Ye.push(ct)}return Ye}}toGeoJSON(Ye,Fe,ct){return U.call(this,Ye,Fe,ct)}}(this._features[et])}}(Ce.features);let Ue=Vt(Ie);Ue.byteOffset===0&&Ue.byteLength===Ue.buffer.byteLength||(Ue=new Uint8Array(Ue)),te(null,{vectorTile:Ie,rawData:Ue.buffer})}Vn.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Vn.prototype.splitTile=function(Ae,te,oe,Ce,Ie,Ue,et){for(var Ye=[Ae,te,oe,Ce],Fe=this.options,ct=Fe.debug;Ye.length;){Ce=Ye.pop(),oe=Ye.pop(),te=Ye.pop(),Ae=Ye.pop();var Ht=1<<te,Jt=mr(te,oe,Ce),Et=this.tiles[Jt];if(!Et&&(ct>1&&console.time("creation"),Et=this.tiles[Jt]=Ze(Ae,te,oe,Ce,Fe),this.tileCoords.push({z:te,x:oe,y:Ce}),ct)){ct>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",te,oe,Ce,Et.numFeatures,Et.numPoints,Et.numSimplified),console.timeEnd("creation"));var Hn="z"+te;this.stats[Hn]=(this.stats[Hn]||0)+1,this.total++}if(Et.source=Ae,Ie){if(te===Fe.maxZoom||te===Ie)continue;var rr=1<<Ie-te;if(oe!==Math.floor(Ue/rr)||Ce!==Math.floor(et/rr))continue}else if(te===Fe.indexMaxZoom||Et.numPoints<=Fe.indexMaxPoints)continue;if(Et.source=null,Ae.length!==0){ct>1&&console.time("clipping");var Tt,nt,Ct,cn,Fn,ir,On=.5*Fe.buffer/Fe.extent,vr=.5-On,ft=.5+On,re=1+On;Tt=nt=Ct=cn=null,Fn=kt(Ae,Ht,oe-On,oe+ft,0,Et.minX,Et.maxX,Fe),ir=kt(Ae,Ht,oe+vr,oe+re,0,Et.minX,Et.maxX,Fe),Ae=null,Fn&&(Tt=kt(Fn,Ht,Ce-On,Ce+ft,1,Et.minY,Et.maxY,Fe),nt=kt(Fn,Ht,Ce+vr,Ce+re,1,Et.minY,Et.maxY,Fe),Fn=null),ir&&(Ct=kt(ir,Ht,Ce-On,Ce+ft,1,Et.minY,Et.maxY,Fe),cn=kt(ir,Ht,Ce+vr,Ce+re,1,Et.minY,Et.maxY,Fe),ir=null),ct>1&&console.timeEnd("clipping"),Ye.push(Tt||[],te+1,2*oe,2*Ce),Ye.push(nt||[],te+1,2*oe,2*Ce+1),Ye.push(Ct||[],te+1,2*oe+1,2*Ce),Ye.push(cn||[],te+1,2*oe+1,2*Ce+1)}}},Vn.prototype.getTile=function(Ae,te,oe){var Ce=this.options,Ie=Ce.extent,Ue=Ce.debug;if(Ae<0||Ae>24)return null;var et=1<<Ae,Ye=mr(Ae,te=(te%et+et)%et,oe);if(this.tiles[Ye])return Qe(this.tiles[Ye],Ie);Ue>1&&console.log("drilling down to z%d-%d-%d",Ae,te,oe);for(var Fe,ct=Ae,Ht=te,Jt=oe;!Fe&&ct>0;)ct--,Ht=Math.floor(Ht/2),Jt=Math.floor(Jt/2),Fe=this.tiles[mr(ct,Ht,Jt)];return Fe&&Fe.source?(Ue>1&&console.log("found parent tile z%d-%d-%d",ct,Ht,Jt),Ue>1&&console.time("drilling down"),this.splitTile(Fe.source,ct,Ht,Jt,Ae,te,oe),Ue>1&&console.timeEnd("drilling down"),this.tiles[Ye]?Qe(this.tiles[Ye],Ie):null):null};class yr extends o.VectorTileWorkerSource{constructor(te,oe,Ce,Ie,Ue){super(te,oe,Ce,Ie,dr),Ue&&(this.loadGeoJSON=Ue)}loadData(te,oe){const Ce=te&&te.request,Ie=Ce&&Ce.collectResourceTiming;this.loadGeoJSON(te,(Ue,et)=>{if(Ue||!et)return oe(Ue);if(typeof et!="object")return oe(new Error(`Input data given to '${te.source}' is not a valid GeoJSON object.`));{G(et,!0);try{if(te.filter){const Fe=o.createExpression(te.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Fe.result==="error")throw new Error(Fe.value.map(Ht=>`${Ht.key}: ${Ht.message}`).join(", "));et={type:"FeatureCollection",features:et.features.filter(Ht=>Fe.value.evaluate({zoom:0},Ht))}}this._geoJSONIndex=te.cluster?new pn(function({superclusterOptions:Fe,clusterProperties:ct}){if(!ct||!Fe)return Fe;const Ht={},Jt={},Et={accumulated:null,zoom:0},Hn={properties:null},rr=Object.keys(ct);for(const Tt of rr){const[nt,Ct]=ct[Tt],cn=o.createExpression(Ct),Fn=o.createExpression(typeof nt=="string"?[nt,["accumulated"],["get",Tt]]:nt);Ht[Tt]=cn.value,Jt[Tt]=Fn.value}return Fe.map=Tt=>{Hn.properties=Tt;const nt={};for(const Ct of rr)nt[Ct]=Ht[Ct].evaluate(Et,Hn);return nt},Fe.reduce=(Tt,nt)=>{Hn.properties=nt;for(const Ct of rr)Et.accumulated=Tt[Ct],Tt[Ct]=Jt[Ct].evaluate(Et,Hn)},Fe}(te)).load(et.features):function(Fe,ct){return new Vn(Fe,ct)}(et,te.geojsonVtOptions)}catch(Fe){return oe(Fe)}this.loaded={};const Ye={};if(Ie){const Fe=o.getPerformanceMeasurement(Ce);Fe&&(Ye.resourceTiming={},Ye.resourceTiming[te.source]=JSON.parse(JSON.stringify(Fe)))}oe(null,Ye)}})}reloadTile(te,oe){const Ce=this.loaded;return Ce&&Ce[te.uid]?super.reloadTile(te,oe):this.loadTile(te,oe)}loadGeoJSON(te,oe){if(te.request)o.getJSON(te.request,oe);else{if(typeof te.data!="string")return oe(new Error(`Input data given to '${te.source}' is not a valid GeoJSON object.`));try{return oe(null,JSON.parse(te.data))}catch{return oe(new Error(`Input data given to '${te.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(te,oe){try{oe(null,this._geoJSONIndex.getClusterExpansionZoom(te.clusterId))}catch(Ce){oe(Ce)}}getClusterChildren(te,oe){try{oe(null,this._geoJSONIndex.getChildren(te.clusterId))}catch(Ce){oe(Ce)}}getClusterLeaves(te,oe){try{oe(null,this._geoJSONIndex.getLeaves(te.clusterId,te.limit,te.offset))}catch(Ce){oe(Ce)}}}class Nr{constructor(te){this.self=te,this.actor=new o.Actor(te,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=o.getProjection({name:"mercator"}),this.workerSourceTypes={vector:o.VectorTileWorkerSource,geojson:yr},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(oe,Ce)=>{if(this.workerSourceTypes[oe])throw new Error(`Worker source with name "${oe}" already registered.`);this.workerSourceTypes[oe]=Ce},this.self.registerRTLTextPlugin=oe=>{if(o.plugin.isParsed())throw new Error("RTL text plugin already registered.");o.plugin.applyArabicShaping=oe.applyArabicShaping,o.plugin.processBidirectionalText=oe.processBidirectionalText,o.plugin.processStyledBidirectionalText=oe.processStyledBidirectionalText}}clearCaches(te,oe,Ce){delete this.layerIndexes[te],delete this.availableImages[te],delete this.workerSources[te],delete this.demWorkerSources[te],Ce()}checkIfReady(te,oe,Ce){Ce()}setReferrer(te,oe){this.referrer=oe}spriteLoaded(te,oe){this.isSpriteLoaded[te]=oe;for(const Ce in this.workerSources[te]){const Ie=this.workerSources[te][Ce];for(const Ue in Ie)Ie[Ue]instanceof o.VectorTileWorkerSource&&(Ie[Ue].isSpriteLoaded=oe,Ie[Ue].fire(new o.Event("isSpriteLoaded")))}}setImages(te,oe,Ce){this.availableImages[te]=oe;for(const Ie in this.workerSources[te]){const Ue=this.workerSources[te][Ie];for(const et in Ue)Ue[et].availableImages=oe}Ce()}enableTerrain(te,oe,Ce){this.terrain=oe,Ce()}setProjection(te,oe){this.projections[te]=o.getProjection(oe)}setLayers(te,oe,Ce){this.getLayerIndex(te).replace(oe),Ce()}updateLayers(te,oe,Ce){this.getLayerIndex(te).update(oe.layers,oe.removedIds),Ce()}loadTile(te,oe,Ce){const Ie=this.enableTerrain?o.extend({enableTerrain:this.terrain},oe):oe;Ie.projection=this.projections[te]||this.defaultProjection,this.getWorkerSource(te,oe.type,oe.source).loadTile(Ie,Ce)}loadDEMTile(te,oe,Ce){const Ie=this.enableTerrain?o.extend({buildQuadTree:this.terrain},oe):oe;this.getDEMWorkerSource(te,oe.source).loadTile(Ie,Ce)}reloadTile(te,oe,Ce){const Ie=this.enableTerrain?o.extend({enableTerrain:this.terrain},oe):oe;Ie.projection=this.projections[te]||this.defaultProjection,this.getWorkerSource(te,oe.type,oe.source).reloadTile(Ie,Ce)}abortTile(te,oe,Ce){this.getWorkerSource(te,oe.type,oe.source).abortTile(oe,Ce)}removeTile(te,oe,Ce){this.getWorkerSource(te,oe.type,oe.source).removeTile(oe,Ce)}removeSource(te,oe,Ce){if(!this.workerSources[te]||!this.workerSources[te][oe.type]||!this.workerSources[te][oe.type][oe.source])return;const Ie=this.workerSources[te][oe.type][oe.source];delete this.workerSources[te][oe.type][oe.source],Ie.removeSource!==void 0?Ie.removeSource(oe,Ce):Ce()}loadWorkerSource(te,oe,Ce){try{this.self.importScripts(oe.url),Ce()}catch(Ie){Ce(Ie.toString())}}syncRTLPluginState(te,oe,Ce){try{o.plugin.setState(oe);const Ie=o.plugin.getPluginURL();if(o.plugin.isLoaded()&&!o.plugin.isParsed()&&Ie!=null){this.self.importScripts(Ie);const Ue=o.plugin.isParsed();Ce(Ue?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ie}`),Ue)}}catch(Ie){Ce(Ie.toString())}}getAvailableImages(te){let oe=this.availableImages[te];return oe||(oe=[]),oe}getLayerIndex(te){let oe=this.layerIndexes[te];return oe||(oe=this.layerIndexes[te]=new S),oe}getWorkerSource(te,oe,Ce){if(this.workerSources[te]||(this.workerSources[te]={}),this.workerSources[te][oe]||(this.workerSources[te][oe]={}),!this.workerSources[te][oe][Ce]){const Ie={send:(Ue,et,Ye,Fe,ct,Ht)=>{this.actor.send(Ue,et,Ye,te,ct,Ht)},scheduler:this.actor.scheduler};this.workerSources[te][oe][Ce]=new this.workerSourceTypes[oe](Ie,this.getLayerIndex(te),this.getAvailableImages(te),this.isSpriteLoaded[te])}return this.workerSources[te][oe][Ce]}getDEMWorkerSource(te,oe){return this.demWorkerSources[te]||(this.demWorkerSources[te]={}),this.demWorkerSources[te][oe]||(this.demWorkerSources[te][oe]=new k),this.demWorkerSources[te][oe]}enforceCacheSizeLimit(te,oe){o.enforceCacheSizeLimit(oe)}getWorkerPerformanceMetrics(te,oe,Ce){Ce(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Nr(self)),Nr}),u(["./shared"],function(o){function v(m,l){if(Array.isArray(m)){if(!Array.isArray(l)||m.length!==l.length)return!1;for(let f=0;f<m.length;f++)if(!v(m[f],l[f]))return!1;return!0}if(typeof m=="object"&&m!==null&&l!==null){if(typeof l!="object"||Object.keys(m).length!==Object.keys(l).length)return!1;for(const f in m)if(!v(m[f],l[f]))return!1;return!0}return m===l}var E=S;function S(m){return!function(l){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var y,x,w=new Blob([""],{type:"text/javascript"}),P=URL.createObjectURL(w);try{x=new Worker(P),y=!0}catch{y=!1}return x&&x.terminate(),URL.revokeObjectURL(P),y}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var y=document.createElement("canvas");y.width=y.height=1;var x=y.getContext("2d");if(!x)return!1;var w=x.getImageData(0,0,1,1);return w&&w.width===y.width}()?(k[f=l&&l.failIfMajorPerformanceCaveat]===void 0&&(k[f]=function(y){var x,w=function(P){var I=document.createElement("canvas"),D=Object.create(S.webGLContextAttributes);return D.failIfMajorPerformanceCaveat=P,I.getContext("webgl",D)||I.getContext("experimental-webgl",D)}(y);if(!w)return!1;try{x=w.createShader(w.VERTEX_SHADER)}catch{return!1}return!(!x||w.isContextLost())&&(w.shaderSource(x,"void main() {}"),w.compileShader(x),w.getShaderParameter(x,w.COMPILE_STATUS)===!0)}(f)),k[f]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var f}(m)}var k={};function O(m,l,f){const y=o.window.document.createElement(m);return l!==void 0&&(y.className=l),f&&f.appendChild(y),y}function N(m,l,f){const y=o.window.document.createElementNS("http://www.w3.org/2000/svg",m);for(const x of Object.keys(l))y.setAttributeNS(null,x,l[x]);return f&&f.appendChild(y),y}S.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const G=o.window.document&&o.window.document.documentElement.style,U=G&&G.userSelect!==void 0?"userSelect":"WebkitUserSelect";let H;function q(){G&&U&&(H=G[U],G[U]="none")}function W(){G&&U&&(G[U]=H)}function Y(m){m.preventDefault(),m.stopPropagation(),o.window.removeEventListener("click",Y,!0)}function ie(){o.window.addEventListener("click",Y,!0),o.window.setTimeout(()=>{o.window.removeEventListener("click",Y,!0)},0)}function he(m,l){const f=m.getBoundingClientRect();return We(m,f,l)}function Se(m,l){const f=m.getBoundingClientRect(),y=[];for(let x=0;x<l.length;x++)y.push(We(m,f,l[x]));return y}function Pe(m){return o.window.InstallTrigger!==void 0&&m.button===2&&m.ctrlKey&&o.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:m.button}function We(m,l,f){const y=m.offsetWidth===l.width?1:m.offsetWidth/l.width;return new o.Point((f.clientX-l.left)*y,(f.clientY-l.top)*y)}function Le(m,l){var f=l[0],y=l[1],x=l[2],w=l[3],P=f*w-x*y;return P?(m[0]=w*(P=1/P),m[1]=-y*P,m[2]=-x*P,m[3]=f*P,m):null}function qe(m){const{userImage:l}=m;return!!(l&&l.render&&l.render())&&(m.data.replace(new Uint8Array(l.data.buffer)),!0)}class Kt extends o.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(l){if(this.loaded!==l&&(this.loaded=l,l)){for(const{ids:f,callback:y}of this.requestors)this._notify(f,y);this.requestors=[]}}hasImage(l){return!!this.getImage(l)}getImage(l){return this.images[l]}addImage(l,f){this._validate(l,f)&&(this.images[l]=f)}_validate(l,f){let y=!0;return this._validateStretch(f.stretchX,f.data&&f.data.width)||(this.fire(new o.ErrorEvent(new Error(`Image "${l}" has invalid "stretchX" value`))),y=!1),this._validateStretch(f.stretchY,f.data&&f.data.height)||(this.fire(new o.ErrorEvent(new Error(`Image "${l}" has invalid "stretchY" value`))),y=!1),this._validateContent(f.content,f)||(this.fire(new o.ErrorEvent(new Error(`Image "${l}" has invalid "content" value`))),y=!1),y}_validateStretch(l,f){if(!l)return!0;let y=0;for(const x of l){if(x[0]<y||x[1]<x[0]||f<x[1])return!1;y=x[1]}return!0}_validateContent(l,f){return!(l&&(l.length!==4||l[0]<0||f.data.width<l[0]||l[1]<0||f.data.height<l[1]||l[2]<0||f.data.width<l[2]||l[3]<0||f.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))}updateImage(l,f){f.version=this.images[l].version+1,this.images[l]=f,this.updatedImages[l]=!0}removeImage(l){const f=this.images[l];delete this.images[l],delete this.patterns[l],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(l,f){let y=!0;if(!this.isLoaded())for(const x of l)this.images[x]||(y=!1);this.isLoaded()||y?this._notify(l,f):this.requestors.push({ids:l,callback:f})}_notify(l,f){const y={};for(const x of l){this.images[x]||this.fire(new o.Event("styleimagemissing",{id:x}));const w=this.images[x];w?y[x]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:o.warnOnce(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}f(null,y)}getPixelSize(){const{width:l,height:f}=this.atlasImage;return{width:l,height:f}}getPattern(l){const f=this.patterns[l],y=this.getImage(l);if(!y)return null;if(f&&f.position.version===y.version)return f.position;if(f)f.position.version=y.version;else{const x={w:y.data.width+2,h:y.data.height+2,x:0,y:0},w=new o.ImagePosition(x,y);this.patterns[l]={bin:x,position:w}}return this._updatePatternAtlas(),this.patterns[l].position}bind(l){const f=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o.Texture(l,this.atlasImage,f.RGBA),this.atlasTexture&&this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const l=[];for(const w in this.patterns)l.push(this.patterns[w].bin);const{w:f,h:y}=o.potpack(l),x=this.atlasImage;x.resize({width:f||1,height:y||1});for(const w in this.patterns){const{bin:P}=this.patterns[w],I=P.x+1,D=P.y+1,$=this.images[w].data,j=$.width,J=$.height;o.RGBAImage.copy($,x,{x:0,y:0},{x:I,y:D},{width:j,height:J}),o.RGBAImage.copy($,x,{x:0,y:J-1},{x:I,y:D-1},{width:j,height:1}),o.RGBAImage.copy($,x,{x:0,y:0},{x:I,y:D+J},{width:j,height:1}),o.RGBAImage.copy($,x,{x:j-1,y:0},{x:I-1,y:D},{width:1,height:J}),o.RGBAImage.copy($,x,{x:0,y:0},{x:I+j,y:D},{width:1,height:J})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(l){for(const f of l){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const y=this.images[f];qe(y)&&this.updateImage(f,y)}}}const Ut=new o.Properties({anchor:new o.DataConstantProperty(o.spec.light.anchor),position:new class{constructor(){this.specification=o.spec.light.position}possiblyEvaluate(m,l){return function([f,y,x]){const w=o.degToRad(y+90),P=o.degToRad(x);return{x:f*Math.cos(w)*Math.sin(P),y:f*Math.sin(w)*Math.sin(P),z:f*Math.cos(P),azimuthal:y,polar:x}}(m.expression.evaluate(l))}interpolate(m,l,f){return{x:o.number(m.x,l.x,f),y:o.number(m.y,l.y,f),z:o.number(m.z,l.z,f),azimuthal:o.number(m.azimuthal,l.azimuthal,f),polar:o.number(m.polar,l.polar,f)}}},color:new o.DataConstantProperty(o.spec.light.color),intensity:new o.DataConstantProperty(o.spec.light.intensity)});class Qt extends o.Evented{constructor(l){super(),this._transitionable=new o.Transitionable(Ut),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(l,f={}){if(!this._validate(o.validateLight,l,f))for(const y in l){const x=l[y];o.endsWith(y,"-transition")?this._transitionable.setTransition(y.slice(0,-11),x):this._transitionable.setValue(y,x)}}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,y){return(!y||y.validate!==!1)&&o.emitValidationErrors(this,l.call(o.validateStyle,o.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.spec})))}}const Tn=new o.Properties({source:new o.DataConstantProperty(o.spec.terrain.source),exaggeration:new o.DataConstantProperty(o.spec.terrain.exaggeration)});let An=class extends o.Evented{constructor(m,l){super(),this._transitionable=new o.Transitionable(Tn),this.set(m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=l}get(){return this._transitionable.serialize()}set(m){for(const l in m){const f=m[l];o.endsWith(l,"-transition")?this._transitionable.setTransition(l.slice(0,-11),f):this._transitionable.setValue(l,f)}}updateTransitions(m){this._transitioning=this._transitionable.transitioned(m,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(m){this.properties=this._transitioning.possiblyEvaluate(m)}};function Vt(m,l,f,y){const x=o.smoothstep(45,65,f),[w,P]=_t(m,y),I=o.length(l);let D=1-Math.min(1,Math.exp((I-w)/(P-w)*-6));return D*=D*D,D=Math.min(1,1.00747*D),D*x*m.alpha}function _t(m,l){const f=.5/Math.tan(.5*l);return[m.range[0]+f,m.range[1]+f]}const Ve=new o.Properties({range:new o.DataConstantProperty(o.spec.fog.range),color:new o.DataConstantProperty(o.spec.fog.color),"high-color":new o.DataConstantProperty(o.spec.fog["high-color"]),"space-color":new o.DataConstantProperty(o.spec.fog["space-color"]),"horizon-blend":new o.DataConstantProperty(o.spec.fog["horizon-blend"]),"star-intensity":new o.DataConstantProperty(o.spec.fog["star-intensity"])});class Rt extends o.Evented{constructor(l,f){super(),this._transitionable=new o.Transitionable(Ve),this.set(l),this._transitioning=this._transitionable.untransitioned(),this._transform=f}get state(){const l=this._transform,f=l.projection.name==="globe",y=o.globeToMercatorTransition(l.zoom),x=this.properties.get("range"),w=[.5,3];return{range:f?[o.number(w[0],x[0],y),o.number(w[1],x[1],y)]:x,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(l,f={}){if(!this._validate(o.validateFog,l,f)){for(const y of Object.keys(o.spec.fog))l&&l[y]===void 0&&(l[y]=o.spec.fog[y].default);for(const y in l){const x=l[y];o.endsWith(y,"-transition")?this._transitionable.setTransition(y.slice(0,-11),x):this._transitionable.setValue(y,x)}}}getOpacity(l){if(!this._transform.projection.supportsFog)return 0;const f=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:o.smoothstep(45,65,l))*f.a}getOpacityAtLatLng(l,f){return this._transform.projection.supportsFog?function(y,x,w){const P=o.MercatorCoordinate.fromLngLat(x),I=w.elevation?w.elevation.getAtPointOrZero(P):0,D=[P.x,P.y,I];return o.transformMat4(D,D,w.mercatorFogMatrix),Vt(y,D,w.pitch,w._fov)}(this.state,l,f):0}getFovAdjustedRange(l){return this._transform.projection.supportsFog?_t(this.state,l):[0,1]}updateTransitions(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(l){this.properties=this._transitioning.possiblyEvaluate(l)}_validate(l,f,y){return(!y||y.validate!==!1)&&o.emitValidationErrors(this,l.call(o.validateStyle,o.extend({value:f,style:{glyphs:!0,sprite:!0},styleSpec:o.spec})))}}class Ge{constructor(l,f){this.workerPool=l,this.actors=[],this.currentActor=0,this.id=o.uniqueId();const y=this.workerPool.acquire(this.id);for(let x=0;x<y.length;x++){const w=new Ge.Actor(y[x],f,this.id);w.name=`Worker ${x}`,this.actors.push(w)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(l,f,y){o.asyncAll(this.actors,(x,w)=>{x.send(l,f,w)},y=y||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(l=>{l.remove()}),this.actors=[],this.workerPool.release(this.id)}}function sn(m,l,f){return l*(o.EXTENT/(m.tileSize*Math.pow(2,f-m.tileID.overscaledZ)))}Ge.Actor=o.Actor;class ln{constructor(l,f,y,x){this.screenBounds=l,this.cameraPoint=f,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=y,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,x)}static createFromScreenPoints(l,f){let y,x;if(l instanceof o.Point||typeof l[0]=="number"){const w=o.Point.convert(l);y=[w],x=f.isPointAboveHorizon(w)}else{const w=o.Point.convert(l[0]),P=o.Point.convert(l[1]);y=[w,P],x=o.polygonizeBounds(w,P).every(I=>f.isPointAboveHorizon(I))}return new ln(y,f.getCameraPoint(),x,f)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(l){return o.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],l)}bufferedCameraGeometry(l){const f=this.screenBounds[0],y=this.screenBounds.length===1?this.screenBounds[0].add(new o.Point(1,1)):this.screenBounds[1],x=o.polygonizeBounds(f,y,0,!1);return this.cameraPoint.y>y.y&&(this.cameraPoint.x>f.x&&this.cameraPoint.x<y.x?x.splice(3,0,this.cameraPoint):this.cameraPoint.x>=y.x?x[2]=this.cameraPoint:this.cameraPoint.x<=f.x&&(x[3]=this.cameraPoint)),o.bufferConvexPolygon(x,l)}bufferedCameraGeometryGlobe(l){const f=this.screenBounds[0],y=this.screenBounds.length===1?this.screenBounds[0].add(new o.Point(1,1)):this.screenBounds[1],x=o.polygonizeBounds(f,y,l),w=this.cameraPoint.clone();switch(3*((w.y>f.y)+(w.y>y.y))+((w.x>f.x)+(w.x>y.x))){case 0:x[0]=w,x[4]=w.clone();break;case 1:x.splice(1,0,w);break;case 2:x[1]=w;break;case 3:x.splice(4,0,w);break;case 5:x.splice(2,0,w);break;case 6:x[3]=w;break;case 7:x.splice(3,0,w);break;case 8:x[2]=w}return x}containsTile(l,f,y,x=0){const w=l.queryPadding/f._pixelsPerMercatorPixel+1,P=y?this._bufferedCameraMercator(w,f):this._bufferedScreenMercator(w,f);let I=l.tileID.wrap+(P.unwrapped?x:0);const D=P.polygon.map(ve=>o.getTilePoint(l.tileTransform,ve,I));if(!o.polygonIntersectsBox(D,0,0,o.EXTENT,o.EXTENT))return;I=l.tileID.wrap+(this.screenGeometryMercator.unwrapped?x:0);const $=this.screenGeometryMercator.polygon.map(ve=>o.getTileVec3(l.tileTransform,ve,I)),j=$.map(ve=>new o.Point(ve[0],ve[1])),J=f.getFreeCameraOptions().position||new o.MercatorCoordinate(0,0,0),ae=o.getTileVec3(l.tileTransform,J,I),ue=$.map(ve=>{const Q=o.sub(ve,ve,ae);return o.normalize(Q,Q),new o.Ray(ae,Q)}),me=sn(l,1,f.zoom)*f._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:j,tilespaceRays:ue,bufferedTilespaceGeometry:D,bufferedTilespaceBounds:(pe=o.getBounds(D),pe.min.x=o.clamp(pe.min.x,0,o.EXTENT),pe.min.y=o.clamp(pe.min.y,0,o.EXTENT),pe.max.x=o.clamp(pe.max.x,0,o.EXTENT),pe.max.y=o.clamp(pe.max.y,0,o.EXTENT),pe),tile:l,tileID:l.tileID,pixelToTileUnitsFactor:me};var pe}_bufferedScreenMercator(l,f){const y=qn(l);if(this._screenRaycastCache[y])return this._screenRaycastCache[y];{let x;return x=f.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(l),f):{polygon:this.bufferedScreenGeometry(l).map(w=>f.pointCoordinate3D(w)),unwrapped:!0},this._screenRaycastCache[y]=x,x}}_bufferedCameraMercator(l,f){const y=qn(l);if(this._cameraRaycastCache[y])return this._cameraRaycastCache[y];{let x;return x=f.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(l),f):{polygon:this.bufferedCameraGeometry(l).map(w=>f.pointCoordinate3D(w)),unwrapped:!0},this._cameraRaycastCache[y]=x,x}}_projectAndResample(l,f){const y=function(w,P){const I=o.multiply([],P.pixelMatrix,P.globeMatrix),D=[0,-o.GLOBE_RADIUS,0,1],$=[0,o.GLOBE_RADIUS,0,1],j=[0,0,0,1];o.transformMat4$1(D,D,I),o.transformMat4$1($,$,I),o.transformMat4$1(j,j,I);const J=new o.Point(D[0]/D[3],D[1]/D[3]),ae=new o.Point($[0]/$[3],$[1]/$[3]),ue=o.polygonContainsPoint(w,J)&&D[3]<j[3],me=o.polygonContainsPoint(w,ae)&&$[3]<j[3];if(!ue&&!me)return null;const pe=function($e,Je,Ke){for(let st=1;st<$e.length;st++){const Ot=Yn(Je.pointCoordinate3D($e[st-1]).x),it=Yn(Je.pointCoordinate3D($e[st]).x);if(Ke<0){if(Ot<it)return{idx:st,t:-Ot/(it-1-Ot)}}else if(it<Ot)return{idx:st,t:(1-Ot)/(it+1-Ot)}}return null}(w,P,ue?-1:1);if(!pe)return null;const{idx:ve,t:Q}=pe;let ge=ve>1?pn(w.slice(0,ve),P):[],we=ve<w.length?pn(w.slice(ve),P):[];ge=ge.map($e=>new o.Point(Yn($e.x),$e.y)),we=we.map($e=>new o.Point(Yn($e.x),$e.y));const Te=[...ge];Te.length===0&&Te.push(we[we.length-1]);const Ne=o.number(Te[Te.length-1].y,(we.length===0?ge[0]:we[0]).y,Q);let De;return De=ue?[new o.Point(0,Ne),new o.Point(0,0),new o.Point(1,0),new o.Point(1,Ne)]:[new o.Point(1,Ne),new o.Point(1,1),new o.Point(0,1),new o.Point(0,Ne)],Te.push(...De),we.length===0?Te.push(ge[0]):Te.push(...we),{polygon:Te.map($e=>new o.MercatorCoordinate($e.x,$e.y)),unwrapped:!1}}(l,f);if(y)return y;const x=function(w,P){let I=!1,D=-1/0,$=0;for(let J=0;J<w.length-1;J++)w[J].x>D&&(D=w[J].x,$=J);for(let J=0;J<w.length-1;J++){const ae=($+J)%(w.length-1),ue=w[ae],me=w[ae+1];Math.abs(ue.x-me.x)>.5&&(ue.x<me.x?(ue.x+=1,ae===0&&(w[w.length-1].x+=1)):(me.x+=1,ae+1===w.length-1&&(w[0].x+=1)),I=!0)}const j=o.mercatorXfromLng(P.center.lng);return I&&j<Math.abs(j-1)&&w.forEach(J=>{J.x-=1}),{polygon:w,unwrapped:I}}(pn(l,f).map(w=>new o.Point(Yn(w.x),w.y)),f);return{polygon:x.polygon.map(w=>new o.MercatorCoordinate(w.x,w.y)),unwrapped:x.unwrapped}}}function pn(m,l){return o.resample(m,f=>{const y=l.pointCoordinate3D(f);f.x=y.x,f.y=y.y},1/256)}function Yn(m){return m<0?1+m%1:m%1}function qn(m){return 100*m|0}function nn(m,l,f,y,x){const w=function(P,I){if(P)return x(P);if(I){m.url&&I.tiles&&m.tiles&&delete m.tiles;const D=o.pick(o.extend(I,m),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);I.vector_layers&&(D.vectorLayers=I.vector_layers,D.vectorLayerIds=D.vectorLayers.map($=>$.id)),D.tiles=l.canonicalizeTileset(D,m.url),x(null,D)}};return m.url?o.getJSON(l.transformRequest(l.normalizeSourceURL(m.url,null,f,y),o.ResourceType.Source),w):o.exported.frame(()=>w(null,m))}class Bt{constructor(l,f,y){this.bounds=o.LngLatBounds.convert(this.validateBounds(l)),this.minzoom=f||0,this.maxzoom=y||24}validateBounds(l){return Array.isArray(l)&&l.length===4?[Math.max(-180,l[0]),Math.max(-90,l[1]),Math.min(180,l[2]),Math.min(90,l[3])]:[-180,-90,180,90]}contains(l){const f=Math.pow(2,l.z),y=Math.floor(o.mercatorXfromLng(this.bounds.getWest())*f),x=Math.floor(o.mercatorYfromLat(this.bounds.getNorth())*f),w=Math.ceil(o.mercatorXfromLng(this.bounds.getEast())*f),P=Math.ceil(o.mercatorYfromLat(this.bounds.getSouth())*f);return l.x>=y&&l.x<w&&l.y>=x&&l.y<P}}class ot{constructor(l,f,y){this.context=l;const x=l.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!y,this.context.unbindVAO(),l.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||f.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(l){const f=this.context.gl;this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,l.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Xe={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Xt{constructor(l,f,y,x){this.length=f.length,this.attributes=y,this.itemSize=f.bytesPerElement,this.dynamicDraw=x,this.context=l;const w=l.gl;this.buffer=w.createBuffer(),l.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||f.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(l){const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,l.arrayBuffer)}enableAttributes(l,f){for(let y=0;y<this.attributes.length;y++){const x=f.attributes[this.attributes[y].name];x!==void 0&&l.enableVertexAttribArray(x)}}setVertexAttribPointers(l,f,y){for(let x=0;x<this.attributes.length;x++){const w=this.attributes[x],P=f.attributes[w.name];P!==void 0&&l.vertexAttribPointer(P,w.components,l[Xe[w.type]],!1,this.itemSize,w.offset+this.itemSize*(y||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class It{constructor(l){this.gl=l.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(l){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Mn extends It{getDefault(){return o.Color.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class En extends It{getDefault(){return 1}set(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)}}class er extends It{getDefault(){return 0}set(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)}}class yn extends It{getDefault(){return[!0,!0,!0,!0]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class xe extends It{getDefault(){return!0}set(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)}}class Re extends It{getDefault(){return 255}set(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)}}class lt extends It{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(l){const f=this.current;(l.func!==f.func||l.ref!==f.ref||l.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)}}class kt extends It{getDefault(){const l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)}}class zt extends It{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=l,this.dirty=!1}}class Wt extends It{getDefault(){return[0,1]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)}}class Pn extends It{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=l,this.dirty=!1}}class Rn extends It{getDefault(){return this.gl.LESS}set(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)}}class kn extends It{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.BLEND):f.disable(f.BLEND),this.current=l,this.dirty=!1}}class xn extends It{getDefault(){const l=this.gl;return[l.ONE,l.ZERO]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)}}class jn extends It{getDefault(){return o.Color.transparent}set(l){const f=this.current;(l.r!==f.r||l.g!==f.g||l.b!==f.b||l.a!==f.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)}}class nr extends It{getDefault(){return this.gl.FUNC_ADD}set(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)}}class wn extends It{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;l?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=l,this.dirty=!1}}class Qe extends It{getDefault(){return this.gl.BACK}set(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)}}class xt extends It{getDefault(){return this.gl.CCW}set(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)}}let Ze,Gt=class extends It{getDefault(){return null}set(m){(m!==this.current||this.dirty)&&(this.gl.useProgram(m),this.current=m,this.dirty=!1)}};class Cn extends It{getDefault(){return this.gl.TEXTURE0}set(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)}}class Vn extends It{getDefault(){const l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]}set(l){const f=this.current;(l[0]!==f[0]||l[1]!==f[1]||l[2]!==f[2]||l[3]!==f[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)}}class mr extends It{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,l),this.current=l,this.dirty=!1}}class dr extends It{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class yr extends It{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,l),this.current=l,this.dirty=!1}}class Nr extends It{getDefault(){return null}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class Ae extends It{getDefault(){return null}set(l){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1}}class te extends It{constructor(l){super(l),this.vao=l.extVertexArrayObject}getDefault(){return null}set(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)}}class oe extends It{getDefault(){return 4}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}}class Ce extends It{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}}class Ie extends It{getDefault(){return!1}set(l){if(l===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}}class Ue extends It{constructor(l,f){super(l),this.context=l,this.parent=f}getDefault(){return null}}class et extends Ue{setDirty(){this.dirty=!0}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}}class Ye extends Ue{attachment(){return this.gl.DEPTH_ATTACHMENT}set(l){if(l===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,this.attachment(),f.RENDERBUFFER,l),this.current=l,this.dirty=!1}}class Fe extends Ye{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class ct{constructor(l,f,y,x){this.context=l,this.width=f,this.height=y;const w=this.framebuffer=l.gl.createFramebuffer();this.colorAttachment=new et(l,w),x&&(this.depthAttachment=new Ye(l,w))}destroy(){const l=this.context.gl,f=this.colorAttachment.get();if(f&&l.deleteTexture(f),this.depthAttachment){const y=this.depthAttachment.get();y&&l.deleteRenderbuffer(y)}l.deleteFramebuffer(this.framebuffer)}}class Ht{constructor(l,f=!1){if(this.gl=l,this.isWebGL2=f,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),f){const y=l;this.extVertexArrayObject={createVertexArrayOES:y.createVertexArray.bind(l),deleteVertexArrayOES:y.deleteVertexArray.bind(l),bindVertexArrayOES:y.bindVertexArray.bind(l)}}this.clearColor=new Mn(this),this.clearDepth=new En(this),this.clearStencil=new er(this),this.colorMask=new yn(this),this.depthMask=new xe(this),this.stencilMask=new Re(this),this.stencilFunc=new lt(this),this.stencilOp=new kt(this),this.stencilTest=new zt(this),this.depthRange=new Wt(this),this.depthTest=new Pn(this),this.depthFunc=new Rn(this),this.blend=new kn(this),this.blendFunc=new xn(this),this.blendColor=new jn(this),this.blendEquation=new nr(this),this.cullFace=new wn(this),this.cullFaceSide=new Qe(this),this.frontFace=new xt(this),this.program=new Gt(this),this.activeTexture=new Cn(this),this.viewport=new Vn(this),this.bindFramebuffer=new mr(this),this.bindRenderbuffer=new dr(this),this.bindTexture=new yr(this),this.bindVertexBuffer=new Nr(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new te(this),this.pixelStoreUnpack=new oe(this),this.pixelStoreUnpackPremultiplyAlpha=new Ce(this),this.pixelStoreUnpackFlipY=new Ie(this),this.extTextureFilterAnisotropic=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=l.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=l.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=l.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=l.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),f||(this.extTextureHalfFloat=l.getExtension("OES_texture_half_float")),(f||this.extTextureHalfFloat&&l.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=l.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=f||l.getExtension("OES_standard_derivatives"),this.extTimerQuery=l.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(l,f){return new ot(this,l,f)}createVertexBuffer(l,f,y){return new Xt(this,l,f,y)}createRenderbuffer(l,f,y){const x=this.gl,w=x.createRenderbuffer();return this.bindRenderbuffer.set(w),x.renderbufferStorage(x.RENDERBUFFER,l,f,y),this.bindRenderbuffer.set(null),w}createFramebuffer(l,f,y){return new ct(this,l,f,y)}clear({color:l,depth:f,stencil:y}){const x=this.gl;let w=0;l&&(w|=x.COLOR_BUFFER_BIT,this.clearColor.set(l),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(w|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),y!==void 0&&(w|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(y),this.stencilMask.set(255)),x.clear(w)}setCullFace(l){l.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(l.mode),this.frontFace.set(l.frontFace))}setDepthMode(l){l.func!==this.gl.ALWAYS||l.mask?(this.depthTest.set(!0),this.depthFunc.set(l.func),this.depthMask.set(l.mask),this.depthRange.set(l.range)):this.depthTest.set(!1)}setStencilMode(l){l.test.func!==this.gl.ALWAYS||l.mask?(this.stencilTest.set(!0),this.stencilMask.set(l.mask),this.stencilOp.set([l.fail,l.depthFail,l.pass]),this.stencilFunc.set({func:l.test.func,ref:l.ref,mask:l.test.mask})):this.stencilTest.set(!1)}setColorMode(l){v(l.blendFunction,o.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(l.blendFunction),this.blendColor.set(l.blendColor)),this.colorMask.set(l.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Jt extends o.Evented{constructor(l,f,y,x){if(super(),this.id=l,this.dispatcher=y,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.extend(this,o.pick(f,["url","scheme","tileSize","promoteId"])),this._options=o.extend({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(x),this._tileWorkers={},this._deduped=new o.DedupedRequest}load(l){this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"}));const f=Array.isArray(this.map._language)?this.map._language.join():this.map._language,y=this.map._worldview;this._tileJSONRequest=nn(this._options,this.map._requestManager,f,y,(x,w)=>{this._tileJSONRequest=null,this._loaded=!0,x?(f&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${f}`),y&&y.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${y}`),this.fire(new o.ErrorEvent(x))):w&&(o.extend(this,w),w.bounds&&(this.tileBounds=new Bt(w.bounds,this.minzoom,this.maxzoom)),o.postTurnstileEvent(w.tiles,this.map._requestManager._customAccessToken),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))),l&&l(x)})}loaded(){return this._loaded}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}onAdd(l){this.map=l,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(l){return this._options.tiles=l,this.reload(),this}setUrl(l){return this.url=l,this._options.url=l,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return o.extend({},this._options)}loadTile(l,f){const y=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme)),x={request:this.map._requestManager.transformRequest(y,o.ResourceType.Tile),data:void 0,uid:l.uid,tileID:l.tileID,tileZoom:l.tileZoom,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:o.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:l.isSymbolTile};if(x.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired")l.state==="loading"?l.reloadCallback=f:l.request=l.actor.send("reloadTile",x,w.bind(this));else if(l.actor=this._tileWorkers[y]=this._tileWorkers[y]||this.dispatcher.getActor(),this.dispatcher.ready)l.request=l.actor.send("loadTile",x,w.bind(this),void 0,!0);else{const P=o.loadVectorTile.call({deduped:this._deduped},x,(I,D)=>{I||!D?w.call(this,I):(x.data={cacheControl:D.cacheControl,expires:D.expires,rawData:D.rawData.slice(0)},l.actor&&l.actor.send("loadTile",x,w.bind(this),void 0,!0))},!0);l.request={cancel:P}}function w(P,I){return delete l.request,l.aborted?f(null):P&&P.status!==404?f(P):(I&&I.resourceTiming&&(l.resourceTiming=I.resourceTiming),this.map._refreshExpiredTiles&&I&&l.setExpiryData(I),l.loadVectorData(I,this.map.painter),o.cacheEntryPossiblyAdded(this.dispatcher),f(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}}abortTile(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id})}unloadTile(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Et extends o.Evented{constructor(l,f,y,x){super(),this.id=l,this.dispatcher=y,this.setEventedParent(x),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.extend({type:"raster"},f),o.extend(this,o.pick(f,["url","scheme","tileSize"]))}load(l){this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=nn(this._options,this.map._requestManager,null,null,(f,y)=>{this._tileJSONRequest=null,this._loaded=!0,f?this.fire(new o.ErrorEvent(f)):y&&(o.extend(this,y),y.bounds&&(this.tileBounds=new Bt(y.bounds,this.minzoom,this.maxzoom)),o.postTurnstileEvent(y.tiles),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))),l&&l(f)})}loaded(){return this._loaded}onAdd(l){this.map=l,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(l){return this._options.tiles=l,this.reload(),this}setUrl(l){return this.url=l,this._options.url=l,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return o.extend({},this._options)}hasTile(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)}loadTile(l,f){const y=o.exported.devicePixelRatio>=2,x=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),y,this.tileSize);l.request=o.getImage(this.map._requestManager.transformRequest(x,o.ResourceType.Tile),(w,P,I,D)=>(delete l.request,l.aborted?(l.state="unloaded",f(null)):w?(l.state="errored",f(w)):P?(this.map._refreshExpiredTiles&&l.setExpiryData({cacheControl:I,expires:D}),l.setTexture(P,this.map.painter),l.state="loaded",o.cacheEntryPossiblyAdded(this.dispatcher),void f(null)):f(null)))}static loadTileData(l,f,y){l.setTexture(f,y)}static unloadTileData(l,f){l.texture&&f.saveTileTexture(l.texture)}abortTile(l,f){l.request&&(l.request.cancel(),delete l.request),f()}unloadTile(l,f){l.texture&&this.map.painter.saveTileTexture(l.texture),f()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function Hn(m,l,f,y,x,w,P,I){const D=[m,f,x,l,y,w,1,1,1],$=[P,I,1],j=o.adjoint([],D),[J,ae,ue]=o.transformMat3($,$,o.transpose(j,j));return o.multiply$1(D,[J,0,0,0,ae,0,0,0,ue],D)}class rr extends o.Evented{constructor(l,f,y,x){super(),this.id=l,this.dispatcher=y,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(x),this.options=f,this._dirty=!1}load(l,f){this._loaded=f||!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=o.getImage(this.map._requestManager.transformRequest(this.url,o.ResourceType.Image),(y,x)=>{if(this._imageRequest=null,this._loaded=!0,y)this.fire(new o.ErrorEvent(y));else if(x){const{HTMLImageElement:w}=o.window;this.image=x instanceof w?o.exported.getImageData(x):x,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,l&&(this.coordinates=l),this._finishLoading()}})}loaded(){return this._loaded}updateImage(l){return this.image&&l.url?(this._imageRequest&&l.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=l.url,this.load(l.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(l){this.map=l,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(l){this.coordinates=l,this._boundsArray=void 0;const f=l.map(o.MercatorCoordinate.fromLngLat);return this.tileID=function(y){let x=1/0,w=1/0,P=-1/0,I=-1/0;for(const J of y)x=Math.min(x,J.x),w=Math.min(w,J.y),P=Math.max(P,J.x),I=Math.max(I,J.y);const D=Math.max(P-x,I-w),$=Math.max(0,Math.floor(-Math.log(D)/Math.LN2)),j=Math.pow(2,$);return new o.CanonicalTileID($,Math.floor((x+P)/2*j),Math.floor((w+I)/2*j))}(f),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(l){for(const D in this.tiles){const $=this.tiles[D];$.state!=="loaded"&&($.state="loaded",$.texture=this.texture)}if(this._boundsArray)return;const f=o.tileTransform(this.tileID,this.map.transform.projection),[y,x,w,P]=this.coordinates.map(D=>{const $=f.projection.project(D[0],D[1]);return o.getTilePoint(f,$)._round()});this.perspectiveTransform=function(D,$,j,J,ae,ue,me,pe,ve,Q){const ge=Hn(0,0,D,0,0,$,D,$),we=Hn(j,J,ae,ue,me,pe,ve,Q);return o.multiply$1(we,o.adjoint(ge,ge),we),[we[6]/we[8]*D/o.EXTENT,we[7]/we[8]*$/o.EXTENT]}(this.width,this.height,y.x,y.y,x.x,x.y,P.x,P.y,w.x,w.y);const I=this._boundsArray=new o.StructArrayLayout4i8;I.emplaceBack(y.x,y.y,0,0),I.emplaceBack(x.x,x.y,o.EXTENT,0),I.emplaceBack(P.x,P.y,0,o.EXTENT),I.emplaceBack(w.x,w.y,o.EXTENT,o.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=l.createVertexBuffer(I,o.boundsAttributes.members),this.boundsSegments=o.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const l=this.map.painter.context,f=l.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new o.Texture(l,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(l)}loadTile(l,f){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},f(null)):(l.state="errored",f(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Tt={vector:Jt,raster:Et,"raster-dem":class extends Et{constructor(m,l,f,y){super(m,l,f,y),this.type="raster-dem",this.maxzoom=22,this._options=o.extend({type:"raster-dem"},l),this.encoding=l.encoding||"mapbox"}loadTile(m,l){const f=this.map._requestManager.normalizeTileURL(m.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function y(x,w){x&&(m.state="errored",l(x)),w&&(m.dem=w,m.dem.onDeserialize(),m.needsHillshadePrepare=!0,m.needsDEMTextureUpload=!0,m.state="loaded",l(null))}m.request=o.getImage(this.map._requestManager.transformRequest(f,o.ResourceType.Tile),(function(x,w,P,I){if(delete m.request,m.aborted)m.state="unloaded",l(null);else if(x)m.state="errored",l(x);else if(w){this.map._refreshExpiredTiles&&m.setExpiryData({cacheControl:P,expires:I});const D=o.window.ImageBitmap&&w instanceof o.window.ImageBitmap&&(Ze==null&&(Ze=o.window.OffscreenCanvas&&new o.window.OffscreenCanvas(1,1).getContext("2d")&&typeof o.window.createImageBitmap=="function"),Ze),$=1-(w.width-o.prevPowerOfTwo(w.width))/2;$<1||m.neighboringTiles||(m.neighboringTiles=this._getNeighboringTiles(m.tileID));const j=D?w:o.exported.getImageData(w,$),J={uid:m.uid,coord:m.tileID,source:this.id,rawImageData:j,encoding:this.encoding,padding:$};m.actor&&m.state!=="expired"||(m.actor=this.dispatcher.getActor(),m.actor.send("loadDEMTile",J,y.bind(this),void 0,!0))}}).bind(this))}_getNeighboringTiles(m){const l=m.canonical,f=Math.pow(2,l.z),y=(l.x-1+f)%f,x=l.x===0?m.wrap-1:m.wrap,w=(l.x+1+f)%f,P=l.x+1===f?m.wrap+1:m.wrap,I={};return I[new o.OverscaledTileID(m.overscaledZ,x,l.z,y,l.y).key]={backfilled:!1},I[new o.OverscaledTileID(m.overscaledZ,P,l.z,w,l.y).key]={backfilled:!1},l.y>0&&(I[new o.OverscaledTileID(m.overscaledZ,x,l.z,y,l.y-1).key]={backfilled:!1},I[new o.OverscaledTileID(m.overscaledZ,m.wrap,l.z,l.x,l.y-1).key]={backfilled:!1},I[new o.OverscaledTileID(m.overscaledZ,P,l.z,w,l.y-1).key]={backfilled:!1}),l.y+1<f&&(I[new o.OverscaledTileID(m.overscaledZ,x,l.z,y,l.y+1).key]={backfilled:!1},I[new o.OverscaledTileID(m.overscaledZ,m.wrap,l.z,l.x,l.y+1).key]={backfilled:!1},I[new o.OverscaledTileID(m.overscaledZ,P,l.z,w,l.y+1).key]={backfilled:!1}),I}unloadTile(m){m.demTexture&&this.map.painter.saveTileTexture(m.demTexture),m.fbo&&(m.fbo.destroy(),delete m.fbo),m.dem&&delete m.dem,delete m.neighboringTiles,m.state="unloaded"}},geojson:class extends o.Evented{constructor(m,l,f,y){super(),this.id=m,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=f.getActor(),this.setEventedParent(y),this._data=l.data,this._options=o.extend({},l),this._collectResourceTiming=l.collectResourceTiming,l.maxzoom!==void 0&&(this.maxzoom=l.maxzoom),l.type&&(this.type=l.type),l.attribution&&(this.attribution=l.attribution),this.promoteId=l.promoteId;const x=o.EXTENT/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:l.cluster||!1,geojsonVtOptions:{buffer:(l.buffer!==void 0?l.buffer:128)*x,tolerance:(l.tolerance!==void 0?l.tolerance:.375)*x,extent:o.EXTENT,maxZoom:this.maxzoom,lineMetrics:l.lineMetrics||!1,generateId:l.generateId||!1},superclusterOptions:{maxZoom:l.clusterMaxZoom!==void 0?l.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,l.clusterMinPoints||2),extent:o.EXTENT,radius:(l.clusterRadius!==void 0?l.clusterRadius:50)*x,log:!1,generateId:l.generateId||!1},clusterProperties:l.clusterProperties,filter:l.filter},l.workerOptions)}onAdd(m){this.map=m,this.setData(this._data)}setData(m){return this._data=m,this._updateWorkerData(),this}getClusterExpansionZoom(m,l){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:m,source:this.id},l),this}getClusterChildren(m,l){return this.actor.send("geojson.getClusterChildren",{clusterId:m,source:this.id},l),this}getClusterLeaves(m,l,f,y){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:m,limit:l,offset:f},y),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new o.Event("dataloading",{dataType:"source"})),this._loaded=!1;const m=o.extend({},this.workerOptions),l=this._data;typeof l=="string"?(m.request=this.map._requestManager.transformRequest(o.exported.resolveURL(l),o.ResourceType.Source),m.request.collectResourceTiming=this._collectResourceTiming):m.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,m,(f,y)=>{if(this._loaded=!0,this._pendingLoad=null,f)this.fire(new o.ErrorEvent(f));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&y&&y.resourceTiming&&y.resourceTiming[this.id]&&(x.resourceTiming=y.resourceTiming[this.id]),this.fire(new o.Event("data",x)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(m,l){const f=m.actor?"reloadTile":"loadTile";m.actor=this.actor,m.request=this.actor.send(f,{type:this.type,uid:m.uid,tileID:m.tileID,tileZoom:m.tileZoom,zoom:m.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:o.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(y,x)=>(delete m.request,m.unloadVectorData(),m.aborted?l(null):y?l(y):(m.loadVectorData(x,this.map.painter,f==="reloadTile"),l(null))),void 0,f==="loadTile")}abortTile(m){m.request&&(m.request.cancel(),delete m.request),m.aborted=!0}unloadTile(m){m.unloadVectorData(),this.actor.send("removeTile",{uid:m.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return o.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends rr{constructor(m,l,f,y){super(m,l,f,y),this.roundZoom=!0,this.type="video",this.options=l}load(){this._loaded=!1;const m=this.options;this.urls=[];for(const l of m.urls)this.urls.push(this.map._requestManager.transformRequest(l,o.ResourceType.Source).url);o.getVideo(this.urls,(l,f)=>{this._loaded=!0,l?this.fire(new o.ErrorEvent(l)):f&&(this.video=f,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(m){if(this.video){const l=this.video.seekable;m<l.start(0)||m>l.end(0)?this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${l.start(0)} and ${l.end(0)}-second mark.`))):this.video.currentTime=m}}getVideo(){return this.video}onAdd(m){this.map||(this.map=m,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const m=this.map.painter.context,l=m.gl;this.texture?this.video.paused||(this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),l.texSubImage2D(l.TEXTURE_2D,0,0,0,l.RGBA,l.UNSIGNED_BYTE,this.video)):(this.texture=new o.Texture(m,this.video,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(m)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:rr,canvas:class extends rr{constructor(m,l,f,y){super(m,l,f,y),l.coordinates?Array.isArray(l.coordinates)&&l.coordinates.length===4&&!l.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(w=>typeof w!="number"))||this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${m}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${m}`,null,'missing required property "coordinates"'))),l.animate&&typeof l.animate!="boolean"&&this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${m}`,null,'optional "animate" property must be a boolean value'))),l.canvas?typeof l.canvas=="string"||l.canvas instanceof o.window.HTMLCanvasElement||this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${m}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.ErrorEvent(new o.ValidationError(`sources.${m}`,null,'missing required property "canvas"'))),this.options=l,this.animate=l.animate===void 0||l.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof o.window.HTMLCanvasElement?this.options.canvas:o.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(m){this.map=m,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let m=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,m=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,m=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const l=this.map.painter.context;this.texture?(m||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new o.Texture(l,this.canvas,l.gl.RGBA,{premultiply:!0}),this._prepareData(l)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const m of[this.canvas.width,this.canvas.height])if(isNaN(m)||m<=0)return!0;return!1}},custom:class extends o.Evented{constructor(m,l,f,y){super(),this.id=m,this.type="custom",this._dataType="raster",this._dispatcher=f,this._implementation=l,this.setEventedParent(y),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new o.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new o.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Bt(this._implementation.bounds,this.minzoom,this.maxzoom)),l.update=this._update.bind(this),l.clearTiles=this._clearTiles.bind(this),l.coveringTiles=this._coveringTiles.bind(this),o.extend(this,o.pick(l,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return o.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new o.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(m){this._map=m,this._loaded=!1,this.fire(new o.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(m),this.load()}onRemove(m){this._implementation.onRemove&&this._implementation.onRemove(m)}hasTile(m){if(this._implementation.hasTile){const{x:l,y:f,z:y}=m.canonical;return this._implementation.hasTile({x:l,y:f,z:y})}return!this.tileBounds||this.tileBounds.contains(m.canonical)}loadTile(m,l){const{x:f,y,z:x}=m.tileID.canonical,w=new o.window.AbortController;m.request=Promise.resolve(this._implementation.loadTile({x:f,y,z:x},{signal:w.signal})).then((function(P){return delete m.request,m.aborted?(m.state="unloaded",l(null)):P===void 0?(m.state="errored",l(null)):P===null?(this.loadTileData(m,{width:this.tileSize,height:this.tileSize,data:null}),m.state="loaded",l(null)):function(I){return I instanceof o.window.ImageData||I instanceof o.window.HTMLCanvasElement||I instanceof o.window.ImageBitmap||I instanceof o.window.HTMLImageElement}(P)?(this.loadTileData(m,P),m.state="loaded",void l(null)):(m.state="errored",l(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}).bind(this)).catch(P=>{P.code!==20&&(m.state="errored",l(P))}),m.request.cancel=()=>w.abort()}loadTileData(m,l){Et.loadTileData(m,l,this._map.painter)}unloadTileData(m){Et.unloadTileData(m,this._map.painter)}unloadTile(m,l){if(this.unloadTileData(m),this._implementation.unloadTile){const{x:f,y,z:x}=m.tileID.canonical;this._implementation.unloadTile({x:f,y,z:x})}l()}abortTile(m,l){m.request&&m.request.cancel&&(m.request.cancel(),delete m.request),l()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(m=>({x:m.canonical.x,y:m.canonical.y,z:m.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new o.Event("data",{dataType:"source",sourceDataType:"content"}))}}},nt=function(m,l,f,y){const x=new Tt[l.type](m,l,f,y);if(x.id!==m)throw new Error(`Expected Source id to be ${m} instead of ${x.id}`);return o.bindAll(["load","abort","unload","serialize","prepare"],x),x};function Ct(m,l){const f=o.identity([]);return o.scale(f,f,[.5*m.width,.5*-m.height,1]),o.translate(f,f,[1,-1,0]),o.multiply(f,f,m.calculateProjMatrix(l.toUnwrapped())),Float32Array.from(f)}function cn(m,l,f,y,x,w,P,I=!1){const D=m.tilesIn(y,P,I);D.sort(ir);const $=[];for(const J of D)$.push({wrappedTileID:J.tile.tileID.wrapped().key,queryResults:J.tile.queryRenderedFeatures(l,f,m._state,J,x,w,Ct(m.transform,J.tile.tileID),I)});const j=function(J){const ae={},ue={};for(const me of J){const pe=me.queryResults,ve=me.wrappedTileID,Q=ue[ve]=ue[ve]||{};for(const ge in pe){const we=pe[ge],Te=Q[ge]=Q[ge]||{},Ne=ae[ge]=ae[ge]||[];for(const De of we)Te[De.featureIndex]||(Te[De.featureIndex]=!0,Ne.push(De))}}return ae}($);for(const J in j)j[J].forEach(ae=>{const ue=ae.feature,me=ue.layer;me&&me.type!=="background"&&me.type!=="sky"&&(ue.source=me.source,me["source-layer"]&&(ue.sourceLayer=me["source-layer"]),ue.state=ue.id!==void 0?m.getFeatureState(me["source-layer"],ue.id):{})});return j}function Fn(m,l){const f=m.getRenderableIds().map(w=>m.getTileByID(w)),y=[],x={};for(let w=0;w<f.length;w++){const P=f[w],I=P.tileID.canonical.key;x[I]||(x[I]=!0,P.querySourceFeatures(y,l))}return y}function ir(m,l){const f=m.tileID,y=l.tileID;return f.overscaledZ-y.overscaledZ||f.canonical.y-y.canonical.y||f.wrap-y.wrap||f.canonical.x-y.canonical.x}function On(){return Jn.workerClass!=null?new Jn.workerClass:new o.window.Worker(Jn.workerUrl)}const vr="mapboxgl_preloaded_worker_pool";class ft{constructor(){this.active={}}acquire(l){if(!this.workers)for(this.workers=[];this.workers.length<ft.workerCount;)this.workers.push(new On);return this.active[l]=!0,this.workers.slice()}release(l){delete this.active[l],this.numActive()===0&&(this.workers.forEach(f=>{f.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[vr]}numActive(){return Object.keys(this.active).length}}let re;function le(){return re||(re=new ft),re}function ye(m,l){const f={};for(const y in m)y!=="ref"&&(f[y]=m[y]);return o.refProperties.forEach(y=>{y in l&&(f[y]=l[y])}),f}function de(m){m=m.slice();const l=Object.create(null);for(let f=0;f<m.length;f++)l[m[f].id]=m[f];for(let f=0;f<m.length;f++)"ref"in m[f]&&(m[f]=ye(m[f],l[m[f].ref]));return m}ft.workerCount=2;const se={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function He(m,l,f){f.push({command:se.addSource,args:[m,l[m]]})}function tt(m,l,f){l.push({command:se.removeSource,args:[m]}),f[m]=!0}function ut(m,l,f,y){tt(m,f,y),He(m,l,f)}function jt(m,l,f){let y;for(y in m[f])if(m[f].hasOwnProperty(y)&&y!=="data"&&!v(m[f][y],l[f][y]))return!1;for(y in l[f])if(l[f].hasOwnProperty(y)&&y!=="data"&&!v(m[f][y],l[f][y]))return!1;return!0}function on(m,l,f,y,x,w){let P;for(P in l=l||{},m=m||{})m.hasOwnProperty(P)&&(v(m[P],l[P])||f.push({command:w,args:[y,P,l[P],x]}));for(P in l)l.hasOwnProperty(P)&&!m.hasOwnProperty(P)&&(v(m[P],l[P])||f.push({command:w,args:[y,P,l[P],x]}))}function Xn(m){return m.id}function Rr(m,l){return m[l.id]=l,m}class Fr{constructor(l,f){this.reset(l,f)}reset(l,f){this.points=l||[],this._distances=[0];for(let y=1;y<this.points.length;y++)this._distances[y]=this._distances[y-1]+this.points[y].dist(this.points[y-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(l){if(this.points.length===1)return this.points[0];l=o.clamp(l,0,1);let f=1,y=this._distances[f];const x=l*this.paddedLength+this.padding;for(;y<x&&f<this._distances.length;)y=this._distances[++f];const w=f-1,P=this._distances[w],I=y-P,D=I>0?(x-P)/I:0;return this.points[w].mult(1-D).add(this.points[f].mult(D))}}class Ur{constructor(l,f,y){const x=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(l/y),this.yCellCount=Math.ceil(f/y);for(let P=0;P<this.xCellCount*this.yCellCount;P++)x.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=l,this.height=f,this.xScale=this.xCellCount/l,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(l,f,y,x,w){this._forEachCell(f,y,x,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(l),this.bboxes.push(f),this.bboxes.push(y),this.bboxes.push(x),this.bboxes.push(w)}insertCircle(l,f,y,x){this._forEachCell(f-x,y-x,f+x,y+x,this._insertCircleCell,this.circleUid++),this.circleKeys.push(l),this.circles.push(f),this.circles.push(y),this.circles.push(x)}_insertBoxCell(l,f,y,x,w,P){this.boxCells[w].push(P)}_insertCircleCell(l,f,y,x,w,P){this.circleCells[w].push(P)}_query(l,f,y,x,w,P){if(y<0||l>this.width||x<0||f>this.height)return!w&&[];const I=[];if(l<=0&&f<=0&&this.width<=y&&this.height<=x){if(w)return!0;for(let D=0;D<this.boxKeys.length;D++)I.push({key:this.boxKeys[D],x1:this.bboxes[4*D],y1:this.bboxes[4*D+1],x2:this.bboxes[4*D+2],y2:this.bboxes[4*D+3]});for(let D=0;D<this.circleKeys.length;D++){const $=this.circles[3*D],j=this.circles[3*D+1],J=this.circles[3*D+2];I.push({key:this.circleKeys[D],x1:$-J,y1:j-J,x2:$+J,y2:j+J})}return P?I.filter(P):I}return this._forEachCell(l,f,y,x,this._queryCell,I,{hitTest:w,seenUids:{box:{},circle:{}}},P),w?I.length>0:I}_queryCircle(l,f,y,x,w){const P=l-y,I=l+y,D=f-y,$=f+y;if(I<0||P>this.width||$<0||D>this.height)return!x&&[];const j=[];return this._forEachCell(P,D,I,$,this._queryCellCircle,j,{hitTest:x,circle:{x:l,y:f,radius:y},seenUids:{box:{},circle:{}}},w),x?j.length>0:j}query(l,f,y,x,w){return this._query(l,f,y,x,!1,w)}hitTest(l,f,y,x,w){return this._query(l,f,y,x,!0,w)}hitTestCircle(l,f,y,x){return this._queryCircle(l,f,y,!0,x)}_queryCell(l,f,y,x,w,P,I,D){const $=I.seenUids,j=this.boxCells[w];if(j!==null){const ae=this.bboxes;for(const ue of j)if(!$.box[ue]){$.box[ue]=!0;const me=4*ue;if(l<=ae[me+2]&&f<=ae[me+3]&&y>=ae[me+0]&&x>=ae[me+1]&&(!D||D(this.boxKeys[ue]))){if(I.hitTest)return P.push(!0),!0;P.push({key:this.boxKeys[ue],x1:ae[me],y1:ae[me+1],x2:ae[me+2],y2:ae[me+3]})}}}const J=this.circleCells[w];if(J!==null){const ae=this.circles;for(const ue of J)if(!$.circle[ue]){$.circle[ue]=!0;const me=3*ue;if(this._circleAndRectCollide(ae[me],ae[me+1],ae[me+2],l,f,y,x)&&(!D||D(this.circleKeys[ue]))){if(I.hitTest)return P.push(!0),!0;{const pe=ae[me],ve=ae[me+1],Q=ae[me+2];P.push({key:this.circleKeys[ue],x1:pe-Q,y1:ve-Q,x2:pe+Q,y2:ve+Q})}}}}}_queryCellCircle(l,f,y,x,w,P,I,D){const $=I.circle,j=I.seenUids,J=this.boxCells[w];if(J!==null){const ue=this.bboxes;for(const me of J)if(!j.box[me]){j.box[me]=!0;const pe=4*me;if(this._circleAndRectCollide($.x,$.y,$.radius,ue[pe+0],ue[pe+1],ue[pe+2],ue[pe+3])&&(!D||D(this.boxKeys[me])))return P.push(!0),!0}}const ae=this.circleCells[w];if(ae!==null){const ue=this.circles;for(const me of ae)if(!j.circle[me]){j.circle[me]=!0;const pe=3*me;if(this._circlesCollide(ue[pe],ue[pe+1],ue[pe+2],$.x,$.y,$.radius)&&(!D||D(this.circleKeys[me])))return P.push(!0),!0}}}_forEachCell(l,f,y,x,w,P,I,D){const $=this._convertToXCellCoord(l),j=this._convertToYCellCoord(f),J=this._convertToXCellCoord(y),ae=this._convertToYCellCoord(x);for(let ue=$;ue<=J;ue++)for(let me=j;me<=ae;me++)if(w.call(this,l,f,y,x,this.xCellCount*me+ue,P,I,D))return}_convertToXCellCoord(l){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(l*this.xScale)))}_convertToYCellCoord(l){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(l*this.yScale)))}_circlesCollide(l,f,y,x,w,P){const I=x-l,D=w-f,$=y+P;return $*$>I*I+D*D}_circleAndRectCollide(l,f,y,x,w,P,I){const D=(P-x)/2,$=Math.abs(l-(x+D));if($>D+y)return!1;const j=(I-w)/2,J=Math.abs(f-(w+j));if(J>j+y)return!1;if($<=D||J<=j)return!0;const ae=$-D,ue=J-j;return ae*ae+ue*ue<=y*y}}const xr={unknown:0,flipRequired:1,flipNotRequired:2},Br=Math.tan(85*Math.PI/180);function vt(m,l,f,y,x,w,P){const I=o.create();if(f)if(w.name==="globe"){const D=o.calculateGlobeLabelMatrix(x,l);o.multiply(I,I,D)}else{const D=Le([],P);I[0]=D[0],I[1]=D[1],I[4]=D[2],I[5]=D[3],y||o.rotateZ(I,I,x.angle)}else o.multiply(I,x.labelPlaneMatrix,m);return I}function vi(m,l,f,y,x,w,P){const I=vt(m,l,f,y,x,w,P);return w.name==="globe"&&f||(I[2]=I[6]=I[10]=I[14]=0),I}function Vr(m,l,f,y,x,w,P){if(f){if(w.name==="globe"){const I=vt(m,l,f,y,x,w,P);return o.invert(I,I),o.multiply(I,m,I),I}{const I=o.clone(m),D=o.identity([]);return D[0]=P[0],D[1]=P[1],D[4]=P[2],D[5]=P[3],o.multiply(I,I,D),y||o.rotateZ(I,I,-x.angle),I}}return x.glCoordMatrix}function Zr(m,l,f,y){const x=[m,l,f,1];f?o.transformMat4$1(x,x,y):gr(x,x,y);const w=x[3];return x[0]/=w,x[1]/=w,x[2]/=w,x}function sa(m,l){return Math.min(.5+m/l*.5,1.5)}function Ui(m,l){const f=m[0]/m[3],y=m[1]/m[3];return f>=-l[0]&&f<=l[0]&&y>=-l[1]&&y<=l[1]}function jo(m,l,f,y,x,w,P,I,D,$){const j=f.transform,J=y?m.textSizeData:m.iconSizeData,ae=o.evaluateSizeForZoom(J,f.transform.zoom),ue=j.projection.name==="globe",me=[256/f.width*2+1,256/f.height*2+1],pe=y?m.text.dynamicLayoutVertexArray:m.icon.dynamicLayoutVertexArray;pe.clear();let ve=null;ue&&(ve=y?m.text.globeExtVertexArray:m.icon.globeExtVertexArray);const Q=m.lineVertexArray,ge=y?m.text.placedSymbolArray:m.icon.placedSymbolArray,we=f.transform.width/f.transform.height;let Te,Ne=!1;for(let De=0;De<ge.length;De++){const $e=ge.get(De),{numGlyphs:Je,writingMode:Ke}=$e;if(Ke!==o.WritingMode.vertical||Ne||Te===o.WritingMode.horizontal||(Ne=!0),Te=Ke,($e.hidden||Ke===o.WritingMode.vertical)&&!Ne){ii(Je,pe);continue}Ne=!1;const st=new o.Point($e.tileAnchorX,$e.tileAnchorY);let{x:Ot,y:it,z:St}=j.projection.projectTilePoint(st.x,st.y,$.canonical);if(D){const[_r,Zn,cr]=D(st);Ot+=_r,it+=Zn,St+=cr}const gt=[Ot,it,St,1];if(o.transformMat4$1(gt,gt,l),!Ui(gt,me)){ii(Je,pe);continue}const tn=sa(f.transform.cameraToCenterDistance,gt[3]),mt=o.evaluateSizeForFeature(J,ae,$e),Dt=P?mt/tn:mt*tn,an=Zr(Ot,it,St,x);if(an[3]<=0){ii(Je,pe);continue}let Yt={};const hn=P?null:D,tr=vn($e,Dt,!1,I,l,x,w,m.glyphOffsetArray,Q,pe,ve,an,st,Yt,we,hn,j.projection,$,P);Ne=tr.useVertical,hn&&tr.needsFlipping&&(Yt={}),(tr.notEnoughRoom||Ne||tr.needsFlipping&&vn($e,Dt,!0,I,l,x,w,m.glyphOffsetArray,Q,pe,ve,an,st,Yt,we,hn,j.projection,$,P).notEnoughRoom)&&ii(Je,pe)}y?(m.text.dynamicLayoutVertexBuffer.updateData(pe),ve&&m.text.globeExtVertexBuffer.updateData(ve)):(m.icon.dynamicLayoutVertexBuffer.updateData(pe),ve&&m.icon.globeExtVertexBuffer.updateData(ve))}function zr(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe){const{lineStartIndex:ve,glyphStartIndex:Q,segment:ge}=I,we=Q+I.numGlyphs,Te=ve+I.lineLength,Ne=l.getoffsetX(Q),De=l.getoffsetX(we-1),$e=di(m*Ne,f,y,x,w,P,ge,ve,Te,D,$,j,J,ae,!0,ue,me,pe);if(!$e)return null;const Je=di(m*De,f,y,x,w,P,ge,ve,Te,D,$,j,J,ae,!0,ue,me,pe);return Je?{first:$e,last:Je}:null}function br(m,l,f,y){return m===o.WritingMode.horizontal&&Math.abs(y)>Math.abs(f)?{useVertical:!0}:m===o.WritingMode.vertical?y>0?{needsFlipping:!0}:null:l!==xr.unknown&&function(x,w){return x===0||Math.abs(w/x)>Br}(f,y)?l===xr.flipRequired?{needsFlipping:!0}:null:f<0?{needsFlipping:!0}:null}function vn(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe,ve,Q,ge){const we=l/24,Te=m.lineOffsetX*we,Ne=m.lineOffsetY*we,{lineStartIndex:De,glyphStartIndex:$e,numGlyphs:Je,segment:Ke,writingMode:st,flipState:Ot}=m,it=De+m.lineLength,St=gt=>{if(j){const[an,Yt,hn]=gt.up,tr=$.length;o.updateGlobeVertexNormal(j,tr+0,an,Yt,hn),o.updateGlobeVertexNormal(j,tr+1,an,Yt,hn),o.updateGlobeVertexNormal(j,tr+2,an,Yt,hn),o.updateGlobeVertexNormal(j,tr+3,an,Yt,hn)}const[tn,mt,Dt]=gt.point;o.addDynamicAttributes($,tn,mt,Dt,gt.angle)};if(Je>1){const gt=zr(we,I,Te,Ne,f,J,ae,m,D,w,ue,pe,!1,ve,Q,ge);if(!gt)return{notEnoughRoom:!0};if(y&&!f){let[tn,mt,Dt]=gt.first.point,[an,Yt,hn]=gt.last.point;[tn,mt]=Zr(tn,mt,Dt,P),[an,Yt]=Zr(an,Yt,hn,P);const tr=br(st,Ot,(an-tn)*me,Yt-mt);if(m.flipState=tr&&tr.needsFlipping?xr.flipRequired:xr.flipNotRequired,tr)return tr}St(gt.first);for(let tn=$e+1;tn<$e+Je-1;tn++){const mt=di(we*I.getoffsetX(tn),Te,Ne,f,J,ae,Ke,De,it,D,w,ue,pe,!1,!1,ve,Q,ge);if(!mt)return $.length-=4*(tn-$e),{notEnoughRoom:!0};St(mt)}St(gt.last)}else{if(y&&!f){const tn=Zr(ae.x,ae.y,0,x),mt=De+Ke+1,Dt=new o.Point(D.getx(mt),D.gety(mt)),an=Zr(Dt.x,Dt.y,0,x),Yt=an[3]>0?an:ar(ae,Dt,tn,1,x,void 0,ve,Q.canonical),hn=br(st,Ot,(Yt[0]-tn[0])*me,Yt[1]-tn[1]);if(m.flipState=hn&&hn.needsFlipping?xr.flipRequired:xr.flipNotRequired,hn)return hn}const gt=di(we*I.getoffsetX($e),Te,Ne,f,J,ae,Ke,De,it,D,w,ue,pe,!1,!1,ve,Q,ge);if(!gt)return{notEnoughRoom:!0};St(gt)}return{}}function or(m,l,f,y,x){const{x:w,y:P,z:I}=y.projectTilePoint(m.x,m.y,l);if(!x)return Zr(w,P,I,f);const[D,$,j]=x(m);return Zr(w+D,P+$,I+j,f)}function ar(m,l,f,y,x,w,P,I){const D=or(m.sub(l)._unit()._add(m),I,x,P,w);return o.sub(D,f,D),o.normalize(D,D),o.scaleAndAdd(D,f,D,y)}function di(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe,ve,Q){const ge=y?m-l:m+l;let we=ge>0?1:-1,Te=0;y&&(we*=-1,Te=Math.PI),we<0&&(Te+=Math.PI);let Ne=I+P+(we>0?0:1)|0,De=x,$e=x,Je=0,Ke=0;const st=Math.abs(ge),Ot=[],it=[];let St=w,gt=St;const tn=()=>ar(gt,St,$e,st-Je+1,j,ae,pe,ve.canonical);for(;Je+Ke<=st;){if(Ne+=we,Ne<I||Ne>=D)return null;if($e=De,gt=St,Ot.push($e),ue&&it.push(gt),St=new o.Point($.getx(Ne),$.gety(Ne)),De=J[Ne],!De){const cr=or(St,ve.canonical,j,pe,ae);De=cr[3]>0?J[Ne]=cr:tn()}Je+=Ke,Ke=o.distance($e,De)}me&&ae&&(J[Ne]&&(De=tn(),Ke=o.distance($e,De)),J[Ne]=De);const mt=(st-Je)/Ke,Dt=St.sub(gt)._mult(mt)._add(gt),an=o.sub([],De,$e),Yt=o.scaleAndAdd([],$e,an,mt);let hn=[0,0,1],tr=an[0],_r=an[1];if(Q&&(hn=pe.upVector(ve.canonical,Dt.x,Dt.y),hn[0]!==0||hn[1]!==0||hn[2]!==1)){const cr=[hn[2],0,-hn[0]],Lr=o.cross([],hn,cr);o.normalize(cr,cr),o.normalize(Lr,Lr),tr=o.dot(an,cr),_r=o.dot(an,Lr)}if(f){const cr=o.cross([],hn,an);o.normalize(cr,cr),o.scaleAndAdd(Yt,Yt,cr,f*we)}const Zn=Te+Math.atan2(_r,tr);return Ot.push(Yt),ue&&it.push(Dt),{point:Yt,angle:Zn,path:Ot,tilePath:it,up:hn}}function ii(m,l){const f=l.length,y=f+4*m;l.resize(y),l.float32.fill(-1/0,4*f,4*y)}function gr(m,l,f){const y=l[0],x=l[1];return m[0]=f[0]*y+f[4]*x+f[12],m[1]=f[1]*y+f[5]*x+f[13],m[3]=f[3]*y+f[7]*x+f[15],m}const Yi=100;class ho{constructor(l,f,y=new Ur(l.width+200,l.height+200,25),x=new Ur(l.width+200,l.height+200,25)){this.transform=l,this.grid=y,this.ignoredGrid=x,this.pitchfactor=Math.cos(l._pitch)*l.cameraToCenterDistance,this.screenRightBoundary=l.width+Yi,this.screenBottomBoundary=l.height+Yi,this.gridRightBoundary=l.width+200,this.gridBottomBoundary=l.height+200,this.fogState=f}placeCollisionBox(l,f,y,x,w,P,I,D){let $=y.projectedAnchorX,j=y.projectedAnchorY,J=y.projectedAnchorZ;const ae=y.elevation,ue=y.tileID,me=l.getProjection();if(ae&&ue){const[De,$e,Je]=me.upVector(ue.canonical,y.tileAnchorX,y.tileAnchorY),Ke=me.upVectorScale(ue.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;$+=De*ae*Ke,j+=$e*ae*Ke,J+=Je*ae*Ke}const pe=this.projectAndGetPerspectiveRatio(I,$,j,J,y.tileID,me.name==="globe"||!!ae||this.transform.pitch>0,me),ve=P*pe.perspectiveRatio,Q=(y.x1*f+x.x-y.padding)*ve+pe.point.x,ge=(y.y1*f+x.y-y.padding)*ve+pe.point.y,we=(y.x2*f+x.x+y.padding)*ve+pe.point.x,Te=(y.y2*f+x.y+y.padding)*ve+pe.point.y,Ne=pe.perspectiveRatio<=.55||pe.occluded;return!this.isInsideGrid(Q,ge,we,Te)||!w&&this.grid.hitTest(Q,ge,we,Te,D)||Ne?{box:[],offscreen:!1,occluded:pe.occluded}:{box:[Q,ge,we,Te],offscreen:this.isOffscreen(Q,ge,we,Te),occluded:!1}}placeCollisionCircles(l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe){const ve=[],Q=this.transform.elevation,ge=l.getProjection(),we=Q?Q.getAtTileOffsetFunc(pe,this.transform.center.lat,this.transform.worldSize,ge):null,Te=new o.Point(y.tileAnchorX,y.tileAnchorY);let{x:Ne,y:De,z:$e}=ge.projectTilePoint(Te.x,Te.y,pe.canonical);if(we){const[Dt,an,Yt]=we(Te);Ne+=Dt,De+=an,$e+=Yt}const Je=ge.name==="globe",Ke=this.projectAndGetPerspectiveRatio(I,Ne,De,$e,pe,Je||!!Q||this.transform.pitch>0,ge),{perspectiveRatio:st}=Ke,Ot=(J?P/st:P*st)/o.ONE_EM,it=Zr(Ne,De,$e,D),St=Ke.signedDistanceFromCamera>0?zr(Ot,w,y.lineOffsetX*Ot,y.lineOffsetY*Ot,!1,it,Te,y,x,D,{},Q&&!J?we:null,J&&!!Q,ge,pe,J):null;let gt=!1,tn=!1,mt=!0;if(St&&!Ke.occluded){const Dt=.5*ue*st+me,an=new o.Point(-100,-100),Yt=new o.Point(this.screenRightBoundary,this.screenBottomBoundary),hn=new Fr,{first:tr,last:_r}=St,Zn=tr.path.length;let cr=[];for(let Qn=Zn-1;Qn>=1;Qn--)cr.push(tr.path[Qn]);for(let Qn=1;Qn<_r.path.length;Qn++)cr.push(_r.path[Qn]);const Lr=2.5*Dt;$&&(cr=cr.map(([Qn,ei,Xr],ti)=>(we&&!Je&&(Xr=we(ti<Zn-1?tr.tilePath[Zn-1-ti]:_r.tilePath[ti-Zn+2])[2]),Zr(Qn,ei,Xr,$))),cr.some(Qn=>Qn[3]<=0)&&(cr=[]));let Mr=[];if(cr.length>0){let Qn=1/0,ei=-1/0,Xr=1/0,ti=-1/0;for(const oi of cr)Qn=Math.min(Qn,oi[0]),Xr=Math.min(Xr,oi[1]),ei=Math.max(ei,oi[0]),ti=Math.max(ti,oi[1]);ei>=an.x&&Qn<=Yt.x&&ti>=an.y&&Xr<=Yt.y&&(Mr=[cr.map(oi=>new o.Point(oi[0],oi[1]))],(Qn<an.x||ei>Yt.x||Xr<an.y||ti>Yt.y)&&(Mr=o.clipLine(Mr,an.x,an.y,Yt.x,Yt.y)))}for(const Qn of Mr){hn.reset(Qn,.25*Dt);let ei=0;ei=hn.length<=.5*Dt?1:Math.ceil(hn.paddedLength/Lr)+1;for(let Xr=0;Xr<ei;Xr++){const ti=Xr/Math.max(ei-1,1),oi=hn.lerp(ti),Wo=oi.x+Yi,oo=oi.y+Yi;ve.push(Wo,oo,Dt,0);const Da=Wo-Dt,ws=oo-Dt,xi=Wo+Dt,ai=oo+Dt;if(mt=mt&&this.isOffscreen(Da,ws,xi,ai),tn=tn||this.isInsideGrid(Da,ws,xi,ai),!f&&this.grid.hitTestCircle(Wo,oo,Dt,ae)&&(gt=!0,!j))return{circles:[],offscreen:!1,collisionDetected:gt,occluded:!1}}}}return{circles:!j&&gt||!tn?[]:ve,offscreen:mt,collisionDetected:gt,occluded:Ke.occluded}}queryRenderedSymbols(l){if(l.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[];let y=1/0,x=1/0,w=-1/0,P=-1/0;for(const j of l){const J=new o.Point(j.x+Yi,j.y+Yi);y=Math.min(y,J.x),x=Math.min(x,J.y),w=Math.max(w,J.x),P=Math.max(P,J.y),f.push(J)}const I=this.grid.query(y,x,w,P).concat(this.ignoredGrid.query(y,x,w,P)),D={},$={};for(const j of I){const J=j.key;if(D[J.bucketInstanceId]===void 0&&(D[J.bucketInstanceId]={}),D[J.bucketInstanceId][J.featureIndex])continue;const ae=[new o.Point(j.x1,j.y1),new o.Point(j.x2,j.y1),new o.Point(j.x2,j.y2),new o.Point(j.x1,j.y2)];o.polygonIntersectsPolygon(f,ae)&&(D[J.bucketInstanceId][J.featureIndex]=!0,$[J.bucketInstanceId]===void 0&&($[J.bucketInstanceId]=[]),$[J.bucketInstanceId].push(J.featureIndex))}return $}insertCollisionBox(l,f,y,x,w){(f?this.ignoredGrid:this.grid).insert({bucketInstanceId:y,featureIndex:x,collisionGroupID:w},l[0],l[1],l[2],l[3])}insertCollisionCircles(l,f,y,x,w){const P=f?this.ignoredGrid:this.grid,I={bucketInstanceId:y,featureIndex:x,collisionGroupID:w};for(let D=0;D<l.length;D+=4)P.insertCircle(I,l[D],l[D+1],l[D+2])}projectAndGetPerspectiveRatio(l,f,y,x,w,P,I){const D=[f,y,x,1];let $=!1;x||this.transform.pitch>0?(o.transformMat4$1(D,D,l),this.fogState&&w&&I.name!=="globe"&&($=function(ae,ue,me,pe,ve,Q){const ge=Q.calculateFogTileMatrix(ve),we=[ue,me,pe];return o.transformMat4(we,we,ge),Vt(ae,we,Q.pitch,Q._fov)}(this.fogState,f,y,x,w.toUnwrapped(),this.transform)>.9)):gr(D,D,l);const j=D[3];return{point:new o.Point((D[0]/j+1)/2*this.transform.width+Yi,(-D[1]/j+1)/2*this.transform.height+Yi),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(I)/j*.5,1.5),signedDistanceFromCamera:j,occluded:P&&D[2]>j||$}}isOffscreen(l,f,y,x){return y<Yi||l>=this.screenRightBoundary||x<Yi||f>this.screenBottomBoundary}isInsideGrid(l,f,y,x){return y>=0&&l<this.gridRightBoundary&&x>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const l=o.identity([]);return o.translate(l,l,[-100,-100,0]),l}}function pa(m,l,f){const y=l.createTileMatrix(m,m.worldSize,f.toUnwrapped());return o.multiply(new Float32Array(16),m.projMatrix,y)}function Po(m,l,f){if(l.projection.name===f.projection.name)return m.projMatrix;const y=f.clone();return y.setProjection(l.projection),pa(y,l.getProjection(),m)}function Hr(m,l,f){return l.name===f.projection.name?m.projMatrix:pa(f,l,m)}class ol{constructor(l,f,y,x){this.opacity=l?Math.max(0,Math.min(1,l.opacity+(l.placed?f:-f))):x&&y?1:0,this.placed=y}isHidden(){return this.opacity===0&&!this.placed}}class ma{constructor(l,f,y,x,w,P=!1){this.text=new ol(l?l.text:null,f,y,w),this.icon=new ol(l?l.icon:null,f,x,w),this.clipped=P}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Uo{constructor(l,f,y,x=!1){this.text=l,this.icon=f,this.skipFade=y,this.clipped=x}}class Rs{constructor(){this.invProjMatrix=o.create(),this.viewportMatrix=o.create(),this.circles=[]}}class ga{constructor(l,f,y,x,w){this.bucketInstanceId=l,this.featureIndex=f,this.sourceLayerIndex=y,this.bucketIndex=x,this.tileID=w}}class al{constructor(l){this.crossSourceCollisions=l,this.maxGroupID=0,this.collisionGroups={}}get(l){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[l]){const f=++this.maxGroupID;this.collisionGroups[l]={ID:f,predicate:y=>y.collisionGroupID===f}}return this.collisionGroups[l]}}function ps(m,l,f,y,x){const{horizontalAlign:w,verticalAlign:P}=o.getAnchorAlignment(m),I=-(w-.5)*l,D=-(P-.5)*f,$=o.evaluateVariableOffset(m,y);return new o.Point(I+$[0]*x,D+$[1]*x)}function Vo(m,l,f,y,x){const w=new o.Point(m,l);return f&&w._rotate(y?x:-x),w}class ms{constructor(l,f,y,x,w){this.transform=l.clone(),this.projection=l.projection.name,this.collisionIndex=new ho(this.transform,w),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=f,this.retainedQueryData={},this.collisionGroups=new al(y),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(l,f,y,x){const w=y.getBucket(f),P=y.latestFeatureIndex;if(!w||!P||f.id!==w.layerIds[0])return;const I=w.layers[0].layout,D=y.collisionBoxArray,$=Math.pow(2,this.transform.zoom-y.tileID.overscaledZ),j=y.tileSize/o.EXTENT,J=y.tileID.toUnwrapped();this.transform.setProjection(w.projection);const ae=(ue=y.tileID,me=w.getProjection(),pe=this.transform,me.name===this.projection?pe.calculateProjMatrix(ue.toUnwrapped()):pa(pe,me,ue));var ue,me,pe;const ve=I.get("text-pitch-alignment")==="map",Q=I.get("text-rotation-alignment")==="map";f.compileFilter();const ge=f.dynamicFilter(),we=f.dynamicFilterNeedsFeature(),Te=this.transform.calculatePixelsToTileUnitsMatrix(y),Ne=vi(ae,y.tileID.canonical,ve,Q,this.transform,w.getProjection(),Te);let De=null;if(ve){const Ke=Vr(ae,y.tileID.canonical,ve,Q,this.transform,w.getProjection(),Te);De=o.multiply([],this.transform.labelPlaneMatrix,Ke)}let $e=null;ge&&y.latestFeatureIndex&&($e={unwrappedTileID:J,dynamicFilter:ge,dynamicFilterNeedsFeature:we,featureIndex:y.latestFeatureIndex}),this.retainedQueryData[w.bucketInstanceId]=new ga(w.bucketInstanceId,P,w.sourceLayerIndex,w.index,y.tileID);const Je={bucket:w,layout:I,posMatrix:ae,textLabelPlaneMatrix:Ne,labelToScreenMatrix:De,clippingData:$e,scale:$,textPixelRatio:j,holdingForFade:y.holdingForFade(),collisionBoxArray:D,partiallyEvaluatedTextSize:o.evaluateSizeForZoom(w.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:o.evaluateSizeForZoom(w.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(x)for(const Ke of w.sortKeyRanges){const{sortKey:st,symbolInstanceStart:Ot,symbolInstanceEnd:it}=Ke;l.push({sortKey:st,symbolInstanceStart:Ot,symbolInstanceEnd:it,parameters:Je})}else l.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:Je})}attemptAnchorPlacement(l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe,ve,Q,ge){const{textOffset0:we,textOffset1:Te,crossTileID:Ne}=ae,De=[we,Te],$e=ps(l,y,x,De,w),Je=this.collisionIndex.placeCollisionBox(me,w,f,Vo($e.x,$e.y,P,I,this.transform.angle),J,D,$,j.predicate);if(ve){const Ke=me.getSymbolInstanceIconSize(ge,this.transform.zoom,ae.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(me,Ke,ve,Vo($e.x,$e.y,P,I,this.transform.angle),J,D,$,j.predicate).box.length===0)return}if(Je.box.length>0){let Ke;return this.prevPlacement&&this.prevPlacement.variableOffsets[Ne]&&this.prevPlacement.placements[Ne]&&this.prevPlacement.placements[Ne].text&&(Ke=this.prevPlacement.variableOffsets[Ne].anchor),this.variableOffsets[Ne]={textOffset:De,width:y,height:x,anchor:l,textScale:w,prevAnchor:Ke},this.markUsedJustification(me,l,ae,pe),me.allowVerticalPlacement&&(this.markUsedOrientation(me,pe,ae),this.placedOrientations[Ne]=pe),{shift:$e,placedGlyphBoxes:Je}}}placeLayerBucketPart(l,f,y,x){const{bucket:w,layout:P,posMatrix:I,textLabelPlaneMatrix:D,labelToScreenMatrix:$,clippingData:j,textPixelRatio:J,holdingForFade:ae,collisionBoxArray:ue,partiallyEvaluatedTextSize:me,partiallyEvaluatedIconSize:pe,collisionGroup:ve}=l.parameters,Q=P.get("text-optional"),ge=P.get("icon-optional"),we=P.get("text-allow-overlap"),Te=P.get("icon-allow-overlap"),Ne=P.get("text-rotation-alignment")==="map",De=P.get("text-pitch-alignment")==="map",$e=P.get("icon-text-fit")!=="none",Je=P.get("symbol-z-order")==="viewport-y";this.transform.setProjection(w.projection);let Ke=we&&(Te||!w.hasIconData()||ge),st=Te&&(we||!w.hasTextData()||Q);!w.collisionArrays&&ue&&w.deserializeCollisionBoxes(ue),y&&x&&w.updateCollisionDebugBuffers(this.transform.zoom,ue);const Ot=(it,St,gt)=>{const{crossTileID:tn,numVerticalGlyphVertices:mt}=it;if(j){const xi={zoom:this.transform.zoom,pitch:this.transform.pitch};let ai=null;if(j.dynamicFilterNeedsFeature){const Yr=this.retainedQueryData[w.bucketInstanceId];ai=j.featureIndex.loadFeature({featureIndex:it.featureIndex,bucketIndex:Yr.bucketIndex,sourceLayerIndex:Yr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,j.dynamicFilter)(xi,ai,this.retainedQueryData[w.bucketInstanceId].tileID.canonical,new o.Point(it.tileAnchorX,it.tileAnchorY),this.transform.calculateDistanceTileData(j.unwrappedTileID)))return this.placements[tn]=new Uo(!1,!1,!1,!0),void f.add(tn)}if(f.has(tn))return;if(ae)return void(this.placements[tn]=new Uo(!1,!1,!1));let Dt=!1,an=!1,Yt=!0,hn=!1,tr=!1,_r=null,Zn={box:null,offscreen:null,occluded:null},cr={box:null,offscreen:null,occluded:null},Lr=null,Mr=null,Qn=null,ei=0,Xr=0,ti=0;gt.textFeatureIndex?ei=gt.textFeatureIndex:it.useRuntimeCollisionCircles&&(ei=it.featureIndex),gt.verticalTextFeatureIndex&&(Xr=gt.verticalTextFeatureIndex);const oi=xi=>{xi.tileID=this.retainedQueryData[w.bucketInstanceId].tileID;const ai=this.transform.elevation;(ai||xi.elevation)&&(xi.elevation=ai?ai.getAtTileOffset(xi.tileID,xi.tileAnchorX,xi.tileAnchorY):0)},Wo=gt.textBox;if(Wo){oi(Wo);const xi=Yr=>{let eo=o.WritingMode.horizontal;if(w.allowVerticalPlacement&&!Yr&&this.prevPlacement){const Zo=this.prevPlacement.placedOrientations[tn];Zo&&(this.placedOrientations[tn]=Zo,eo=Zo,this.markUsedOrientation(w,eo,it))}return eo},ai=(Yr,eo)=>{if(w.allowVerticalPlacement&&mt>0&&gt.verticalTextBox){for(const Zo of w.writingModes)if(Zo===o.WritingMode.vertical?(Zn=eo(),cr=Zn):Zn=Yr(),Zn&&Zn.box&&Zn.box.length)break}else Zn=Yr()};if(P.get("text-variable-anchor")){let Yr=P.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[tn]){const hi=this.prevPlacement.variableOffsets[tn];Yr.indexOf(hi.anchor)>0&&(Yr=Yr.filter(Xa=>Xa!==hi.anchor),Yr.unshift(hi.anchor))}const eo=(hi,Xa,hp)=>{const yd=w.getSymbolInstanceTextSize(me,it,this.transform.zoom,St),mh=(hi.x2-hi.x1)*yd+2*hi.padding,Ic=(hi.y2-hi.y1)*yd+2*hi.padding,Ou=$e&&!Te?Xa:null;Ou&&oi(Ou);let vd={box:[],offscreen:!1,occluded:!1};const pp=we?2*Yr.length:Yr.length;for(let gh=0;gh<pp;++gh){const ng=this.attemptAnchorPlacement(Yr[gh%Yr.length],hi,mh,Ic,yd,Ne,De,J,I,ve,gh>=Yr.length,it,St,w,hp,Ou,me,pe);if(ng&&(vd=ng.placedGlyphBoxes,vd&&vd.box&&vd.box.length)){Dt=!0,_r=ng.shift;break}}return vd};ai(()=>eo(Wo,gt.iconBox,o.WritingMode.horizontal),()=>{const hi=gt.verticalTextBox;return hi&&oi(hi),w.allowVerticalPlacement&&!(Zn&&Zn.box&&Zn.box.length)&&mt>0&&hi?eo(hi,gt.verticalIconBox,o.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Zn&&(Dt=Zn.box,Yt=Zn.offscreen,hn=Zn.occluded);const Zo=xi(!(!Zn||!Zn.box));if(!Dt&&this.prevPlacement){const hi=this.prevPlacement.variableOffsets[tn];hi&&(this.variableOffsets[tn]=hi,this.markUsedJustification(w,hi.anchor,it,Zo))}}else{const Yr=(eo,Zo)=>{const hi=w.getSymbolInstanceTextSize(me,it,this.transform.zoom,St),Xa=this.collisionIndex.placeCollisionBox(w,hi,eo,new o.Point(0,0),we,J,I,ve.predicate);return Xa&&Xa.box&&Xa.box.length&&(this.markUsedOrientation(w,Zo,it),this.placedOrientations[tn]=Zo),Xa};ai(()=>Yr(Wo,o.WritingMode.horizontal),()=>{const eo=gt.verticalTextBox;return w.allowVerticalPlacement&&mt>0&&eo?(oi(eo),Yr(eo,o.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),xi(!!(Zn&&Zn.box&&Zn.box.length))}}if(Lr=Zn,Dt=Lr&&Lr.box&&Lr.box.length>0,Yt=Lr&&Lr.offscreen,hn=Lr&&Lr.occluded,it.useRuntimeCollisionCircles){const xi=w.text.placedSymbolArray.get(it.centerJustifiedTextSymbolIndex>=0?it.centerJustifiedTextSymbolIndex:it.verticalPlacedTextSymbolIndex),ai=o.evaluateSizeForFeature(w.textSizeData,me,xi),Yr=P.get("text-padding");Mr=this.collisionIndex.placeCollisionCircles(w,we,xi,w.lineVertexArray,w.glyphOffsetArray,ai,I,D,$,y,De,ve.predicate,it.collisionCircleDiameter*ai/o.ONE_EM,Yr,this.retainedQueryData[w.bucketInstanceId].tileID),Dt=we||Mr.circles.length>0&&!Mr.collisionDetected,Yt=Yt&&Mr.offscreen,hn=Mr.occluded}if(gt.iconFeatureIndex&&(ti=gt.iconFeatureIndex),gt.iconBox){const xi=ai=>{oi(ai);const Yr=$e&&_r?Vo(_r.x,_r.y,Ne,De,this.transform.angle):new o.Point(0,0),eo=w.getSymbolInstanceIconSize(pe,this.transform.zoom,it.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(w,eo,ai,Yr,Te,J,I,ve.predicate)};cr&&cr.box&&cr.box.length&&gt.verticalIconBox?(Qn=xi(gt.verticalIconBox),an=Qn.box.length>0):(Qn=xi(gt.iconBox),an=Qn.box.length>0),Yt=Yt&&Qn.offscreen,tr=Qn.occluded}const oo=Q||it.numHorizontalGlyphVertices===0&&mt===0,Da=ge||it.numIconVertices===0;if(oo||Da?Da?oo||(an=an&&Dt):Dt=an&&Dt:an=Dt=an&&Dt,Dt&&Lr&&Lr.box&&this.collisionIndex.insertCollisionBox(Lr.box,P.get("text-ignore-placement"),w.bucketInstanceId,cr&&cr.box&&Xr?Xr:ei,ve.ID),an&&Qn&&this.collisionIndex.insertCollisionBox(Qn.box,P.get("icon-ignore-placement"),w.bucketInstanceId,ti,ve.ID),Mr&&(Dt&&this.collisionIndex.insertCollisionCircles(Mr.circles,P.get("text-ignore-placement"),w.bucketInstanceId,ei,ve.ID),y)){const xi=w.bucketInstanceId;let ai=this.collisionCircleArrays[xi];ai===void 0&&(ai=this.collisionCircleArrays[xi]=new Rs);for(let Yr=0;Yr<Mr.circles.length;Yr+=4)ai.circles.push(Mr.circles[Yr+0]),ai.circles.push(Mr.circles[Yr+1]),ai.circles.push(Mr.circles[Yr+2]),ai.circles.push(Mr.collisionDetected?1:0)}const ws=w.projection.name!=="globe";Ke=Ke&&(ws||!hn),st=st&&(ws||!tr),this.placements[tn]=new Uo(Dt||Ke,an||st,Yt||w.justReloaded),f.add(tn)};if(Je){const it=w.getSortedSymbolIndexes(this.transform.angle);for(let St=it.length-1;St>=0;--St){const gt=it[St];Ot(w.symbolInstances.get(gt),gt,w.collisionArrays[gt])}}else for(let it=l.symbolInstanceStart;it<l.symbolInstanceEnd;it++)Ot(w.symbolInstances.get(it),it,w.collisionArrays[it]);if(y&&w.bucketInstanceId in this.collisionCircleArrays){const it=this.collisionCircleArrays[w.bucketInstanceId];o.invert(it.invProjMatrix,I),it.viewportMatrix=this.collisionIndex.getViewportMatrix()}w.justReloaded=!1}markUsedJustification(l,f,y,x){const{leftJustifiedTextSymbolIndex:w,centerJustifiedTextSymbolIndex:P,rightJustifiedTextSymbolIndex:I,verticalPlacedTextSymbolIndex:D,crossTileID:$}=y,j=o.getAnchorJustification(f),J=x===o.WritingMode.vertical?D:j==="left"?w:j==="center"?P:j==="right"?I:-1;w>=0&&(l.text.placedSymbolArray.get(w).crossTileID=J>=0&&w!==J?0:$),P>=0&&(l.text.placedSymbolArray.get(P).crossTileID=J>=0&&P!==J?0:$),I>=0&&(l.text.placedSymbolArray.get(I).crossTileID=J>=0&&I!==J?0:$),D>=0&&(l.text.placedSymbolArray.get(D).crossTileID=J>=0&&D!==J?0:$)}markUsedOrientation(l,f,y){const x=f===o.WritingMode.horizontal||f===o.WritingMode.horizontalOnly?f:0,w=f===o.WritingMode.vertical?f:0,{leftJustifiedTextSymbolIndex:P,centerJustifiedTextSymbolIndex:I,rightJustifiedTextSymbolIndex:D,verticalPlacedTextSymbolIndex:$}=y,j=l.text.placedSymbolArray;P>=0&&(j.get(P).placedOrientation=x),I>=0&&(j.get(I).placedOrientation=x),D>=0&&(j.get(D).placedOrientation=x),$>=0&&(j.get($).placedOrientation=w)}commit(l){this.commitTime=l,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let y=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const x=f?f.symbolFadeChange(l):1,w=f?f.opacities:{},P=f?f.variableOffsets:{},I=f?f.placedOrientations:{};for(const D in this.placements){const $=this.placements[D],j=w[D];j?(this.opacities[D]=new ma(j,x,$.text,$.icon,null,$.clipped),y=y||$.text!==j.text.placed||$.icon!==j.icon.placed):(this.opacities[D]=new ma(null,x,$.text,$.icon,$.skipFade,$.clipped),y=y||$.text||$.icon)}for(const D in w){const $=w[D];if(!this.opacities[D]){const j=new ma($,x,!1,!1);j.isHidden()||(this.opacities[D]=j,y=y||$.text.placed||$.icon.placed)}}for(const D in P)this.variableOffsets[D]||!this.opacities[D]||this.opacities[D].isHidden()||(this.variableOffsets[D]=P[D]);for(const D in I)this.placedOrientations[D]||!this.opacities[D]||this.opacities[D].isHidden()||(this.placedOrientations[D]=I[D]);y?this.lastPlacementChangeTime=l:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:l)}updateLayerOpacities(l,f){const y=new Set;for(const x of f){const w=x.getBucket(l);w&&x.latestFeatureIndex&&l.id===w.layerIds[0]&&this.updateBucketOpacities(w,y,x.collisionBoxArray)}}updateBucketOpacities(l,f,y){l.hasTextData()&&l.text.opacityVertexArray.clear(),l.hasIconData()&&l.icon.opacityVertexArray.clear(),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexArray.clear(),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexArray.clear();const x=l.layers[0].layout,w=!!l.layers[0].dynamicFilter(),P=new ma(null,0,!1,!1,!0),I=x.get("text-allow-overlap"),D=x.get("icon-allow-overlap"),$=x.get("text-variable-anchor"),j=x.get("text-rotation-alignment")==="map",J=x.get("text-pitch-alignment")==="map",ae=x.get("icon-text-fit")!=="none",ue=new ma(null,0,I&&(D||!l.hasIconData()||x.get("icon-optional")),D&&(I||!l.hasTextData()||x.get("text-optional")),!0);!l.collisionArrays&&y&&(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData())&&l.deserializeCollisionBoxes(y);const me=(ve,Q,ge)=>{for(let we=0;we<Q/4;we++)ve.opacityVertexArray.emplaceBack(ge)};let pe=0;for(let ve=0;ve<l.symbolInstances.length;ve++){const Q=l.symbolInstances.get(ve),{numHorizontalGlyphVertices:ge,numVerticalGlyphVertices:we,crossTileID:Te,numIconVertices:Ne}=Q,De=f.has(Te);let $e=this.opacities[Te];De?$e=P:$e||($e=ue,this.opacities[Te]=$e),f.add(Te);const Je=ge>0||we>0,Ke=Ne>0,st=this.placedOrientations[Te],Ot=st===o.WritingMode.vertical,it=st===o.WritingMode.horizontal||st===o.WritingMode.horizontalOnly;if(!Je&&!Ke||$e.isHidden()||pe++,Je){const St=ko($e.text);me(l.text,ge,Ot?Kr:St),me(l.text,we,it?Kr:St);const gt=$e.text.isHidden(),{leftJustifiedTextSymbolIndex:tn,centerJustifiedTextSymbolIndex:mt,rightJustifiedTextSymbolIndex:Dt,verticalPlacedTextSymbolIndex:an}=Q,Yt=l.text.placedSymbolArray,hn=gt||Ot?1:0;tn>=0&&(Yt.get(tn).hidden=hn),mt>=0&&(Yt.get(mt).hidden=hn),Dt>=0&&(Yt.get(Dt).hidden=hn),an>=0&&(Yt.get(an).hidden=gt||it?1:0);const tr=this.variableOffsets[Te];tr&&this.markUsedJustification(l,tr.anchor,Q,st);const _r=this.placedOrientations[Te];_r&&(this.markUsedJustification(l,"left",Q,_r),this.markUsedOrientation(l,_r,Q))}if(Ke){const St=ko($e.icon),{placedIconSymbolIndex:gt,verticalPlacedIconSymbolIndex:tn}=Q,mt=l.icon.placedSymbolArray,Dt=$e.icon.isHidden()?1:0;gt>=0&&(me(l.icon,Ne,Ot?Kr:St),mt.get(gt).hidden=Dt),tn>=0&&(me(l.icon,Q.numVerticalIconVertices,it?Kr:St),mt.get(tn).hidden=Dt)}if(l.hasIconCollisionBoxData()||l.hasTextCollisionBoxData()){const St=l.collisionArrays[ve];if(St){let gt=new o.Point(0,0),tn=!0;if(St.textBox||St.verticalTextBox){if($){const Dt=this.variableOffsets[Te];Dt?(gt=ps(Dt.anchor,Dt.width,Dt.height,Dt.textOffset,Dt.textScale),j&&gt._rotate(J?this.transform.angle:-this.transform.angle)):tn=!1}w&&(tn=!$e.clipped),St.textBox&&Ji(l.textCollisionBox.collisionVertexArray,$e.text.placed,!tn||Ot,gt.x,gt.y),St.verticalTextBox&&Ji(l.textCollisionBox.collisionVertexArray,$e.text.placed,!tn||it,gt.x,gt.y)}const mt=tn&&!!(!it&&St.verticalIconBox);St.iconBox&&Ji(l.iconCollisionBox.collisionVertexArray,$e.icon.placed,mt,ae?gt.x:0,ae?gt.y:0),St.verticalIconBox&&Ji(l.iconCollisionBox.collisionVertexArray,$e.icon.placed,!mt,ae?gt.x:0,ae?gt.y:0)}}}if(l.fullyClipped=pe===0,l.sortFeatures(this.transform.angle),this.retainedQueryData[l.bucketInstanceId]&&(this.retainedQueryData[l.bucketInstanceId].featureSortOrder=l.featureSortOrder),l.hasTextData()&&l.text.opacityVertexBuffer&&l.text.opacityVertexBuffer.updateData(l.text.opacityVertexArray),l.hasIconData()&&l.icon.opacityVertexBuffer&&l.icon.opacityVertexBuffer.updateData(l.icon.opacityVertexArray),l.hasIconCollisionBoxData()&&l.iconCollisionBox.collisionVertexBuffer&&l.iconCollisionBox.collisionVertexBuffer.updateData(l.iconCollisionBox.collisionVertexArray),l.hasTextCollisionBoxData()&&l.textCollisionBox.collisionVertexBuffer&&l.textCollisionBox.collisionVertexBuffer.updateData(l.textCollisionBox.collisionVertexArray),l.bucketInstanceId in this.collisionCircleArrays){const ve=this.collisionCircleArrays[l.bucketInstanceId];l.placementInvProjMatrix=ve.invProjMatrix,l.placementViewportMatrix=ve.viewportMatrix,l.collisionCircleArray=ve.circles,delete this.collisionCircleArrays[l.bucketInstanceId]}}symbolFadeChange(l){return this.fadeDuration===0?1:(l-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(l){return Math.max(0,(this.transform.zoom-l)/1.5)}hasTransitions(l){return this.stale||l-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(l,f){const y=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*y>l}setStale(){this.stale=!0}}function Ji(m,l,f,y,x){m.emplaceBack(l?1:0,f?1:0,y||0,x||0),m.emplaceBack(l?1:0,f?1:0,y||0,x||0),m.emplaceBack(l?1:0,f?1:0,y||0,x||0),m.emplaceBack(l?1:0,f?1:0,y||0,x||0)}const Qi=Math.pow(2,25),_i=Math.pow(2,24),Ul=Math.pow(2,17),Ia=Math.pow(2,16),Io=Math.pow(2,9),Go=Math.pow(2,8),ya=Math.pow(2,1);function ko(m){if(m.opacity===0&&!m.placed)return 0;if(m.opacity===1&&m.placed)return 4294967295;const l=m.placed?1:0,f=Math.floor(127*m.opacity);return f*Qi+l*_i+f*Ul+l*Ia+f*Io+l*Go+f*ya+l}const Kr=0;class sl{constructor(l){this._sortAcrossTiles=l.layout.get("symbol-z-order")!=="viewport-y"&&l.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(l,f,y,x,w){const P=this._bucketParts;for(;this._currentTileIndex<l.length;)if(f.getBucketParts(P,x,l[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort((I,D)=>I.sortKey-D.sortKey));this._currentPartIndex<P.length;){const I=P[this._currentPartIndex];if(f.placeLayerBucketPart(I,this._seenCrossTileIDs,y,I.symbolInstanceStart===0),this._currentPartIndex++,w())return!0}return!1}}class Ds{constructor(l,f,y,x,w,P,I,D){this.placement=new ms(l,w,P,I,D),this._currentPlacementIndex=f.length-1,this._forceFullPlacement=y,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(l,f,y){const x=o.exported.now(),w=()=>{const P=o.exported.now()-x;return!this._forceFullPlacement&&P>2};for(;this._currentPlacementIndex>=0;){const P=f[l[this._currentPlacementIndex]],I=this.placement.collisionIndex.transform.zoom;if(P.type==="symbol"&&(!P.minzoom||P.minzoom<=I)&&(!P.maxzoom||P.maxzoom>I)){if(this._inProgressLayer||(this._inProgressLayer=new sl(P)),this._inProgressLayer.continuePlacement(y[P.source],this.placement,this._showCollisionBoxes,P,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(l){return this.placement.commit(l),this.placement}}const Va=512/o.EXTENT/2;class Hi{constructor(l,f,y){this.tileID=l,this.bucketInstanceId=y,this.index=new o.KDBush(f.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const x=l.canonical.x*o.EXTENT,w=l.canonical.y*o.EXTENT;for(let P=0;P<f.length;P++){const{key:I,crossTileID:D,tileAnchorX:$,tileAnchorY:j}=f.get(P),J=Math.floor((x+$)*Va),ae=Math.floor((w+j)*Va);this.index.add(J,ae),this.keys.push(I),this.crossTileIDs.push(D)}this.index.finish()}findMatches(l,f,y){const x=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z),w=Va/Math.pow(2,f.canonical.z-this.tileID.canonical.z),P=f.canonical.x*o.EXTENT,I=f.canonical.y*o.EXTENT;for(let D=0;D<l.length;D++){const $=l.get(D);if($.crossTileID)continue;const{key:j,tileAnchorX:J,tileAnchorY:ae}=$,ue=Math.floor((P+J)*w),me=Math.floor((I+ae)*w),pe=this.index.range(ue-x,me-x,ue+x,me+x);for(const ve of pe){const Q=this.crossTileIDs[ve];if(this.keys[ve]===j&&!y.has(Q)){y.add(Q),$.crossTileID=Q;break}}}}}class Xo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ll{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(l){const f=Math.round((l-this.lng)/360);if(f!==0)for(const y in this.indexes){const x=this.indexes[y],w={};for(const P in x){const I=x[P];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+f),w[I.tileID.key]=I}this.indexes[y]=w}this.lng=l}addBucket(l,f,y){if(this.indexes[l.overscaledZ]&&this.indexes[l.overscaledZ][l.key]){if(this.indexes[l.overscaledZ][l.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(l.overscaledZ,this.indexes[l.overscaledZ][l.key])}for(let w=0;w<f.symbolInstances.length;w++)f.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[l.overscaledZ]||(this.usedCrossTileIDs[l.overscaledZ]=new Set);const x=this.usedCrossTileIDs[l.overscaledZ];for(const w in this.indexes){const P=this.indexes[w];if(Number(w)>l.overscaledZ)for(const I in P){const D=P[I];D.tileID.isChildOf(l)&&D.findMatches(f.symbolInstances,l,x)}else{const I=P[l.scaledTo(Number(w)).key];I&&I.findMatches(f.symbolInstances,l,x)}}for(let w=0;w<f.symbolInstances.length;w++){const P=f.symbolInstances.get(w);P.crossTileID||(P.crossTileID=y.generate(),x.add(P.crossTileID))}return this.indexes[l.overscaledZ]===void 0&&(this.indexes[l.overscaledZ]={}),this.indexes[l.overscaledZ][l.key]=new Hi(l,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(l,f){for(const y of f.crossTileIDs)this.usedCrossTileIDs[l].delete(y)}removeStaleBuckets(l){let f=!1;for(const y in this.indexes){const x=this.indexes[y];for(const w in x)l[x[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(y,x[w]),delete x[w],f=!0)}return f}}class Yo{constructor(){this.layerIndexes={},this.crossTileIDs=new Xo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(l,f,y,x){let w=this.layerIndexes[l.id];w===void 0&&(w=this.layerIndexes[l.id]=new ll);let P=!1;const I={};x.name!=="globe"&&w.handleWrapJump(y);for(const D of f){const $=D.getBucket(l);$&&l.id===$.layerIds[0]&&($.bucketInstanceId||($.bucketInstanceId=++this.maxBucketInstanceId),w.addBucket(D.tileID,$,this.crossTileIDs)&&(P=!0),I[$.bucketInstanceId]=!0)}return w.removeStaleBuckets(I)&&(P=!0),P}pruneUnusedLayers(l){const f={};l.forEach(y=>{f[y]=!0});for(const y in this.layerIndexes)f[y]||delete this.layerIndexes[y]}}const Mo=(m,l)=>o.emitValidationErrors(m,l&&l.filter(f=>f.identifier!=="source.canvas")),Ga=o.pick(se,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),gc=o.pick(se,["setCenter","setZoom","setBearing","setPitch"]),Vl={version:8,layers:[],sources:{}},Ha={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ii extends o.Evented{constructor(l,f={}){super(),this.map=l,this.dispatcher=new Ge(le(),this),this.imageManager=new Kt,this.imageManager.setEventedParent(this),this.glyphManager=new o.GlyphManager(l._requestManager,f.localFontFamily?o.LocalGlyphMode.all:f.localIdeographFontFamily?o.LocalGlyphMode.ideographs:o.LocalGlyphMode.none,f.localFontFamily||f.localIdeographFontFamily),this.crossTileSymbolIndex=new Yo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.getReferrer());const y=this;this._rtlTextPluginCallback=Ii.registerForPluginStateChange(x=>{y.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:x.pluginStatus,pluginURL:x.pluginURL},(w,P)=>{if(o.triggerPluginCompletionEvent(w),P&&P.every(I=>I))for(const I in y._sourceCaches){const D=y._sourceCaches[I],$=D.getSource().type;$!=="vector"&&$!=="geojson"||D.reload()}})}),this.on("data",x=>{if(x.dataType!=="source"||x.sourceDataType!=="metadata")return;const w=this.getSource(x.sourceId);if(w&&w.vectorLayerIds)for(const P in this._layers){const I=this._layers[P];I.source===w.id&&this._validateLayer(I)}})}loadURL(l,f={}){this.fire(new o.Event("dataloading",{dataType:"style"}));const y=typeof f.validate=="boolean"?f.validate:!o.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,f.accessToken);const x=this.map._requestManager.transformRequest(l,o.ResourceType.Style);this._request=o.getJSON(x,(w,P)=>{this._request=null,w?this.fire(new o.ErrorEvent(w)):P&&this._load(P,y)})}loadJSON(l,f={}){this.fire(new o.Event("dataloading",{dataType:"style"})),this._request=o.exported.frame(()=>{this._request=null,this._load(l,f.validate!==!1)})}loadEmpty(){this.fire(new o.Event("dataloading",{dataType:"style"})),this._load(Vl,!1)}_updateLayerCount(l,f){const y=f?1:-1;l.is3D()&&(this._num3DLayers+=y),l.type==="circle"&&(this._numCircleLayers+=y),l.type==="symbol"&&(this._numSymbolLayers+=y)}_load(l,f){if(f&&Mo(this,o.validateStyle(l)))return;this._loaded=!0,this.stylesheet=o.clone$1(l),this._updateMapProjection();for(const x in l.sources)this.addSource(x,l.sources[x],{validate:!1});this._changed=!1,l.sprite?this._loadSprite(l.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(l.glyphs);const y=de(this.stylesheet.layers);this._order=y.map(x=>x.id),this._layers={},this._serializedLayers={};for(const x of y){const w=o.createStyleLayer(x);w.setEventedParent(this,{layer:{id:w.id}}),this._layers[w.id]=w,this._serializedLayers[w.id]=w.serialize(),this._updateLayerCount(w,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Qt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new o.Event("data",{dataType:"style"})),this.fire(new o.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(l){l?this.stylesheet.projection=l:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(l){this._spriteRequest=function(f,y,x){let w,P,I;const D=o.exported.devicePixelRatio>1?"@2x":"";let $=o.getJSON(y.transformRequest(y.normalizeSpriteURL(f,D,".json"),o.ResourceType.SpriteJSON),(ae,ue)=>{$=null,I||(I=ae,w=ue,J())}),j=o.getImage(y.transformRequest(y.normalizeSpriteURL(f,D,".png"),o.ResourceType.SpriteImage),(ae,ue)=>{j=null,I||(I=ae,P=ue,J())});function J(){if(I)x(I);else if(w&&P){const ae=o.exported.getImageData(P),ue={};for(const me in w){const{width:pe,height:ve,x:Q,y:ge,sdf:we,pixelRatio:Te,stretchX:Ne,stretchY:De,content:$e}=w[me],Je=new o.RGBAImage({width:pe,height:ve});o.RGBAImage.copy(ae,Je,{x:Q,y:ge},{x:0,y:0},{width:pe,height:ve}),ue[me]={data:Je,pixelRatio:Te,sdf:we,stretchX:Ne,stretchY:De,content:$e}}x(null,ue)}}return{cancel(){$&&($.cancel(),$=null),j&&(j.cancel(),j=null)}}}(l,this.map._requestManager,(f,y)=>{if(this._spriteRequest=null,f)this.fire(new o.ErrorEvent(f));else if(y)for(const x in y)this.imageManager.addImage(x,y[x]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new o.Event("data",{dataType:"style"}))})}_validateLayer(l){const f=this.getSource(l.source);if(!f)return;const y=l.sourceLayer;y&&(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(y)===-1)&&this.fire(new o.ErrorEvent(new Error(`Source layer "${y}" does not exist on source "${f.id}" as specified by style layer "${l.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const l in this._sourceCaches)if(!this._sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(l){const f=[];for(const y of l){const x=this._layers[y];x.type!=="custom"&&f.push(x.serialize())}return f}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const l in this._sourceCaches)if(this._sourceCaches[l].hasTransition())return!0;for(const l in this._layers)if(this._layers[l].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(l){return!!this.terrain&&(typeof l.isLayerDraped=="function"?l.isLayerDraped():Ha[l.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(l){if(!this._loaded)return;const f=this._changed;if(this._changed){const x=Object.keys(this._updatedLayers),w=Object.keys(this._removedLayers);(x.length||w.length)&&this._updateWorkerLayers(x,w);for(const P in this._updatedSources){const I=this._updatedSources[P];I==="reload"?this._reloadSource(P):I==="clear"&&this._clearSource(P)}this._updateTilesForChangedImages();for(const P in this._updatedPaintProps)this._layers[P].updateTransitions(l);this.light.updateTransitions(l),this.fog&&this.fog.updateTransitions(l),this._resetUpdates()}const y={};for(const x in this._sourceCaches){const w=this._sourceCaches[x];y[x]=w.used,w.used=!1}for(const x of this._order){const w=this._layers[x];if(w.recalculate(l,this._availableImages),!w.isHidden(l.zoom)){const I=this._getLayerSourceCache(w);I&&(I.used=!0)}const P=this.map.painter;if(P){const I=w.getProgramIds();if(!I)continue;const D=w.getProgramConfiguration(l.zoom);for(const $ of I)P.useProgram($,D)}}for(const x in y){const w=this._sourceCaches[x];y[x]!==w.used&&w.getSource().fire(new o.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:w.getSource().id}))}this.light.recalculate(l),this.terrain&&this.terrain.recalculate(l),this.fog&&this.fog.recalculate(l),this.z=l.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),f&&this.fire(new o.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const l=Object.keys(this._changedImages);if(l.length){for(const f in this._sourceCaches)this._sourceCaches[f].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}}_updateWorkerLayers(l,f){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(l){if(this._checkLoaded(),Mo(this,o.validateStyle(l)))return!1;(l=o.clone$1(l)).layers=de(l.layers);const f=function(x,w){if(!x)return[{command:se.setStyle,args:[w]}];let P=[];try{if(!v(x.version,w.version))return[{command:se.setStyle,args:[w]}];v(x.center,w.center)||P.push({command:se.setCenter,args:[w.center]}),v(x.zoom,w.zoom)||P.push({command:se.setZoom,args:[w.zoom]}),v(x.bearing,w.bearing)||P.push({command:se.setBearing,args:[w.bearing]}),v(x.pitch,w.pitch)||P.push({command:se.setPitch,args:[w.pitch]}),v(x.sprite,w.sprite)||P.push({command:se.setSprite,args:[w.sprite]}),v(x.glyphs,w.glyphs)||P.push({command:se.setGlyphs,args:[w.glyphs]}),v(x.transition,w.transition)||P.push({command:se.setTransition,args:[w.transition]}),v(x.light,w.light)||P.push({command:se.setLight,args:[w.light]}),v(x.fog,w.fog)||P.push({command:se.setFog,args:[w.fog]}),v(x.projection,w.projection)||P.push({command:se.setProjection,args:[w.projection]});const I={},D=[];(function(J,ae,ue,me){let pe;for(pe in ae=ae||{},J=J||{})J.hasOwnProperty(pe)&&(ae.hasOwnProperty(pe)||tt(pe,ue,me));for(pe in ae){if(!ae.hasOwnProperty(pe))continue;const ve=ae[pe];J.hasOwnProperty(pe)?v(J[pe],ve)||(J[pe].type==="geojson"&&ve.type==="geojson"&&jt(J,ae,pe)?ue.push({command:se.setGeoJSONSourceData,args:[pe,ve.data]}):ut(pe,ae,ue,me)):He(pe,ae,ue)}})(x.sources,w.sources,D,I);const $=[];x.layers&&x.layers.forEach(J=>{J.source&&I[J.source]?P.push({command:se.removeLayer,args:[J.id]}):$.push(J)});let j=x.terrain;j&&I[j.source]&&(P.push({command:se.setTerrain,args:[void 0]}),j=void 0),P=P.concat(D),v(j,w.terrain)||P.push({command:se.setTerrain,args:[w.terrain]}),function(J,ae,ue){ae=ae||[];const me=(J=J||[]).map(Xn),pe=ae.map(Xn),ve=J.reduce(Rr,{}),Q=ae.reduce(Rr,{}),ge=me.slice(),we=Object.create(null);let Te,Ne,De,$e,Je,Ke,st;for(Te=0,Ne=0;Te<me.length;Te++)De=me[Te],Q.hasOwnProperty(De)?Ne++:(ue.push({command:se.removeLayer,args:[De]}),ge.splice(ge.indexOf(De,Ne),1));for(Te=0,Ne=0;Te<pe.length;Te++)De=pe[pe.length-1-Te],ge[ge.length-1-Te]!==De&&(ve.hasOwnProperty(De)?(ue.push({command:se.removeLayer,args:[De]}),ge.splice(ge.lastIndexOf(De,ge.length-Ne),1)):Ne++,Ke=ge[ge.length-Te],ue.push({command:se.addLayer,args:[Q[De],Ke]}),ge.splice(ge.length-Te,0,De),we[De]=!0);for(Te=0;Te<pe.length;Te++)if(De=pe[Te],$e=ve[De],Je=Q[De],!we[De]&&!v($e,Je))if(v($e.source,Je.source)&&v($e["source-layer"],Je["source-layer"])&&v($e.type,Je.type)){for(st in on($e.layout,Je.layout,ue,De,null,se.setLayoutProperty),on($e.paint,Je.paint,ue,De,null,se.setPaintProperty),v($e.filter,Je.filter)||ue.push({command:se.setFilter,args:[De,Je.filter]}),v($e.minzoom,Je.minzoom)&&v($e.maxzoom,Je.maxzoom)||ue.push({command:se.setLayerZoomRange,args:[De,Je.minzoom,Je.maxzoom]}),$e)$e.hasOwnProperty(st)&&st!=="layout"&&st!=="paint"&&st!=="filter"&&st!=="metadata"&&st!=="minzoom"&&st!=="maxzoom"&&(st.indexOf("paint.")===0?on($e[st],Je[st],ue,De,st.slice(6),se.setPaintProperty):v($e[st],Je[st])||ue.push({command:se.setLayerProperty,args:[De,st,Je[st]]}));for(st in Je)Je.hasOwnProperty(st)&&!$e.hasOwnProperty(st)&&st!=="layout"&&st!=="paint"&&st!=="filter"&&st!=="metadata"&&st!=="minzoom"&&st!=="maxzoom"&&(st.indexOf("paint.")===0?on($e[st],Je[st],ue,De,st.slice(6),se.setPaintProperty):v($e[st],Je[st])||ue.push({command:se.setLayerProperty,args:[De,st,Je[st]]}))}else ue.push({command:se.removeLayer,args:[De]}),Ke=ge[ge.lastIndexOf(De)+1],ue.push({command:se.addLayer,args:[Je,Ke]})}($,w.layers,P)}catch(I){console.warn("Unable to compute style diff:",I),P=[{command:se.setStyle,args:[w]}]}return P}(this.serialize(),l).filter(x=>!(x.command in gc));if(f.length===0)return!1;const y=f.filter(x=>!(x.command in Ga));if(y.length>0)throw new Error(`Unimplemented: ${y.map(x=>x.command).join(", ")}.`);return f.forEach(x=>{x.command!=="setTransition"&&x.command!=="setProjection"&&this[x.command].apply(this,x.args)}),this.stylesheet=l,this._updateMapProjection(),!0}addImage(l,f){return this.getImage(l)?this.fire(new o.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(l,f),this._afterImageUpdated(l),this)}updateImage(l,f){this.imageManager.updateImage(l,f)}getImage(l){return this.imageManager.getImage(l)}removeImage(l){return this.getImage(l)?(this.imageManager.removeImage(l),this._afterImageUpdated(l),this):this.fire(new o.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(l,f,y={}){if(this._checkLoaded(),this.getSource(l)!==void 0)throw new Error("There is already a source with this ID");if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(o.validateSource,`sources.${l}`,f,null,y))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const x=nt(l,f,this.dispatcher,this);x.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(l),source:x.serialize(),sourceId:l}));const w=P=>{const I=(P?"symbol:":"other:")+l,D=this._sourceCaches[I]=new o.SourceCache(I,x,P);(P?this._symbolSourceCaches:this._otherSourceCaches)[l]=D,D.style=this,D.onAdd(this.map)};w(!1),f.type!=="vector"&&f.type!=="geojson"||w(!0),x.onAdd&&x.onAdd(this.map),this._changed=!0}removeSource(l){this._checkLoaded();const f=this.getSource(l);if(!f)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===l)return this.fire(new o.ErrorEvent(new Error(`Source "${l}" cannot be removed while layer "${x}" is using it.`)));if(this.terrain&&this.terrain.get().source===l)return this.fire(new o.ErrorEvent(new Error(`Source "${l}" cannot be removed while terrain is using it.`)));const y=this._getSourceCaches(l);for(const x of y)delete this._sourceCaches[x.id],delete this._updatedSources[x.id],x.fire(new o.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:x.getSource().id})),x.setEventedParent(null),x.clearTiles();return delete this._otherSourceCaches[l],delete this._symbolSourceCaches[l],f.setEventedParent(null),f.onRemove&&f.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(l,f){this._checkLoaded(),this.getSource(l).setData(f),this._changed=!0}getSource(l){const f=this._getSourceCache(l);return f&&f.getSource()}_getSources(){const l=[];for(const f in this._otherSourceCaches){const y=this._getSourceCache(f);y&&l.push(y.getSource())}return l}addLayer(l,f,y={}){this._checkLoaded();const x=l.id;if(this.getLayer(x))return void this.fire(new o.ErrorEvent(new Error(`Layer with id "${x}" already exists on this map`)));let w;if(l.type==="custom"){if(Mo(this,o.validateCustomStyleLayer(l)))return;w=o.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(x,l.source),l=o.clone$1(l),l=o.extend(l,{source:x})),this._validate(o.validateLayer,`layers.${x}`,l,{arrayIndex:-1},y))return;w=o.createStyleLayer(l),this._validateLayer(w),w.setEventedParent(this,{layer:{id:x}}),this._serializedLayers[w.id]=w.serialize(),this._updateLayerCount(w,!0)}const P=f?this._order.indexOf(f):this._order.length;if(f&&P===-1)return void this.fire(new o.ErrorEvent(new Error(`Layer with id "${f}" does not exist on this map.`)));this._order.splice(P,0,x),this._layerOrderChanged=!0,this._layers[x]=w;const I=this._getLayerSourceCache(w);if(this._removedLayers[x]&&w.source&&I&&w.type!=="custom"){const D=this._removedLayers[x];delete this._removedLayers[x],D.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",I.pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(l,f){if(this._checkLoaded(),this._changed=!0,!this._layers[l])return void this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be moved.`)));if(l===f)return;const y=this._order.indexOf(l);this._order.splice(y,1);const x=f?this._order.indexOf(f):this._order.length;f&&x===-1?this.fire(new o.ErrorEvent(new Error(`Layer with id "${f}" does not exist on this map.`))):(this._order.splice(x,0,l),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(l){this._checkLoaded();const f=this._layers[l];if(!f)return void this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be removed.`)));f.setEventedParent(null),this._updateLayerCount(f,!1);const y=this._order.indexOf(l);this._order.splice(y,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=f,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],f.onRemove&&f.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(l){return this._layers[l]}hasLayer(l){return l in this._layers}hasLayerType(l){for(const f in this._layers)if(this._layers[f].type===l)return!0;return!1}setLayerZoomRange(l,f,y){this._checkLoaded();const x=this.getLayer(l);x?x.minzoom===f&&x.maxzoom===y||(f!=null&&(x.minzoom=f),y!=null&&(x.maxzoom=y),this._updateLayer(x)):this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(l,f,y={}){this._checkLoaded();const x=this.getLayer(l);if(x){if(!v(x.filter,f))return f==null?(x.filter=void 0,void this._updateLayer(x)):void(this._validate(o.validateFilter,`layers.${x.id}.filter`,f,{layerType:x.type},y)||(x.filter=o.clone$1(f),this._updateLayer(x)))}else this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be filtered.`)))}getFilter(l){const f=this.getLayer(l);return f&&o.clone$1(f.filter)}setLayoutProperty(l,f,y,x={}){this._checkLoaded();const w=this.getLayer(l);w?v(w.getLayoutProperty(f),y)||(w.setLayoutProperty(f,y,x),this._updateLayer(w)):this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(l,f){const y=this.getLayer(l);if(y)return y.getLayoutProperty(f);this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style.`)))}setPaintProperty(l,f,y,x={}){this._checkLoaded();const w=this.getLayer(l);w?v(w.getPaintProperty(f),y)||(w.setPaintProperty(f,y,x)&&this._updateLayer(w),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new o.ErrorEvent(new Error(`The layer '${l}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(l,f){const y=this.getLayer(l);return y&&y.getPaintProperty(f)}setFeatureState(l,f){this._checkLoaded();const y=l.source,x=l.sourceLayer,w=this.getSource(y);if(!w)return void this.fire(new o.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const P=w.type;if(P==="geojson"&&x)return void this.fire(new o.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(P==="vector"&&!x)return void this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));l.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided.")));const I=this._getSourceCaches(y);for(const D of I)D.setFeatureState(x,l.id,f)}removeFeatureState(l,f){this._checkLoaded();const y=l.source,x=this.getSource(y);if(!x)return void this.fire(new o.ErrorEvent(new Error(`The source '${y}' does not exist in the map's style.`)));const w=x.type,P=w==="vector"?l.sourceLayer:void 0;if(w==="vector"&&!P)return void this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(f&&typeof l.id!="string"&&typeof l.id!="number")return void this.fire(new o.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const I=this._getSourceCaches(y);for(const D of I)D.removeFeatureState(P,l.id,f)}getFeatureState(l){this._checkLoaded();const f=l.source,y=l.sourceLayer,x=this.getSource(f);if(x){if(x.type!=="vector"||y)return l.id===void 0&&this.fire(new o.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(f)[0].getFeatureState(y,l.id);this.fire(new o.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new o.ErrorEvent(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return o.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const l={};for(const f in this._sourceCaches){const y=this._sourceCaches[f].getSource();l[y.id]||(l[y.id]=y.serialize())}return o.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:l,layers:this._serializeLayers(this._order)},f=>f!==void 0)}_updateLayer(l){this._updatedLayers[l.id]=!0;const f=this._getLayerSourceCache(l);l.source&&!this._updatedSources[l.source]&&f&&f.getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",f.pause()),this._changed=!0,l.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(l){const f=P=>this._layers[P].type==="fill-extrusion",y={},x=[];for(let P=this._order.length-1;P>=0;P--){const I=this._order[P];if(f(I)){y[I]=P;for(const D of l){const $=D[I];if($)for(const j of $)x.push(j)}}}x.sort((P,I)=>I.intersectionZ-P.intersectionZ);const w=[];for(let P=this._order.length-1;P>=0;P--){const I=this._order[P];if(f(I))for(let D=x.length-1;D>=0;D--){const $=x[D].feature;if(y[$.layer.id]<P)break;w.push($),x.pop()}else for(const D of l){const $=D[I];if($)for(const j of $)w.push(j.feature)}}return w}queryRenderedFeatures(l,f,y){f&&f.filter&&this._validate(o.validateFilter,"queryRenderedFeatures.filter",f.filter,null,f);const x={};if(f&&f.layers){if(!Array.isArray(f.layers))return this.fire(new o.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const D of f.layers){const $=this._layers[D];if(!$)return this.fire(new o.ErrorEvent(new Error(`The layer '${D}' does not exist in the map's style and cannot be queried for features.`))),[];x[$.source]=!0}}const w=[];f.availableImages=this._availableImages;const P=f&&f.layers?f.layers.some(D=>{const $=this.getLayer(D);return $&&$.is3D()}):this.has3DLayers(),I=ln.createFromScreenPoints(l,y);for(const D in this._sourceCaches){const $=this._sourceCaches[D].getSource().id;f.layers&&!x[$]||w.push(cn(this._sourceCaches[D],this._layers,this._serializedLayers,I,f,y,P,!!this.map._showQueryGeometry))}return this.placement&&w.push(function(D,$,j,J,ae,ue,me){const pe={},ve=ue.queryRenderedSymbols(J),Q=[];for(const ge of Object.keys(ve).map(Number))Q.push(me[ge]);Q.sort(ir);for(const ge of Q){const we=ge.featureIndex.lookupSymbolFeatures(ve[ge.bucketInstanceId],$,ge.bucketIndex,ge.sourceLayerIndex,ae.filter,ae.layers,ae.availableImages,D);for(const Te in we){const Ne=pe[Te]=pe[Te]||[],De=we[Te];De.sort(($e,Je)=>{const Ke=ge.featureSortOrder;if(Ke){const st=Ke.indexOf($e.featureIndex);return Ke.indexOf(Je.featureIndex)-st}return Je.featureIndex-$e.featureIndex});for(const $e of De)Ne.push($e)}}for(const ge in pe)pe[ge].forEach(we=>{const Te=we.feature,Ne=j(D[ge]);if(!Ne)return;const De=Ne.getFeatureState(Te.layer["source-layer"],Te.id);Te.source=Te.layer.source,Te.layer["source-layer"]&&(Te.sourceLayer=Te.layer["source-layer"]),Te.state=De});return pe}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),I.screenGeometry,f,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(w)}querySourceFeatures(l,f){f&&f.filter&&this._validate(o.validateFilter,"querySourceFeatures.filter",f.filter,null,f);const y=this._getSourceCaches(l);let x=[];for(const w of y)x=x.concat(Fn(w,f));return x}addSourceType(l,f,y){return Ii.getSourceType(l)?y(new Error(`A source type called "${l}" already exists.`)):(Ii.setSourceType(l,f),f.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:f.workerSourceURL},y):y(null,null))}getLight(){return this.light.getLight()}setLight(l,f={}){this._checkLoaded();const y=this.light.getLight();let x=!1;for(const P in l)if(!v(l[P],y[P])){x=!0;break}if(!x)return;const w=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(l,f),this.light.updateTransitions(w)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(l,f=1){if(this._checkLoaded(),!l)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let y=l;if(f===1){if(typeof y.source=="object"){const x="terrain-dem-src";this.addSource(x,y.source),y=o.clone$1(y),y=o.extend(y,{source:x})}if(this._validate(o.validateTerrain,"terrain",y))return}if(!this.terrain||this.terrain&&f!==this.terrain.drapeRenderMode){if(!y)return;this._createTerrain(y,f)}else{const x=this.terrain,w=x.get();for(const P of Object.keys(o.spec.terrain))!y.hasOwnProperty(P)&&o.spec.terrain[P].default&&(y[P]=o.spec.terrain[P].default);for(const P in y)if(!v(y[P],w[P])){x.set(y),this.stylesheet.terrain=y;const I=this._setTransitionParameters({duration:0});x.updateTransitions(I);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(l){const f=this.fog=new Rt(l,this.map.transform);this.stylesheet.fog=l;const y=this._setTransitionParameters({duration:0});f.updateTransitions(y)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const l of this.map._markers)l._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(l){if(this._checkLoaded(),!l)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const f=this.fog,y=f.get();Object.keys(l).length===0&&f.set(l);for(const x in l)if(!v(l[x],y[x])){f.set(l),this.stylesheet.fog=l;const w=this._setTransitionParameters({duration:0});f.updateTransitions(w);break}}else this._createFog(l);this._markersNeedUpdate=!0}_setTransitionParameters(l){return{now:o.exported.now(),transition:o.extend(l,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const l=this._order.filter(y=>this.isLayerDraped(this._layers[y])),f=this._order.filter(y=>!this.isLayerDraped(this._layers[y]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...l),this._drapedFirstOrder.push(...f)}_createTerrain(l,f){const y=this.terrain=new An(l,f);this.stylesheet.terrain=l,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const x=this._setTransitionParameters({duration:0});y.updateTransitions(x)}_force3DLayerUpdate(){for(const l in this._layers){const f=this._layers[l];f.type==="fill-extrusion"&&this._updateLayer(f)}}_forceSymbolLayerUpdate(){for(const l in this._layers){const f=this._layers[l];f.type==="symbol"&&this._updateLayer(f)}}_validate(l,f,y,x,w={}){return(!w||w.validate!==!1)&&Mo(this,l.call(o.validateStyle,o.extend({key:f,style:this.serialize(),value:y,styleSpec:o.spec},x)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const l in this._layers)this._layers[l].setEventedParent(null);for(const l in this._sourceCaches)this._sourceCaches[l].clearTiles(),this._sourceCaches[l].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(l){const f=this._getSourceCaches(l);for(const y of f)y.clearTiles()}_reloadSource(l){const f=this._getSourceCaches(l);for(const y of f)y.resume(),y.reload()}_reloadSources(){for(const l of this._getSources())l.reload&&l.reload()}_updateSources(l){for(const f in this._sourceCaches)this._sourceCaches[f].update(l)}_generateCollisionBoxes(){for(const l in this._sourceCaches){const f=this._sourceCaches[l];f.resume(),f.reload()}}_updatePlacement(l,f,y,x,w=!1){let P=!1,I=!1;const D={};for(const $ of this._order){const j=this._layers[$];if(j.type!=="symbol")continue;if(!D[j.source]){const ae=this._getLayerSourceCache(j);if(!ae)continue;D[j.source]=ae.getRenderableIds(!0).map(ue=>ae.getTileByID(ue)).sort((ue,me)=>me.tileID.overscaledZ-ue.tileID.overscaledZ||(ue.tileID.isLessThan(me.tileID)?-1:1))}const J=this.crossTileSymbolIndex.addLayer(j,D[j.source],l.center.lng,l.projection);P=P||J}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),w=w||this._layerOrderChanged||y===0,this._layerOrderChanged&&this.fire(new o.Event("neworder")),(w||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.exported.now(),l.zoom))&&(this.pauseablePlacement=new Ds(l,this._order,w,f,y,x,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,D),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.exported.now()),I=!0),P&&this.pauseablePlacement.placement.setStale()),I||P)for(const $ of this._order){const j=this._layers[$];j.type==="symbol"&&this.placement.updateLayerOpacities(j,D[j.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.exported.now())}_releaseSymbolFadeTiles(){for(const l in this._sourceCaches)this._sourceCaches[l].releaseSymbolFadeTiles()}getImages(l,f,y){this.imageManager.getImages(f.icons,y),this._updateTilesForChangedImages();const x=w=>{w&&w.setDependencies(f.tileID.key,f.type,f.icons)};x(this._otherSourceCaches[f.source]),x(this._symbolSourceCaches[f.source])}getGlyphs(l,f,y){this.glyphManager.getGlyphs(f.stacks,y)}getResource(l,f,y){return o.makeRequest(f,y)}_getSourceCache(l){return this._otherSourceCaches[l]}_getLayerSourceCache(l){return l.type==="symbol"?this._symbolSourceCaches[l.source]:this._otherSourceCaches[l.source]}_getSourceCaches(l){const f=[];return this._otherSourceCaches[l]&&f.push(this._otherSourceCaches[l]),this._symbolSourceCaches[l]&&f.push(this._symbolSourceCaches[l]),f}_isSourceCacheLoaded(l){const f=this._getSourceCaches(l);return f.length===0?(this.fire(new o.ErrorEvent(new Error(`There is no source with ID '${l}'`))),!1):f.every(y=>y.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Ii.getSourceType=function(m){return Tt[m]},Ii.setSourceType=function(m,l){Tt[m]=l},Ii.registerForPluginStateChange=o.registerForPluginStateChange;var Gl=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,ka="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",va=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,gs=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,la=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let cl={},Wa={};const Ls=[];Ma(Gl,Ls),Ma(va,Ls),Ma(gs,Ls),Ma(la,Ls),cl=Wr("",va),Wa=Wr(la,gs);const gu=Wr(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Hl=Gl,ys=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var ul={background:Wr(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Wr(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Wr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Wr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Wr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Wr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Wr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Wr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Wr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Wr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Wr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Wr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Wr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Wr(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Wr(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Wr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Wr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Wr(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Wr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Wr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Wr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:Wr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:Wr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:Wr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:Wr(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Wr(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ka),skyboxGradient:Wr(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ka),skyboxCapture:Wr(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Wr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Wr(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Ma(m,l){const f=m.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let y of f)if(y=y.trim(),y[0]==="#"&&y.includes("if")&&!y.includes("endif")){y=y.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const x=y.split(" ");for(const w of x)l.includes(w)||l.push(w)}}function Wr(m,l){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,y=l.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),x={},w=[...Ls];return Ma(m,w),Ma(l,w),{fragmentSource:m=m.replace(f,(P,I,D,$,j)=>(x[j]=!0,I==="define"?`
#ifndef HAS_UNIFORM_u_${j}
varying ${D} ${$} ${j};
#else
uniform ${D} ${$} u_${j};
#endif
`:`
#ifdef HAS_UNIFORM_u_${j}
    ${D} ${$} ${j} = u_${j};
#endif
`)),vertexSource:l=l.replace(f,(P,I,D,$,j)=>{const J=$==="float"?"vec2":"vec4",ae=j.match(/color/)?"color":J;return x[j]?I==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${D} ${J} a_${j};
varying ${D} ${$} ${j};
#else
uniform ${D} ${$} u_${j};
#endif
`:ae==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = a_${j};
#else
    ${D} ${$} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${j} = unpack_mix_${ae}(a_${j}, u_${j}_t);
#else
    ${D} ${$} ${j} = u_${j};
#endif
`:I==="define"?`
#ifndef HAS_UNIFORM_u_${j}
uniform lowp float u_${j}_t;
attribute ${D} ${J} a_${j};
#else
uniform ${D} ${$} u_${j};
#endif
`:ae==="vec4"?`
#ifndef HAS_UNIFORM_u_${j}
    ${D} ${$} ${j} = a_${j};
#else
    ${D} ${$} ${j} = u_${j};
#endif
`:`
#ifndef HAS_UNIFORM_u_${j}
    ${D} ${$} ${j} = unpack_mix_${ae}(a_${j}, u_${j}_t);
#else
    ${D} ${$} ${j} = u_${j};
#endif
`}),staticAttributes:y,usedDefines:w}}class od{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(l,f,y,x,w,P,I){this.context=l;let D=this.boundPaintVertexBuffers.length!==x.length;for(let j=0;!D&&j<x.length;j++)this.boundPaintVertexBuffers[j]!==x[j]&&(D=!0);let $=this.boundDynamicVertexBuffers.length!==I.length;for(let j=0;!$&&j<I.length;j++)this.boundDynamicVertexBuffers[j]!==I[j]&&($=!0);if(!l.extVertexArrayObject||!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==y||D||$||this.boundIndexBuffer!==w||this.boundVertexOffset!==P)this.freshBind(f,y,x,w,P,I);else{l.bindVertexArrayOES.set(this.vao);for(const j of I)j&&j.bind();w&&w.dynamicDraw&&w.bind()}}freshBind(l,f,y,x,w,P){let I;const D=l.numAttributes,$=this.context,j=$.gl;if($.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$.extVertexArrayObject.createVertexArrayOES(),$.bindVertexArrayOES.set(this.vao),I=0,this.boundProgram=l,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=y,this.boundIndexBuffer=x,this.boundVertexOffset=w,this.boundDynamicVertexBuffers=P;else{I=$.currentNumAttributes||0;for(let J=D;J<I;J++)j.disableVertexAttribArray(J)}f.enableAttributes(j,l),f.bind(),f.setVertexAttribPointers(j,l,w);for(const J of y)J.enableAttributes(j,l),J.bind(),J.setVertexAttribPointers(j,l,w);for(const J of P)J&&(J.enableAttributes(j,l),J.bind(),J.setVertexAttribPointers(j,l,w));x&&x.bind(),$.currentNumAttributes=D}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Sn(m,l){const f=Math.pow(2,l.canonical.z),y=l.canonical.y;return[new o.MercatorCoordinate(0,y/f).toLngLat().lat,new o.MercatorCoordinate(0,(y+1)/f).toLngLat().lat]}function Be(m,l,f,y,x,w,P){const I=m.context,D=I.gl,$=f.fbo;if(!$)return;m.prepareDrawTile();const j=m.useProgram("hillshade");I.activeTexture.set(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,$.colorAttachment.get());const J=((pe,ve,Q,ge)=>{const we=Q.paint.get("hillshade-shadow-color"),Te=Q.paint.get("hillshade-highlight-color"),Ne=Q.paint.get("hillshade-accent-color");let De=Q.paint.get("hillshade-illumination-direction")*(Math.PI/180);Q.paint.get("hillshade-illumination-anchor")==="viewport"&&(De-=pe.transform.angle);const $e=!pe.options.moving;return{u_matrix:ge||pe.transform.calculateProjMatrix(ve.tileID.toUnwrapped(),$e),u_image:0,u_latrange:Sn(0,ve.tileID),u_light:[Q.paint.get("hillshade-exaggeration"),De],u_shadow:we,u_highlight:Te,u_accent:Ne}})(m,f,y,m.terrain?l.projMatrix:null);m.prepareDrawProgram(I,j,l.toUnwrapped());const{tileBoundsBuffer:ae,tileBoundsIndexBuffer:ue,tileBoundsSegments:me}=m.getTileBoundsBuffers(f);j.draw(I,D.TRIANGLES,x,w,P,o.CullFaceMode.disabled,J,y.id,ae,ue,me)}function rt(m,l,f){if(!l.needsDEMTextureUpload)return;const y=m.context,x=y.gl;y.pixelStoreUnpackPremultiplyAlpha.set(!1),l.demTexture=l.demTexture||m.getTileTexture(f.stride);const w=f.getPixels();l.demTexture?l.demTexture.update(w,{premultiply:!1}):l.demTexture=new o.Texture(y,w,x.RGBA,{premultiply:!1}),l.needsDEMTextureUpload=!1}function $t(m,l,f,y,x,w){const P=m.context,I=P.gl;if(!l.dem)return;const D=l.dem;if(P.activeTexture.set(I.TEXTURE1),rt(m,l,D),!l.demTexture)return;l.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE);const $=D.dim;P.activeTexture.set(I.TEXTURE0);let j=l.fbo;if(!j){const me=new o.Texture(P,{width:$,height:$,data:null},I.RGBA);me.bind(I.LINEAR,I.CLAMP_TO_EDGE),j=l.fbo=P.createFramebuffer($,$,!0),j.colorAttachment.set(me.texture)}P.bindFramebuffer.set(j.framebuffer),P.viewport.set([0,0,$,$]);const{tileBoundsBuffer:J,tileBoundsIndexBuffer:ae,tileBoundsSegments:ue}=m.getMercatorTileBoundsBuffers();m.useProgram("hillshadePrepare").draw(P,I.TRIANGLES,y,x,w,o.CullFaceMode.disabled,((me,pe)=>{const ve=pe.stride,Q=o.create();return o.ortho(Q,0,o.EXTENT,-o.EXTENT,0,0,1),o.translate(Q,Q,[0,-o.EXTENT,0]),{u_matrix:Q,u_image:1,u_dimension:[ve,ve],u_zoom:me.overscaledZ,u_unpack:pe.unpackVector}})(l.tileID,D),f.id,J,ae,ue),l.needsHillshadePrepare=!1}const en=m=>({u_matrix:new o.UniformMatrix4f(m),u_image0:new o.Uniform1i(m),u_skirt_height:new o.Uniform1f(m)}),mn=(m,l)=>({u_matrix:m,u_image0:0,u_skirt_height:l}),gn=(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me)=>({u_proj_matrix:Float32Array.from(m),u_globe_matrix:l,u_normalize_matrix:Float32Array.from(y),u_merc_matrix:f,u_zoom_transition:x,u_merc_center:w,u_image0:0,u_frustum_tl:P,u_frustum_tr:I,u_frustum_br:D,u_frustum_bl:$,u_globe_pos:j,u_globe_radius:J,u_viewport:ae,u_grid_matrix:me?Float32Array.from(me):new Float32Array(9),u_skirt_height:ue});function Dn(m,l){return m!=null&&l!=null&&!(!m.hasData()||!l.hasData())&&m.demTexture!=null&&l.demTexture!=null&&m.tileID.key!==l.tileID.key}const Gn=new class{constructor(){this.operations={}}newMorphing(m,l,f,y,x){if(m in this.operations){const w=this.operations[m];w.to.tileID.key!==f.tileID.key&&(w.queued=f)}else this.operations[m]={startTime:y,phase:0,duration:x,from:l,to:f,queued:null}}getMorphValuesForProxy(m){if(!(m in this.operations))return null;const l=this.operations[m];return{from:l.from,to:l.to,phase:l.phase}}update(m){for(const l in this.operations){const f=this.operations[l];for(f.phase=(m-f.startTime)/f.duration;f.phase>=1||!this._validOp(f);)if(!this._nextOp(f,m)){delete this.operations[l];break}}}_nextOp(m,l){return!!m.queued&&(m.from=m.to,m.to=m.queued,m.queued=null,m.phase=0,m.startTime=l,!0)}_validOp(m){return m.from.hasData()&&m.to.hasData()}},pr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Dr(m){return 6*Math.pow(1.5,22-m)}function Qr(m,l){const f=1<<m.z;return!l&&(m.x===0||m.x===f-1)||m.y===0||m.y===f-1}const Gr=m=>({u_matrix:m});function $r(m,l,f,y,x){if(x>0){const w=o.exported.now(),P=(w-m.timeAdded)/x,I=l?(w-l.timeAdded)/x:-1,D=f.getSource(),$=y.coveringZoomLevel({tileSize:D.tileSize,roundZoom:D.roundZoom}),j=!l||Math.abs(l.tileID.overscaledZ-$)>Math.abs(m.tileID.overscaledZ-$),J=j&&m.refreshedUponExpiration?1:o.clamp(j?P:1-I,0,1);return m.refreshedUponExpiration&&P>=1&&(m.refreshedUponExpiration=!1),l?{opacity:1,mix:1-J}:{opacity:J,mix:0}}return{opacity:1,mix:0}}class Bi extends o.SourceCache{constructor(l){const f={type:"raster-dem",maxzoom:l.transform.maxZoom},y=new Ge(le(),null),x=nt("mock-dem",f,y,l.style);super("mock-dem",x,!1),x.setEventedParent(this),this._sourceLoaded=!0}_loadTile(l,f){l.state="loaded",f(null)}}class po extends o.SourceCache{constructor(l){const f=nt("proxy",{type:"geojson",maxzoom:l.transform.maxZoom},new Ge(le(),null),l.style);super("proxy",f,!1),f.setEventedParent(this),this.map=this.getSource().map=l,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(l,f,y){if(l.freezeTileCoverage)return;this.transform=l;const x=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((w,P)=>{if(w[P.key]="",!this._tiles[P.key]){const I=new o.Tile(P,this._source.tileSize*P.overscaleFactor(),l.tileZoom);I.state="loaded",this._tiles[P.key]=I}return w},{});for(const w in this._tiles)w in x||(this.freeFBO(w),this._tiles[w].unloadVectorData(),delete this._tiles[w])}freeFBO(l){const f=this.proxyCachedFBO[l];if(f!==void 0){const y=Object.values(f);this.renderCachePool.push(...y),delete this.proxyCachedFBO[l]}}deallocRenderCache(){this.renderCache.forEach(l=>l.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Za extends o.OverscaledTileID{constructor(l,f,y){super(l.overscaledZ,l.wrap,l.canonical.z,l.canonical.x,l.canonical.y),this.proxyTileKey=f,this.projMatrix=y}}class Oo extends o.Elevation{constructor(l,f){super(),this.painter=l,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[y,x,w]=function(D){const $=new o.StructArrayLayout2i4,j=new o.StructArrayLayout3ui6,J=131;$.reserve(17161),j.reserve(33800);const ae=o.EXTENT/128,ue=o.EXTENT+ae/2,me=ue+ae;for(let ve=-ae;ve<me;ve+=ae)for(let Q=-ae;Q<me;Q+=ae){const ge=Q<0||Q>ue||ve<0||ve>ue?24575:0,we=o.clamp(Math.round(Q),0,o.EXTENT),Te=o.clamp(Math.round(ve),0,o.EXTENT);$.emplaceBack(we+ge,Te)}const pe=(ve,Q)=>{const ge=Q*J+ve;j.emplaceBack(ge+1,ge,ge+J),j.emplaceBack(ge+J,ge+J+1,ge+1)};for(let ve=1;ve<129;ve++)for(let Q=1;Q<129;Q++)pe(Q,ve);return[0,129].forEach(ve=>{for(let Q=0;Q<130;Q++)pe(Q,ve),pe(ve,Q)}),[$,j,32768]}(),P=l.context;this.gridBuffer=P.createVertexBuffer(y,o.posAttributes.members),this.gridIndexBuffer=P.createIndexBuffer(x),this.gridSegments=o.SegmentVector.simpleSegment(0,0,y.length,x.length),this.gridNoSkirtSegments=o.SegmentVector.simpleSegment(0,0,y.length,w),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new po(f.map),this.orthoMatrix=o.create(),o.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,o.EXTENT,0,o.EXTENT,0,1);const I=P.gl;this._overlapStencilMode=new o.StencilMode({func:I.GEQUAL,mask:255},0,255,I.KEEP,I.KEEP,I.REPLACE),this._previousZoom=l.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=f,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Bi(f.map)}set style(l){l.on("data",this._onStyleDataEvent.bind(this)),l.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=l,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(l,f,y){if(l&&l.terrain){this._style!==l&&(this.style=l),this.enabled=!0;const x=l.terrain.properties;this.sourceCache=l.terrain.drapeRenderMode===0?this._mockSourceCache:l._getSourceCache(x.get("source")),this._exaggeration=x.get("exaggeration");const w=()=>{this.sourceCache.used&&o.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const P=this.getScaledDemTileSize();this.sourceCache.update(f,P,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,w(),this._initializing=!0),w(),f.updateElevation(!0,y),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(f),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(l){this._findCoveringTileCache[l]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const l=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||l.efficiency!==100&&o.warnOnce(`Terrain render cache efficiency is not optimal (${l.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${l.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(l){l.coord&&l.dataType==="source"?this._clearRenderCacheForTile(l.sourceCacheId,l.coord):l.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const l in this._style._sourceCaches)this._style._sourceCaches[l].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(l=>l.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const l=2*this.proxySourceCache.getSource().tileSize;return[l,l]}set useVertexMorphing(l){this._useVertexMorphing=l}updateTileBinding(l){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const f=this.proxySourceCache,y=this.painter.transform;this._initializing&&(this._initializing=y._centerAltitude===0&&this.getAtPointOrZero(o.MercatorCoordinate.fromLngLat(y.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const x=this.proxyCoords=f.getIds().map(D=>{const $=f.getTileByID(D).tileID;return $.projMatrix=y.calculateProjMatrix($.toUnwrapped()),$});(function(D,$){const j=$.transform.pointCoordinate($.transform.getCameraPoint()),J=new o.Point(j.x,j.y);D.sort((ae,ue)=>{if(ue.overscaledZ-ae.overscaledZ)return ue.overscaledZ-ae.overscaledZ;const me=new o.Point(ae.canonical.x+(1<<ae.canonical.z)*ae.wrap,ae.canonical.y),pe=new o.Point(ue.canonical.x+(1<<ue.canonical.z)*ue.wrap,ue.canonical.y),ve=J.mult(1<<ae.canonical.z);return ve.x-=.5,ve.y-=.5,ve.distSqr(me)-ve.distSqr(pe)})})(x,this.painter),this._previousZoom=y.zoom;const w=this.proxyToSource||{};this.proxyToSource={},x.forEach(D=>{this.proxyToSource[D.key]={}}),this.terrainTileForTile={};const P=this._style._sourceCaches;for(const D in P){const $=P[D];if(!$.used||($!==this.sourceCache&&this.resetTileLookupCache($.id),this._setupProxiedCoordsForOrtho($,l[D],w),$.usedForTerrain))continue;const j=l[D];$.getSource().reparseOverscaled&&this._assignTerrainTiles(j)}this.proxiedCoords[f.id]=x.map(D=>new Za(D,D.key,this.orthoMatrix)),this._assignTerrainTiles(x),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(w),this.renderingToTexture=!1,this._updateTimestamp=o.exported.now();const I={};this._visibleDemTiles=[];for(const D of this.proxyCoords){const $=this.terrainTileForTile[D.key];if(!$)continue;const j=$.tileID.key;j in I||(this._visibleDemTiles.push($),I[j]=j)}}_assignTerrainTiles(l){this._initializing||l.forEach(f=>{if(this.terrainTileForTile[f.key])return;const y=this._findTileCoveringTileID(f,this.sourceCache);y&&(this.terrainTileForTile[f.key]=y)})}_prepareDEMTextures(){const l=this.painter.context,f=l.gl;for(const y in this.terrainTileForTile){const x=this.terrainTileForTile[y],w=x.dem;!w||x.demTexture&&!x.needsDEMTextureUpload||(l.activeTexture.set(f.TEXTURE1),rt(this.painter,x,w))}}_prepareDemTileUniforms(l,f,y,x){if(!f||f.demTexture==null)return!1;const w=l.tileID.canonical,P=Math.pow(2,f.tileID.canonical.z-w.z),I=x||"";return y[`u_dem_tl${I}`]=[w.x*P%1,w.y*P%1],y[`u_dem_scale${I}`]=P,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const l=this.painter.context,f=l.gl;if(!this._emptyDepthBufferTexture){const y=new o.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new o.Texture(l,y,f.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let l=0;const f=this._visibleDemTiles.reduce((y,x)=>{if(!x.dem)return y;const w=x.dem.tree.minimums[0];return w>0&&l++,y+w},0);return l?f/l:0}_updateEmptyDEMTexture(){const l=this.painter.context,f=l.gl;l.activeTexture.set(f.TEXTURE2);const y=this._getLoadedAreaMinimum(),x=new o.RGBAImage({width:1,height:1},new Uint8Array(o.DEMData.pack(y,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let w=this._emptyDEMTexture;return w?w.update(x,{premultiply:!1}):w=this._emptyDEMTexture=new o.Texture(l,x,f.RGBA,{premultiply:!1}),w}setupElevationDraw(l,f,y){const x=this.painter.context,w=x.gl,P=(I=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:o.DEMData.getUnpackVector(I),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var I;P.u_dem_size=this.sourceCache.getSource().tileSize,P.u_exaggeration=this.exaggeration();let D=null,$=null,j=1;if(y&&y.morphing&&this._useVertexMorphing){const J=y.morphing.srcDemTile,ae=y.morphing.dstDemTile;j=y.morphing.phase,J&&ae&&(this._prepareDemTileUniforms(l,J,P,"_prev")&&($=J),this._prepareDemTileUniforms(l,ae,P)&&(D=ae))}if($&&D?(x.activeTexture.set(w.TEXTURE2),D.demTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE,w.NEAREST),x.activeTexture.set(w.TEXTURE4),$.demTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE,w.NEAREST),P.u_dem_lerp=j):(D=this.terrainTileForTile[l.tileID.key],x.activeTexture.set(w.TEXTURE2),(this._prepareDemTileUniforms(l,D,P)?D.demTexture:this.emptyDEMTexture).bind(w.NEAREST,w.CLAMP_TO_EDGE)),x.activeTexture.set(w.TEXTURE3),y&&y.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE),this._depthFBO&&(P.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE),P.u_depth_size_inv=[1,1]),y&&y.useMeterToDem&&D){const J=(1<<D.tileID.canonical.z)*o.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;P.u_meter_to_dem=J}if(y&&y.labelPlaneMatrixInv&&(P.u_label_plane_matrix_inv=y.labelPlaneMatrixInv),f.setTerrainUniformValues(x,P),this.painter.transform.projection.name==="globe"){const J=this.globeUniformValues(this.painter.transform,l.tileID.canonical,y&&y.useDenormalizedUpVectorScale);f.setGlobeUniformValues(x,J)}}globeUniformValues(l,f,y){const x=l.projection;return{u_tile_tl_up:x.upVector(f,0,0),u_tile_tr_up:x.upVector(f,o.EXTENT,0),u_tile_br_up:x.upVector(f,o.EXTENT,o.EXTENT),u_tile_bl_up:x.upVector(f,0,o.EXTENT),u_tile_up_scale:y?o.globeMetersToEcef(1):x.upVectorScale(f,l.center.lat,l.worldSize).metersToTile}}renderToBackBuffer(l){const f=this.painter,y=this.painter.context;l.length!==0&&(y.bindFramebuffer.set(null),y.viewport.set([0,0,f.width,f.height]),f.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(x,w,P,I,D){if(x.transform.projection.name==="globe")(function($,j,J,ae,ue){const me=$.context,pe=me.gl;let ve,Q;const ge=$.options.showTerrainWireframe?2:0,we=$.transform,Te=o.globeUseCustomAntiAliasing($,me,we),Ne=(tn,mt)=>{if(Q===tn)return;const Dt=[pr[tn],"PROJECTION_GLOBE_VIEW"];Te&&Dt.push("CUSTOM_ANTIALIASING"),mt&&Dt.push(pr[ge]),ve=$.useProgram("globeRaster",null,Dt),Q=tn},De=$.colorModeForRenderPass(),$e=new o.DepthMode(pe.LEQUAL,o.DepthMode.ReadWrite,$.depthRangeFor3D);Gn.update(ue);const Je=o.calculateGlobeMercatorMatrix(we),Ke=[o.mercatorXfromLng(we.center.lng),o.mercatorYfromLat(we.center.lat)],st=ge?[!1,!0]:[!1],Ot=$.globeSharedBuffers,it=[we.width*o.exported.devicePixelRatio,we.height*o.exported.devicePixelRatio],St=Float32Array.from(we.globeMatrix),gt={useDenormalizedUpVectorScale:!0};if(st.forEach(tn=>{const mt=$.transform,Dt=Dr(mt.zoom)*j.exaggeration();Q=-1;const an=tn?pe.LINES:pe.TRIANGLES;for(const Yt of ae){const hn=J.getTile(Yt),tr=o.StencilMode.disabled,_r=j.prevTerrainTileForTile[Yt.key],Zn=j.terrainTileForTile[Yt.key];Dn(_r,Zn)&&Gn.newMorphing(Yt.key,_r,Zn,ue,250),me.activeTexture.set(pe.TEXTURE0),hn.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE);const cr=Gn.getMorphValuesForProxy(Yt.key),Lr=cr?1:0;cr&&o.extend$1(gt,{morphing:{srcDemTile:cr.from,dstDemTile:cr.to,phase:o.easeCubicInOut(cr.phase)}});const Mr=o.tileCornersToBounds(Yt.canonical),Qn=o.getLatitudinalLod(Mr.getCenter().lat),ei=o.getGridMatrix(Yt.canonical,Mr,Qn,mt.worldSize/mt._pixelsPerMercatorPixel),Xr=o.globeNormalizeECEF(o.globeTileBounds(Yt.canonical)),ti=gn(mt.projMatrix,St,Je,Xr,o.globeToMercatorTransition(mt.zoom),Ke,mt.frustumCorners.TL,mt.frustumCorners.TR,mt.frustumCorners.BR,mt.frustumCorners.BL,mt.globeCenterInViewSpace,mt.globeRadius,it,Dt,ei);if(Ne(Lr,tn),j.setupElevationDraw(hn,ve,gt),$.prepareDrawProgram(me,ve,Yt.toUnwrapped()),Ot){const[oi,Wo,oo]=tn?Ot.getWirefameBuffers($.context,Qn):Ot.getGridBuffers(Qn,Dt!==0);ve.draw(me,an,$e,tr,De,o.CullFaceMode.backCCW,ti,"globe_raster",oi,Wo,oo)}}}),Ot){const tn=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Te&&tn.push("CUSTOM_ANTIALIASING"),ve=$.useProgram("globeRaster",null,tn);for(const mt of ae){const{x:Dt,y:an,z:Yt}=mt.canonical,hn=an===0,tr=an===(1<<Yt)-1,[_r,Zn,cr,Lr]=Ot.getPoleBuffers(Yt);if(Lr&&(hn||tr)){const Mr=J.getTile(mt);me.activeTexture.set(pe.TEXTURE0),Mr.texture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE);let Qn=o.globePoleMatrixForTile(Yt,Dt,we);const ei=o.globeNormalizeECEF(o.globeTileBounds(mt.canonical)),Xr=(ti,oi)=>ti.draw(me,pe.TRIANGLES,$e,o.StencilMode.disabled,De,o.CullFaceMode.disabled,gn(we.projMatrix,Qn,Qn,ei,0,Ke,we.frustumCorners.TL,we.frustumCorners.TR,we.frustumCorners.BR,we.frustumCorners.BL,we.globeCenterInViewSpace,we.globeRadius,it,0),"globe_pole_raster",oi,cr,Lr);j.setupElevationDraw(Mr,ve,gt),$.prepareDrawProgram(me,ve,mt.toUnwrapped()),hn&&Xr(ve,_r),tr&&(Qn=o.scale(o.create(),Qn,[1,-1,1]),Xr(ve,Zn))}}}})(x,w,P,I,D);else{const $=x.context,j=$.gl;let J,ae;const ue=x.options.showTerrainWireframe?2:0,me=(we,Te)=>{if(ae===we)return;const Ne=[pr[we]];Te&&Ne.push(pr[ue]),J=x.useProgram("terrainRaster",null,Ne),ae=we},pe=x.colorModeForRenderPass(),ve=new o.DepthMode(j.LEQUAL,o.DepthMode.ReadWrite,x.depthRangeFor3D);Gn.update(D);const Q=x.transform,ge=Dr(Q.zoom)*w.exaggeration();(ue?[!1,!0]:[!1]).forEach(we=>{ae=-1;const Te=we?j.LINES:j.TRIANGLES,[Ne,De]=we?w.getWirefameBuffer():[w.gridIndexBuffer,w.gridSegments];for(const $e of I){const Je=P.getTile($e),Ke=o.StencilMode.disabled,st=w.prevTerrainTileForTile[$e.key],Ot=w.terrainTileForTile[$e.key];Dn(st,Ot)&&Gn.newMorphing($e.key,st,Ot,D,250),$.activeTexture.set(j.TEXTURE0),Je.texture.bind(j.LINEAR,j.CLAMP_TO_EDGE,j.LINEAR_MIPMAP_NEAREST);const it=Gn.getMorphValuesForProxy($e.key),St=it?1:0;let gt;it&&(gt={morphing:{srcDemTile:it.from,dstDemTile:it.to,phase:o.easeCubicInOut(it.phase)}});const tn=mn($e.projMatrix,Qr($e.canonical,Q.renderWorldCopies)?ge/10:ge);me(St,we),w.setupElevationDraw(Je,J,gt),x.prepareDrawProgram($,J,$e.toUnwrapped()),J.draw($,Te,ve,Ke,pe,o.CullFaceMode.backCCW,tn,"terrain_raster",w.gridBuffer,Ne,De)}})}}(f,this,this.proxySourceCache,l,this._updateTimestamp),this.renderingToTexture=!0,f.gpuTimingDeferredRenderEnd(),l.splice(0,l.length))}renderBatch(l){if(this._drapedRenderBatches.length===0)return l+1;this.renderingToTexture=!0;const f=this.painter,y=this.painter.context,x=this.proxySourceCache,w=this.proxiedCoords[x.id],P=this._drapedRenderBatches.shift(),I=[],D=f.style.order;let $=0;for(const j of w){const J=x.getTileByID(j.proxyTileKey),ae=x.proxyCachedFBO[j.key]?x.proxyCachedFBO[j.key][l]:void 0,ue=ae!==void 0?x.renderCache[ae]:this.pool[$++],me=ae!==void 0;if(J.texture=ue.tex,me&&!ue.dirty){I.push(J.tileID);continue}let pe;y.bindFramebuffer.set(ue.fb.framebuffer),this.renderedToTile=!1,ue.dirty&&(y.clear({color:o.Color.transparent,stencil:0}),ue.dirty=!1);for(let ve=P.start;ve<=P.end;++ve){const Q=f.style._layers[D[ve]];if(Q.isHidden(f.transform.zoom))continue;const ge=f.style._getLayerSourceCache(Q),we=ge?this.proxyToSource[j.key][ge.id]:[j];if(!we)continue;const Te=we;y.viewport.set([0,0,ue.fb.width,ue.fb.height]),pe!==(ge?ge.id:null)&&(this._setupStencil(ue,we,Q,ge),pe=ge?ge.id:null),f.renderLayer(f,ge,Q,Te)}this.renderedToTile?(ue.dirty=!0,I.push(J.tileID)):me||--$,$===5&&($=0,this.renderToBackBuffer(I))}return this.renderToBackBuffer(I),this.renderingToTexture=!1,y.bindFramebuffer.set(null),y.viewport.set([0,0,f.width,f.height]),P.end+1}postRender(){}renderCacheEfficiency(l){const f=l.order.length;if(f===0)return{efficiency:100};let y,x=0,w=0,P=!1;for(let I=0;I<f;++I){const D=l._layers[l.order[I]];this._style.isLayerDraped(D)?(P&&++x,++w):P||(P=!0,y=D.id)}return w===0?{efficiency:100}:{efficiency:100*(1-x/w),firstUndrapedLayer:y}}getMinElevationBelowMSL(){let l=0;return this._visibleDemTiles.filter(f=>f.dem).forEach(f=>{l=Math.min(l,f.dem.tree.minimums[0])}),l===0?l:(l-30)*this._exaggeration}raycast(l,f,y){if(!this._visibleDemTiles)return null;const x=this._visibleDemTiles.filter(w=>w.dem).map(w=>{const P=w.tileID,I=1<<P.overscaledZ,{x:D,y:$}=P.canonical,j=D/I,J=(D+1)/I,ae=$/I,ue=($+1)/I;return{minx:j,miny:ae,maxx:J,maxy:ue,t:w.dem.tree.raycastRoot(j,ae,J,ue,l,f,y),tile:w}});x.sort((w,P)=>(w.t!==null?w.t:Number.MAX_VALUE)-(P.t!==null?P.t:Number.MAX_VALUE));for(const w of x){if(w.t==null)return null;const P=w.tile.dem.tree.raycast(w.minx,w.miny,w.maxx,w.maxy,l,f,y);if(P!=null)return P}return null}_createFBO(){const l=this.painter.context,f=l.gl,y=this.drapeBufferSize;l.activeTexture.set(f.TEXTURE0);const x=new o.Texture(l,{width:y[0],height:y[1],data:null},f.RGBA);x.bind(f.LINEAR,f.CLAMP_TO_EDGE);const w=l.createFramebuffer(y[0],y[1],!1);return w.colorAttachment.set(x.texture),w.depthAttachment=new Fe(l,w.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=l.createRenderbuffer(l.gl.DEPTH_STENCIL,y[0],y[1]),this._stencilRef=0,w.depthAttachment.set(this._sharedDepthStencil),l.clear({stencil:0})):w.depthAttachment.set(this._sharedDepthStencil),l.extTextureFilterAnisotropic&&!l.extTextureFilterAnisotropicForceOff&&f.texParameterf(f.TEXTURE_2D,l.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l.extTextureFilterAnisotropicMax),{fb:w,tex:x,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const l in this._style._sourceCaches)if(this._style._sourceCaches[l].hasTransition())return!0;return this._style.order.some(l=>{const f=this._style._layers[l],y=f.isHidden(this.painter.transform.zoom);return f.type==="custom"?!y&&f.shouldRedrape():!y&&f.hasTransition()})}_clearLineLayersFromRenderCache(){let l=!1;for(const y of this._style._getSources())if(y instanceof Jt){l=!0;break}if(!l)return;const f={};for(let y=0;y<this._style.order.length;++y){const x=this._style._layers[this._style.order[y]],w=this._style._getLayerSourceCache(x);if(w&&!f[w.id]&&!x.isHidden(this.painter.transform.zoom)&&x.type==="line"&&x.widthExpression()instanceof o.ZoomDependentExpression){f[w.id]=!0;for(const P of this.proxyCoords){const I=this.proxyToSource[P.key][w.id];if(I)for(const D of I)this._clearRenderCacheForTile(w.id,D)}}}}_clearRasterLayersFromRenderCache(){let l=!1;for(const y in this._style._sourceCaches)if(this._style._sourceCaches[y]._source instanceof Et){l=!0;break}if(!l)return;const f={};for(let y=0;y<this._style.order.length;++y){const x=this._style._layers[this._style.order[y]],w=this._style._getLayerSourceCache(x);if(!w||f[w.id]||x.isHidden(this.painter.transform.zoom)||x.type!=="raster")continue;const P=x.paint.get("raster-fade-duration");for(const I of this.proxyCoords){const D=this.proxyToSource[I.key][w.id];if(D)for(const $ of D){const j=$r(w.getTile($),w.findLoadedParent($,0),w,this.painter.transform,P);(j.opacity!==1||j.mix!==0)&&this._clearRenderCacheForTile(w.id,$)}}}}_setupDrapedRenderBatches(){const l=this._style.order,f=l.length;if(f===0)return;const y=[];let x,w=0,P=this._style._layers[l[w]];for(;!this._style.isLayerDraped(P)&&P.isHidden(this.painter.transform.zoom)&&++w<f;)P=this._style._layers[l[w]];for(;w<f;++w){const I=this._style._layers[l[w]];I.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(I)?x===void 0&&(x=w):x!==void 0&&(y.push({start:x,end:w-1}),x=void 0))}x!==void 0&&y.push({start:x,end:w-1}),this._drapedRenderBatches=y}_setupRenderCache(l){const f=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,f.renderCache.length>f.renderCachePool.length){const P=Object.values(f.proxyCachedFBO);f.proxyCachedFBO={};for(let I=0;I<P.length;++I){const D=Object.values(P[I]);f.renderCachePool.push(...D)}}return}this._clearRasterLayersFromRenderCache();const y=this.proxyCoords,x=this._tilesDirty;for(let P=y.length-1;P>=0;P--){const I=y[P];if(f.getTileByID(I.key),f.proxyCachedFBO[I.key]!==void 0){const D=l[I.key],$=this.proxyToSource[I.key];let j=0;for(const J in $){const ae=$[J],ue=D[J];if(!ue||ue.length!==ae.length||ae.some((me,pe)=>me!==ue[pe]||x[J]&&x[J].hasOwnProperty(me.key))){j=-1;break}++j}for(const J in f.proxyCachedFBO[I.key])f.renderCache[f.proxyCachedFBO[I.key][J]].dirty=j<0||j!==Object.values(D).length}}const w=[...this._drapedRenderBatches];w.sort((P,I)=>I.end-I.start-(P.end-P.start));for(const P of w)for(const I of y){if(f.proxyCachedFBO[I.key])continue;let D=f.renderCachePool.pop();D===void 0&&f.renderCache.length<50&&(D=f.renderCache.length,f.renderCache.push(this._createFBO())),D!==void 0&&(f.proxyCachedFBO[I.key]={},f.proxyCachedFBO[I.key][P.start]=D,f.renderCache[D].dirty=!0)}this._tilesDirty={}}_setupStencil(l,f,y,x){if(!x||!this._sourceTilesOverlap[x.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const w=this.painter.context,P=w.gl;if(f.length<=1)return void(this._overlapStencilType=!1);let I;if(y.isTileClipped())I=f.length,this._overlapStencilMode.test={func:P.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(f[0].overscaledZ>f[f.length-1].overscaledZ))return void(this._overlapStencilType=!1);I=1,this._overlapStencilMode.test={func:P.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+I>255&&(w.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=I,this._overlapStencilMode.ref=this._stencilRef,y.isTileClipped()&&this._renderTileClippingMasks(f,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(l){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[l.key]),this._overlapStencilMode):o.StencilMode.disabled}_renderTileClippingMasks(l,f){const y=this.painter,x=this.painter.context,w=x.gl;y._tileClippingMaskIDs={},x.setColorMode(o.ColorMode.disabled),x.setDepthMode(o.DepthMode.disabled);const P=y.useProgram("clippingMask");for(const I of l){const D=y._tileClippingMaskIDs[I.key]=--f;P.draw(x,w.TRIANGLES,o.DepthMode.disabled,new o.StencilMode({func:w.ALWAYS,mask:0},D,255,w.KEEP,w.KEEP,w.REPLACE),o.ColorMode.disabled,o.CullFaceMode.disabled,Gr(I.projMatrix),"$clipping",y.tileExtentBuffer,y.quadTriangleIndexBuffer,y.tileExtentSegments)}}pointCoordinate(l){const f=this.painter.transform;if(l.x<0||l.x>f.width||l.y<0||l.y>f.height)return null;const y=[l.x,l.y,1,1];o.transformMat4$1(y,y,f.pixelMatrixInverse),o.scale$1(y,y,1/y[3]),y[0]/=f.worldSize,y[1]/=f.worldSize;const x=f._camera.position,w=o.mercatorZfromAltitude(1,f.center.lat),P=[x[0],x[1],x[2]/w,0],I=o.subtract([],y.slice(0,3),P);o.normalize(I,I);const D=this.raycast(P,I,this._exaggeration);return D!==null&&D?(o.scaleAndAdd(P,P,I,D),P[3]=P[2],P[2]*=w,P):null}drawDepth(){const l=this.painter,f=l.context,y=this.proxySourceCache,x=Math.ceil(l.width),w=Math.ceil(l.height);if(!this._depthFBO||this._depthFBO.width===x&&this._depthFBO.height===w||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const P=f.gl,I=f.createFramebuffer(x,w,!0);f.activeTexture.set(P.TEXTURE0);const D=new o.Texture(f,{width:x,height:w,data:null},P.RGBA);D.bind(P.NEAREST,P.CLAMP_TO_EDGE),I.colorAttachment.set(D.texture);const $=f.createRenderbuffer(f.gl.DEPTH_COMPONENT16,x,w);I.depthAttachment.set($),this._depthFBO=I,this._depthTexture=D}f.bindFramebuffer.set(this._depthFBO.framebuffer),f.viewport.set([0,0,x,w]),function(P,I,D,$){if(P.transform.projection.name==="globe")return;const j=P.context,J=j.gl;j.clear({depth:1});const ae=P.useProgram("terrainDepth"),ue=new o.DepthMode(J.LESS,o.DepthMode.ReadWrite,P.depthRangeFor3D);for(const me of $){const pe=D.getTile(me),ve=mn(me.projMatrix,0);I.setupElevationDraw(pe,ae),ae.draw(j,J.TRIANGLES,ue,o.StencilMode.disabled,o.ColorMode.unblended,o.CullFaceMode.backCCW,ve,"terrain_depth",I.gridBuffer,I.gridIndexBuffer,I.gridNoSkirtSegments)}}(l,this,y,this.proxyCoords)}_setupProxiedCoordsForOrtho(l,f,y){if(l.getSource()instanceof rr)return this._setupProxiedCoordsForImageSource(l,f,y);this._findCoveringTileCache[l.id]=this._findCoveringTileCache[l.id]||{};const x=this.proxiedCoords[l.id]=[],w=this.proxyCoords;for(let I=0;I<w.length;I++){const D=w[I],$=this._findTileCoveringTileID(D,l);if($){const j=this._createProxiedId(D,$,y[D.key]&&y[D.key][l.id]);x.push(j),this.proxyToSource[D.key][l.id]=[j]}}let P=!1;for(let I=0;I<f.length;I++){const D=l.getTile(f[I]);if(!D||!D.hasData())continue;const $=this._findTileCoveringTileID(D.tileID,this.proxySourceCache);if($&&$.tileID.canonical.z!==D.tileID.canonical.z){const j=this.proxyToSource[$.tileID.key][l.id],J=this._createProxiedId($.tileID,D,y[$.tileID.key]&&y[$.tileID.key][l.id]);j?j.splice(j.length-1,0,J):this.proxyToSource[$.tileID.key][l.id]=[J],x.push(J),P=!0}}this._sourceTilesOverlap[l.id]=P}_setupProxiedCoordsForImageSource(l,f,y){if(!l.getSource().loaded())return;const x=this.proxiedCoords[l.id]=[],w=this.proxyCoords,P=l.getSource(),I=new o.Point(P.tileID.x,P.tileID.y)._div(1<<P.tileID.z),D=P.coordinates.map(o.MercatorCoordinate.fromLngLat).reduce((j,J)=>(j.min.x=Math.min(j.min.x,J.x-I.x),j.min.y=Math.min(j.min.y,J.y-I.y),j.max.x=Math.max(j.max.x,J.x-I.x),j.max.y=Math.max(j.max.y,J.y-I.y),j),{min:new o.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new o.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),$=(j,J)=>{const ae=j.wrap+j.canonical.x/(1<<j.canonical.z),ue=j.canonical.y/(1<<j.canonical.z),me=o.EXTENT/(1<<j.canonical.z),pe=J.wrap+J.canonical.x/(1<<J.canonical.z),ve=J.canonical.y/(1<<J.canonical.z);return ae+me<pe+D.min.x||ae>pe+D.max.x||ue+me<ve+D.min.y||ue>ve+D.max.y};for(let j=0;j<w.length;j++){const J=w[j];for(let ae=0;ae<f.length;ae++){const ue=l.getTile(f[ae]);if(!ue||!ue.hasData()||$(J,ue.tileID))continue;const me=this._createProxiedId(J,ue,y[J.key]&&y[J.key][l.id]),pe=this.proxyToSource[J.key][l.id];pe?pe.push(me):this.proxyToSource[J.key][l.id]=[me],x.push(me)}}}_createProxiedId(l,f,y){let x=this.orthoMatrix;if(y){const w=y.find(P=>P.key===f.tileID.key);if(w)return w}if(f.tileID.key!==l.key){const w=l.canonical.z-f.tileID.canonical.z;let P,I,D;x=o.create();const $=f.tileID.wrap-l.wrap<<l.overscaledZ;w>0?(P=o.EXTENT>>w,I=P*((f.tileID.canonical.x<<w)-l.canonical.x+$),D=P*((f.tileID.canonical.y<<w)-l.canonical.y)):(P=o.EXTENT<<-w,I=o.EXTENT*(f.tileID.canonical.x-(l.canonical.x+$<<-w)),D=o.EXTENT*(f.tileID.canonical.y-(l.canonical.y<<-w))),o.ortho(x,0,P,0,P,0,1),o.translate(x,x,[I,D,0])}return new Za(f.tileID,l.key,x)}_findTileCoveringTileID(l,f){let y=f.getTile(l);if(y&&y.hasData())return y;const x=this._findCoveringTileCache[f.id],w=x[l.key];if(y=w?f.getTileByID(w):null,y&&y.hasData()||w===null)return y;let P=y?y.tileID:l,I=P.overscaledZ;const D=f.getSource().minzoom,$=[];if(!w){const J=f.getSource().maxzoom;if(l.canonical.z>=J){const ae=l.canonical.z-J;f.getSource().reparseOverscaled?(I=Math.max(l.canonical.z+2,f.transform.tileZoom),P=new o.OverscaledTileID(I,l.wrap,J,l.canonical.x>>ae,l.canonical.y>>ae)):ae!==0&&(I=J,P=new o.OverscaledTileID(I,l.wrap,J,l.canonical.x>>ae,l.canonical.y>>ae))}P.key!==l.key&&($.push(P.key),y=f.getTile(P))}const j=J=>{$.forEach(ae=>{x[ae]=J}),$.length=0};for(I-=1;I>=D&&(!y||!y.hasData());I--){y&&j(y.tileID.key);const J=P.calculateScaledKey(I);if(y=f.getTileByID(J),y&&y.hasData())break;const ae=x[J];if(ae===null)break;ae===void 0?$.push(J):y=f.getTileByID(ae)}return j(y?y.tileID.key:null),y&&y.hasData()?y:null}findDEMTileFor(l){return this.enabled?this._findTileCoveringTileID(l,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(l,f){let y=this._tilesDirty[l];y||(y=this._tilesDirty[l]={}),y[f.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const l=function(f){let y=0;const x=new o.StructArrayLayout2ui4,w=131;for(let P=1;P<129;P++){for(let I=1;I<129;I++)y=P*w+I,x.emplaceBack(y,y+1),x.emplaceBack(y,y+w),x.emplaceBack(y+1,y+w),P===128&&x.emplaceBack(y+w,y+w+1);x.emplaceBack(y+1,y+1+w)}return x}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(l),this.wireframeSegments=o.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,l.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class jr{static cacheKey(l,f,y,x){let w=`${f}${x?x.cacheKey:""}`;for(const P of y)l.usedDefines.includes(P)&&(w+=`/${P}`);return w}constructor(l,f,y,x,w,P){const I=l.gl;this.program=I.createProgram();const D=function(Q){const ge=[];for(let we=0;we<Q.length;we++){if(Q[we]===null)continue;const Te=Q[we].split(" ");ge.push(Te.pop())}return ge}(y.staticAttributes),$=x?x.getBinderAttributes():[],j=D.concat($);let J=x?x.defines():[];J=J.concat(P.map(Q=>`#define ${Q}`));const ae=l.isWebGL2?`#version 300 es
`:"",ue=ae+J.concat(l.extStandardDerivatives&&ae.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(ys):ys,ys,Hl,gu.fragmentSource,Wa.fragmentSource,y.fragmentSource).join(`
`),me=ae+J.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Hl,gu.vertexSource,Wa.vertexSource,cl.vertexSource,y.vertexSource).join(`
`),pe=I.createShader(I.FRAGMENT_SHADER);if(I.isContextLost())return void(this.failedToCreate=!0);I.shaderSource(pe,ue),I.compileShader(pe),I.attachShader(this.program,pe);const ve=I.createShader(I.VERTEX_SHADER);if(I.isContextLost())this.failedToCreate=!0;else{I.shaderSource(ve,me),I.compileShader(ve),I.attachShader(this.program,ve),this.attributes={},this.numAttributes=j.length;for(let Q=0;Q<this.numAttributes;Q++)j[Q]&&(I.bindAttribLocation(this.program,Q,j[Q]),this.attributes[j[Q]]=Q);I.linkProgram(this.program),I.deleteShader(ve),I.deleteShader(pe),this.fixedUniforms=w(l),this.binderUniforms=x?x.getUniforms(l):[],P.includes("TERRAIN")&&(this.terrainUniforms=(Q=>({u_dem:new o.Uniform1i(Q),u_dem_prev:new o.Uniform1i(Q),u_dem_unpack:new o.Uniform4f(Q),u_dem_tl:new o.Uniform2f(Q),u_dem_scale:new o.Uniform1f(Q),u_dem_tl_prev:new o.Uniform2f(Q),u_dem_scale_prev:new o.Uniform1f(Q),u_dem_size:new o.Uniform1f(Q),u_dem_lerp:new o.Uniform1f(Q),u_exaggeration:new o.Uniform1f(Q),u_depth:new o.Uniform1i(Q),u_depth_size_inv:new o.Uniform2f(Q),u_meter_to_dem:new o.Uniform1f(Q),u_label_plane_matrix_inv:new o.UniformMatrix4f(Q)}))(l)),P.includes("GLOBE")&&(this.globeUniforms=(Q=>({u_tile_tl_up:new o.Uniform3f(Q),u_tile_tr_up:new o.Uniform3f(Q),u_tile_br_up:new o.Uniform3f(Q),u_tile_bl_up:new o.Uniform3f(Q),u_tile_up_scale:new o.Uniform1f(Q)}))(l)),P.includes("FOG")&&(this.fogUniforms=(Q=>({u_fog_matrix:new o.UniformMatrix4f(Q),u_fog_range:new o.Uniform2f(Q),u_fog_color:new o.Uniform4f(Q),u_fog_horizon_blend:new o.Uniform1f(Q),u_fog_temporal_offset:new o.Uniform1f(Q),u_frustum_tl:new o.Uniform3f(Q),u_frustum_tr:new o.Uniform3f(Q),u_frustum_br:new o.Uniform3f(Q),u_frustum_bl:new o.Uniform3f(Q),u_globe_pos:new o.Uniform3f(Q),u_globe_radius:new o.Uniform1f(Q),u_globe_transition:new o.Uniform1f(Q),u_is_globe:new o.Uniform1i(Q),u_viewport:new o.Uniform2f(Q)}))(l))}}setTerrainUniformValues(l,f){if(!this.terrainUniforms)return;const y=this.terrainUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const x in f)y[x]&&y[x].set(this.program,x,f[x])}}setGlobeUniformValues(l,f){if(!this.globeUniforms)return;const y=this.globeUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const x in f)y[x]&&y[x].set(this.program,x,f[x])}}setFogUniformValues(l,f){if(!this.fogUniforms)return;const y=this.fogUniforms;if(!this.failedToCreate){l.program.set(this.program);for(const x in f)y[x].set(this.program,x,f[x])}}draw(l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe){const ve=l.gl;if(this.failedToCreate)return;l.program.set(this.program),l.setDepthMode(y),l.setStencilMode(x),l.setColorMode(w),l.setCullFace(P);for(const ge of Object.keys(this.fixedUniforms))this.fixedUniforms[ge].set(this.program,ge,I[ge]);me&&me.setUniforms(this.program,l,this.binderUniforms,ae,{zoom:ue});const Q={[ve.LINES]:2,[ve.TRIANGLES]:3,[ve.LINE_STRIP]:1}[f];for(const ge of J.get()){const we=ge.vaos||(ge.vaos={});(we[D]||(we[D]=new od)).bind(l,this,$,me?me.getPaintVertexBuffers():[],j,ge.vertexOffset,pe||[]),ve.drawElements(f,ge.primitiveLength*Q,ve.UNSIGNED_SHORT,ge.primitiveOffset*Q*2)}}}function dl(m,l){const f=Math.pow(2,l.tileID.overscaledZ),y=l.tileSize*Math.pow(2,m.transform.tileZoom)/f,x=y*(l.tileID.canonical.x+l.tileID.wrap*f),w=y*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_tile_units_to_pixels:1/sn(l,1,m.transform.tileZoom),u_pixel_coord_upper:[x>>16,w>>16],u_pixel_coord_lower:[65535&x,65535&w]}}const Wl=o.create(),vs=(m,l,f,y,x,w,P,I,D,$,j)=>{const J=l.style.light,ae=J.properties.get("position"),ue=[ae.x,ae.y,ae.z],me=o.create$1();J.properties.get("anchor")==="viewport"&&(o.fromRotation(me,-l.transform.angle),o.transformMat3(ue,ue,me));const pe=J.properties.get("color"),ve=l.transform,Q={u_matrix:m,u_lightpos:ue,u_lightintensity:J.properties.get("intensity"),u_lightcolor:[pe.r,pe.g,pe.b],u_vertical_gradient:+f,u_opacity:y,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Wl,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:x,u_edge_radius:w};return ve.projection.name==="globe"&&(Q.u_tile_id=[P.canonical.x,P.canonical.y,1<<P.canonical.z],Q.u_zoom_transition=D,Q.u_inv_rot_matrix=j,Q.u_merc_center=$,Q.u_up_dir=ve.projection.upVector(new o.CanonicalTileID(0,0,0),$[0]*o.EXTENT,$[1]*o.EXTENT),Q.u_height_lift=I),Q},ad=(m,l,f,y,x,w,P,I,D,$,j,J)=>{const ae=vs(m,l,f,y,x,w,P,D,$,j,J),ue={u_height_factor:-Math.pow(2,P.overscaledZ)/I.tileSize/8};return o.extend(ae,dl(l,I),ue)},Fs=m=>({u_matrix:m}),sd=(m,l,f)=>o.extend(Fs(m),dl(l,f)),Qf=(m,l)=>({u_matrix:m,u_world:l}),Oa=(m,l,f,y)=>o.extend(sd(m,l,f),{u_world:y}),Gd=o.create(),yc=(m,l,f,y,x,w)=>{const P=m.transform,I=P.projection.name==="globe";let D;if(w.paint.get("circle-pitch-alignment")==="map")if(I){const j=o.globePixelsToTileUnits(P.zoom,l.canonical)*P._pixelsPerMercatorPixel;D=Float32Array.from([j,0,0,j])}else D=P.calculatePixelsToTileUnitsMatrix(f);else D=new Float32Array([P.pixelsToGLUnits[0],0,0,P.pixelsToGLUnits[1]]);const $={u_camera_to_center_distance:P.cameraToCenterDistance,u_matrix:m.translatePosMatrix(l.projMatrix,f,w.paint.get("circle-translate"),w.paint.get("circle-translate-anchor")),u_device_pixel_ratio:o.exported.devicePixelRatio,u_extrude_scale:D,u_inv_rot_matrix:Gd,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(I){$.u_inv_rot_matrix=y,$.u_merc_center=x,$.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],$.u_zoom_transition=o.globeToMercatorTransition(P.zoom);const j=x[0]*o.EXTENT,J=x[1]*o.EXTENT;$.u_up_dir=P.projection.upVector(new o.CanonicalTileID(0,0,0),j,J)}return $},yu=m=>{const l=[];return m.paint.get("circle-pitch-alignment")==="map"&&l.push("PITCH_WITH_MAP"),m.paint.get("circle-pitch-scale")==="map"&&l.push("SCALE_WITH_MAP"),l},vu=(m,l,f,y)=>{const x=o.EXTENT/f.tileSize;return{u_matrix:m,u_camera_to_center_distance:l.getCameraToCenterDistance(y),u_extrude_scale:[l.pixelsToGLUnits[0]/x,l.pixelsToGLUnits[1]/x]}},_u=(m,l,f=1)=>({u_matrix:m,u_color:l,u_overlay:0,u_overlay_scale:f}),xu=o.create(),fl=(m,l,f,y,x,w,P)=>{const I=m.transform,D=I.projection.name==="globe",$=D?o.globePixelsToTileUnits(I.zoom,l.canonical)*I._pixelsPerMercatorPixel:sn(f,1,w),j={u_matrix:l.projMatrix,u_extrude_scale:$,u_intensity:P,u_inv_rot_matrix:xu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(D){j.u_inv_rot_matrix=y,j.u_merc_center=x,j.u_tile_id=[l.canonical.x,l.canonical.y,1<<l.canonical.z],j.u_zoom_transition=o.globeToMercatorTransition(I.zoom);const J=x[0]*o.EXTENT,ae=x[1]*o.EXTENT;j.u_up_dir=I.projection.upVector(new o.CanonicalTileID(0,0,0),J,ae)}return j},eh=(m,l,f,y,x,w,P)=>{const I=m.transform,D=I.calculatePixelsToTileUnitsMatrix(l);return{u_matrix:ld(m,l,f,y),u_pixels_to_tile_units:D,u_device_pixel_ratio:w,u_units_to_pixels:[1/I.pixelsToGLUnits[0],1/I.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:x,u_texsize:Ns(f)?l.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:hl(l,m.transform),u_alpha_discard_threshold:0,u_trim_offset:P}},vc=(m,l,f,y,x)=>{const w=m.transform;return{u_matrix:ld(m,l,f,y),u_texsize:l.imageAtlasTexture.size,u_pixels_to_tile_units:w.calculatePixelsToTileUnitsMatrix(l),u_device_pixel_ratio:x,u_image:0,u_tile_units_to_pixels:hl(l,w),u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function hl(m,l){return 1/sn(m,1,l.tileZoom)}function ld(m,l,f,y){return m.translatePosMatrix(y||l.tileID.projMatrix,l,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}function Ns(m){const l=m.paint.get("line-dasharray").value;return l.value||l.kind!=="constant"}const bu=(m,l,f,y,x,w)=>{return{u_matrix:m,u_tl_parent:l,u_scale_parent:f,u_fade_t:y.mix,u_opacity:y.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(I=x.paint.get("raster-saturation"),I>0?1-1/(1.001-I):-I),u_contrast_factor:(P=x.paint.get("raster-contrast"),P>0?1/(1-P):1+P),u_spin_weights:Ra(x.paint.get("raster-hue-rotate")),u_perspective_transform:w};var P,I};function Ra(m){m*=Math.PI/180;const l=Math.sin(m),f=Math.cos(m);return[(2*f+1)/3,(-Math.sqrt(3)*l-f+1)/3,(Math.sqrt(3)*l-f+1)/3]}const _c=o.create(),Zl=(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe)=>{const ve=x.transform,Q={u_is_size_zoom_constant:+(m==="constant"||m==="source"),u_is_size_feature_constant:+(m==="constant"||m==="camera"),u_size_t:l?l.uSizeT:0,u_size:l?l.uSize:0,u_camera_to_center_distance:ve.cameraToCenterDistance,u_rotate_symbol:+f,u_aspect_ratio:ve.width/ve.height,u_fade_change:x.options.fadeDuration?x.symbolFadeChange:1,u_matrix:w,u_label_plane_matrix:P,u_coord_matrix:I,u_is_text:+D,u_pitch_with_map:+y,u_texsize:$,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:_c,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:_c,u_up_vector:[0,-1,0]};return pe.name==="globe"&&(Q.u_tile_id=[j.canonical.x,j.canonical.y,1<<j.canonical.z],Q.u_zoom_transition=J,Q.u_inv_rot_matrix=ue,Q.u_merc_center=ae,Q.u_camera_forward=ve._camera.forward(),Q.u_ecef_origin=o.globeECEFOrigin(ve.globeMatrix,j.toUnwrapped()),Q.u_tile_matrix=Float32Array.from(ve.globeMatrix),Q.u_up_vector=me),Q},ql=(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe,ve)=>o.extend(Zl(m,l,f,y,x,w,P,I,D,$,J,ae,ue,me,pe,ve),{u_gamma_scale:y?x.transform.cameraToCenterDistance*Math.cos(x.terrain?0:x.transform._pitch):1,u_device_pixel_ratio:o.exported.devicePixelRatio,u_is_halo:+j}),wu=(m,l,f,y,x,w,P,I,D,$,j,J,ae,ue,me,pe)=>o.extend(ql(m,l,f,y,x,w,P,I,!0,D,!0,j,J,ae,ue,me,pe),{u_texsize_icon:$,u_texture_icon:1}),Jo=(m,l,f)=>({u_matrix:m,u_opacity:l,u_color:f}),th=(m,l,f,y,x)=>o.extend(function(w,P,I){const D=P.imageManager.getPattern(w.toString()),{width:$,height:j}=P.imageManager.getPixelSize(),J=Math.pow(2,I.tileID.overscaledZ),ae=I.tileSize*Math.pow(2,P.transform.tileZoom)/J,ue=ae*(I.tileID.canonical.x+I.tileID.wrap*J),me=ae*I.tileID.canonical.y;return{u_image:0,u_pattern_tl:D.tl,u_pattern_br:D.br,u_texsize:[$,j],u_pattern_size:D.displaySize,u_tile_units_to_pixels:1/sn(I,1,P.transform.tileZoom),u_pixel_coord_upper:[ue>>16,me>>16],u_pixel_coord_lower:[65535&ue,65535&me]}}(y,f,x),{u_matrix:m,u_opacity:l}),cd={fillExtrusion:m=>({u_matrix:new o.UniformMatrix4f(m),u_lightpos:new o.Uniform3f(m),u_lightintensity:new o.Uniform1f(m),u_lightcolor:new o.Uniform3f(m),u_vertical_gradient:new o.Uniform1f(m),u_opacity:new o.Uniform1f(m),u_edge_radius:new o.Uniform1f(m),u_ao:new o.Uniform2f(m),u_tile_id:new o.Uniform3f(m),u_zoom_transition:new o.Uniform1f(m),u_inv_rot_matrix:new o.UniformMatrix4f(m),u_merc_center:new o.Uniform2f(m),u_up_dir:new o.Uniform3f(m),u_height_lift:new o.Uniform1f(m)}),fillExtrusionPattern:m=>({u_matrix:new o.UniformMatrix4f(m),u_lightpos:new o.Uniform3f(m),u_lightintensity:new o.Uniform1f(m),u_lightcolor:new o.Uniform3f(m),u_vertical_gradient:new o.Uniform1f(m),u_height_factor:new o.Uniform1f(m),u_edge_radius:new o.Uniform1f(m),u_ao:new o.Uniform2f(m),u_tile_id:new o.Uniform3f(m),u_zoom_transition:new o.Uniform1f(m),u_inv_rot_matrix:new o.UniformMatrix4f(m),u_merc_center:new o.Uniform2f(m),u_up_dir:new o.Uniform3f(m),u_height_lift:new o.Uniform1f(m),u_image:new o.Uniform1i(m),u_texsize:new o.Uniform2f(m),u_pixel_coord_upper:new o.Uniform2f(m),u_pixel_coord_lower:new o.Uniform2f(m),u_tile_units_to_pixels:new o.Uniform1f(m),u_opacity:new o.Uniform1f(m)}),fill:m=>({u_matrix:new o.UniformMatrix4f(m)}),fillPattern:m=>({u_matrix:new o.UniformMatrix4f(m),u_image:new o.Uniform1i(m),u_texsize:new o.Uniform2f(m),u_pixel_coord_upper:new o.Uniform2f(m),u_pixel_coord_lower:new o.Uniform2f(m),u_tile_units_to_pixels:new o.Uniform1f(m)}),fillOutline:m=>({u_matrix:new o.UniformMatrix4f(m),u_world:new o.Uniform2f(m)}),fillOutlinePattern:m=>({u_matrix:new o.UniformMatrix4f(m),u_world:new o.Uniform2f(m),u_image:new o.Uniform1i(m),u_texsize:new o.Uniform2f(m),u_pixel_coord_upper:new o.Uniform2f(m),u_pixel_coord_lower:new o.Uniform2f(m),u_tile_units_to_pixels:new o.Uniform1f(m)}),circle:m=>({u_camera_to_center_distance:new o.Uniform1f(m),u_extrude_scale:new o.UniformMatrix2f(m),u_device_pixel_ratio:new o.Uniform1f(m),u_matrix:new o.UniformMatrix4f(m),u_inv_rot_matrix:new o.UniformMatrix4f(m),u_merc_center:new o.Uniform2f(m),u_tile_id:new o.Uniform3f(m),u_zoom_transition:new o.Uniform1f(m),u_up_dir:new o.Uniform3f(m)}),collisionBox:m=>({u_matrix:new o.UniformMatrix4f(m),u_camera_to_center_distance:new o.Uniform1f(m),u_extrude_scale:new o.Uniform2f(m)}),collisionCircle:m=>({u_matrix:new o.UniformMatrix4f(m),u_inv_matrix:new o.UniformMatrix4f(m),u_camera_to_center_distance:new o.Uniform1f(m),u_viewport_size:new o.Uniform2f(m)}),debug:m=>({u_color:new o.UniformColor(m),u_matrix:new o.UniformMatrix4f(m),u_overlay:new o.Uniform1i(m),u_overlay_scale:new o.Uniform1f(m)}),clippingMask:m=>({u_matrix:new o.UniformMatrix4f(m)}),heatmap:m=>({u_extrude_scale:new o.Uniform1f(m),u_intensity:new o.Uniform1f(m),u_matrix:new o.UniformMatrix4f(m),u_inv_rot_matrix:new o.UniformMatrix4f(m),u_merc_center:new o.Uniform2f(m),u_tile_id:new o.Uniform3f(m),u_zoom_transition:new o.Uniform1f(m),u_up_dir:new o.Uniform3f(m)}),heatmapTexture:m=>({u_image:new o.Uniform1i(m),u_color_ramp:new o.Uniform1i(m),u_opacity:new o.Uniform1f(m)}),hillshade:m=>({u_matrix:new o.UniformMatrix4f(m),u_image:new o.Uniform1i(m),u_latrange:new o.Uniform2f(m),u_light:new o.Uniform2f(m),u_shadow:new o.UniformColor(m),u_highlight:new o.UniformColor(m),u_accent:new o.UniformColor(m)}),hillshadePrepare:m=>({u_matrix:new o.UniformMatrix4f(m),u_image:new o.Uniform1i(m),u_dimension:new o.Uniform2f(m),u_zoom:new o.Uniform1f(m),u_unpack:new o.Uniform4f(m)}),line:m=>({u_matrix:new o.UniformMatrix4f(m),u_pixels_to_tile_units:new o.UniformMatrix2f(m),u_device_pixel_ratio:new o.Uniform1f(m),u_units_to_pixels:new o.Uniform2f(m),u_dash_image:new o.Uniform1i(m),u_gradient_image:new o.Uniform1i(m),u_image_height:new o.Uniform1f(m),u_texsize:new o.Uniform2f(m),u_tile_units_to_pixels:new o.Uniform1f(m),u_alpha_discard_threshold:new o.Uniform1f(m),u_trim_offset:new o.Uniform2f(m)}),linePattern:m=>({u_matrix:new o.UniformMatrix4f(m),u_texsize:new o.Uniform2f(m),u_pixels_to_tile_units:new o.UniformMatrix2f(m),u_device_pixel_ratio:new o.Uniform1f(m),u_image:new o.Uniform1i(m),u_units_to_pixels:new o.Uniform2f(m),u_tile_units_to_pixels:new o.Uniform1f(m),u_alpha_discard_threshold:new o.Uniform1f(m)}),raster:m=>({u_matrix:new o.UniformMatrix4f(m),u_tl_parent:new o.Uniform2f(m),u_scale_parent:new o.Uniform1f(m),u_fade_t:new o.Uniform1f(m),u_opacity:new o.Uniform1f(m),u_image0:new o.Uniform1i(m),u_image1:new o.Uniform1i(m),u_brightness_low:new o.Uniform1f(m),u_brightness_high:new o.Uniform1f(m),u_saturation_factor:new o.Uniform1f(m),u_contrast_factor:new o.Uniform1f(m),u_spin_weights:new o.Uniform3f(m),u_perspective_transform:new o.Uniform2f(m)}),symbolIcon:m=>({u_is_size_zoom_constant:new o.Uniform1i(m),u_is_size_feature_constant:new o.Uniform1i(m),u_size_t:new o.Uniform1f(m),u_size:new o.Uniform1f(m),u_camera_to_center_distance:new o.Uniform1f(m),u_rotate_symbol:new o.Uniform1i(m),u_aspect_ratio:new o.Uniform1f(m),u_fade_change:new o.Uniform1f(m),u_matrix:new o.UniformMatrix4f(m),u_label_plane_matrix:new o.UniformMatrix4f(m),u_coord_matrix:new o.UniformMatrix4f(m),u_is_text:new o.Uniform1i(m),u_pitch_with_map:new o.Uniform1i(m),u_texsize:new o.Uniform2f(m),u_tile_id:new o.Uniform3f(m),u_zoom_transition:new o.Uniform1f(m),u_inv_rot_matrix:new o.UniformMatrix4f(m),u_merc_center:new o.Uniform2f(m),u_camera_forward:new o.Uniform3f(m),u_tile_matrix:new o.UniformMatrix4f(m),u_up_vector:new o.Uniform3f(m),u_ecef_origin:new o.Uniform3f(m),u_texture:new o.Uniform1i(m)}),symbolSDF:m=>({u_is_size_zoom_constant:new o.Uniform1i(m),u_is_size_feature_constant:new o.Uniform1i(m),u_size_t:new o.Uniform1f(m),u_size:new o.Uniform1f(m),u_camera_to_center_distance:new o.Uniform1f(m),u_rotate_symbol:new o.Uniform1i(m),u_aspect_ratio:new o.Uniform1f(m),u_fade_change:new o.Uniform1f(m),u_matrix:new o.UniformMatrix4f(m),u_label_plane_matrix:new o.UniformMatrix4f(m),u_coord_matrix:new o.UniformMatrix4f(m),u_is_text:new o.Uniform1i(m),u_pitch_with_map:new o.Uniform1i(m),u_texsize:new o.Uniform2f(m),u_texture:new o.Uniform1i(m),u_gamma_scale:new o.Uniform1f(m),u_device_pixel_ratio:new o.Uniform1f(m),u_tile_id:new o.Uniform3f(m),u_zoom_transition:new o.Uniform1f(m),u_inv_rot_matrix:new o.UniformMatrix4f(m),u_merc_center:new o.Uniform2f(m),u_camera_forward:new o.Uniform3f(m),u_tile_matrix:new o.UniformMatrix4f(m),u_up_vector:new o.Uniform3f(m),u_ecef_origin:new o.Uniform3f(m),u_is_halo:new o.Uniform1i(m)}),symbolTextAndIcon:m=>({u_is_size_zoom_constant:new o.Uniform1i(m),u_is_size_feature_constant:new o.Uniform1i(m),u_size_t:new o.Uniform1f(m),u_size:new o.Uniform1f(m),u_camera_to_center_distance:new o.Uniform1f(m),u_rotate_symbol:new o.Uniform1i(m),u_aspect_ratio:new o.Uniform1f(m),u_fade_change:new o.Uniform1f(m),u_matrix:new o.UniformMatrix4f(m),u_label_plane_matrix:new o.UniformMatrix4f(m),u_coord_matrix:new o.UniformMatrix4f(m),u_is_text:new o.Uniform1i(m),u_pitch_with_map:new o.Uniform1i(m),u_texsize:new o.Uniform2f(m),u_texsize_icon:new o.Uniform2f(m),u_texture:new o.Uniform1i(m),u_texture_icon:new o.Uniform1i(m),u_gamma_scale:new o.Uniform1f(m),u_device_pixel_ratio:new o.Uniform1f(m),u_is_halo:new o.Uniform1i(m)}),background:m=>({u_matrix:new o.UniformMatrix4f(m),u_opacity:new o.Uniform1f(m),u_color:new o.UniformColor(m)}),backgroundPattern:m=>({u_matrix:new o.UniformMatrix4f(m),u_opacity:new o.Uniform1f(m),u_image:new o.Uniform1i(m),u_pattern_tl:new o.Uniform2f(m),u_pattern_br:new o.Uniform2f(m),u_texsize:new o.Uniform2f(m),u_pattern_size:new o.Uniform2f(m),u_pixel_coord_upper:new o.Uniform2f(m),u_pixel_coord_lower:new o.Uniform2f(m),u_tile_units_to_pixels:new o.Uniform1f(m)}),terrainRaster:en,terrainDepth:en,skybox:m=>({u_matrix:new o.UniformMatrix4f(m),u_sun_direction:new o.Uniform3f(m),u_cubemap:new o.Uniform1i(m),u_opacity:new o.Uniform1f(m),u_temporal_offset:new o.Uniform1f(m)}),skyboxGradient:m=>({u_matrix:new o.UniformMatrix4f(m),u_color_ramp:new o.Uniform1i(m),u_center_direction:new o.Uniform3f(m),u_radius:new o.Uniform1f(m),u_opacity:new o.Uniform1f(m),u_temporal_offset:new o.Uniform1f(m)}),skyboxCapture:m=>({u_matrix_3f:new o.UniformMatrix3f(m),u_sun_direction:new o.Uniform3f(m),u_sun_intensity:new o.Uniform1f(m),u_color_tint_r:new o.Uniform4f(m),u_color_tint_m:new o.Uniform4f(m),u_luminance:new o.Uniform1f(m)}),globeRaster:m=>({u_proj_matrix:new o.UniformMatrix4f(m),u_globe_matrix:new o.UniformMatrix4f(m),u_normalize_matrix:new o.UniformMatrix4f(m),u_merc_matrix:new o.UniformMatrix4f(m),u_zoom_transition:new o.Uniform1f(m),u_merc_center:new o.Uniform2f(m),u_image0:new o.Uniform1i(m),u_grid_matrix:new o.UniformMatrix3f(m),u_skirt_height:new o.Uniform1f(m),u_frustum_tl:new o.Uniform3f(m),u_frustum_tr:new o.Uniform3f(m),u_frustum_br:new o.Uniform3f(m),u_frustum_bl:new o.Uniform3f(m),u_globe_pos:new o.Uniform3f(m),u_globe_radius:new o.Uniform1f(m),u_viewport:new o.Uniform2f(m)}),globeAtmosphere:m=>({u_frustum_tl:new o.Uniform3f(m),u_frustum_tr:new o.Uniform3f(m),u_frustum_br:new o.Uniform3f(m),u_frustum_bl:new o.Uniform3f(m),u_horizon:new o.Uniform1f(m),u_transition:new o.Uniform1f(m),u_fadeout_range:new o.Uniform1f(m),u_color:new o.Uniform4f(m),u_high_color:new o.Uniform4f(m),u_space_color:new o.Uniform4f(m),u_star_intensity:new o.Uniform1f(m),u_star_density:new o.Uniform1f(m),u_star_size:new o.Uniform1f(m),u_temporal_offset:new o.Uniform1f(m),u_horizon_angle:new o.Uniform1f(m),u_rotation_matrix:new o.UniformMatrix4f(m)})};let Kl;function pl(m,l,f,y,x,w,P){const I=m.context,D=I.gl,$=m.transform,j=m.useProgram("collisionBox"),J=[];let ae=0,ue=0;for(let Te=0;Te<y.length;Te++){const Ne=y[Te],De=l.getTile(Ne),$e=De.getBucket(f);if(!$e)continue;const Je=Po(Ne,$e,$);let Ke=Je;x[0]===0&&x[1]===0||(Ke=m.translatePosMatrix(Je,De,x,w));const st=P?$e.textCollisionBox:$e.iconCollisionBox,Ot=$e.collisionCircleArray;if(Ot.length>0){const it=o.create(),St=Ke;o.mul(it,$e.placementInvProjMatrix,$.glCoordMatrix),o.mul(it,it,$e.placementViewportMatrix),J.push({circleArray:Ot,circleOffset:ue,transform:St,invTransform:it,projection:$e.getProjection()}),ae+=Ot.length/4,ue=ae}st&&(m.terrain&&m.terrain.setupElevationDraw(De,j),j.draw(I,D.LINES,o.DepthMode.disabled,o.StencilMode.disabled,m.colorModeForRenderPass(),o.CullFaceMode.disabled,vu(Ke,$,De,$e.getProjection()),f.id,st.layoutVertexBuffer,st.indexBuffer,st.segments,null,$.zoom,null,[st.collisionVertexBuffer,st.collisionVertexBufferExt]))}if(!P||!J.length)return;const me=m.useProgram("collisionCircle"),pe=new o.StructArrayLayout2f1f2i16;pe.resize(4*ae),pe._trim();let ve=0;for(const Te of J)for(let Ne=0;Ne<Te.circleArray.length/4;Ne++){const De=4*Ne,$e=Te.circleArray[De+0],Je=Te.circleArray[De+1],Ke=Te.circleArray[De+2],st=Te.circleArray[De+3];pe.emplace(ve++,$e,Je,Ke,st,0),pe.emplace(ve++,$e,Je,Ke,st,1),pe.emplace(ve++,$e,Je,Ke,st,2),pe.emplace(ve++,$e,Je,Ke,st,3)}(!Kl||Kl.length<2*ae)&&(Kl=function(Te){const Ne=2*Te,De=new o.StructArrayLayout3ui6;De.resize(Ne),De._trim();for(let $e=0;$e<Ne;$e++){const Je=6*$e;De.uint16[Je+0]=4*$e+0,De.uint16[Je+1]=4*$e+1,De.uint16[Je+2]=4*$e+2,De.uint16[Je+3]=4*$e+2,De.uint16[Je+4]=4*$e+3,De.uint16[Je+5]=4*$e+0}return De}(ae));const Q=I.createIndexBuffer(Kl,!0),ge=I.createVertexBuffer(pe,o.collisionCircleLayout.members,!0);for(const Te of J){const Ne={u_matrix:Te.transform,u_inv_matrix:Te.invTransform,u_camera_to_center_distance:(we=$).getCameraToCenterDistance(Te.projection),u_viewport_size:[we.width,we.height]};me.draw(I,D.TRIANGLES,o.DepthMode.disabled,o.StencilMode.disabled,m.colorModeForRenderPass(),o.CullFaceMode.disabled,Ne,f.id,ge,Q,o.SegmentVector.simpleSegment(0,2*Te.circleOffset,Te.circleArray.length,Te.circleArray.length/2),null,$.zoom)}var we;ge.destroy(),Q.destroy()}const Hd=o.create();function ud({width:m,height:l,anchor:f,textOffset:y,textScale:x},w){const{horizontalAlign:P,verticalAlign:I}=o.getAnchorAlignment(f),D=-(P-.5)*m,$=-(I-.5)*l,j=o.evaluateVariableOffset(f,y);return new o.Point((D/x+j[0])*w,($/x+j[1])*w)}function nh(m,l,f,y,x,w,P,I,D,$,j){const J=m.text.placedSymbolArray,ae=m.text.dynamicLayoutVertexArray,ue=m.icon.dynamicLayoutVertexArray,me={},pe=m.getProjection(),ve=Hr(I,pe,w),Q=w.elevation,ge=pe.upVectorScale(I.canonical,w.center.lat,w.worldSize).metersToTile;ae.clear();for(let we=0;we<J.length;we++){const Te=J.get(we),{tileAnchorX:Ne,tileAnchorY:De,numGlyphs:$e}=Te,Je=Te.hidden||!Te.crossTileID||m.allowVerticalPlacement&&!Te.placedOrientation?null:y[Te.crossTileID];if(Je){let Ke=0,st=0,Ot=0;if(Q){const hn=Q?Q.getAtTileOffset(I,Ne,De):0,[tr,_r,Zn]=pe.upVector(I.canonical,Ne,De);Ke=hn*tr*ge,st=hn*_r*ge,Ot=hn*Zn*ge}let[it,St,gt,tn]=Zr(Te.projectedAnchorX+Ke,Te.projectedAnchorY+st,Te.projectedAnchorZ+Ot,f?ve:P);const mt=sa(w.getCameraToCenterDistance(pe),tn);let Dt=x.evaluateSizeForFeature(m.textSizeData,$,Te)*mt/o.ONE_EM;f&&(Dt*=m.tilePixelRatio/D);const an=ud(Je,Dt);f?({x:it,y:St,z:gt}=pe.projectTilePoint(Ne+an.x,De+an.y,I.canonical),[it,St,gt]=Zr(it+Ke,St+st,gt+Ot,P)):(l&&an._rotate(-w.angle),it+=an.x,St+=an.y,gt=0);const Yt=m.allowVerticalPlacement&&Te.placedOrientation===o.WritingMode.vertical?Math.PI/2:0;for(let hn=0;hn<$e;hn++)o.addDynamicAttributes(ae,it,St,gt,Yt);j&&Te.associatedIconIndex>=0&&(me[Te.associatedIconIndex]={x:it,y:St,z:gt,angle:Yt})}else ii($e,ae)}if(j){ue.clear();const we=m.icon.placedSymbolArray;for(let Te=0;Te<we.length;Te++){const Ne=we.get(Te),{numGlyphs:De}=Ne,$e=me[Te];if(Ne.hidden||!$e)ii(De,ue);else{const{x:Je,y:Ke,z:st,angle:Ot}=$e;for(let it=0;it<De;it++)o.addDynamicAttributes(ue,Je,Ke,st,Ot)}}m.icon.dynamicLayoutVertexBuffer.updateData(ue)}m.text.dynamicLayoutVertexBuffer.updateData(ae)}function Eu(m,l,f){return f.iconsInText&&l?"symbolTextAndIcon":m?"symbolSDF":"symbolIcon"}function Cu(m,l,f,y,x,w,P,I,D,$,j,J){const ae=m.context,ue=ae.gl,me=m.transform,pe=I==="map",ve=D==="map",Q=pe&&f.layout.get("symbol-placement")!=="point",ge=pe&&!ve&&!Q,we=f.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Te=!1;const Ne=m.depthModeForSublayer(0,o.DepthMode.ReadOnly),De=[o.mercatorXfromLng(me.center.lng),o.mercatorYfromLat(me.center.lat)],$e=f.layout.get("text-variable-anchor"),Je=me.projection.name==="globe",Ke=[],st=[0,-1,0];let Ot=st;!Je&&!me.mercatorFromTransition||pe||(Ot=function(it){const St=it._camera.getWorldToCamera(it.worldSize,1),gt=o.multiply([],St,it.globeMatrix);o.invert(gt,gt);const tn=[0,0,0],mt=[0,1,0,0];return o.transformMat4$1(mt,mt,gt),tn[0]=mt[0],tn[1]=mt[1],tn[2]=mt[2],o.normalize(tn,tn),tn}(me));for(const it of y){const St=l.getTile(it),gt=St.getBucket(f);if(!gt||gt.projection.name==="mercator"&&Je)continue;const tn=x?gt.text:gt.icon;if(!tn||gt.fullyClipped||!tn.segments.get().length)continue;const mt=tn.programConfigurations.get(f.id),Dt=x||gt.sdfIcons,an=x?gt.textSizeData:gt.iconSizeData,Yt=ve||me.pitch!==0,hn=o.evaluateSizeForZoom(an,me.zoom);let tr,_r,Zn,cr,Lr=[0,0],Mr=null;if(x)_r=St.glyphAtlasTexture,Zn=ue.LINEAR,tr=St.glyphAtlasTexture.size,gt.iconsInText&&(Lr=St.imageAtlasTexture.size,Mr=St.imageAtlasTexture,cr=Yt||m.options.rotating||m.options.zooming||an.kind==="composite"||an.kind==="camera"?ue.LINEAR:ue.NEAREST);else{const Ic=f.layout.get("icon-size").constantOr(0)!==1||gt.iconsNeedLinear;_r=St.imageAtlasTexture,Zn=Dt||m.options.rotating||m.options.zooming||Ic||Yt?ue.LINEAR:ue.NEAREST,tr=St.imageAtlasTexture.size}const Qn=gt.projection.name==="globe",ei=Qn?Ot:st,Xr=Qn?o.globeToMercatorTransition(me.zoom):0,ti=Hr(it,gt.getProjection(),me),oi=me.calculatePixelsToTileUnitsMatrix(St),Wo=vt(ti,St.tileID.canonical,ve,pe,me,gt.getProjection(),oi),oo=m.terrain&&ve&&Q?o.invert(o.create(),Wo):Hd,Da=Vr(ti,St.tileID.canonical,ve,pe,me,gt.getProjection(),oi),ws=$e&&gt.hasTextData(),xi=f.layout.get("icon-text-fit")!=="none"&&ws&&gt.hasIconData();if(Q){const Ic=me.elevation,Ou=Ic?Ic.getAtTileOffsetFunc(it,me.center.lat,me.worldSize,gt.getProjection()):null,vd=vi(ti,St.tileID.canonical,ve,pe,me,gt.getProjection(),oi);jo(gt,ti,m,x,vd,Da,ve,$,Ou,it)}const ai=Q||x&&$e||xi,Yr=m.translatePosMatrix(ti,St,w,P),eo=ai?Hd:Wo,Zo=m.translatePosMatrix(Da,St,w,P,!0),hi=gt.getProjection().createInversionMatrix(me,it.canonical),Xa=[];m.terrainRenderModeElevated()&&ve&&Xa.push("PITCH_WITH_MAP_TERRAIN"),Qn&&Xa.push("PROJECTION_GLOBE_VIEW"),ai&&Xa.push("PROJECTED_POS_ON_VIEWPORT");const hp=Dt&&f.paint.get(x?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let yd;yd=Dt?gt.iconsInText?wu(an.kind,hn,ge,ve,m,Yr,eo,Zo,tr,Lr,it,Xr,De,hi,ei,gt.getProjection()):ql(an.kind,hn,ge,ve,m,Yr,eo,Zo,x,tr,!0,it,Xr,De,hi,ei,gt.getProjection()):Zl(an.kind,hn,ge,ve,m,Yr,eo,Zo,x,tr,it,Xr,De,hi,ei,gt.getProjection());const mh={program:m.useProgram(Eu(Dt,x,gt),mt,Xa),buffers:tn,uniformValues:yd,atlasTexture:_r,atlasTextureIcon:Mr,atlasInterpolation:Zn,atlasInterpolationIcon:cr,isSDF:Dt,hasHalo:hp,tile:St,labelPlaneMatrixInv:oo};if(we&&gt.canOverlap){Te=!0;const Ic=tn.segments.get();for(const Ou of Ic)Ke.push({segments:new o.SegmentVector([Ou]),sortKey:Ou.sortKey,state:mh})}else Ke.push({segments:tn.segments,sortKey:0,state:mh})}Te&&Ke.sort((it,St)=>it.sortKey-St.sortKey);for(const it of Ke){const St=it.state;if(m.terrain&&m.terrain.setupElevationDraw(St.tile,St.program,{useDepthForOcclusion:!Je,labelPlaneMatrixInv:St.labelPlaneMatrixInv}),ae.activeTexture.set(ue.TEXTURE0),St.atlasTexture.bind(St.atlasInterpolation,ue.CLAMP_TO_EDGE),St.atlasTextureIcon&&(ae.activeTexture.set(ue.TEXTURE1),St.atlasTextureIcon&&St.atlasTextureIcon.bind(St.atlasInterpolationIcon,ue.CLAMP_TO_EDGE)),St.isSDF){const gt=St.uniformValues;St.hasHalo&&(gt.u_is_halo=1,xc(St.buffers,it.segments,f,m,St.program,Ne,j,J,gt)),gt.u_is_halo=0}xc(St.buffers,it.segments,f,m,St.program,Ne,j,J,St.uniformValues)}}function xc(m,l,f,y,x,w,P,I,D){const $=y.context,j=[m.dynamicLayoutVertexBuffer,m.opacityVertexBuffer,m.globeExtVertexBuffer];x.draw($,$.gl.TRIANGLES,w,P,I,o.CullFaceMode.disabled,D,f.id,m.layoutVertexBuffer,m.indexBuffer,l,f.paint,y.transform.zoom,m.programConfigurations.get(f.id),j)}function dd(m,l,f,y,x,w,P){const I=m.context.gl,D=f.paint.get("fill-pattern"),$=D&&D.constantOr(1);let j,J,ae,ue,me;P?(J=$&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",j=I.LINES):(J=$?"fillPattern":"fill",j=I.TRIANGLES);for(const pe of y){const ve=l.getTile(pe);if($&&!ve.patternsLoaded())continue;const Q=ve.getBucket(f);if(!Q)continue;m.prepareDrawTile();const ge=Q.programConfigurations.get(f.id),we=m.useProgram(J,ge);$&&(m.context.activeTexture.set(I.TEXTURE0),ve.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),ge.updatePaintBuffers());const Te=D.constantOr(null);if(Te&&ve.imageAtlas){const De=ve.imageAtlas.patternPositions[Te.toString()];De&&ge.setConstantPatternPositions(De)}const Ne=m.translatePosMatrix(pe.projMatrix,ve,f.paint.get("fill-translate"),f.paint.get("fill-translate-anchor"));if(P){ue=Q.indexBuffer2,me=Q.segments2;const De=m.terrain&&m.terrain.renderingToTexture?m.terrain.drapeBufferSize:[I.drawingBufferWidth,I.drawingBufferHeight];ae=J==="fillOutlinePattern"&&$?Oa(Ne,m,ve,De):Qf(Ne,De)}else ue=Q.indexBuffer,me=Q.segments,ae=$?sd(Ne,m,ve):Fs(Ne);m.prepareDrawProgram(m.context,we,pe.toUnwrapped()),we.draw(m.context,j,x,m.stencilModeForClipping(pe),w,o.CullFaceMode.disabled,ae,f.id,Q.layoutVertexBuffer,ue,me,f.paint,m.transform.zoom,ge)}}function bc(m,l,f,y,x,w,P){const I=m.context,D=I.gl,$=m.transform,j=f.paint.get("fill-extrusion-pattern"),J=j.constantOr(1),ae=f.paint.get("fill-extrusion-opacity"),ue=[f.paint.get("fill-extrusion-ambient-occlusion-intensity"),f.paint.get("fill-extrusion-ambient-occlusion-radius")],me=f.layout.get("fill-extrusion-edge-radius"),pe=me>0&&!f.paint.get("fill-extrusion-rounded-roof"),ve=pe?0:me,Q=$.projection.name==="globe"?o.fillExtrusionHeightLift():0,ge=$.projection.name==="globe",we=ge?o.globeToMercatorTransition($.zoom):0,Te=[o.mercatorXfromLng($.center.lng),o.mercatorYfromLat($.center.lat)],Ne=[];ge&&Ne.push("PROJECTION_GLOBE_VIEW"),ue[0]>0&&Ne.push("FAUX_AO"),pe&&Ne.push("ZERO_ROOF_RADIUS");for(const De of y){const $e=l.getTile(De),Je=$e.getBucket(f);if(!Je||Je.projection.name!==$.projection.name)continue;const Ke=Je.programConfigurations.get(f.id),st=m.useProgram(J?"fillExtrusionPattern":"fillExtrusion",Ke,Ne);if(m.terrain){const Dt=m.terrain;if(m.style.terrainSetForDrapingOnly())Dt.setupElevationDraw($e,st,{useMeterToDem:!0});else{if(!Je.enableTerrain)continue;if(Dt.setupElevationDraw($e,st,{useMeterToDem:!0}),Su(I,l,De,Je,f,Dt),!Je.centroidVertexBuffer){const an=st.attributes.a_centroid_pos;an!==void 0&&D.vertexAttrib2f(an,0,0)}}}J&&(m.context.activeTexture.set(D.TEXTURE0),$e.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),Ke.updatePaintBuffers());const Ot=j.constantOr(null);if(Ot&&$e.imageAtlas){const Dt=$e.imageAtlas.patternPositions[Ot.toString()];Dt&&Ke.setConstantPatternPositions(Dt)}const it=m.translatePosMatrix(De.projMatrix,$e,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),St=$.projection.createInversionMatrix($,De.canonical),gt=f.paint.get("fill-extrusion-vertical-gradient"),tn=J?ad(it,m,gt,ae,ue,ve,De,$e,Q,we,Te,St):vs(it,m,gt,ae,ue,ve,De,Q,we,Te,St);m.prepareDrawProgram(I,st,De.toUnwrapped());const mt=[];m.terrain&&mt.push(Je.centroidVertexBuffer),ge&&mt.push(Je.layoutVertexExtBuffer),st.draw(I,I.gl.TRIANGLES,x,w,P,o.CullFaceMode.backCCW,tn,f.id,Je.layoutVertexBuffer,Je.indexBuffer,Je.segments,f.paint,m.transform.zoom,Ke,mt)}}function Su(m,l,f,y,x,w){const P=[Q=>{let ge=Q.canonical.x-1,we=Q.wrap;return ge<0&&(ge=(1<<Q.canonical.z)-1,we--),new o.OverscaledTileID(Q.overscaledZ,we,Q.canonical.z,ge,Q.canonical.y)},Q=>{let ge=Q.canonical.x+1,we=Q.wrap;return ge===1<<Q.canonical.z&&(ge=0,we++),new o.OverscaledTileID(Q.overscaledZ,we,Q.canonical.z,ge,Q.canonical.y)},Q=>new o.OverscaledTileID(Q.overscaledZ,Q.wrap,Q.canonical.z,Q.canonical.x,(Q.canonical.y===0?1<<Q.canonical.z:Q.canonical.y)-1),Q=>new o.OverscaledTileID(Q.overscaledZ,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y===(1<<Q.canonical.z)-1?0:Q.canonical.y+1)],I=Q=>{const ge=l.getSource().minzoom,we=Ne=>{const De=l.getTileByID(Ne);if(De&&De.hasData())return De.getBucket(x)},Te=[0,-1,1];for(const Ne of Te){if(Q.overscaledZ+Ne<ge)continue;const De=we(Q.calculateScaledKey(Q.overscaledZ+Ne));if(De)return De}},D=[0,0,0],$=(Q,ge)=>(D[0]=Math.min(Q.min.y,ge.min.y),D[1]=Math.max(Q.max.y,ge.max.y),D[2]=o.EXTENT-ge.min.x>Q.max.x?ge.min.x-o.EXTENT:Q.max.x,D),j=(Q,ge)=>(D[0]=Math.min(Q.min.x,ge.min.x),D[1]=Math.max(Q.max.x,ge.max.x),D[2]=o.EXTENT-ge.min.y>Q.max.y?ge.min.y-o.EXTENT:Q.max.y,D),J=[(Q,ge)=>$(Q,ge),(Q,ge)=>$(ge,Q),(Q,ge)=>j(Q,ge),(Q,ge)=>j(ge,Q)],ae=new o.Point(0,0);let ue,me,pe;const ve=(Q,ge,we,Te,Ne)=>{const De=[[Te?we:Q,Te?Q:we,0],[Te?we:ge,Te?ge:we,0]],$e=Ne<0?o.EXTENT+Ne:Ne,Je=[Te?$e:(Q+ge)/2,Te?(Q+ge)/2:$e,0];return we===0&&Ne<0||we!==0&&Ne>0?w.getForTilePoints(pe,[Je],!0,me):De.push(Je),w.getForTilePoints(f,De,!0,ue),Math.max(De[0][2],De[1][2],Je[2])/w.exaggeration()};for(let Q=0;Q<4;Q++){const ge=(Q<2?1:5)-Q,we=y.borders[Q];if(we.length===0)continue;const Te=pe=P[Q](f),Ne=I(Te);if(!(Ne&&Ne instanceof o.FillExtrusionBucket&&Ne.enableTerrain)||y.borderDoneWithNeighborZ[Q]===Ne.canonical.z&&Ne.borderDoneWithNeighborZ[ge]===y.canonical.z||(me=w.findDEMTileFor(Te),!me||!me.dem))continue;if(!ue){const Ke=w.findDEMTileFor(f);if(!Ke||!Ke.dem)return;ue=Ke}const De=Ne.borders[ge];let $e=0;const Je=Ne.borderDoneWithNeighborZ[ge]!==y.canonical.z;if(y.canonical.z===Ne.canonical.z){for(let Ke=0;Ke<we.length;Ke++){const st=y.featuresOnBorder[we[Ke]],Ot=st.borders[Q];let it;for(;$e<De.length&&(it=Ne.featuresOnBorder[De[$e]],!(it.borders[ge][1]>Ot[0]+3));)Je&&Ne.encodeCentroid(void 0,it,!1),$e++;if(it&&$e<De.length){const St=$e;let gt=0;for(;!(it.borders[ge][0]>Ot[1]-3)&&(gt++,++$e!==De.length);)it=Ne.featuresOnBorder[De[$e]];if(it=Ne.featuresOnBorder[De[St]],st.intersectsCount()>1||it.intersectsCount()>1||gt!==1){gt!==1&&($e=St),y.encodeCentroid(void 0,st,!1),Je&&Ne.encodeCentroid(void 0,it,!1);continue}const tn=J[Q](st,it),mt=Q%2?o.EXTENT-1:0;ae.x=ve(tn[0],Math.min(o.EXTENT-1,tn[1]),mt,Q<2,tn[2]),ae.y=0,y.encodeCentroid(ae,st,!1),Je&&Ne.encodeCentroid(ae,it,!1)}else y.encodeCentroid(void 0,st,!1)}y.borderDoneWithNeighborZ[Q]=Ne.canonical.z,y.needsCentroidUpdate=!0,Je&&(Ne.borderDoneWithNeighborZ[ge]=y.canonical.z,Ne.needsCentroidUpdate=!0)}else{for(const Ke of we)y.encodeCentroid(void 0,y.featuresOnBorder[Ke],!1);if(Je){for(const Ke of De)Ne.encodeCentroid(void 0,Ne.featuresOnBorder[Ke],!1);Ne.borderDoneWithNeighborZ[ge]=y.canonical.z,Ne.needsCentroidUpdate=!0}y.borderDoneWithNeighborZ[Q]=Ne.canonical.z,y.needsCentroidUpdate=!0}}(y.needsCentroidUpdate||!y.centroidVertexBuffer&&y.centroidVertexArray.length!==0)&&y.uploadCentroid(m)}const ml=new o.Color(1,0,0,1),rh=new o.Color(0,1,0,1),gl=new o.Color(0,0,1,1),_s=new o.Color(1,0,1,1),Wd=new o.Color(0,1,1,1);function ih(m,l,f){const y=m.context,x=m.transform,w=y.gl,P=x.projection.name==="globe",I=P?["PROJECTION_GLOBE_VIEW"]:null;let D=f.projMatrix;if(P&&o.globeToMercatorTransition(x.zoom)>0){const st=o.transitionTileAABBinECEF(f.canonical,x),Ot=o.globeDenormalizeECEF(st);D=o.multiply(new Float32Array(16),x.globeMatrix,Ot),o.multiply(D,x.projMatrix,D)}const $=m.useProgram("debug",null,I),j=l.getTileByID(f.key);m.terrain&&m.terrain.setupElevationDraw(j,$);const J=o.DepthMode.disabled,ae=o.StencilMode.disabled,ue=m.colorModeForRenderPass(),me="$debug";y.activeTexture.set(w.TEXTURE0),m.emptyTexture.bind(w.LINEAR,w.CLAMP_TO_EDGE),P?j._makeGlobeTileDebugBuffers(m.context,x):j._makeDebugTileBoundsBuffers(m.context,x.projection);const pe=j._tileDebugBuffer||m.debugBuffer,ve=j._tileDebugIndexBuffer||m.debugIndexBuffer,Q=j._tileDebugSegments||m.debugSegments;$.draw(y,w.LINE_STRIP,J,ae,ue,o.CullFaceMode.disabled,_u(D,o.Color.red),me,pe,ve,Q,null,null,null,[j._globeTileDebugBorderBuffer]);const ge=j.latestRawTileData,we=Math.floor((ge&&ge.byteLength||0)/1024),Te=l.getTile(f).tileSize,Ne=512/Math.min(Te,512)*(f.overscaledZ/x.zoom)*.5;let De=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(De+=` => ${f.overscaledZ}`),De+=` ${we}kb`,function(st,Ot){st.initDebugOverlayCanvas();const it=st.debugOverlayCanvas,St=st.context.gl,gt=st.debugOverlayCanvas.getContext("2d");gt.clearRect(0,0,it.width,it.height),gt.shadowColor="white",gt.shadowBlur=2,gt.lineWidth=1.5,gt.strokeStyle="white",gt.textBaseline="top",gt.font="bold 36px Open Sans, sans-serif",gt.fillText(Ot,5,5),gt.strokeText(Ot,5,5),st.debugOverlayTexture.update(it),st.debugOverlayTexture.bind(St.LINEAR,St.CLAMP_TO_EDGE)}(m,De);const $e=j._tileDebugTextBuffer||m.debugBuffer,Je=j._tileDebugTextIndexBuffer||m.quadTriangleIndexBuffer,Ke=j._tileDebugTextSegments||m.debugSegments;$.draw(y,w.TRIANGLES,J,ae,o.ColorMode.alphaBlended,o.CullFaceMode.disabled,_u(D,o.Color.transparent,Ne),me,$e,Je,Ke,null,null,null,[j._globeTileDebugTextBuffer])}function fd(m,l,f,y){yl(m,0,l+f/2,m.transform.width,f,y)}function wc(m,l,f,y){yl(m,l-f/2,0,f,m.transform.height,y)}function yl(m,l,f,y,x,w){const P=m.context,I=P.gl;I.enable(I.SCISSOR_TEST),I.scissor(l*o.exported.devicePixelRatio,f*o.exported.devicePixelRatio,y*o.exported.devicePixelRatio,x*o.exported.devicePixelRatio),P.clear({color:w}),I.disable(I.SCISSOR_TEST)}const hd=o.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Bs}=hd;function qa(m,l,f,y){m.emplaceBack(l,f,y)}class Tu{constructor(l){this.vertexArray=new o.StructArrayLayout3f12,this.indices=new o.StructArrayLayout3ui6,qa(this.vertexArray,-1,-1,1),qa(this.vertexArray,1,-1,1),qa(this.vertexArray,-1,1,1),qa(this.vertexArray,1,1,1),qa(this.vertexArray,-1,-1,-1),qa(this.vertexArray,1,-1,-1),qa(this.vertexArray,-1,1,-1),qa(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=l.createVertexBuffer(this.vertexArray,Bs),this.indexBuffer=l.createIndexBuffer(this.indices),this.segment=o.SegmentVector.simpleSegment(0,0,36,12)}}function Qo(m,l,f,y,x,w){const P=m.gl,I=l.paint.get("sky-atmosphere-color"),D=l.paint.get("sky-atmosphere-halo-color"),$=l.paint.get("sky-atmosphere-sun-intensity"),j=((J,ae,ue,me,pe)=>({u_matrix_3f:J,u_sun_direction:ae,u_sun_intensity:ue,u_color_tint_r:[me.r,me.g,me.b,me.a],u_color_tint_m:[pe.r,pe.g,pe.b,pe.a],u_luminance:5e-5}))(o.fromMat4(o.create$1(),y),x,$,I,D);P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+w,l.skyboxTexture,0),f.draw(m,P.TRIANGLES,o.DepthMode.disabled,o.StencilMode.disabled,o.ColorMode.unblended,o.CullFaceMode.frontCW,j,"skyboxCapture",l.skyboxGeometry.vertexBuffer,l.skyboxGeometry.indexBuffer,l.skyboxGeometry.segment)}const Xl=o.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Zd{constructor(l){const f=new o.StructArrayLayout5f20;f.emplaceBack(-1,1,1,0,0),f.emplaceBack(1,1,1,1,0),f.emplaceBack(1,-1,1,1,1),f.emplaceBack(-1,-1,1,0,1);const y=new o.StructArrayLayout3ui6;y.emplaceBack(0,1,2),y.emplaceBack(2,3,0),this.vertexBuffer=l.createVertexBuffer(f,Xl.members),this.indexBuffer=l.createIndexBuffer(y),this.segments=o.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const vl={symbol:function(m,l,f,y,x){if(m.renderPass!=="translucent")return;const w=o.StencilMode.disabled,P=m.colorModeForRenderPass();f.layout.get("text-variable-anchor")&&function(I,D,$,j,J,ae,ue){const me=D.transform,pe=J==="map",ve=ae==="map";for(const Q of I){const ge=j.getTile(Q),we=ge.getBucket($);if(!we||!we.text||!we.text.segments.get().length)continue;const Te=o.evaluateSizeForZoom(we.textSizeData,me.zoom),Ne=Hr(Q,we.getProjection(),me),De=me.calculatePixelsToTileUnitsMatrix(ge),$e=vt(Ne,ge.tileID.canonical,ve,pe,me,we.getProjection(),De),Je=$.layout.get("icon-text-fit")!=="none"&&we.hasIconData();if(Te){const Ke=Math.pow(2,me.zoom-ge.tileID.overscaledZ);nh(we,pe,ve,ue,o.symbolSize,me,$e,Q,Ke,Te,Je)}}}(y,m,f,l,f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),x),f.paint.get("icon-opacity").constantOr(1)!==0&&Cu(m,l,f,y,!1,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),f.layout.get("icon-rotation-alignment"),f.layout.get("icon-pitch-alignment"),f.layout.get("icon-keep-upright"),w,P),f.paint.get("text-opacity").constantOr(1)!==0&&Cu(m,l,f,y,!0,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),f.layout.get("text-rotation-alignment"),f.layout.get("text-pitch-alignment"),f.layout.get("text-keep-upright"),w,P),l.map.showCollisionBoxes&&(pl(m,l,f,y,f.paint.get("text-translate"),f.paint.get("text-translate-anchor"),!0),pl(m,l,f,y,f.paint.get("icon-translate"),f.paint.get("icon-translate-anchor"),!1))},circle:function(m,l,f,y){if(m.renderPass!=="translucent")return;const x=f.paint.get("circle-opacity"),w=f.paint.get("circle-stroke-width"),P=f.paint.get("circle-stroke-opacity"),I=f.layout.get("circle-sort-key").constantOr(1)!==void 0;if(x.constantOr(1)===0&&(w.constantOr(1)===0||P.constantOr(1)===0))return;const D=m.context,$=D.gl,j=m.transform,J=m.depthModeForSublayer(0,o.DepthMode.ReadOnly),ae=o.StencilMode.disabled,ue=m.colorModeForRenderPass(),me=j.projection.name==="globe",pe=[o.mercatorXfromLng(j.center.lng),o.mercatorYfromLat(j.center.lat)],ve=[];for(let ge=0;ge<y.length;ge++){const we=y[ge],Te=l.getTile(we),Ne=Te.getBucket(f);if(!Ne||Ne.projection.name!==j.projection.name)continue;const De=Ne.programConfigurations.get(f.id),$e=yu(f);me&&$e.push("PROJECTION_GLOBE_VIEW");const Je=m.useProgram("circle",De,$e),Ke=Ne.layoutVertexBuffer,st=Ne.globeExtVertexBuffer,Ot=Ne.indexBuffer,it=j.projection.createInversionMatrix(j,we.canonical),St={programConfiguration:De,program:Je,layoutVertexBuffer:Ke,globeExtVertexBuffer:st,indexBuffer:Ot,uniformValues:yc(m,we,Te,it,pe,f),tile:Te};if(I){const gt=Ne.segments.get();for(const tn of gt)ve.push({segments:new o.SegmentVector([tn]),sortKey:tn.sortKey,state:St})}else ve.push({segments:Ne.segments,sortKey:0,state:St})}I&&ve.sort((ge,we)=>ge.sortKey-we.sortKey);const Q={useDepthForOcclusion:!me};for(const ge of ve){const{programConfiguration:we,program:Te,layoutVertexBuffer:Ne,globeExtVertexBuffer:De,indexBuffer:$e,uniformValues:Je,tile:Ke}=ge.state,st=ge.segments;m.terrain&&m.terrain.setupElevationDraw(Ke,Te,Q),m.prepareDrawProgram(D,Te,Ke.tileID.toUnwrapped()),Te.draw(D,$.TRIANGLES,J,ae,ue,o.CullFaceMode.disabled,Je,f.id,Ne,$e,st,f.paint,j.zoom,we,[De])}},heatmap:function(m,l,f,y){if(f.paint.get("heatmap-opacity")!==0)if(m.renderPass==="offscreen"){const x=m.context,w=x.gl,P=o.StencilMode.disabled,I=new o.ColorMode([w.ONE,w.ONE],o.Color.transparent,[!0,!0,!0,!0]);(function(ue,me,pe,ve){const Q=ue.gl,ge=me.width*ve,we=me.height*ve;ue.activeTexture.set(Q.TEXTURE1),ue.viewport.set([0,0,ge,we]);let Te=pe.heatmapFbo;if(!Te||Te&&(Te.width!==ge||Te.height!==we)){Te&&Te.destroy();const Ne=Q.createTexture();Q.bindTexture(Q.TEXTURE_2D,Ne),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_S,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_WRAP_T,Q.CLAMP_TO_EDGE),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.LINEAR),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.LINEAR),Te=pe.heatmapFbo=ue.createFramebuffer(ge,we,!1),function(De,$e,Je,Ke,st,Ot){const it=De.gl;it.texImage2D(it.TEXTURE_2D,0,De.isWebGL2&&De.extRenderToTextureHalfFloat?it.RGBA16F:it.RGBA,st,Ot,0,it.RGBA,De.extRenderToTextureHalfFloat?De.isWebGL2?it.HALF_FLOAT:De.extTextureHalfFloat.HALF_FLOAT_OES:it.UNSIGNED_BYTE,null),Ke.colorAttachment.set(Je)}(ue,0,Ne,Te,ge,we)}else Q.bindTexture(Q.TEXTURE_2D,Te.colorAttachment.get()),ue.bindFramebuffer.set(Te.framebuffer)})(x,m,f,m.transform.projection.name==="globe"?.5:.25),x.clear({color:o.Color.transparent});const D=m.transform,$=D.projection.name==="globe",j=$?["PROJECTION_GLOBE_VIEW"]:null,J=$?o.CullFaceMode.frontCCW:o.CullFaceMode.disabled,ae=[o.mercatorXfromLng(D.center.lng),o.mercatorYfromLat(D.center.lat)];for(let ue=0;ue<y.length;ue++){const me=y[ue];if(l.hasRenderableParent(me))continue;const pe=l.getTile(me),ve=pe.getBucket(f);if(!ve||ve.projection.name!==D.projection.name)continue;const Q=ve.programConfigurations.get(f.id),ge=m.useProgram("heatmap",Q,j),{zoom:we}=m.transform;m.terrain&&m.terrain.setupElevationDraw(pe,ge),m.prepareDrawProgram(x,ge,me.toUnwrapped());const Te=D.projection.createInversionMatrix(D,me.canonical);ge.draw(x,w.TRIANGLES,o.DepthMode.disabled,P,I,J,fl(m,me,pe,Te,ae,we,f.paint.get("heatmap-intensity")),f.id,ve.layoutVertexBuffer,ve.indexBuffer,ve.segments,f.paint,m.transform.zoom,Q,$?[ve.globeExtVertexBuffer]:null)}x.viewport.set([0,0,m.width,m.height])}else m.renderPass==="translucent"&&(m.context.setColorMode(m.colorModeForRenderPass()),function(x,w){const P=x.context,I=P.gl,D=w.heatmapFbo;if(!D)return;P.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,D.colorAttachment.get()),P.activeTexture.set(I.TEXTURE1);let $=w.colorRampTexture;$||($=w.colorRampTexture=new o.Texture(P,w.colorRamp,I.RGBA)),$.bind(I.LINEAR,I.CLAMP_TO_EDGE),x.useProgram("heatmapTexture").draw(P,I.TRIANGLES,o.DepthMode.disabled,o.StencilMode.disabled,x.colorModeForRenderPass(),o.CullFaceMode.disabled,((j,J,ae,ue)=>({u_image:0,u_color_ramp:1,u_opacity:J.paint.get("heatmap-opacity")}))(0,w),w.id,x.viewportBuffer,x.quadTriangleIndexBuffer,x.viewportSegments,w.paint,x.transform.zoom)}(m,f))},line:function(m,l,f,y){if(m.renderPass!=="translucent")return;const x=f.paint.get("line-opacity"),w=f.paint.get("line-width");if(x.constantOr(1)===0||w.constantOr(1)===0)return;const P=m.depthModeForSublayer(0,o.DepthMode.ReadOnly),I=m.colorModeForRenderPass(),D=m.terrain&&m.terrain.renderingToTexture?1:o.exported.devicePixelRatio,$=f.paint.get("line-dasharray"),j=$.constantOr(1),J=f.layout.get("line-cap"),ae=f.paint.get("line-pattern"),ue=ae.constantOr(1),me=f.paint.get("line-gradient"),pe=ue?"linePattern":"line",ve=m.context,Q=ve.gl,ge=(Te=>{const Ne=[];Ns(Te)&&Ne.push("RENDER_LINE_DASH"),Te.paint.get("line-gradient")&&Ne.push("RENDER_LINE_GRADIENT");const De=Te.paint.get("line-trim-offset");De[0]===0&&De[1]===0||Ne.push("RENDER_LINE_TRIM_OFFSET");const $e=Te.paint.get("line-pattern").constantOr(1),Je=Te.paint.get("line-opacity").constantOr(1)!==1;return!$e&&Je&&Ne.push("RENDER_LINE_ALPHA_DISCARD"),Ne})(f);let we=ge.includes("RENDER_LINE_ALPHA_DISCARD");m.terrain&&m.terrain.clipOrMaskOverlapStencilType()&&(we=!1);for(const Te of y){const Ne=l.getTile(Te);if(ue&&!Ne.patternsLoaded())continue;const De=Ne.getBucket(f);if(!De)continue;m.prepareDrawTile();const $e=De.programConfigurations.get(f.id),Je=m.useProgram(pe,$e,ge),Ke=ae.constantOr(null);if(Ke&&Ne.imageAtlas){const Dt=Ne.imageAtlas.patternPositions[Ke.toString()];Dt&&$e.setConstantPatternPositions(Dt)}const st=$.constantOr(null),Ot=J.constantOr(null);if(!ue&&st&&Ot&&Ne.lineAtlas){const Dt=Ne.lineAtlas.getDash(st,Ot);Dt&&$e.setConstantPatternPositions(Dt)}let[it,St]=f.paint.get("line-trim-offset");(Ot==="round"||Ot==="square")&&it!==St&&(it===0&&(it-=1),St===1&&(St+=1));const gt=m.terrain?Te.projMatrix:null,tn=ue?vc(m,Ne,f,gt,D):eh(m,Ne,f,gt,De.lineClipsArray.length,D,[it,St]);if(me){const Dt=De.gradients[f.id];let an=Dt.texture;if(f.gradientVersion!==Dt.version){let Yt=256;if(f.stepInterpolant){const hn=l.getSource().maxzoom,tr=Te.canonical.z===hn?Math.ceil(1<<m.transform.maxZoom-Te.canonical.z):1;Yt=o.clamp(o.nextPowerOfTwo(De.maxLineLength/o.EXTENT*1024*tr),256,ve.maxTextureSize)}Dt.gradient=o.renderColorRamp({expression:f.gradientExpression(),evaluationKey:"lineProgress",resolution:Yt,image:Dt.gradient||void 0,clips:De.lineClipsArray}),Dt.texture?Dt.texture.update(Dt.gradient):Dt.texture=new o.Texture(ve,Dt.gradient,Q.RGBA),Dt.version=f.gradientVersion,an=Dt.texture}ve.activeTexture.set(Q.TEXTURE1),an.bind(f.stepInterpolant?Q.NEAREST:Q.LINEAR,Q.CLAMP_TO_EDGE)}j&&(ve.activeTexture.set(Q.TEXTURE0),Ne.lineAtlasTexture.bind(Q.LINEAR,Q.REPEAT),$e.updatePaintBuffers()),ue&&(ve.activeTexture.set(Q.TEXTURE0),Ne.imageAtlasTexture.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),$e.updatePaintBuffers()),m.prepareDrawProgram(ve,Je,Te.toUnwrapped());const mt=Dt=>{Je.draw(ve,Q.TRIANGLES,P,Dt,I,o.CullFaceMode.disabled,tn,f.id,De.layoutVertexBuffer,De.indexBuffer,De.segments,f.paint,m.transform.zoom,$e,[De.layoutVertexBuffer2])};if(we){const Dt=m.stencilModeForClipping(Te).ref;Dt===0&&m.terrain&&ve.clear({stencil:0});const an={func:Q.EQUAL,mask:255};tn.u_alpha_discard_threshold=.8,mt(new o.StencilMode(an,Dt,255,Q.KEEP,Q.KEEP,Q.INVERT)),tn.u_alpha_discard_threshold=0,mt(new o.StencilMode(an,Dt,255,Q.KEEP,Q.KEEP,Q.KEEP))}else mt(m.stencilModeForClipping(Te))}we&&(m.resetStencilClippingMasks(),m.terrain&&ve.clear({stencil:0}))},fill:function(m,l,f,y){const x=f.paint.get("fill-color"),w=f.paint.get("fill-opacity");if(w.constantOr(1)===0)return;const P=m.colorModeForRenderPass(),I=f.paint.get("fill-pattern"),D=m.opaquePassEnabledForLayer()&&!I.constantOr(1)&&x.constantOr(o.Color.transparent).a===1&&w.constantOr(0)===1?"opaque":"translucent";if(m.renderPass===D){const $=m.depthModeForSublayer(1,m.renderPass==="opaque"?o.DepthMode.ReadWrite:o.DepthMode.ReadOnly);dd(m,l,f,y,$,P,!1)}if(m.renderPass==="translucent"&&f.paint.get("fill-antialias")){const $=m.depthModeForSublayer(f.getPaintProperty("fill-outline-color")?2:0,o.DepthMode.ReadOnly);dd(m,l,f,y,$,P,!0)}},"fill-extrusion":function(m,l,f,y){const x=f.paint.get("fill-extrusion-opacity");if(x!==0&&m.renderPass==="translucent"){const w=new o.DepthMode(m.context.gl.LEQUAL,o.DepthMode.ReadWrite,m.depthRangeFor3D);if(x!==1||f.paint.get("fill-extrusion-pattern").constantOr(1))bc(m,l,f,y,w,o.StencilMode.disabled,o.ColorMode.disabled),bc(m,l,f,y,w,m.stencilModeFor3D(),m.colorModeForRenderPass()),m.resetStencilClippingMasks();else{const P=m.colorModeForRenderPass();bc(m,l,f,y,w,o.StencilMode.disabled,P)}}},hillshade:function(m,l,f,y){if(m.renderPass!=="offscreen"&&m.renderPass!=="translucent")return;const x=m.context,w=m.depthModeForSublayer(0,o.DepthMode.ReadOnly),P=m.colorModeForRenderPass(),I=m.terrain&&m.terrain.renderingToTexture,[D,$]=m.renderPass!=="translucent"||I?[{},y]:m.stencilConfigForOverlap(y);for(const j of $){const J=l.getTile(j);if(J.needsHillshadePrepare&&m.renderPass==="offscreen")$t(m,J,f,w,o.StencilMode.disabled,P);else if(m.renderPass==="translucent"){const ae=I&&m.terrain?m.terrain.stencilModeForRTTOverlap(j):D[j.overscaledZ];Be(m,j,J,f,w,ae,P)}}x.viewport.set([0,0,m.width,m.height]),m.resetStencilClippingMasks()},raster:function(m,l,f,y,x,w){if(m.renderPass!=="translucent"||f.paint.get("raster-opacity")===0||!y.length)return;const P=m.context,I=P.gl,D=l.getSource(),$=m.useProgram("raster"),j=m.colorModeForRenderPass(),J=m.terrain&&m.terrain.renderingToTexture,[ae,ue]=D instanceof rr||J?[{},y]:m.stencilConfigForOverlap(y),me=ue[ue.length-1].overscaledZ,pe=!m.options.moving;for(const ve of ue){const Q=J?o.DepthMode.disabled:m.depthModeForSublayer(ve.overscaledZ-me,f.paint.get("raster-opacity")===1?o.DepthMode.ReadWrite:o.DepthMode.ReadOnly,I.LESS),ge=ve.toUnwrapped(),we=l.getTile(ve);if(J&&(!we||!we.hasData()))continue;const Te=J?ve.projMatrix:m.transform.calculateProjMatrix(ge,pe),Ne=m.terrain&&J?m.terrain.stencilModeForRTTOverlap(ve):ae[ve.overscaledZ],De=w?0:f.paint.get("raster-fade-duration");we.registerFadeDuration(De);const $e=l.findLoadedParent(ve,0),Je=$r(we,$e,l,m.transform,De);let Ke,st;m.terrain&&m.terrain.prepareDrawTile();const Ot=f.paint.get("raster-resampling")==="nearest"?I.NEAREST:I.LINEAR;P.activeTexture.set(I.TEXTURE0),we.texture.bind(Ot,I.CLAMP_TO_EDGE),P.activeTexture.set(I.TEXTURE1),$e?($e.texture.bind(Ot,I.CLAMP_TO_EDGE),Ke=Math.pow(2,$e.tileID.overscaledZ-we.tileID.overscaledZ),st=[we.tileID.canonical.x*Ke%1,we.tileID.canonical.y*Ke%1]):we.texture.bind(Ot,I.CLAMP_TO_EDGE),we.texture.useMipmap&&P.extTextureFilterAnisotropic&&m.transform.pitch>20&&I.texParameterf(I.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax);const it=bu(Te,st||[0,0],Ke||1,Je,f,D instanceof rr?D.perspectiveTransform:[0,0]);if(m.prepareDrawProgram(P,$,ge),D instanceof rr)D.boundsBuffer&&D.boundsSegments&&$.draw(P,I.TRIANGLES,Q,o.StencilMode.disabled,j,o.CullFaceMode.disabled,it,f.id,D.boundsBuffer,m.quadTriangleIndexBuffer,D.boundsSegments);else{const{tileBoundsBuffer:St,tileBoundsIndexBuffer:gt,tileBoundsSegments:tn}=m.getTileBoundsBuffers(we);$.draw(P,I.TRIANGLES,Q,Ne,j,o.CullFaceMode.disabled,it,f.id,St,gt,tn)}}m.resetStencilClippingMasks()},background:function(m,l,f,y){const x=f.paint.get("background-color"),w=f.paint.get("background-opacity");if(w===0)return;const P=m.context,I=P.gl,D=m.transform,$=D.tileSize,j=f.paint.get("background-pattern");if(m.isPatternMissing(j))return;const J=!j&&x.a===1&&w===1&&m.opaquePassEnabledForLayer()?"opaque":"translucent";if(m.renderPass!==J)return;const ae=o.StencilMode.disabled,ue=m.depthModeForSublayer(0,J==="opaque"?o.DepthMode.ReadWrite:o.DepthMode.ReadOnly),me=m.colorModeForRenderPass(),pe=m.useProgram(j?"backgroundPattern":"background");let ve,Q=y;Q||(ve=m.getBackgroundTiles(),Q=Object.values(ve).map(ge=>ge.tileID)),j&&(P.activeTexture.set(I.TEXTURE0),m.imageManager.bind(m.context));for(const ge of Q){const we=ge.toUnwrapped(),Te=y?ge.projMatrix:m.transform.calculateProjMatrix(we);m.prepareDrawTile();const Ne=l?l.getTile(ge):ve?ve[ge.key]:new o.Tile(ge,$,D.zoom,m),De=j?th(Te,w,m,j,{tileID:ge,tileSize:$}):Jo(Te,w,x);m.prepareDrawProgram(P,pe,we);const{tileBoundsBuffer:$e,tileBoundsIndexBuffer:Je,tileBoundsSegments:Ke}=m.getTileBoundsBuffers(Ne);pe.draw(P,I.TRIANGLES,ue,ae,me,o.CullFaceMode.disabled,De,f.id,$e,Je,Ke)}},sky:function(m,l,f){const y=m.transform,x=y.projection.name==="mercator"||y.projection.name==="globe"?1:o.smoothstep(7,8,y.zoom),w=f.paint.get("sky-opacity")*x;if(w===0)return;const P=m.context,I=f.paint.get("sky-type"),D=new o.DepthMode(P.gl.LEQUAL,o.DepthMode.ReadOnly,[0,1]),$=m.frameCounter/1e3%1;I==="atmosphere"?m.renderPass==="offscreen"?f.needsSkyboxCapture(m)&&(function(j,J,ae,ue){const me=j.context,pe=me.gl;let ve=J.skyboxFbo;if(!ve){ve=J.skyboxFbo=me.createFramebuffer(32,32,!1),J.skyboxGeometry=new Tu(me),J.skyboxTexture=me.gl.createTexture(),pe.bindTexture(pe.TEXTURE_CUBE_MAP,J.skyboxTexture),pe.texParameteri(pe.TEXTURE_CUBE_MAP,pe.TEXTURE_WRAP_S,pe.CLAMP_TO_EDGE),pe.texParameteri(pe.TEXTURE_CUBE_MAP,pe.TEXTURE_WRAP_T,pe.CLAMP_TO_EDGE),pe.texParameteri(pe.TEXTURE_CUBE_MAP,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_CUBE_MAP,pe.TEXTURE_MAG_FILTER,pe.LINEAR);for(let Te=0;Te<6;++Te)pe.texImage2D(pe.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,pe.RGBA,32,32,0,pe.RGBA,pe.UNSIGNED_BYTE,null)}me.bindFramebuffer.set(ve.framebuffer),me.viewport.set([0,0,32,32]);const Q=J.getCenter(j,!0),ge=j.useProgram("skyboxCapture"),we=new Float64Array(16);o.identity(we),o.rotateY(we,we,.5*-Math.PI),Qo(me,J,ge,we,Q,0),o.identity(we),o.rotateY(we,we,.5*Math.PI),Qo(me,J,ge,we,Q,1),o.identity(we),o.rotateX(we,we,.5*-Math.PI),Qo(me,J,ge,we,Q,2),o.identity(we),o.rotateX(we,we,.5*Math.PI),Qo(me,J,ge,we,Q,3),o.identity(we),Qo(me,J,ge,we,Q,4),o.identity(we),o.rotateY(we,we,Math.PI),Qo(me,J,ge,we,Q,5),me.viewport.set([0,0,j.width,j.height])}(m,f),f.markSkyboxValid(m)):m.renderPass==="sky"&&function(j,J,ae,ue,me){const pe=j.context,ve=pe.gl,Q=j.transform,ge=j.useProgram("skybox");pe.activeTexture.set(ve.TEXTURE0),ve.bindTexture(ve.TEXTURE_CUBE_MAP,J.skyboxTexture);const we=((Te,Ne,De,$e,Je)=>({u_matrix:Te,u_sun_direction:Ne,u_cubemap:0,u_opacity:$e,u_temporal_offset:Je}))(Q.skyboxMatrix,J.getCenter(j,!1),0,ue,me);j.prepareDrawProgram(pe,ge),ge.draw(pe,ve.TRIANGLES,ae,o.StencilMode.disabled,j.colorModeForRenderPass(),o.CullFaceMode.backCW,we,"skybox",J.skyboxGeometry.vertexBuffer,J.skyboxGeometry.indexBuffer,J.skyboxGeometry.segment)}(m,f,D,w,$):I==="gradient"&&m.renderPass==="sky"&&function(j,J,ae,ue,me){const pe=j.context,ve=pe.gl,Q=j.transform,ge=j.useProgram("skyboxGradient");J.skyboxGeometry||(J.skyboxGeometry=new Tu(pe)),pe.activeTexture.set(ve.TEXTURE0);let we=J.colorRampTexture;we||(we=J.colorRampTexture=new o.Texture(pe,J.colorRamp,ve.RGBA)),we.bind(ve.LINEAR,ve.CLAMP_TO_EDGE);const Te=((Ne,De,$e,Je,Ke)=>({u_matrix:Ne,u_color_ramp:0,u_center_direction:De,u_radius:o.degToRad($e),u_opacity:Je,u_temporal_offset:Ke}))(Q.skyboxMatrix,J.getCenter(j,!1),J.paint.get("sky-gradient-radius"),ue,me);j.prepareDrawProgram(pe,ge),ge.draw(pe,ve.TRIANGLES,ae,o.StencilMode.disabled,j.colorModeForRenderPass(),o.CullFaceMode.backCW,Te,"skyboxGradient",J.skyboxGeometry.vertexBuffer,J.skyboxGeometry.indexBuffer,J.skyboxGeometry.segment)}(m,f,D,w,$)},debug:function(m,l,f){for(let y=0;y<f.length;y++)ih(m,l,f[y])},custom:function(m,l,f,y){const x=m.context,w=f.implementation;if(!m.transform.projection.unsupportedLayers||!m.transform.projection.unsupportedLayers.includes("custom")||m.terrain&&(m.terrain.renderingToTexture||m.renderPass==="offscreen")&&f.isLayerDraped()){if(m.renderPass==="offscreen"){const P=w.prerender;if(P){if(m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),m.transform.projection.name==="globe"){const I=m.transform.pointMerc;P.call(w,x.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),o.globeToMercatorTransition(m.transform.zoom),[I.x,I.y],m.transform.pixelsPerMeterRatio)}else P.call(w,x.gl,m.transform.customLayerMatrix());x.setDirty(),m.setBaseState()}}else if(m.renderPass==="translucent"){if(m.terrain&&m.terrain.renderingToTexture){const I=w.renderToTile;if(I){const D=y[0].canonical,$=new o.MercatorCoordinate(D.x+y[0].wrap*(1<<D.z),D.y,D.z);x.setDepthMode(o.DepthMode.disabled),x.setStencilMode(o.StencilMode.disabled),x.setColorMode(m.colorModeForRenderPass()),m.setCustomLayerDefaults(),I.call(w,x.gl,$),x.setDirty(),m.setBaseState()}return}m.setCustomLayerDefaults(),x.setColorMode(m.colorModeForRenderPass()),x.setStencilMode(o.StencilMode.disabled);const P=w.renderingMode==="3d"?new o.DepthMode(m.context.gl.LEQUAL,o.DepthMode.ReadWrite,m.depthRangeFor3D):m.depthModeForSublayer(0,o.DepthMode.ReadOnly);if(x.setDepthMode(P),m.transform.projection.name==="globe"){const I=m.transform.pointMerc;w.render(x.gl,m.transform.customLayerMatrix(),m.transform.getProjection(),m.transform.globeToMercatorMatrix(),o.globeToMercatorTransition(m.transform.zoom),[I.x,I.y],m.transform.pixelsPerMeterRatio)}else w.render(x.gl,m.transform.customLayerMatrix());x.setDirty(),m.setBaseState(),x.bindFramebuffer.set(null)}}else o.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class _l{constructor(l,f,y=!1){this.context=new Ht(l,y),this.transform=f,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=o.SourceCache.maxUnderzooming+o.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(l,f){const y=!!l&&!!l.terrain&&this.transform.projection.supportsTerrain;if(!(y||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Oo(this,l));const x=this._terrain;this.transform.elevation=y?x:null,x.update(l,this.transform,f)}_updateFog(l){const f=l.fog;if(!f||this.transform.projection.name==="globe"||f.getOpacity(this.transform.pitch)<1||f.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[y,x]=f.getFovAdjustedRange(this.transform._fov);if(y>x)return void(this.transform.fogCullDistSq=null);const w=y+.78*(x-y);this.transform.fogCullDistSq=w*w}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(l,f){if(this.width=l*o.exported.devicePixelRatio,this.height=f*o.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const y of this.style.order)this.style._layers[y].resize()}setup(){const l=this.context,f=new o.StructArrayLayout2i4;f.emplaceBack(0,0),f.emplaceBack(o.EXTENT,0),f.emplaceBack(0,o.EXTENT),f.emplaceBack(o.EXTENT,o.EXTENT),this.tileExtentBuffer=l.createVertexBuffer(f,o.posAttributes.members),this.tileExtentSegments=o.SegmentVector.simpleSegment(0,0,4,2);const y=new o.StructArrayLayout2i4;y.emplaceBack(0,0),y.emplaceBack(o.EXTENT,0),y.emplaceBack(0,o.EXTENT),y.emplaceBack(o.EXTENT,o.EXTENT),this.debugBuffer=l.createVertexBuffer(y,o.posAttributes.members),this.debugSegments=o.SegmentVector.simpleSegment(0,0,4,5);const x=new o.StructArrayLayout2i4;x.emplaceBack(-1,-1),x.emplaceBack(1,-1),x.emplaceBack(-1,1),x.emplaceBack(1,1),this.viewportBuffer=l.createVertexBuffer(x,o.posAttributes.members),this.viewportSegments=o.SegmentVector.simpleSegment(0,0,4,2);const w=new o.StructArrayLayout4i8;w.emplaceBack(0,0,0,0),w.emplaceBack(o.EXTENT,0,o.EXTENT,0),w.emplaceBack(0,o.EXTENT,0,o.EXTENT),w.emplaceBack(o.EXTENT,o.EXTENT,o.EXTENT,o.EXTENT),this.mercatorBoundsBuffer=l.createVertexBuffer(w,o.boundsAttributes.members),this.mercatorBoundsSegments=o.SegmentVector.simpleSegment(0,0,4,2);const P=new o.StructArrayLayout3ui6;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=l.createIndexBuffer(P);const I=new o.StructArrayLayout1ui2;for(const $ of[0,1,3,2,0])I.emplaceBack($);this.debugIndexBuffer=l.createIndexBuffer(I),this.emptyTexture=new o.Texture(l,new o.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),l.gl.RGBA),this.identityMat=o.create();const D=this.context.gl;this.stencilClearMode=new o.StencilMode({func:D.ALWAYS,mask:0},0,255,D.ZERO,D.ZERO,D.ZERO),this.loadTimeStamps.push(o.window.performance.now()),this.atmosphereBuffer=new Zd(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(l){return l._makeTileBoundsBuffers(this.context,this.transform.projection),l._tileBoundsBuffer?{tileBoundsBuffer:l._tileBoundsBuffer,tileBoundsIndexBuffer:l._tileBoundsIndexBuffer,tileBoundsSegments:l._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const l=this.context,f=l.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(l,f.TRIANGLES,o.DepthMode.disabled,this.stencilClearMode,o.ColorMode.disabled,o.CullFaceMode.disabled,Gr(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(l,f,y){if(!f||this.currentStencilSource===f.id||!l.isTileClipped()||!y||y.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let I=!1;for(const D of y)if(this._tileClippingMaskIDs[D.key]===void 0){I=!0;break}if(!I)return}this.currentStencilSource=f.id;const x=this.context,w=x.gl;this.nextStencilID+y.length>256&&this.clearStencil(),x.setColorMode(o.ColorMode.disabled),x.setDepthMode(o.DepthMode.disabled);const P=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const I of y){const D=f.getTile(I),$=this._tileClippingMaskIDs[I.key]=this.nextStencilID++,{tileBoundsBuffer:j,tileBoundsIndexBuffer:J,tileBoundsSegments:ae}=this.getTileBoundsBuffers(D);P.draw(x,w.TRIANGLES,o.DepthMode.disabled,new o.StencilMode({func:w.ALWAYS,mask:0},$,255,w.KEEP,w.KEEP,w.REPLACE),o.ColorMode.disabled,o.CullFaceMode.disabled,Gr(I.projMatrix),"$clipping",j,J,ae)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const l=this.nextStencilID++,f=this.context.gl;return new o.StencilMode({func:f.NOTEQUAL,mask:255},l,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(l){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(l);const f=this.context.gl;return new o.StencilMode({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[l.key],0,f.KEEP,f.KEEP,f.REPLACE)}stencilConfigForOverlap(l){const f=this.context.gl,y=l.sort((P,I)=>I.overscaledZ-P.overscaledZ),x=y[y.length-1].overscaledZ,w=y[0].overscaledZ-x+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();const P={};for(let I=0;I<w;I++)P[I+x]=new o.StencilMode({func:f.GEQUAL,mask:255},I+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=w,[P,y]}return[{[x]:o.StencilMode.disabled},y]}colorModeForRenderPass(){const l=this.context.gl;return this._showOverdrawInspector?new o.ColorMode([l.CONSTANT_COLOR,l.ONE],new o.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?o.ColorMode.unblended:o.ColorMode.alphaBlended}depthModeForSublayer(l,f,y){if(!this.opaquePassEnabledForLayer())return o.DepthMode.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+l)*this.depthEpsilon;return new o.DepthMode(y||this.context.gl.LEQUAL,f,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(l,f){this.style=l,this.options=f,this.imageManager=l.imageManager,this.glyphManager=l.glyphManager,this.symbolFadeChange=l.placement.symbolFadeChange(o.exported.now()),this.imageManager.beginFrame();const y=this.style.order,x=this.style._sourceCaches;for(const $ in x){const j=x[$];j.used&&j.prepare(this.context)}const w={},P={},I={};for(const $ in x){const j=x[$];w[$]=j.getVisibleCoordinates(),P[$]=w[$].slice().reverse(),I[$]=j.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let $=0;$<y.length;$++)if(this.style._layers[y[$]].is3D()){this.opaquePassCutoff=$;break}if(this.terrain&&(this.terrain.updateTileBinding(I),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new o.GlobeSharedBuffers(this.context)),!o.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const $ of y){const j=this.style._layers[$],J=l._getLayerSourceCache(j);if(!j.hasOffscreenPass()||j.isHidden(this.transform.zoom))continue;const ae=J?P[J.id]:void 0;(j.type==="custom"||j.isSky()||ae&&ae.length)&&this.renderLayer(this,J,j,ae)}this.depthRangeFor3D=[0,1-(l.order.length+2)*this.numSublayers*this.depthEpsilon];const D=this.terrain;if(D&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&D.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:f.showOverdrawInspector?o.Color.black:o.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=f.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=y.length-1;this.currentLayer>=0;this.currentLayer--){const $=this.style._layers[y[this.currentLayer]],j=l._getLayerSourceCache($);if($.isSky())continue;const J=j?P[j.id]:void 0;this._renderTileClippingMasks($,j,J),this.renderLayer(this,j,$,J)}if(this.style.fog&&this.transform.projection.supportsFog&&function($,j){const J=$.context,ae=J.gl,ue=$.transform,me=new o.DepthMode(ae.LEQUAL,o.DepthMode.ReadOnly,[0,1]),pe=$.useProgram("globeAtmosphere",null,ue.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),ve=o.globeToMercatorTransition(ue.zoom),Q=j.properties.get("color").toArray01(),ge=j.properties.get("high-color").toArray01(),we=j.properties.get("space-color").toArray01PremultipliedAlpha(),Te=o.identity$1([]);o.rotateY$1(Te,Te,-o.degToRad(ue._center.lng)),o.rotateX$1(Te,Te,o.degToRad(ue._center.lat)),o.rotateZ$1(Te,Te,ue.angle),o.rotateX$1(Te,Te,-ue._pitch);const Ne=o.fromQuat(new Float32Array(16),Te),De=o.mapValue(j.properties.get("star-intensity"),0,1,0,.25),$e=5e-4,Je=o.mapValue(j.properties.get("horizon-blend"),0,1,$e,.25),Ke=o.globeUseCustomAntiAliasing($,J,ue)&&Je===$e?ue.worldSize/(2*Math.PI*1.025)-1:ue.globeRadius,st=$.frameCounter/1e3%1,Ot=o.length(ue.globeCenterInViewSpace),it=Math.sqrt(Math.pow(Ot,2)-Math.pow(Ke,2)),St=Math.acos(it/Ot),gt=((mt,Dt,an,Yt,hn,tr,_r,Zn,cr,Lr,Mr,Qn,ei,Xr)=>({u_frustum_tl:mt,u_frustum_tr:Dt,u_frustum_br:an,u_frustum_bl:Yt,u_horizon:hn,u_transition:tr,u_fadeout_range:_r,u_color:Zn,u_high_color:cr,u_space_color:Lr,u_star_intensity:Mr,u_star_size:5*o.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:Qn,u_horizon_angle:ei,u_rotation_matrix:Xr}))(ue.frustumCorners.TL,ue.frustumCorners.TR,ue.frustumCorners.BR,ue.frustumCorners.BL,ue.frustumCorners.horizon,ve,Je,Q,ge,we,De,st,St,Ne);$.prepareDrawProgram(J,pe);const tn=$.atmosphereBuffer;tn&&pe.draw(J,ae.TRIANGLES,me,o.StencilMode.disabled,o.ColorMode.alphaBlended,o.CullFaceMode.backCW,gt,"skybox",tn.vertexBuffer,tn.indexBuffer,tn.segments)}(this,this.style.fog),this.renderPass="sky",(o.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<y.length;this.currentLayer++){const $=this.style._layers[y[this.currentLayer]],j=l._getLayerSourceCache($);$.isSky()&&this.renderLayer(this,j,$,j?P[j.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<y.length;){const $=this.style._layers[y[this.currentLayer]],j=l._getLayerSourceCache($);if($.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped($)){if($.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const J=j?($.type==="symbol"?I:P)[j.id]:void 0;this._renderTileClippingMasks($,j,j?w[j.id]:void 0),this.renderLayer(this,j,$,J),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let $=null;o.values(this.style._layers).forEach(j=>{const J=l._getLayerSourceCache(j);J&&!j.isHidden(this.transform.zoom)&&(!$||$.getSource().maxzoom<J.getSource().maxzoom)&&($=J)}),$&&this.options.showTileBoundaries&&vl.debug(this,$,$.getVisibleCoordinates())}this.options.showPadding&&function($){const j=$.transform.padding;fd($,$.transform.height-(j.top||0),3,ml),fd($,j.bottom||0,3,rh),wc($,j.left||0,3,gl),wc($,$.transform.width-(j.right||0),3,_s);const J=$.transform.centerPoint;(function(ae,ue,me,pe){yl(ae,ue-1,me-10,2,20,pe),yl(ae,ue-10,me-1,20,2,pe)})($,J.x,$.transform.height-J.y,Wd)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(o.window.performance.now()),this.saveCanvasCopy())}renderLayer(l,f,y,x){y.isHidden(this.transform.zoom)||(y.type==="background"||y.type==="sky"||y.type==="custom"||x&&x.length)&&(this.id=y.id,this.gpuTimingStart(y),(!l.transform.projection.unsupportedLayers||!l.transform.projection.unsupportedLayers.includes(y.type)||l.terrain&&y.type==="custom")&&vl[y.type](l,f,y,x,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(l){if(!this.options.gpuTiming)return;const f=this.context.extTimerQuery;let y=this.gpuTimers[l.id];y||(y=this.gpuTimers[l.id]={calls:0,cpuTime:0,query:f.createQueryEXT()}),y.calls++,f.beginQueryEXT(f.TIME_ELAPSED_EXT,y.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const l=this.context.extTimerQuery,f=l.createQueryEXT();this.deferredRenderGpuTimeQueries.push(f),l.beginQueryEXT(l.TIME_ELAPSED_EXT,f)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;l.endQueryEXT(l.TIME_ELAPSED_EXT)}collectGpuTimers(){const l=this.gpuTimers;return this.gpuTimers={},l}collectDeferredRenderGpuQueries(){const l=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],l}queryGpuTimers(l){const f={};for(const y in l){const x=l[y],w=this.context.extTimerQuery,P=w.getQueryObjectEXT(x.query,w.QUERY_RESULT_EXT)/1e6;w.deleteQueryEXT(x.query),f[y]=P}return f}queryGpuTimeDeferredRender(l){if(!this.options.gpuTimingDeferredRender)return 0;const f=this.context.extTimerQuery;let y=0;for(const x of l)y+=f.getQueryObjectEXT(x,f.QUERY_RESULT_EXT)/1e6,f.deleteQueryEXT(x);return y}translatePosMatrix(l,f,y,x,w){if(!y[0]&&!y[1])return l;const P=w?x==="map"?this.transform.angle:0:x==="viewport"?-this.transform.angle:0;if(P){const $=Math.sin(P),j=Math.cos(P);y=[y[0]*j-y[1]*$,y[0]*$+y[1]*j]}const I=[w?y[0]:sn(f,y[0],this.transform.zoom),w?y[1]:sn(f,y[1],this.transform.zoom),0],D=new Float32Array(16);return o.translate(D,l,I),D}saveTileTexture(l){const f=this._tileTextures[l.size[0]];f?f.push(l):this._tileTextures[l.size[0]]=[l]}getTileTexture(l){const f=this._tileTextures[l];return f&&f.length>0?f.pop():null}isPatternMissing(l){return l===null||l!==void 0&&!this.imageManager.getPattern(l.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const l=this.terrain&&this.terrain.renderingToTexture,f=this.terrain&&this.terrain.exaggeration()===0,y=this.style&&this.style.fog,x=[];return this.terrainRenderModeElevated()&&x.push("TERRAIN"),this.transform.projection.name==="globe"&&x.push("GLOBE"),f&&x.push("ZERO_EXAGGERATION"),y&&!l&&y.getOpacity(this.transform.pitch)!==0&&x.push("FOG"),l&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}useProgram(l,f,y){this.cache=this.cache||{};const x=y||[],w=this.currentGlobalDefines().concat(x),P=jr.cacheKey(ul[l],l,w,f);return this.cache[P]||(this.cache[P]=new jr(this.context,l,ul[l],f,cd[l],w)),this.cache[P]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const l=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(l.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=o.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new o.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(l,f,y){if(this.terrain&&this.terrain.renderingToTexture)return;const x=this.style.fog;if(x){const w=x.getOpacity(this.transform.pitch),P=((I,D,$,j,J,ae,ue,me,pe,ve,Q)=>{const ge=I.transform,we=D.properties.get("color").toArray01();we[3]=j;const Te=I.frameCounter/1e3%1;return{u_fog_matrix:$?ge.calculateFogTileMatrix($):I.identityMat,u_fog_range:D.getFovAdjustedRange(ge._fov),u_fog_color:we,u_fog_horizon_blend:D.properties.get("horizon-blend"),u_fog_temporal_offset:Te,u_frustum_tl:J,u_frustum_tr:ae,u_frustum_br:ue,u_frustum_bl:me,u_globe_pos:pe,u_globe_radius:ve,u_viewport:Q,u_globe_transition:o.globeToMercatorTransition(ge.zoom),u_is_globe:+(ge.projection.name==="globe")}})(this,x,y,w,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*o.exported.devicePixelRatio,this.transform.height*o.exported.devicePixelRatio]);f.setFogUniformValues(l,P)}}setTileLoadedFlag(l){this.tileLoaded=l}saveCanvasCopy(){const l=this.canvasCopy();l&&(this.frameCopies.push(l),this.tileLoaded=!1)}canvasCopy(){const l=this.context.gl,f=l.createTexture();return l.bindTexture(l.TEXTURE_2D,f),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,0,0,l.drawingBufferWidth,l.drawingBufferHeight,0),f}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const l=this.style&&this.style.fog;return!!l&&l.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const l=this._backgroundTiles,f=this._backgroundTiles={},y=this.transform.coveringTiles({tileSize:512});for(const x of y)f[x.key]=l[x.key]||new o.Tile(x,512,this.transform.tileZoom,this);return f}clearBackgroundTiles(){this._backgroundTiles={}}}class Au{constructor(l=0,f=0,y=0,x=0){if(isNaN(l)||l<0||isNaN(f)||f<0||isNaN(y)||y<0||isNaN(x)||x<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=l,this.bottom=f,this.left=y,this.right=x}interpolate(l,f,y){return f.top!=null&&l.top!=null&&(this.top=o.number(l.top,f.top,y)),f.bottom!=null&&l.bottom!=null&&(this.bottom=o.number(l.bottom,f.bottom,y)),f.left!=null&&l.left!=null&&(this.left=o.number(l.left,f.left,y)),f.right!=null&&l.right!=null&&(this.right=o.number(l.right,f.right,y)),this}getCenter(l,f){const y=o.clamp((this.left+l-this.right)/2,0,l),x=o.clamp((this.top+f-this.bottom)/2,0,f);return new o.Point(y,x)}equals(l){return this.top===l.top&&this.bottom===l.bottom&&this.left===l.left&&this.right===l.right}clone(){return new Au(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Pu(m,l){const f=o.getColumn(m,3);o.fromQuat(m,l),o.setColumn(m,3,f)}function Pr(m,l){const f=o.identity$1([]);return o.rotateZ$1(f,f,-l),o.rotateX$1(f,f,-m),f}function Ho(m,l){const f=[m[0],m[1],0],y=[l[0],l[1],0];if(o.length(f)>=1e-15){const P=o.normalize([],f);o.scale$2(y,P,o.dot(y,P)),l[0]=y[0],l[1]=y[1]}const x=o.cross([],l,m);if(o.len(x)<1e-15)return null;const w=Math.atan2(-x[1],x[0]);return Pr(Math.atan2(Math.sqrt(m[0]*m[0]+m[1]*m[1]),-m[2]),w)}class Ec{constructor(l,f){this.position=l,this.orientation=f}get position(){return this._position}set position(l){if(l){const f=l instanceof o.MercatorCoordinate?l:new o.MercatorCoordinate(l[0],l[1],l[2]);this._renderWorldCopies&&(f.x=o.wrap(f.x,0,1)),this._position=f}else this._position=null}lookAtPoint(l,f){if(this.orientation=null,!this.position)return;const y=this.position,x=this._elevation?this._elevation.getAtPointOrZero(o.MercatorCoordinate.fromLngLat(l)):0,w=o.MercatorCoordinate.fromLngLat(l,x),P=[w.x-y.x,w.y-y.y,w.z-y.z];f||(f=[0,0,1]),f[2]=Math.abs(f[2]),this.orientation=Ho(P,f)}setPitchBearing(l,f){this.orientation=Pr(o.degToRad(l),o.degToRad(-f))}}class ki{constructor(l,f){this._transform=o.identity([]),this.orientation=f,this.position=l}get mercatorPosition(){const l=this.position;return new o.MercatorCoordinate(l[0],l[1],l[2])}get position(){const l=o.getColumn(this._transform,3);return[l[0],l[1],l[2]]}set position(l){var f;l&&o.setColumn(this._transform,3,[(f=l)[0],f[1],f[2],1])}get orientation(){return this._orientation}set orientation(l){this._orientation=l||o.identity$1([]),l&&Pu(this._transform,this._orientation)}getPitchBearing(){const l=this.forward(),f=this.right();return{bearing:Math.atan2(-f[1],f[0]),pitch:Math.atan2(Math.sqrt(l[0]*l[0]+l[1]*l[1]),-l[2])}}setPitchBearing(l,f){this._orientation=Pr(l,f),Pu(this._transform,this._orientation)}forward(){const l=o.getColumn(this._transform,2);return[-l[0],-l[1],-l[2]]}up(){const l=o.getColumn(this._transform,1);return[-l[0],-l[1],-l[2]]}right(){const l=o.getColumn(this._transform,0);return[l[0],l[1],l[2]]}getCameraToWorld(l,f){const y=new Float64Array(16);return o.invert(y,this.getWorldToCamera(l,f)),y}getWorldToCameraPosition(l,f,y){const x=this.position;o.scale$2(x,x,-l);const w=new Float64Array(16);return o.fromScaling(w,[y,y,y]),o.translate(w,w,x),w[10]*=f,w}getWorldToCamera(l,f){const y=new Float64Array(16),x=new Float64Array(4),w=this.position;return o.conjugate(x,this._orientation),o.scale$2(w,w,-l),o.fromQuat(y,x),o.translate(y,y,w),y[1]*=-1,y[5]*=-1,y[9]*=-1,y[13]*=-1,y[8]*=f,y[9]*=f,y[10]*=f,y[11]*=f,y}getCameraToClipPerspective(l,f,y,x){const w=new Float64Array(16);return o.perspective(w,l,f,y,x),w}getDistanceToElevation(l,f=!1){const y=l===0?0:o.mercatorZfromAltitude(l,f?o.latFromMercatorY(this.position[1]):this.position[1]),x=this.forward();return(y-this.position[2])/x[2]}clone(){return new ki([...this.position],[...this.orientation])}}function Yl(m,l){const f=Iu(m.projection,m.zoom,m.width,m.height),y=function(w,P,I,D,$){const j=new o.LngLat(I.lng-180*xs,I.lat),J=new o.LngLat(I.lng+180*xs,I.lat),ae=w.project(j.lng,j.lat),ue=w.project(J.lng,J.lat),me=-Math.atan2(ue.y-ae.y,ue.x-ae.x),pe=o.MercatorCoordinate.fromLngLat(I);pe.y=o.clamp(pe.y,-1+xs,1-xs);const ve=pe.toLngLat(),Q=w.project(ve.lng,ve.lat),ge=o.MercatorCoordinate.fromLngLat(ve);ge.x+=xs;const we=ge.toLngLat(),Te=w.project(we.lng,we.lat),Ne=ku(Te.x-Q.x,Te.y-Q.y,me),De=o.MercatorCoordinate.fromLngLat(ve);De.y+=xs;const $e=De.toLngLat(),Je=w.project($e.lng,$e.lat),Ke=ku(Je.x-Q.x,Je.y-Q.y,me),st=Math.abs(Ne.x)/Math.abs(Ke.y),Ot=o.identity([]);o.rotateZ(Ot,Ot,-me*(1-($?0:D)));const it=o.identity([]);return o.scale(it,it,[1,1-(1-st)*D,1]),it[4]=-Ke.x/Ke.y*D,o.rotateZ(it,it,me),o.multiply(it,Ot,it),it}(m.projection,0,m.center,f,l),x=qd(m);return o.scale(y,y,[x,x,1]),y}function qd(m){const l=m.projection,f=Iu(m.projection,m.zoom,m.width,m.height),y=Kd(l,m.center),x=Kd(l,o.LngLat.convert(l.center));return Math.pow(2,y*f+(1-f)*x)}function Iu(m,l,f,y,x=1/0){const w=m.range;if(!w)return 0;const P=Math.min(x,Math.max(f,y)),I=Math.log(P/1024)/Math.LN2;return o.smoothstep(w[0]+I,w[1]+I,l)}const xs=1/4e4;function Kd(m,l){const f=o.clamp(l.lat,-o.MAX_MERCATOR_LATITUDE,o.MAX_MERCATOR_LATITUDE),y=new o.LngLat(l.lng-180*xs,f),x=new o.LngLat(l.lng+180*xs,f),w=m.project(y.lng,f),P=m.project(x.lng,f),I=o.MercatorCoordinate.fromLngLat(y),D=o.MercatorCoordinate.fromLngLat(x),$=P.x-w.x,j=P.y-w.y,J=D.x-I.x,ae=D.y-I.y,ue=Math.sqrt((J*J+ae*ae)/($*$+j*j));return Math.log(ue)/Math.LN2}function ku(m,l,f){const y=Math.cos(f),x=Math.sin(f);return{x:m*y-l*x,y:m*x+l*y}}class zs{constructor(l,f,y,x,w,P,I){this.tileSize=512,this._renderWorldCopies=w===void 0||w,this._minZoom=l||0,this._maxZoom=f||22,this._minPitch=y??0,this._maxPitch=x??60,this.setProjection(P),this.setMaxBounds(I),this.width=0,this.height=0,this._center=new o.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Au,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new ki,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const l=new zs(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return l._elevation=this._elevation,l._centerAltitude=this._centerAltitude,l._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,l.tileSize=this.tileSize,l.mercatorFromTransition=this.mercatorFromTransition,l.width=this.width,l.height=this.height,l.cameraElevationReference=this.cameraElevationReference,l._center=this._center,l._setZoom(this.zoom),l._seaLevelZoom=this._seaLevelZoom,l.angle=this.angle,l._fov=this._fov,l._pitch=this._pitch,l._nearZ=this._nearZ,l._farZ=this._farZ,l._averageElevation=this._averageElevation,l._unmodified=this._unmodified,l._edgeInsets=this._edgeInsets.clone(),l._camera=this._camera.clone(),l._calcMatrices(),l.freezeTileCoverage=this.freezeTileCoverage,l.frustumCorners=this.frustumCorners,l}get elevation(){return this._elevation}set elevation(l){this._elevation!==l&&(this._elevation=l,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(l,f=!1){const y=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||y)&&this._updateCameraOnTerrain(),(l||y)&&this._constrainCamera(f),this._calcMatrices()}getProjection(){return o.pick(this.projection,["name","center","parallels"])}setProjection(l){this.projectionOptions=l||{name:"mercator"};const f=this.projection?this.getProjection():void 0;this.projection=o.getProjection(this.projectionOptions);const y=!v(f,this.getProjection());return y&&this._calcMatrices(),this.mercatorFromTransition=!1,y}setMercatorFromTransition(){const l=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=o.getProjection({name:"mercator"});const f=l!==this.projection.name;return f&&this._calcMatrices(),f}get minZoom(){return this._minZoom}set minZoom(l){this._minZoom!==l&&(this._minZoom=l,this.zoom=Math.max(this.zoom,l))}get maxZoom(){return this._maxZoom}set maxZoom(l){this._maxZoom!==l&&(this._maxZoom=l,this.zoom=Math.min(this.zoom,l))}get minPitch(){return this._minPitch}set minPitch(l){this._minPitch!==l&&(this._minPitch=l,this.pitch=Math.max(this.pitch,l))}get maxPitch(){return this._maxPitch}set maxPitch(l){this._maxPitch!==l&&(this._maxPitch=l,this.pitch=Math.min(this.pitch,l))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(l){l===void 0?l=!0:l===null&&(l=!1),this._renderWorldCopies=l}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get cameraWorldSize(){const l=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(l))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return o.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.Point(this.width,this.height)}get bearing(){return o.wrap(this.rotation,-180,180)}set bearing(l){this.rotation=l}get rotation(){return-this.angle/Math.PI*180}set rotation(l){const f=-l*Math.PI/180;var y;this.angle!==f&&(this._unmodified=!1,this.angle=f,this._calcMatrices(),this.rotationMatrix=(y=new o.ARRAY_TYPE(4),o.ARRAY_TYPE!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y),function(x,w,P){var I=w[0],D=w[1],$=w[2],j=w[3],J=Math.sin(P),ae=Math.cos(P);x[0]=I*ae+$*J,x[1]=D*ae+j*J,x[2]=I*-J+$*ae,x[3]=D*-J+j*ae}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(l){const f=o.clamp(l,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==f&&(this._unmodified=!1,this._pitch=f,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const l=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/l)}set fov(l){l=Math.max(.01,Math.min(60,l)),this._fov!==l&&(this._unmodified=!1,this._fov=o.degToRad(l),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(l){this._averageElevation=l,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(l){const f=Math.min(Math.max(l,this.minZoom),this.maxZoom);this._zoom!==f&&(this._unmodified=!1,this._setZoom(f),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(l){this._zoom=l,this.scale=this.zoomScale(l),this.tileZoom=Math.floor(l),this.zoomFraction=l-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const l=this._elevation;this._centerAltitude=l.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=l.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const l=this._elevation,f=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],y=this.horizonLineFromTop();let x=0,w=0;for(let P=0;P<f.length;P++){const I=new o.Point(f[P][0]*this.width,y+f[P][1]*(this.height-y)),D=l.pointCoordinate(I);if(!D)continue;const $=1/Math.hypot(D[0]-this._camera.position[0],D[1]-this._camera.position[1]);x+=D[3]*$,w+=$}return w===0?NaN:x/w}get center(){return this._center}set center(l){l.lat===this._center.lat&&l.lng===this._center.lng||(this._unmodified=!1,this._center=l,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const l=this._seaLevelZoom,f=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),y=this.pixelsPerMeter/this.worldSize*f,x=this._mercatorZfromZoom(l),w=this._mercatorZfromZoom(this._maxZoom),P=Math.max(x-y,w);this._setZoom(this._zoomFromMercatorZ(P))}get padding(){return this._edgeInsets.toJSON()}set padding(l){this._edgeInsets.equals(l)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,l,1),this._calcMatrices())}computeZoomRelativeTo(l){const f=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,l.toAltitude()));let y;y=l.z<this._camera.position[2]?[f.x,f.y,f.z]:[l.x,l.y,l.z];const x=o.length(o.sub([],this._camera.position,y));return o.clamp(this._zoomFromMercatorZ(x),this._minZoom,this._maxZoom)}setFreeCameraOptions(l){if(!this.height||!l.position&&!l.orientation)return;this._updateCameraState();let f=!1;if(l.orientation&&!o.exactEquals(l.orientation,this._camera.orientation)&&(f=this._setCameraOrientation(l.orientation)),l.position){const y=[l.position.x,l.position.y,l.position.z];o.exactEquals$1(y,this._camera.position)||(this._setCameraPosition(y),f=!0)}f&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const l=this._camera.position,f=new Ec;return f.position=new o.MercatorCoordinate(l[0],l[1],l[2]),f.orientation=this._camera.orientation,f._elevation=this.elevation,f._renderWorldCopies=this.renderWorldCopies,f}_setCameraOrientation(l){if(!o.length$1(l))return!1;o.normalize$1(l,l);const f=o.transformQuat([],[0,0,-1],l),y=o.transformQuat([],[0,-1,0],l);if(y[2]<0)return!1;const x=Ho(f,y);return!!x&&(this._camera.orientation=x,!0)}_setCameraPosition(l){const f=this.zoomScale(this.minZoom)*this.tileSize,y=this.zoomScale(this.maxZoom)*this.tileSize,x=this.cameraToCenterDistance;l[2]=o.clamp(l[2],x/y,x/f),this._camera.position=l}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(l){return this._edgeInsets.equals(l)}interpolatePadding(l,f,y){this._unmodified=!1,this._edgeInsets.interpolate(l,f,y),this._constrain(),this._calcMatrices()}coveringZoomLevel(l){const f=(l.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/l.tileSize));return Math.max(0,f)}getVisibleUnwrappedCoordinates(l){const f=[new o.UnwrappedTileID(0,l)];if(this.renderWorldCopies){const y=this.pointCoordinate(new o.Point(0,0)),x=this.pointCoordinate(new o.Point(this.width,0)),w=this.pointCoordinate(new o.Point(this.width,this.height)),P=this.pointCoordinate(new o.Point(0,this.height)),I=Math.floor(Math.min(y.x,x.x,w.x,P.x)),D=Math.floor(Math.max(y.x,x.x,w.x,P.x)),$=1;for(let j=I-$;j<=D+$;j++)j!==0&&f.push(new o.UnwrappedTileID(j,l))}return f}coveringTiles(l){let f=this.coveringZoomLevel(l);const y=f,x=this.elevation&&!l.isTerrainDEM,w=this.projection.name==="mercator";if(l.minzoom!==void 0&&f<l.minzoom)return[];l.maxzoom!==void 0&&f>l.maxzoom&&(f=l.maxzoom);const P=this.locationCoordinate(this.center),I=this.center.lat,D=1<<f,$=[D*P.x,D*P.y,0],j=this.projection.name==="globe",J=!j,ae=o.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,f,J),ue=j?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),me=D*o.mercatorZfromAltitude(1,this.center.lat),pe=this._camera.position[2]/o.mercatorZfromAltitude(1,this.center.lat),ve=[D*ue.x,D*ue.y,pe*(J?1:me)],Q=this.cameraToCenterDistance/l.tileSize*(l.roundZoom?1:.502),ge=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?f:0,we=l.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Te=l.isTerrainDEM?-we:this._elevation?this._elevation.getMinElevationBelowMSL():0,Ne=this.projection.isReprojectedInTileSpace?qd(this):1,De=mt=>{const an=new o.MercatorCoordinate(mt.x+25e-6,mt.y,mt.z),Yt=new o.MercatorCoordinate(mt.x,mt.y+25e-6,mt.z),hn=mt.toLngLat(),tr=an.toLngLat(),_r=Yt.toLngLat(),Zn=this.locationCoordinate(hn),cr=this.locationCoordinate(tr),Lr=this.locationCoordinate(_r),Mr=Math.hypot(cr.x-Zn.x,cr.y-Zn.y),Qn=Math.hypot(Lr.x-Zn.x,Lr.y-Zn.y);return Math.sqrt(Mr*Qn)*Ne/25e-6},$e=mt=>{const Dt=we,an=Te;return{aabb:o.tileAABB(this,D,0,0,0,mt,an,Dt,this.projection),zoom:0,x:0,y:0,minZ:an,maxZ:Dt,wrap:mt,fullyVisible:!1}},Je=[];let Ke=[];const st=f,Ot=l.reparseOverscaled?y:f,it=mt=>mt*mt,St=it((pe-this._centerAltitude)*me),gt=mt=>{if(!this._elevation||!mt.tileID||!w)return;const Dt=this._elevation.getMinMaxForTile(mt.tileID),an=mt.aabb;Dt?(an.min[2]=Dt.min,an.max[2]=Dt.max,an.center[2]=(an.min[2]+an.max[2])/2):(mt.shouldSplit=tn(mt),mt.shouldSplit||(an.min[2]=an.max[2]=an.center[2]=this._centerAltitude))},tn=mt=>{if(mt.zoom<ge)return!0;if(mt.zoom===st)return!1;if(mt.shouldSplit!=null)return mt.shouldSplit;const Dt=mt.aabb.distanceX(ve),an=mt.aabb.distanceY(ve);let Yt=St,hn=1;if(j){Yt=it(mt.aabb.distanceZ(ve));const Zn=Math.pow(2,mt.zoom),cr=o.latFromMercatorY((mt.y+1)/Zn),Lr=o.latFromMercatorY(mt.y/Zn),Mr=Math.min(Math.max(I,cr),Lr),Qn=o.circumferenceAtLatitude(Mr)/o.circumferenceAtLatitude(I);if(hn=Mr===I?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Qn/this._mercatorScaleRatio),this.zoom<=o.GLOBE_ZOOM_THRESHOLD_MIN&&mt.zoom===st-1&&Qn>=.9)return!0}else if(x&&(Yt=it(mt.aabb.distanceZ(ve)*me)),this.projection.isReprojectedInTileSpace&&y<=5){const Zn=Math.pow(2,mt.zoom),cr=De(new o.MercatorCoordinate((mt.x+.5)/Zn,(mt.y+.5)/Zn));hn=cr>.85?1:cr}const tr=Dt*Dt+an*an+Yt,_r=it((1<<st-mt.zoom)*Q*hn*((Zn,cr)=>{if(cr*it(.707)<Zn)return 1;const Lr=Math.sqrt(cr/Zn);return Lr/(1.4144271570014144+(Math.pow(1.1,Lr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Yt,St),tr));return tr<_r};if(this.renderWorldCopies)for(let mt=1;mt<=3;mt++)Je.push($e(-mt)),Je.push($e(mt));for(Je.push($e(0));Je.length>0;){const mt=Je.pop(),Dt=mt.x,an=mt.y;let Yt=mt.fullyVisible;if(!Yt){const hn=mt.aabb.intersects(ae);if(hn===0)continue;Yt=hn===2}if(mt.zoom!==st&&tn(mt))for(let hn=0;hn<4;hn++){const tr=(Dt<<1)+hn%2,_r=(an<<1)+(hn>>1),Zn={aabb:w?mt.aabb.quadrant(hn):o.tileAABB(this,D,mt.zoom+1,tr,_r,mt.wrap,mt.minZ,mt.maxZ,this.projection),zoom:mt.zoom+1,x:tr,y:_r,wrap:mt.wrap,fullyVisible:Yt,tileID:void 0,shouldSplit:void 0,minZ:mt.minZ,maxZ:mt.maxZ};x&&!j&&(Zn.tileID=new o.OverscaledTileID(mt.zoom+1===st?Ot:mt.zoom+1,mt.wrap,mt.zoom+1,tr,_r),gt(Zn)),Je.push(Zn)}else{const hn=mt.zoom===st?Ot:mt.zoom;if(l.minzoom&&l.minzoom>hn)continue;const tr=$[0]-(.5+Dt+(mt.wrap<<mt.zoom))*(1<<f-mt.zoom),_r=$[1]-.5-an,Zn=mt.tileID?mt.tileID:new o.OverscaledTileID(hn,mt.wrap,mt.zoom,Dt,an);Ke.push({tileID:Zn,distanceSq:tr*tr+_r*_r})}}if(this.fogCullDistSq){const mt=this.fogCullDistSq,Dt=this.horizonLineFromTop();Ke=Ke.filter(an=>{const Yt=[0,0,0,1],hn=[o.EXTENT,o.EXTENT,0,1],tr=this.calculateFogTileMatrix(an.tileID.toUnwrapped());o.transformMat4$1(Yt,Yt,tr),o.transformMat4$1(hn,hn,tr);const _r=o.getAABBPointSquareDist(Yt,hn);if(_r===0)return!0;let Zn=!1;const cr=this._elevation;if(cr&&_r>mt&&Dt!==0){const Lr=this.calculateProjMatrix(an.tileID.toUnwrapped());let Mr;l.isTerrainDEM||(Mr=cr.getMinMaxForTile(an.tileID)),Mr||(Mr={min:Te,max:we});const Qn=o.furthestTileCorner(this.rotation),ei=[Qn[0]*o.EXTENT,Qn[1]*o.EXTENT,Mr.max];o.transformMat4(ei,ei,Lr),Zn=(1-ei[1])*this.height*.5<Dt}return _r<mt||Zn})}return Ke.sort((mt,Dt)=>mt.distanceSq-Dt.distanceSq).map(mt=>mt.tileID)}resize(l,f){this.width=l,this.height=f,this.pixelsToGLUnits=[2/l,-2/f],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(l){return Math.pow(2,l)}scaleZoom(l){return Math.log(l)/Math.LN2}project(l){const f=o.clamp(l.lat,-o.MAX_MERCATOR_LATITUDE,o.MAX_MERCATOR_LATITUDE),y=this.projection.project(l.lng,f);return new o.Point(y.x*this.worldSize,y.y*this.worldSize)}unproject(l){return this.projection.unproject(l.x/this.worldSize,l.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/o.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(l,f){let y,x;const w=this.centerPoint;if(this.projection.name==="globe"){const I=this.worldSize;y=(f.x-w.x)/I,x=(f.y-w.y)/I}else{const I=this.pointCoordinate(f),D=this.pointCoordinate(w);y=I.x-D.x,x=I.y-D.y}const P=this.locationCoordinate(l);this.setLocation(new o.MercatorCoordinate(P.x-y,P.y-x))}setLocation(l){this.center=this.coordinateLocation(l),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(l){return this.projection.locationPoint(this,l)}locationPoint3D(l){return this.projection.locationPoint(this,l,!0)}pointLocation(l){return this.coordinateLocation(this.pointCoordinate(l))}pointLocation3D(l){return this.coordinateLocation(this.pointCoordinate3D(l))}locationCoordinate(l,f){const y=f?o.mercatorZfromAltitude(f,l.lat):void 0,x=this.projection.project(l.lng,l.lat);return new o.MercatorCoordinate(x.x,x.y,y)}coordinateLocation(l){return this.projection.unproject(l.x,l.y)}pointRayIntersection(l,f){const y=f??this._centerAltitude,x=[l.x,l.y,0,1],w=[l.x,l.y,1,1];o.transformMat4$1(x,x,this.pixelMatrixInverse),o.transformMat4$1(w,w,this.pixelMatrixInverse);const P=w[3];o.scale$1(x,x,1/x[3]),o.scale$1(w,w,1/P);const I=x[2],D=w[2];return{p0:x,p1:w,t:I===D?0:(y-I)/(D-I)}}screenPointToMercatorRay(l){const f=[l.x,l.y,0,1],y=[l.x,l.y,1,1];return o.transformMat4$1(f,f,this.pixelMatrixInverse),o.transformMat4$1(y,y,this.pixelMatrixInverse),o.scale$1(f,f,1/f[3]),o.scale$1(y,y,1/y[3]),f[2]=o.mercatorZfromAltitude(f[2],this._center.lat)*this.worldSize,y[2]=o.mercatorZfromAltitude(y[2],this._center.lat)*this.worldSize,o.scale$1(f,f,1/this.worldSize),o.scale$1(y,y,1/this.worldSize),new o.Ray([f[0],f[1],f[2]],o.normalize([],o.sub([],y,f)))}rayIntersectionCoordinate(l){const{p0:f,p1:y,t:x}=l,w=o.mercatorZfromAltitude(f[2],this._center.lat),P=o.mercatorZfromAltitude(y[2],this._center.lat);return new o.MercatorCoordinate(o.number(f[0],y[0],x)/this.worldSize,o.number(f[1],y[1],x)/this.worldSize,o.number(w,P,x))}pointCoordinate(l,f=this._centerAltitude){return this.projection.pointCoordinate(this,l.x,l.y,f)}pointCoordinate3D(l){if(!this.elevation)return this.pointCoordinate(l);let f=this.projection.pointCoordinate3D(this,l.x,l.y);if(f)return new o.MercatorCoordinate(f[0],f[1],f[2]);let y=0,x=this.horizonLineFromTop();if(l.y>x)return this.pointCoordinate(l);const w=.02*x,P=l.clone();for(let I=0;I<10&&x-y>w;I++){P.y=o.number(y,x,.66);const D=this.projection.pointCoordinate3D(this,P.x,P.y);D?(x=P.y,f=D):y=P.y}return f?new o.MercatorCoordinate(f[0],f[1],f[2]):this.pointCoordinate(l)}isPointAboveHorizon(l){return this.projection.isPointAboveHorizon(this,l)}isPointOnSurface(l){if(l.y<0||l.y>this.height||l.x<0||l.x>this.width)return!1;if(this.elevation||this.zoom>=o.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(l);const f=this.pointCoordinate(l);return f.y>=0&&f.y<=1}_coordinatePoint(l,f){const y=f&&this.elevation?this.elevation.getAtPointOrZero(l,this._centerAltitude):this._centerAltitude,x=[l.x*this.worldSize,l.y*this.worldSize,y+l.toAltitude(),1];return o.transformMat4$1(x,x,this.pixelMatrix),x[3]>0?new o.Point(x[0]/x[3],x[1]/x[3]):new o.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:l,left:f}=this._edgeInsets,y=this.height-this._edgeInsets.bottom,x=this.width-this._edgeInsets.right,w=this.pointLocation3D(new o.Point(f,l)),P=this.pointLocation3D(new o.Point(x,l)),I=this.pointLocation3D(new o.Point(x,y)),D=this.pointLocation3D(new o.Point(f,y));let $=Math.min(w.lng,P.lng,I.lng,D.lng),j=Math.max(w.lng,P.lng,I.lng,D.lng),J=Math.min(w.lat,P.lat,I.lat,D.lat),ae=Math.max(w.lat,P.lat,I.lat,D.lat);const ue=Math.pow(2,-this.zoom)/16*270,me=this.projection.name==="globe"?1:4,pe=(ve,Q,ge,we,Te)=>{const Ne=(ve+ge)/2,De=(Q+we)/2,$e=new o.Point(Ne,De),{lng:Je,lat:Ke}=this.pointLocation3D($e),st=Math.max(0,$-Je,J-Ke,Je-j,Ke-ae);$=Math.min($,Je),j=Math.max(j,Je),J=Math.min(J,Ke),ae=Math.max(ae,Ke),(Te<me||st>ue)&&(pe(ve,Q,Ne,De,Te+1),pe(Ne,De,ge,we,Te+1))};if(pe(f,l,x,l,1),pe(x,l,x,y,1),pe(x,y,f,y,1),pe(f,y,f,l,1),this.projection.name==="globe"){const[ve,Q]=o.polesInViewport(this);ve?(ae=90,j=180,$=-180):Q&&(J=-90,j=180,$=-180)}return new o.LngLatBounds(new o.LngLat($,J),new o.LngLat(j,ae))}_getBoundsRectangular(l,f){const{top:y,left:x}=this._edgeInsets,w=this.height-this._edgeInsets.bottom,P=this.width-this._edgeInsets.right,I=new o.Point(x,y),D=new o.Point(P,y),$=new o.Point(P,w),j=new o.Point(x,w);let J=this.pointCoordinate(I,l),ae=this.pointCoordinate(D,l);const ue=this.pointCoordinate($,f),me=this.pointCoordinate(j,f),pe=(ve,Q)=>(Q.y-ve.y)/(Q.x-ve.x);return J.y>1&&ae.y>=0?J=new o.MercatorCoordinate((1-me.y)/pe(me,J)+me.x,1):J.y<0&&ae.y<=1&&(J=new o.MercatorCoordinate(-me.y/pe(me,J)+me.x,0)),ae.y>1&&J.y>=0?ae=new o.MercatorCoordinate((1-ue.y)/pe(ue,ae)+ue.x,1):ae.y<0&&J.y<=1&&(ae=new o.MercatorCoordinate(-ue.y/pe(ue,ae)+ue.x,0)),new o.LngLatBounds().extend(this.coordinateLocation(J)).extend(this.coordinateLocation(ae)).extend(this.coordinateLocation(me)).extend(this.coordinateLocation(ue))}_getBoundsRectangularTerrain(){const l=this.elevation;if(!l.visibleDemTiles.length||l.isUsingMockSource())return this._getBoundsRectangular(0,0);const f=l.visibleDemTiles.reduce((y,x)=>{if(x.dem){const w=x.dem.tree;y.min=Math.min(y.min,w.minimums[0]),y.max=Math.max(y.max,w.maximums[0])}return y},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(f.min*l.exaggeration(),f.max*l.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(l=!0){const f=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,y=this.height/2-f*(1-this._horizonShift);return l?Math.max(0,y):y}getMaxBounds(){return this.maxBounds}setMaxBounds(l){this.maxBounds=l,this.minLat=-o.MAX_MERCATOR_LATITUDE,this.maxLat=o.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,l&&(this.minLat=l.getSouth(),this.maxLat=l.getNorth(),this.minLng=l.getWest(),this.maxLng=l.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=o.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=o.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=o.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=o.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(l,f){return this.projection.createTileMatrix(this,f,l)}calculateDistanceTileData(l){const f=l.key,y=this._distanceTileDataCache;if(y[f])return y[f];const x=l.canonical,w=1/this.height,P=this.cameraWorldSize,I=P/this.zoomScale(x.z),D=(x.x+Math.pow(2,x.z)*l.wrap)*I,$=x.y*I,j=this.point;j.x*=P/this.worldSize,j.y*=P/this.worldSize;const J=this.angle,ae=Math.sin(-J),ue=-Math.cos(-J);return y[f]={bearing:[ae,ue],center:[(j.x-D)*w,(j.y-$)*w],scale:I/o.EXTENT*w},y[f]}calculateFogTileMatrix(l){const f=l.key,y=this._fogTileMatrixCache;if(y[f])return y[f];const x=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,l);return o.multiply(x,this.worldToFogMatrix,x),y[f]=new Float32Array(x),y[f]}calculateProjMatrix(l,f=!1){const y=l.key,x=f?this._alignedProjMatrixCache:this._projMatrixCache;if(x[y])return x[y];const w=this.calculatePosMatrix(l,this.worldSize);return o.multiply(w,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:f?this.alignedProjMatrix:this.projMatrix,w),x[y]=new Float32Array(w),x[y]}calculatePixelsToTileUnitsMatrix(l){const f=l.tileID.key,y=this._pixelsToTileUnitsCache;if(y[f])return y[f];const x=function(w,P){const{scale:I}=w.tileTransform,D=I*o.EXTENT/(w.tileSize*Math.pow(2,P.zoom-w.tileID.overscaledZ+w.tileID.canonical.z));return $=new Float32Array(4),ae=(j=P.inverseAdjustmentMatrix)[1],ue=j[2],me=j[3],ve=(J=[D,D])[1],$[0]=j[0]*(pe=J[0]),$[1]=ae*pe,$[2]=ue*ve,$[3]=me*ve,$;var $,j,J,ae,ue,me,pe,ve}(l,this);return y[f]=x,y[f]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const l=1/this.worldSize,f=o.fromScaling([],[l,l,l]);return o.multiply(f,f,this.globeMatrix),f}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const l=this._elevation;this._updateCameraState();const f=o.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,y=this._computeCameraPosition(f),x=this._camera.forward(),w=o.mercatorZfromAltitude(1,this._center.lat);y[2]/=w,x[2]/=w,o.normalize(x,x);const P=l.raycast(y,x,l.exaggeration());if(P){const I=o.scaleAndAdd([],y,x,P),D=new o.MercatorCoordinate(I[0],I[1],o.mercatorZfromAltitude(I[2],o.latFromMercatorY(I[1]))),$=(D.z+o.length([D.x-y[0],D.y-y[1],D.z-y[2]*w]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ($),this._centerAltitude=D.toAltitude(),this._center=this.coordinateLocation(D),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(l=!1){if(!this._elevation)return;const f=this._elevation,y=o.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,x=this._computeCameraPosition(y),w=f.getAtPointOrZero(new o.MercatorCoordinate(...x)),P=this.pixelsPerMeter/this.worldSize*w,I=this._minimumHeightOverTerrain(),D=x[2]-P;if(D<=I)if(D<0||l){const $=this.locationCoordinate(this._center,this._centerAltitude),j=[x[0],x[1],$.z-x[2]],J=o.length(j);j[2]-=(I-D)/this._pixelsPerMercatorPixel;const ae=o.length(j);if(ae===0)return;o.scale$2(j,j,J/ae*this._pixelsPerMercatorPixel),this._camera.position=[x[0],x[1],$.z*this._pixelsPerMercatorPixel-j[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const l=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||l){const ae=this.center;return ae.lat=o.clamp(ae.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!l)&&(ae.lng=o.clamp(ae.lng,this.minLng,this.maxLng)),this.center=ae,void(this._constraining=!1)}const f=this._unmodified,{x:y,y:x}=this.point;let w=0,P=y,I=x;const D=this.width/2,$=this.height/2,j=this.worldMinY*this.scale,J=this.worldMaxY*this.scale;if(x-$<j&&(I=j+$),x+$>J&&(I=J-$),J-j<this.height&&(w=Math.max(w,this.height/(J-j)),I=(J+j)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ae=this.worldMinX*this.scale,ue=this.worldMaxX*this.scale,me=this.worldSize/2-(ae+ue)/2;P=(y+me+this.worldSize)%this.worldSize-me,P-D<ae&&(P=ae+D),P+D>ue&&(P=ue-D),ue-ae<this.width&&(w=Math.max(w,this.width/(ue-ae)),P=(ue+ae)/2)}P===y&&I===x||(this.center=this.unproject(new o.Point(P,I))),w&&(this.zoom+=this.scaleZoom(w)),this._constrainCamera(),this._unmodified=f,this._constraining=!1}_minZoomForBounds(){let l=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(l=Math.max(l,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),l}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const l=this.centerOffset,f=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=o.mercatorZfromAltitude(1,this.center.lat)/o.mercatorZfromAltitude(1,o.GLOBE_SCALE_MATCH_LATITUDE));const y=Iu(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,y),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?f:1,w=this._camera.getWorldToCamera(this.worldSize,x),P=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);P[8]=2*-l.x/this.width,P[9]=2*l.y/this.height;let I=o.mul([],P,w);if(this.projection.isReprojectedInTileSpace){const De=this.locationCoordinate(this.center),$e=o.identity([]);o.translate($e,$e,[De.x*this.worldSize,De.y*this.worldSize,0]),o.multiply($e,$e,Yl(this)),o.translate($e,$e,[-De.x*this.worldSize,-De.y*this.worldSize,0]),o.multiply(I,I,$e),this.inverseAdjustmentMatrix=function(Je){const Ke=Yl(Je,!0);return Le([],[Ke[0],Ke[1],Ke[4],Ke[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=o.scale([],I,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=I,this.invProjMatrix=o.invert(new Float64Array(16),this.projMatrix);const D=o.invert([],P);this.frustumCorners=o.FrustumCorners.fromInvProjectionMatrix(D,this.horizonLineFromTop(),this.height);const $=new Float32Array(16);o.identity($),o.scale($,$,[1,-1,1]),o.rotateX($,$,this._pitch),o.rotateZ($,$,this.angle);const j=o.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),J=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;j[8]=2*-l.x/this.width,j[9]=2*(l.y+J)/this.height,this.skyboxMatrix=o.multiply($,j,$);const ae=this.point,ue=ae.x,me=ae.y,pe=this.width%2/2,ve=this.height%2/2,Q=Math.cos(this.angle),ge=Math.sin(this.angle),we=ue-Math.round(ue)+Q*pe+ge*ve,Te=me-Math.round(me)+Q*ve+ge*pe,Ne=new Float64Array(I);if(o.translate(Ne,Ne,[we>.5?we-1:we,Te>.5?Te-1:Te,0]),this.alignedProjMatrix=Ne,I=o.create(),o.scale(I,I,[this.width/2,-this.height/2,1]),o.translate(I,I,[1,-1,0]),this.labelPlaneMatrix=I,I=o.create(),o.scale(I,I,[1,-1,1]),o.translate(I,I,[-1,-1,0]),o.scale(I,I,[2/this.width,2/this.height,1]),this.glCoordMatrix=I,this.pixelMatrix=o.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},I=o.invert(new Float64Array(16),this.pixelMatrix),!I)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=I,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=o.calculateGlobeMatrix(this);const De=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=o.transformMat4(De,De,w),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=I;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const l=this.cameraWorldSizeForFog,f=this.cameraPixelsPerMeter,y=this._camera.position,x=1/this.height/this._pixelsPerMercatorPixel,w=[l,l,f];o.scale$2(w,w,x),o.scale$2(y,y,-1),o.multiply$2(y,y,w);const P=o.create();o.translate(P,P,y),o.scale(P,P,w),this.mercatorFogMatrix=P,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(l,f,x)}_computeCameraPosition(l){const f=(l=l||this.pixelsPerMeter)/this.pixelsPerMeter,y=this._camera.forward(),x=this.point,w=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*f-l/this.worldSize*this._centerAltitude;return[x.x/this.worldSize-y[0]*w,x.y/this.worldSize-y[1]*w,l/this.worldSize*this._centerAltitude-y[2]*w]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(l){const f=this._maxCameraBoundsDistance()*Math.cos(this._pitch),y=this._camera.position[2],x=l[2];let w=1;this.projection.wrap&&(this.center=this.center.wrap()),x>0&&(w=Math.min((f-y)/x,1)),this._camera.position=o.scaleAndAdd([],this._camera.position,l,w),this._updateStateFromCamera()}_updateStateFromCamera(){const l=this._camera.position,f=this._camera.forward(),{pitch:y,bearing:x}=this._camera.getPitchBearing(),w=o.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,P=this._mercatorZfromZoom(this._maxZoom)*Math.cos(o.degToRad(this._maxPitch)),I=Math.max((l[2]-w)/Math.cos(y),P),D=this._zoomFromMercatorZ(I);o.scaleAndAdd(l,l,f,I),this._pitch=o.clamp(y,o.degToRad(this.minPitch),o.degToRad(this.maxPitch)),this.angle=o.wrap(x,-Math.PI,Math.PI),this._setZoom(o.clamp(D,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new o.MercatorCoordinate(l[0],l[1],l[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(l){return Math.pow(2,l)*this.tileSize}_mercatorZfromZoom(l){return this.cameraToCenterDistance/this._worldSizeFromZoom(l)}_minimumHeightOverTerrain(){const l=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(l)}_zoomFromMercatorZ(l){return this.scaleZoom(this.cameraToCenterDistance/(l*this.tileSize))}zoomFromMercatorZAdjusted(l){let f=0,y=o.GLOBE_ZOOM_THRESHOLD_MAX,x=0,w=1/0;for(;y-f>1e-6&&y>f;){const P=f+.5*(y-f),I=this.tileSize*Math.pow(2,P),D=this.getCameraToCenterDistance(this.projection,P,I),$=this.scaleZoom(D/(l*this.tileSize)),j=Math.abs(P-$);j<w&&(w=j,x=P),P<$?f=P:y=P}return x}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(o.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(l,f){const y=Math.min(l.x,f.x),x=Math.max(l.x,f.x),w=Math.min(l.y,f.y),P=Math.max(l.y,f.y);if(w<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const I=[new o.Point(y,w),new o.Point(x,P),new o.Point(y,P),new o.Point(x,w)],D=this.renderWorldCopies?-3:0,$=this.renderWorldCopies?4:1;for(const j of I){const J=this.pointRayIntersection(j);if(J.t<0)return!0;const ae=this.rayIntersectionCoordinate(J);if(ae.x<D||ae.y<0||ae.x>$||ae.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+o.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new o.Point(0,0),new o.Point(this.width,this.height))}zoomDeltaToMovement(l,f){const y=o.length(o.sub([],this._camera.position,l)),x=this._zoomFromMercatorZ(y)+f;return y-this._mercatorZfromZoom(x)}getCameraPoint(){if(this.projection.name==="globe"){const l=function([f,y,x],w){const P=[f,y,x,1];o.transformMat4$1(P,P,w);const I=P[3]=Math.max(P[3],1e-6);return P[0]/=I,P[1]/=I,P[2]/=I,P}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new o.Point(l[0],l[1])}{const l=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.Point(0,l))}}getCameraToCenterDistance(l,f=this.zoom,y=this.worldSize){const x=Iu(l,f,this.width,this.height,1024),w=l.pixelSpaceConversion(this.center.lat,y,x);return .5/Math.tan(.5*this._fov)*this.height*w}getWorldToCameraMatrix(){const l=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&o.multiply(l,l,this.globeMatrix),l}}function _a(m,l){let f=!1,y=null;const x=()=>{y=null,f&&(m(),y=setTimeout(x,l),f=!1)};return()=>(f=!0,y||x(),y)}class L{constructor(l){this._hashName=l&&encodeURIComponent(l),o.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=_a(this._updateHashUnthrottled.bind(this),300)}addTo(l){return this._map=l,o.window.addEventListener("hashchange",this._onHashChange,!1),l.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),o.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const l=this._map;if(!l)return"";const f=z(l);if(this._hashName){const y=this._hashName;let x=!1;const w=o.window.location.hash.slice(1).split("&").map(P=>{const I=P.split("=")[0];return I===y?(x=!0,`${I}=${f}`):P}).filter(P=>P);return x||w.push(`${y}=${f}`),`#${w.join("&")}`}return`#${f}`}_getCurrentHash(){const l=o.window.location.hash.replace("#","");if(this._hashName){let f;return l.split("&").map(y=>y.split("=")).forEach(y=>{y[0]===this._hashName&&(f=y)}),(f&&f[1]||"").split("/")}return l.split("/")}_onHashChange(){const l=this._map;if(!l)return!1;const f=this._getCurrentHash();if(f.length>=3&&!f.some(y=>isNaN(y))){const y=l.dragRotate.isEnabled()&&l.touchZoomRotate.isEnabled()?+(f[3]||0):l.getBearing();return l.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:y,pitch:+(f[4]||0)}),!0}return!1}_updateHashUnthrottled(){const l=o.window.location.href.replace(/(#.+)?$/,this.getHashString());o.window.history.replaceState(o.window.history.state,null,l)}}function z(m,l){const f=m.getCenter(),y=Math.round(100*m.getZoom())/100,x=Math.ceil((y*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,x),P=Math.round(f.lng*w)/w,I=Math.round(f.lat*w)/w,D=m.getBearing(),$=m.getPitch();let j=l?`/${P}/${I}/${y}`:`${y}/${I}/${P}`;return(D||$)&&(j+="/"+Math.round(10*D)/10),$&&(j+=`/${Math.round($)}`),j}const ne={linearity:.3,easing:o.bezier(0,0,.3,1)},ke=o.extend({deceleration:2500,maxSpeed:1400},ne),Lt=o.extend({deceleration:20,maxSpeed:1400},ne),At=o.extend({deceleration:1e3,maxSpeed:360},ne),wr=o.extend({deceleration:1e3,maxSpeed:90},ne);class fi{constructor(l){this._map=l,this.clear()}clear(){this._inertiaBuffer=[]}record(l){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.exported.now(),settings:l})}_drainInertiaBuffer(){const l=this._inertiaBuffer,f=o.exported.now();for(;l.length>0&&f-l[0].time>160;)l.shift()}_onMoveEnd(l){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const f={zoom:0,bearing:0,pitch:0,pan:new o.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:w}of this._inertiaBuffer)f.zoom+=w.zoomDelta||0,f.bearing+=w.bearingDelta||0,f.pitch+=w.pitchDelta||0,w.panDelta&&f.pan._add(w.panDelta),w.around&&(f.around=w.around),w.pinchAround&&(f.pinchAround=w.pinchAround);const y=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,x={};if(f.pan.mag()){const w=Ka(f.pan.mag(),y,o.extend({},ke,l||{}));x.offset=f.pan.mult(w.amount/f.pan.mag()),x.center=this._map.transform.center,Mi(x,w)}if(f.zoom){const w=Ka(f.zoom,y,Lt);x.zoom=this._map.transform.zoom+w.amount,Mi(x,w)}if(f.bearing){const w=Ka(f.bearing,y,At);x.bearing=this._map.transform.bearing+o.clamp(w.amount,-179,179),Mi(x,w)}if(f.pitch){const w=Ka(f.pitch,y,wr);x.pitch=this._map.transform.pitch+w.amount,Mi(x,w)}if(x.zoom||x.bearing){const w=f.pinchAround===void 0?f.around:f.pinchAround;x.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),x.noMoveStart=!0,x}}function Mi(m,l){(!m.duration||m.duration<l.duration)&&(m.duration=l.duration,m.easing=l.easing)}function Ka(m,l,f){const{maxSpeed:y,linearity:x,deceleration:w}=f,P=o.clamp(m*x/(l/1e3),-y,y),I=Math.abs(P)/(w*x);return{easing:f.easing,duration:1e3*I,amount:P*(I/2)}}class Di extends o.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,y,x={}){const w=he(f.getCanvasContainer(),y),P=f.unproject(w);super(l,o.extend({point:w,lngLat:P,originalEvent:y},x)),this._defaultPrevented=!1,this.target=f}}class Cc extends o.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,y){const x=l==="touchend"?y.changedTouches:y.touches,w=Se(f.getCanvasContainer(),x),P=w.map(D=>f.unproject(D)),I=w.reduce((D,$,j,J)=>D.add($.div(J.length)),new o.Point(0,0));super(l,{points:w,point:I,lngLats:P,lngLat:f.unproject(I),originalEvent:y}),this._defaultPrevented=!1}}class Xd extends o.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(l,f,y){super(l,{originalEvent:y}),this._defaultPrevented=!1}}class Yd{constructor(l,f){this._map=l,this._clickTolerance=f.clickTolerance}reset(){this._mousedownPos=void 0}wheel(l){return this._firePreventable(new Xd(l.type,this._map,l))}mousedown(l,f){return this._mousedownPos=f,this._firePreventable(new Di(l.type,this._map,l))}mouseup(l){this._map.fire(new Di(l.type,this._map,l))}preclick(l){const f=o.extend({},l);f.type="preclick",this._map.fire(new Di(f.type,this._map,f))}click(l,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||(this.preclick(l),this._map.fire(new Di(l.type,this._map,l)))}dblclick(l){return this._firePreventable(new Di(l.type,this._map,l))}mouseover(l){this._map.fire(new Di(l.type,this._map,l))}mouseout(l){this._map.fire(new Di(l.type,this._map,l))}touchstart(l){return this._firePreventable(new Cc(l.type,this._map,l))}touchmove(l){this._map.fire(new Cc(l.type,this._map,l))}touchend(l){this._map.fire(new Cc(l.type,this._map,l))}touchcancel(l){this._map.fire(new Cc(l.type,this._map,l))}_firePreventable(l){if(this._map.fire(l),l.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jd{constructor(l){this._map=l}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(l){this._map.fire(new Di(l.type,this._map,l))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Di("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(l){this._delayContextMenu?this._contextMenuEvent=l:this._map.fire(new Di(l.type,this._map,l)),this._map.listens("contextmenu")&&l.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Sc{constructor(l,f){this._map=l,this._el=l.getCanvasContainer(),this._container=l.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(l,f){this.isEnabled()&&l.shiftKey&&l.button===0&&(q(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(l,f){if(!this._active)return;const y=f,x=this._startPos,w=this._lastPos;if(!x||!w||w.equals(y)||!this._box&&y.dist(x)<this._clickTolerance)return;this._lastPos=y,this._box||(this._box=O("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",l));const P=Math.min(x.x,y.x),I=Math.max(x.x,y.x),D=Math.min(x.y,y.y),$=Math.max(x.y,y.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${P}px,${D}px)`,this._box.style.width=I-P+"px",this._box.style.height=$-D+"px")})}mouseupWindow(l,f){if(!this._active)return;const y=this._startPos,x=f;if(y&&l.button===0){if(this.reset(),ie(),y.x!==x.x||y.y!==x.y)return this._map.fire(new o.Event("boxzoomend",{originalEvent:l})),{cameraAnimation:w=>w.fitScreenCoordinates(y,x,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",l)}}keydown(l){this._active&&l.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",l))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),W(),delete this._startPos,delete this._lastPos}_fireEvent(l,f){return this._map.fire(new o.Event(l,{originalEvent:f}))}}function Mu(m,l){const f={};for(let y=0;y<m.length;y++)f[m[y].identifier]=l[y];return f}class Tc{constructor(l){this.reset(),this.numTouches=l.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(l,f,y){(this.centroid||y.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=l.timeStamp),y.length===this.numTouches&&(this.centroid=function(x){const w=new o.Point(0,0);for(const P of x)w._add(P);return w.div(x.length)}(f),this.touches=Mu(y,f)))}touchmove(l,f,y){if(this.aborted||!this.centroid)return;const x=Mu(y,f);for(const w in this.touches){const P=x[w];(!P||P.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(l,f,y){if((!this.centroid||l.timeStamp-this.startTime>500)&&(this.aborted=!0),y.length===0){const x=!this.aborted&&this.centroid;if(this.reset(),x)return x}}}class oh{constructor(l){this.singleTap=new Tc(l),this.numTaps=l.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(l,f,y){this.singleTap.touchstart(l,f,y)}touchmove(l,f,y){this.singleTap.touchmove(l,f,y)}touchend(l,f,y){const x=this.singleTap.touchend(l,f,y);if(x){const w=l.timeStamp-this.lastTime<500,P=!this.lastTap||this.lastTap.dist(x)<30;if(w&&P||this.reset(),this.count++,this.lastTime=l.timeStamp,this.lastTap=x,this.count===this.numTaps)return this.reset(),x}}}class Qm{constructor(){this._zoomIn=new oh({numTouches:1,numTaps:2}),this._zoomOut=new oh({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(l,f,y){this._zoomIn.touchstart(l,f,y),this._zoomOut.touchstart(l,f,y)}touchmove(l,f,y){this._zoomIn.touchmove(l,f,y),this._zoomOut.touchmove(l,f,y)}touchend(l,f,y){const x=this._zoomIn.touchend(l,f,y),w=this._zoomOut.touchend(l,f,y);return x?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()+1,around:P.unproject(x)},{originalEvent:l})}):w?(this._active=!0,l.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()-1,around:P.unproject(w)},{originalEvent:l})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const lp={0:1,2:2};class $s{constructor(l){this.reset(),this._clickTolerance=l.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(l,f){return!1}_move(l,f){return{}}mousedown(l,f){if(this._lastPoint)return;const y=Pe(l);this._correctButton(l,y)&&(this._lastPoint=f,this._eventButton=y)}mousemoveWindow(l,f){const y=this._lastPoint;if(y){if(l.preventDefault(),this._eventButton!=null&&function(x,w){const P=lp[w];return x.buttons===void 0||(x.buttons&P)!==P}(l,this._eventButton))this.reset();else if(this._moved||!(f.dist(y)<this._clickTolerance))return this._moved=!0,this._lastPoint=f,this._move(y,f)}}mouseupWindow(l){this._lastPoint&&Pe(l)===this._eventButton&&(this._moved&&ie(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class xl extends $s{mousedown(l,f){super.mousedown(l,f),this._lastPoint&&(this._active=!0)}_correctButton(l,f){return f===0&&!l.ctrlKey}_move(l,f){return{around:f,panDelta:f.sub(l)}}}class ah extends $s{_correctButton(l,f){return f===0&&l.ctrlKey||f===2}_move(l,f){const y=.8*(f.x-l.x);if(y)return this._active=!0,{bearingDelta:y}}contextmenu(l){l.preventDefault()}}class sh extends $s{_correctButton(l,f){return f===0&&l.ctrlKey||f===2}_move(l,f){const y=-.5*(f.y-l.y);if(y)return this._active=!0,{pitchDelta:y}}contextmenu(l){l.preventDefault()}}class Qd{constructor(l,f){this._map=l,this._el=l.getCanvasContainer(),this._minTouches=1,this._clickTolerance=f.clickTolerance||1,this.reset(),o.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new o.Point(0,0)}touchstart(l,f,y){return this._calculateTransform(l,f,y)}touchmove(l,f,y){if(this._active&&!(y.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(y.length===1&&!o.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return l.cancelable&&l.preventDefault(),this._calculateTransform(l,f,y)}}touchend(l,f,y){this._calculateTransform(l,f,y),this._active&&y.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(l,f,y){y.length>0&&(this._active=!0);const x=Mu(y,f),w=new o.Point(0,0),P=new o.Point(0,0);let I=0;for(const $ in x){const j=x[$],J=this._touches[$];J&&(w._add(j),P._add(j.sub(J)),I++,x[$]=j)}if(this._touches=x,I<this._minTouches||!P.mag())return;const D=P.div(I);return this._sum._add(D),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(I),panDelta:D}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=O("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class pd{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(l){}_move(l,f,y){return{}}touchstart(l,f,y){this._firstTwoTouches||y.length<2||(this._firstTwoTouches=[y[0].identifier,y[1].identifier],this._start([f[0],f[1]]))}touchmove(l,f,y){const x=this._firstTwoTouches;if(!x)return;l.preventDefault();const[w,P]=x,I=md(y,f,w),D=md(y,f,P);if(!I||!D)return;const $=this._aroundCenter?null:I.add(D).div(2);return this._move([I,D],$,l)}touchend(l,f,y){if(!this._firstTwoTouches)return;const[x,w]=this._firstTwoTouches,P=md(y,f,x),I=md(y,f,w);P&&I||(this._active&&ie(),this.reset())}touchcancel(){this.reset()}enable(l){this._enabled=!0,this._aroundCenter=!!l&&l.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function md(m,l,f){for(let y=0;y<m.length;y++)if(m[y].identifier===f)return l[y]}function lh(m,l){return Math.log(m/l)/Math.LN2}class cp extends pd{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(l){this._startDistance=this._distance=l[0].dist(l[1])}_move(l,f){const y=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(lh(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:lh(this._distance,y),pinchAround:f}}}function ch(m,l){return 180*m.angleWith(l)/Math.PI}class uh extends pd{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])}_move(l,f){const y=this._vector;if(this._vector=l[0].sub(l[1]),y&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:ch(this._vector,y),pinchAround:f}}_isBelowThreshold(l){this._minDiameter=Math.min(this._minDiameter,l.mag());const f=25/(Math.PI*this._minDiameter)*360,y=this._startVector;if(!y)return!1;const x=ch(l,y);return Math.abs(x)<f}}function Jl(m){return Math.abs(m.y)>Math.abs(m.x)}class dh extends pd{constructor(l){super(),this._map=l}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(l){this._lastPoints=l,Jl(l[0].sub(l[1]))&&(this._valid=!1)}_move(l,f,y){const x=this._lastPoints;if(!x)return;const w=l[0].sub(x[0]),P=l[1].sub(x[1]);return this._map._cooperativeGestures&&!o.isFullscreen()&&y.touches.length<3||(this._valid=this.gestureBeginsVertically(w,P,y.timeStamp),!this._valid)?void 0:(this._lastPoints=l,this._active=!0,{pitchDelta:(w.y+P.y)/2*-.5})}gestureBeginsVertically(l,f,y){if(this._valid!==void 0)return this._valid;const x=l.mag()>=2,w=f.mag()>=2;if(!x&&!w)return;if(!x||!w)return this._firstMove==null&&(this._firstMove=y),y-this._firstMove<100&&void 0;const P=l.y>0==f.y>0;return Jl(l)&&Jl(f)&&P}}const ef={panStep:100,bearingStep:15,pitchStep:10};class up{constructor(){const l=ef;this._panStep=l.panStep,this._bearingStep=l.bearingStep,this._pitchStep=l.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(l){if(l.altKey||l.ctrlKey||l.metaKey)return;let f=0,y=0,x=0,w=0,P=0;switch(l.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:l.shiftKey?y=-1:(l.preventDefault(),w=-1);break;case 39:l.shiftKey?y=1:(l.preventDefault(),w=1);break;case 38:l.shiftKey?x=1:(l.preventDefault(),P=-1);break;case 40:l.shiftKey?x=-1:(l.preventDefault(),P=1);break;default:return}return this._rotationDisabled&&(y=0,x=0),{cameraAnimation:I=>{const D=I.getZoom();I.easeTo({duration:300,easeId:"keyboardHandler",easing:Ql,zoom:f?Math.round(D)+f*(l.shiftKey?2:1):D,bearing:I.getBearing()+y*this._bearingStep,pitch:I.getPitch()+x*this._pitchStep,offset:[-w*this._panStep,-P*this._panStep],center:I.getCenter()},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ql(m){return m*(2-m)}const tf=4.000244140625;class nf{constructor(l,f){this._map=l,this._el=l.getCanvasContainer(),this._handler=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,o.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(l){this._defaultZoomRate=l}setWheelZoomRate(l){this._wheelZoomRate=l}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(l){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!l&&l.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(l){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(l.ctrlKey||l.metaKey||this.isZooming()||o.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let f=l.deltaMode===o.window.WheelEvent.DOM_DELTA_LINE?40*l.deltaY:l.deltaY;const y=o.exported.now(),x=y-(this._lastWheelEventTime||0);this._lastWheelEventTime=y,f!==0&&f%tf==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":x>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,l)):this._type||(this._type=Math.abs(x*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),l.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=l,this._delta-=f,this._active||this._start(l)),l.preventDefault()}_onTimeout(l){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(l)}_start(l){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=he(this._el,l);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:f,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const l=this._map.transform;this._type==="wheel"&&l.projection.wrap&&(l._center.lng>=180||l._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const f=()=>l._terrainEnabled()&&this._aroundCoord?l.computeZoomRelativeTo(this._aroundCoord):l.zoom;if(this._delta!==0){const D=this._type==="wheel"&&Math.abs(this._delta)>tf?this._wheelZoomRate:this._defaultZoomRate;let $=2/(1+Math.exp(-Math.abs(this._delta*D)));this._delta<0&&$!==0&&($=1/$);const j=f(),J=Math.pow(2,j),ae=typeof this._targetZoom=="number"?l.zoomScale(this._targetZoom):J;this._targetZoom=Math.min(l.maxZoom,Math.max(l.minZoom,l.scaleZoom(ae*$))),this._type==="wheel"&&(this._startZoom=j,this._easing=this._smoothOutEasing(200)),this._delta=0}const y=typeof this._targetZoom=="number"?this._targetZoom:f(),x=this._startZoom,w=this._easing;let P,I=!1;if(this._type==="wheel"&&x&&w){const D=Math.min((o.exported.now()-this._lastWheelEventTime)/200,1),$=w(D);P=o.number(x,y,$),D<1?this._frameId||(this._frameId=!0):I=!0}else P=y,I=!0;return this._active=!0,I&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!I,zoomDelta:P-f(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(l){let f=o.ease;if(this._prevEase){const y=this._prevEase,x=(o.exported.now()-y.start)/y.duration,w=y.easing(x+.01)-y.easing(x),P=.27/Math.sqrt(w*w+1e-4)*.01,I=Math.sqrt(.0729-P*P);f=o.bezier(P,I,.25,1)}return this._prevEase={start:o.exported.now(),duration:l,easing:f},f}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=O("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(o.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class fh{constructor(l,f){this._clickZoom=l,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ro{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(l,f){return l.preventDefault(),{cameraAnimation:y=>{y.easeTo({duration:300,zoom:y.getZoom()+(l.shiftKey?-1:1),around:y.unproject(f)},{originalEvent:l})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dp{constructor(){this._tap=new oh({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(l,f,y){this._swipePoint||(this._tapTime&&l.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?y.length>0&&(this._swipePoint=f[0],this._swipeTouch=y[0].identifier):this._tap.touchstart(l,f,y))}touchmove(l,f,y){if(this._tapTime){if(this._swipePoint){if(y[0].identifier!==this._swipeTouch)return;const x=f[0],w=x.y-this._swipePoint.y;return this._swipePoint=x,l.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(l,f,y)}touchend(l,f,y){this._tapTime?this._swipePoint&&y.length===0&&this.reset():this._tap.touchend(l,f,y)&&(this._tapTime=l.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class rf{constructor(l,f,y){this._el=l,this._mousePan=f,this._touchPan=y}enable(l){this._inertiaOptions=l||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class eg{constructor(l,f,y){this._pitchWithRotate=l.pitchWithRotate,this._mouseRotate=f,this._mousePitch=y}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ac{constructor(l,f,y,x){this._el=l,this._touchZoom=f,this._touchRotate=y,this._tapDragZoom=x,this._rotationDisabled=!1,this._enabled=!0}enable(l){this._touchZoom.enable(l),this._rotationDisabled||this._touchRotate.enable(l),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const mo=m=>m.zoom||m.drag||m.pitch||m.rotate;class fp extends o.Event{}class tg{constructor(){this.constants=[1,1,.01],this.radius=0}setup(l,f){const y=o.sub([],f,l);this.radius=o.length(y[2]<0?o.div([],y,this.constants):[y[0],y[1],0])}projectRay(l){o.div(l,l,this.constants),o.normalize(l,l),o.mul$1(l,l,this.constants);const f=o.scale$2([],l,this.radius);if(f[2]>0){const y=o.scale$2([],[0,0,1],o.dot(f,[0,0,1])),x=o.scale$2([],o.normalize([],[f[0],f[1],0]),this.radius),w=o.add([],f,o.scale$2([],o.sub([],o.add([],x,y),f),2));f[0]=w[0],f[1]=w[1]}return f}}function bs(m){return m.panDelta&&m.panDelta.mag()||m.zoomDelta||m.bearingDelta||m.pitchDelta}class js{constructor(l,f){this._map=l,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fi(l),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new tg,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(f),o.bindAll(["handleEvent","handleWindowEvent"],this);const y=this._el;this._listeners=[[y,"touchstart",{passive:!0}],[y,"touchmove",{passive:!1}],[y,"touchend",void 0],[y,"touchcancel",void 0],[y,"mousedown",void 0],[y,"mousemove",void 0],[y,"mouseup",void 0],[o.window.document,"mousemove",{capture:!0}],[o.window.document,"mouseup",void 0],[y,"mouseover",void 0],[y,"mouseout",void 0],[y,"dblclick",void 0],[y,"click",void 0],[y,"keydown",{capture:!1}],[y,"keyup",void 0],[y,"wheel",{passive:!1}],[y,"contextmenu",void 0],[o.window,"blur",void 0]];for(const[x,w,P]of this._listeners)x.addEventListener(w,x===o.window.document?this.handleWindowEvent:this.handleEvent,P)}destroy(){for(const[l,f,y]of this._listeners)l.removeEventListener(f,l===o.window.document?this.handleWindowEvent:this.handleEvent,y)}_addDefaultHandlers(l){const f=this._map,y=f.getCanvasContainer();this._add("mapEvent",new Yd(f,l));const x=f.boxZoom=new Sc(f,l);this._add("boxZoom",x);const w=new Qm,P=new Ro;f.doubleClickZoom=new fh(P,w),this._add("tapZoom",w),this._add("clickZoom",P);const I=new dp;this._add("tapDragZoom",I);const D=f.touchPitch=new dh(f);this._add("touchPitch",D);const $=new ah(l),j=new sh(l);f.dragRotate=new eg(l,$,j),this._add("mouseRotate",$,["mousePitch"]),this._add("mousePitch",j,["mouseRotate"]);const J=new xl(l),ae=new Qd(f,l);f.dragPan=new rf(y,J,ae),this._add("mousePan",J),this._add("touchPan",ae,["touchZoom","touchRotate"]);const ue=new uh,me=new cp;f.touchZoomRotate=new Ac(y,me,ue,I),this._add("touchRotate",ue,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Jd(f));const pe=f.scrollZoom=new nf(f,this);this._add("scrollZoom",pe,["mousePan"]);const ve=f.keyboard=new up;this._add("keyboard",ve);for(const Q of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])l.interactive&&l[Q]&&f[Q].enable(l[Q])}_add(l,f,y){this._handlers.push({handlerName:l,handler:f,allowed:y}),this._handlersById[l]=f}stop(l){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},l),this._changes=[]}}isActive(){for(const{handler:l}of this._handlers)if(l.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!mo(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(l,f,y){for(const x in l)if(x!==y&&(!f||f.indexOf(x)<0))return!0;return!1}handleWindowEvent(l){this.handleEvent(l,`${l.type}Window`)}_getMapTouches(l){const f=[];for(const y of l)this._el.contains(y.target)&&f.push(y);return f}handleEvent(l,f){this._updatingCamera=!0;const y=l.type==="renderFrame",x=y?void 0:l,w={needsRenderFrame:!1},P={},I={},D=l.touches?this._getMapTouches(l.touches):void 0,$=D?Se(this._el,D):y?void 0:he(this._el,l);for(const{handlerName:ae,handler:ue,allowed:me}of this._handlers){if(!ue.isEnabled())continue;let pe;this._blockedByActive(I,me,ae)?ue.reset():ue[f||l.type]&&(pe=ue[f||l.type](l,$,D),this.mergeHandlerResult(w,P,pe,ae,x),pe&&pe.needsRenderFrame&&this._triggerRenderFrame()),(pe||ue.isActive())&&(I[ae]=ue)}const j={};for(const ae in this._previousActiveHandlers)I[ae]||(j[ae]=x);this._previousActiveHandlers=I,(Object.keys(j).length||bs(w))&&(this._changes.push([w,P,j]),this._triggerRenderFrame()),(Object.keys(I).length||bs(w))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:J}=w;J&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],J(this._map))}mergeHandlerResult(l,f,y,x,w){if(!y)return;o.extend(l,y);const P={handlerName:x,originalEvent:y.originalEvent||w};y.zoomDelta!==void 0&&(f.zoom=P),y.panDelta!==void 0&&(f.drag=P),y.pitchDelta!==void 0&&(f.pitch=P),y.bearingDelta!==void 0&&(f.rotate=P)}_applyChanges(){const l={},f={},y={};for(const[x,w,P]of this._changes)x.panDelta&&(l.panDelta=(l.panDelta||new o.Point(0,0))._add(x.panDelta)),x.zoomDelta&&(l.zoomDelta=(l.zoomDelta||0)+x.zoomDelta),x.bearingDelta&&(l.bearingDelta=(l.bearingDelta||0)+x.bearingDelta),x.pitchDelta&&(l.pitchDelta=(l.pitchDelta||0)+x.pitchDelta),x.around!==void 0&&(l.around=x.around),x.aroundCoord!==void 0&&(l.aroundCoord=x.aroundCoord),x.pinchAround!==void 0&&(l.pinchAround=x.pinchAround),x.noInertia&&(l.noInertia=x.noInertia),o.extend(f,w),o.extend(y,P);this._updateMapTransform(l,f,y),this._changes=[]}_updateMapTransform(l,f,y){const x=this._map,w=x.transform,P=ge=>[ge.x,ge.y,ge.z];if((ge=>{const we=this._eventsInProgress.drag;return we&&!this._handlersById[we.handlerName].isActive()})()&&!bs(l)){const ge=w.zoom;w.cameraElevationReference="sea",w.recenterOnTerrain(),w.cameraElevationReference="ground",ge!==w.zoom&&this._map._update(!0)}if(w._isCameraConstrained&&x._stop(!0),!bs(l))return void this._fireEvents(f,y,!0);let{panDelta:I,zoomDelta:D,bearingDelta:$,pitchDelta:j,around:J,aroundCoord:ae,pinchAround:ue}=l;w._isCameraConstrained&&(D>0&&(D=0),w._isCameraConstrained=!1),ue!==void 0&&(J=ue),(D||(ge=>f[ge]&&!this._eventsInProgress[ge])("drag"))&&J&&(this._dragOrigin=P(w.pointCoordinate3D(J)),this._trackingEllipsoid.setup(w._camera.position,this._dragOrigin)),w.cameraElevationReference="sea",x._stop(!0),J=J||x.transform.centerPoint,$&&(w.bearing+=$),j&&(w.pitch+=j),w._updateCameraState();const me=[0,0,0];if(I)if(w.projection.name==="mercator"){const ge=this._trackingEllipsoid.projectRay(w.screenPointToMercatorRay(J).dir),we=this._trackingEllipsoid.projectRay(w.screenPointToMercatorRay(J.sub(I)).dir);me[0]=we[0]-ge[0],me[1]=we[1]-ge[1]}else{const ge=w.pointCoordinate(J);if(w.projection.name==="globe"){I=I.rotate(-w.angle);const we=w._pixelsPerMercatorPixel/w.worldSize;me[0]=-I.x*o.mercatorScale(o.latFromMercatorY(ge.y))*we,me[1]=-I.y*o.mercatorScale(w.center.lat)*we}else{const we=w.pointCoordinate(J.sub(I));ge&&we&&(me[0]=we.x-ge.x,me[1]=we.y-ge.y)}}const pe=w.zoom,ve=[0,0,0];if(D){const ge=P(ae||w.pointCoordinate3D(J)),we={dir:o.normalize([],o.sub([],ge,w._camera.position))};if(we.dir[2]<0){const Te=w.zoomDeltaToMovement(ge,D);o.scale$2(ve,we.dir,Te)}}const Q=o.add(me,me,ve);w._translateCameraConstrained(Q),D&&Math.abs(w.zoom-pe)>1e-4&&w.recenterOnTerrain(),w.cameraElevationReference="ground",this._map._update(),l.noInertia||this._inertia.record(l),this._fireEvents(f,y,!0)}_fireEvents(l,f,y){const x=mo(this._eventsInProgress),w=mo(l),P={};for(const j in l){const{originalEvent:J}=l[j];this._eventsInProgress[j]||(P[`${j}start`]=J),this._eventsInProgress[j]=l[j]}!x&&w&&this._fireEvent("movestart",w.originalEvent);for(const j in P)this._fireEvent(j,P[j]);w&&this._fireEvent("move",w.originalEvent);for(const j in l){const{originalEvent:J}=l[j];this._fireEvent(j,J)}const I={};let D;for(const j in this._eventsInProgress){const{handlerName:J,originalEvent:ae}=this._eventsInProgress[j];this._handlersById[J].isActive()||(delete this._eventsInProgress[j],D=f[J]||ae,I[`${j}end`]=D)}for(const j in I)this._fireEvent(j,I[j]);const $=mo(this._eventsInProgress);if(y&&(x||w)&&!$){this._updatingCamera=!0;const j=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),J=ae=>ae!==0&&-this._bearingSnap<ae&&ae<this._bearingSnap;j?(J(j.bearing||this._map.getBearing())&&(j.bearing=0),this._map.easeTo(j,{originalEvent:D})):(this._map.fire(new o.Event("moveend",{originalEvent:D})),J(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(l,f){this._map.fire(new o.Event(l,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(l=>{this._frameId=void 0,this.handleEvent(new fp("renderFrame",{timeStamp:l})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Pc="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class of extends o.Evented{constructor(l,f){super(),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=f.bearingSnap,this._respectPrefersReducedMotion=f.respectPrefersReducedMotion!==!1,o.bindAll(["_renderFrameCallback"],this)}getCenter(){return new o.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(l,f){return this.jumpTo({center:l},f)}panBy(l,f,y){return l=o.Point.convert(l).mult(-1),this.panTo(this.transform.center,o.extend({offset:l},f),y)}panTo(l,f,y){return this.easeTo(o.extend({center:l},f),y)}getZoom(){return this.transform.zoom}setZoom(l,f){return this.jumpTo({zoom:l},f),this}zoomTo(l,f,y){return this.easeTo(o.extend({zoom:l},f),y)}zoomIn(l,f){return this.zoomTo(this.getZoom()+1,l,f),this}zoomOut(l,f){return this.zoomTo(this.getZoom()-1,l,f),this}getBearing(){return this.transform.bearing}setBearing(l,f){return this.jumpTo({bearing:l},f),this}getPadding(){return this.transform.padding}setPadding(l,f){return this.jumpTo({padding:l},f),this}rotateTo(l,f,y){return this.easeTo(o.extend({bearing:l},f),y)}resetNorth(l,f){return this.rotateTo(0,o.extend({duration:1e3},l),f),this}resetNorthPitch(l,f){return this.easeTo(o.extend({bearing:0,pitch:0,duration:1e3},l),f),this}snapToNorth(l,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,f):this}getPitch(){return this.transform.pitch}setPitch(l,f){return this.jumpTo({pitch:l},f),this}cameraForBounds(l,f){l=o.LngLatBounds.convert(l);const y=f&&f.bearing||0,x=f&&f.pitch||0,w=l.getNorthWest(),P=l.getSouthEast();return this._cameraForBounds(this.transform,w,P,y,x,f)}_extendCameraOptions(l){const f={top:0,bottom:0,right:0,left:0};if(typeof(l=o.extend({padding:f,offset:[0,0],maxZoom:this.transform.maxZoom},l)).padding=="number"){const y=l.padding;l.padding={top:y,bottom:y,right:y,left:y}}return l.padding=o.extend(f,l.padding),l}_minimumAABBFrustumDistance(l,f){const y=f.max[0]-f.min[0],x=f.max[1]-f.min[1];return y/x>l.aspect?y/(2*Math.tan(.5*l.fovX)*l.aspect):x/(2*Math.tan(.5*l.fovY)*l.aspect)}_cameraForBoundsOnGlobe(l,f,y,x,w,P){const I=l.clone(),D=this._extendCameraOptions(P);I.bearing=x,I.pitch=w;const $=o.LngLat.convert(f),j=o.LngLat.convert(y),J=.5*($.lat+j.lat),ae=.5*($.lng+j.lng),ue=o.latLngToECEF(J,ae),me=o.normalize([],ue),pe=o.normalize([],o.cross([],me,[0,1,0])),ve=o.cross([],pe,me),Q=[pe[0],pe[1],pe[2],0,ve[0],ve[1],ve[2],0,me[0],me[1],me[2],0,0,0,0,1],ge=[ue,o.latLngToECEF($.lat,$.lng),o.latLngToECEF(j.lat,$.lng),o.latLngToECEF(j.lat,j.lng),o.latLngToECEF($.lat,j.lng),o.latLngToECEF(J,$.lng),o.latLngToECEF(J,j.lng),o.latLngToECEF($.lat,ae),o.latLngToECEF(j.lat,ae)];let we=o.Aabb.fromPoints(ge.map(Yt=>[o.dot(pe,Yt),o.dot(ve,Yt),o.dot(me,Yt)]));const Te=o.transformMat4([],we.center,Q);o.squaredLength(Te)===0&&o.set(Te,0,0,1),o.normalize(Te,Te),o.scale$2(Te,Te,o.GLOBE_RADIUS),I.center=o.ecefToLatLng(Te);const Ne=I.getWorldToCameraMatrix(),De=o.invert(new Float64Array(16),Ne);we=o.Aabb.applyTransform(we,o.multiply([],Ne,Q)),o.transformMat4(Te,Te,Ne);const $e=.5*(we.max[2]-we.min[2]),Je=this._minimumAABBFrustumDistance(I,we),Ke=o.scale$2([],[0,0,1],$e),st=o.add(Ke,Te,Ke),Ot=Je+(I.pitch===0?0:o.distance(Te,st)),it=I.globeCenterInViewSpace,St=o.sub([],Te,[it[0],it[1],it[2]]);o.normalize(St,St),o.scale$2(St,St,Ot);const gt=o.add([],Te,St);o.transformMat4(gt,gt,De);const tn=o.earthRadius/o.GLOBE_RADIUS,mt=o.length(gt),Dt=o.mercatorZfromAltitude(Math.max(mt*tn-o.earthRadius,Number.EPSILON),0),an=Math.min(I.zoomFromMercatorZAdjusted(Dt),D.maxZoom);return an>.5*(o.GLOBE_ZOOM_THRESHOLD_MIN+o.GLOBE_ZOOM_THRESHOLD_MAX)?(I.setProjection({name:"mercator"}),I.zoom=an,this._cameraForBounds(I,f,y,x,w,P)):{center:I.center,zoom:an,bearing:x,pitch:w}}queryTerrainElevation(l,f){const y=this.transform.elevation;return y?(f=o.extend({},{exaggerated:!0},f),y.getAtPoint(o.MercatorCoordinate.fromLngLat(l),null,f.exaggerated)):null}_cameraForBounds(l,f,y,x,w,P){if(l.projection.name==="globe")return this._cameraForBoundsOnGlobe(l,f,y,x,w,P);const I=l.clone(),D=this._extendCameraOptions(P),$=I.padding;I.bearing=x,I.pitch=w;const j=o.LngLat.convert(f),J=o.LngLat.convert(y),ae=new o.LngLat(j.lng,J.lat),ue=new o.LngLat(J.lng,j.lat),me=I.project(j),pe=I.project(J),ve=this.queryTerrainElevation(j),Q=this.queryTerrainElevation(J),ge=this.queryTerrainElevation(ae),we=this.queryTerrainElevation(ue),Te=[[me.x,me.y,Math.min(ve||0,Q||0,ge||0,we||0)],[pe.x,pe.y,Math.max(ve||0,Q||0,ge||0,we||0)]];let Ne=o.Aabb.fromPoints(Te);const De=I.getWorldToCameraMatrix(),$e=o.invert(new Float64Array(16),De);Ne=o.Aabb.applyTransform(Ne,De);const Je=o.sub([],Ne.max,Ne.min),Ke=$.left||0,st=$.right||0,Ot=$.bottom||0,it=$.top||0,{left:St,right:gt,top:tn,bottom:mt}=D.padding,Dt=.5*(Ke+st),an=.5*(it+Ot),Yt=Math.min(I.scaleZoom(I.scale*Math.min((I.width-(Ke+st+St+gt))/Je[0],(I.height-(Ot+it+mt+tn))/Je[1])),D.maxZoom),hn=I.scale/I.zoomScale(Yt);Ne=new o.Aabb([Ne.min[0]-(St+Dt)*hn,Ne.min[1]-(mt+an)*hn,Ne.min[2]],[Ne.max[0]+(gt+Dt)*hn,Ne.max[1]+(tn+an)*hn,Ne.max[2]]);const tr=.5*Je[2],_r=this._minimumAABBFrustumDistance(I,Ne),Zn=[0,0,1,0];o.transformMat4$1(Zn,Zn,De),o.normalize$2(Zn,Zn);const cr=o.scale$2([],Zn,_r+tr),Lr=o.add([],Ne.center,cr),Mr=(typeof D.offset.x=="number"&&typeof D.offset.y=="number"?new o.Point(D.offset.x,D.offset.y):o.Point.convert(D.offset)).rotate(-o.degToRad(x));Ne.center[0]-=Mr.x*hn,Ne.center[1]+=Mr.y*hn,o.transformMat4(Ne.center,Ne.center,$e),o.transformMat4(Lr,Lr,$e);const Qn=[Ne.center[0],Ne.center[1],Lr[2]*I.pixelsPerMeter];o.scale$2(Qn,Qn,1/I.worldSize);const ei=o.lngFromMercatorX(Qn[0]),Xr=o.latFromMercatorY(Qn[1]),ti=Math.min(I._zoomFromMercatorZ(Qn[2]),D.maxZoom),oi=new o.LngLat(ei,Xr);return I.mercatorFromTransition&&ti<.5*(o.GLOBE_ZOOM_THRESHOLD_MIN+o.GLOBE_ZOOM_THRESHOLD_MAX)?(I.setProjection({name:"globe"}),I.zoom=ti,this._cameraForBounds(I,f,y,x,w,P)):{center:oi,zoom:ti,bearing:x,pitch:w}}fitBounds(l,f,y){const x=this.cameraForBounds(l,f);return this._fitInternal(x,f,y)}fitScreenCoordinates(l,f,y,x,w){const P=o.Point.convert(l),I=o.Point.convert(f),D=new o.Point(Math.min(P.x,I.x),Math.min(P.y,I.y)),$=new o.Point(Math.max(P.x,I.x),Math.max(P.y,I.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(P,I))return this;const j=this.transform.pointLocation3D(D),J=this.transform.pointLocation3D($),ae=this.transform.pointLocation3D(new o.Point(D.x,$.y)),ue=this.transform.pointLocation3D(new o.Point($.x,D.y)),me=[Math.min(j.lng,J.lng,ae.lng,ue.lng),Math.min(j.lat,J.lat,ae.lat,ue.lat)],pe=[Math.max(j.lng,J.lng,ae.lng,ue.lng),Math.max(j.lat,J.lat,ae.lat,ue.lat)],ve=x&&x.pitch?x.pitch:this.getPitch(),Q=this._cameraForBounds(this.transform,me,pe,y,ve,x);return this._fitInternal(Q,x,w)}_fitInternal(l,f,y){return l?(delete(f=o.extend(l,f)).padding,f.linear?this.easeTo(f,y):this.flyTo(f,y)):this}jumpTo(l,f){this.stop();const y=l.preloadOnly?this.transform.clone():this.transform;let x=!1,w=!1,P=!1;return"zoom"in l&&y.zoom!==+l.zoom&&(x=!0,y.zoom=+l.zoom),l.center!==void 0&&(y.center=o.LngLat.convert(l.center)),"bearing"in l&&y.bearing!==+l.bearing&&(w=!0,y.bearing=+l.bearing),"pitch"in l&&y.pitch!==+l.pitch&&(P=!0,y.pitch=+l.pitch),l.padding==null||y.isPaddingEqual(l.padding)||(y.padding=l.padding),l.preloadOnly?(this._preloadTiles(y),this):(this.fire(new o.Event("movestart",f)).fire(new o.Event("move",f)),x&&this.fire(new o.Event("zoomstart",f)).fire(new o.Event("zoom",f)).fire(new o.Event("zoomend",f)),w&&this.fire(new o.Event("rotatestart",f)).fire(new o.Event("rotate",f)).fire(new o.Event("rotateend",f)),P&&this.fire(new o.Event("pitchstart",f)).fire(new o.Event("pitch",f)).fire(new o.Event("pitchend",f)),this.fire(new o.Event("moveend",f)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||o.warnOnce(Pc),this.transform.getFreeCameraOptions()}setFreeCameraOptions(l,f){const y=this.transform;if(!y.projection.supportsFreeCamera)return o.warnOnce(Pc),this;this.stop();const x=y.zoom,w=y.pitch,P=y.bearing;y.setFreeCameraOptions(l);const I=x!==y.zoom,D=w!==y.pitch,$=P!==y.bearing;return this.fire(new o.Event("movestart",f)).fire(new o.Event("move",f)),I&&this.fire(new o.Event("zoomstart",f)).fire(new o.Event("zoom",f)).fire(new o.Event("zoomend",f)),$&&this.fire(new o.Event("rotatestart",f)).fire(new o.Event("rotate",f)).fire(new o.Event("rotateend",f)),D&&this.fire(new o.Event("pitchstart",f)).fire(new o.Event("pitch",f)).fire(new o.Event("pitchend",f)),this.fire(new o.Event("moveend",f)),this}easeTo(l,f){this._stop(!1,l.easeId),((l=o.extend({offset:[0,0],duration:500,easing:o.ease},l)).animate===!1||this._prefersReducedMotion(l))&&(l.duration=0);const y=this.transform,x=this.getZoom(),w=this.getBearing(),P=this.getPitch(),I=this.getPadding(),D="zoom"in l?+l.zoom:x,$="bearing"in l?this._normalizeBearing(l.bearing,w):w,j="pitch"in l?+l.pitch:P,J="padding"in l?l.padding:y.padding,ae=o.Point.convert(l.offset);let ue,me,pe;if(y.projection.name==="globe"){const Ke=o.MercatorCoordinate.fromLngLat(y.center),st=ae.rotate(-y.angle);Ke.x+=st.x/y.worldSize,Ke.y+=st.y/y.worldSize;const Ot=Ke.toLngLat(),it=o.LngLat.convert(l.center||Ot);this._normalizeCenter(it),ue=y.centerPoint.add(st),me=new o.Point(Ke.x,Ke.y).mult(y.worldSize),pe=new o.Point(o.mercatorXfromLng(it.lng),o.mercatorYfromLat(it.lat)).mult(y.worldSize).sub(me)}else{ue=y.centerPoint.add(ae);const Ke=y.pointLocation(ue),st=o.LngLat.convert(l.center||Ke);this._normalizeCenter(st),me=y.project(Ke),pe=y.project(st).sub(me)}const ve=y.zoomScale(D-x);let Q,ge;l.around&&(Q=o.LngLat.convert(l.around),ge=y.locationPoint(Q));const we=this._zooming||D!==x,Te=this._rotating||w!==$,Ne=this._pitching||j!==P,De=!y.isPaddingEqual(J),$e=Ke=>st=>{if(we&&(Ke.zoom=o.number(x,D,st)),Te&&(Ke.bearing=o.number(w,$,st)),Ne&&(Ke.pitch=o.number(P,j,st)),De&&(Ke.interpolatePadding(I,J,st),ue=Ke.centerPoint.add(ae)),Q)Ke.setLocationAtPoint(Q,ge);else{const Ot=Ke.zoomScale(Ke.zoom-x),it=D>x?Math.min(2,ve):Math.max(.5,ve),St=Math.pow(it,1-st),gt=Ke.unproject(me.add(pe.mult(st*St)).mult(Ot));Ke.setLocationAtPoint(Ke.renderWorldCopies?gt.wrap():gt,ue)}return l.preloadOnly||this._fireMoveEvents(f),Ke};if(l.preloadOnly){const Ke=this._emulate($e,l.duration,y);return this._preloadTiles(Ke),this}const Je={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=we,this._rotating=Te,this._pitching=Ne,this._padding=De,this._easeId=l.easeId,this._prepareEase(f,l.noMoveStart,Je),this._ease($e(y),Ke=>{y.recenterOnTerrain(),this._afterEase(f,Ke)},l),this}_prepareEase(l,f,y={}){this._moving=!0,this.transform.cameraElevationReference="sea",f||y.moving||this.fire(new o.Event("movestart",l)),this._zooming&&!y.zooming&&this.fire(new o.Event("zoomstart",l)),this._rotating&&!y.rotating&&this.fire(new o.Event("rotatestart",l)),this._pitching&&!y.pitching&&this.fire(new o.Event("pitchstart",l))}_fireMoveEvents(l){this.fire(new o.Event("move",l)),this._zooming&&this.fire(new o.Event("zoom",l)),this._rotating&&this.fire(new o.Event("rotate",l)),this._pitching&&this.fire(new o.Event("pitch",l))}_afterEase(l,f){if(this._easeId&&f&&this._easeId===f)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const y=this._zooming,x=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,y&&this.fire(new o.Event("zoomend",l)),x&&this.fire(new o.Event("rotateend",l)),w&&this.fire(new o.Event("pitchend",l)),this.fire(new o.Event("moveend",l))}flyTo(l,f){if(this._prefersReducedMotion(l)){const Yt=o.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Yt,f)}this.stop(),l=o.extend({offset:[0,0],speed:1.2,curve:1.42,easing:o.ease},l);const y=this.transform,x=this.getZoom(),w=this.getBearing(),P=this.getPitch(),I=this.getPadding(),D="zoom"in l?o.clamp(+l.zoom,y.minZoom,y.maxZoom):x,$="bearing"in l?this._normalizeBearing(l.bearing,w):w,j="pitch"in l?+l.pitch:P,J="padding"in l?l.padding:y.padding,ae=y.zoomScale(D-x),ue=o.Point.convert(l.offset);let me=y.centerPoint.add(ue);const pe=y.pointLocation(me),ve=o.LngLat.convert(l.center||pe);this._normalizeCenter(ve);const Q=y.project(pe),ge=y.project(ve).sub(Q);let we=l.curve;const Te=Math.max(y.width,y.height),Ne=Te/ae,De=ge.mag();if("minZoom"in l){const Yt=o.clamp(Math.min(l.minZoom,x,D),y.minZoom,y.maxZoom),hn=Te/y.zoomScale(Yt-x);we=Math.sqrt(hn/De*2)}const $e=we*we;function Je(Yt){const hn=(Ne*Ne-Te*Te+(Yt?-1:1)*$e*$e*De*De)/(2*(Yt?Ne:Te)*$e*De);return Math.log(Math.sqrt(hn*hn+1)-hn)}function Ke(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function st(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}const Ot=Je(0);let it=function(Yt){return st(Ot)/st(Ot+we*Yt)},St=function(Yt){return Te*((st(Ot)*(Ke(hn=Ot+we*Yt)/st(hn))-Ke(Ot))/$e)/De;var hn},gt=(Je(1)-Ot)/we;if(Math.abs(De)<1e-6||!isFinite(gt)){if(Math.abs(Te-Ne)<1e-6)return this.easeTo(l,f);const Yt=Ne<Te?-1:1;gt=Math.abs(Math.log(Ne/Te))/we,St=function(){return 0},it=function(hn){return Math.exp(Yt*we*hn)}}l.duration="duration"in l?+l.duration:1e3*gt/("screenSpeed"in l?+l.screenSpeed/we:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0);const tn=w!==$,mt=j!==P,Dt=!y.isPaddingEqual(J),an=Yt=>hn=>{const tr=hn*gt,_r=1/it(tr);Yt.zoom=hn===1?D:x+Yt.scaleZoom(_r),tn&&(Yt.bearing=o.number(w,$,hn)),mt&&(Yt.pitch=o.number(P,j,hn)),Dt&&(Yt.interpolatePadding(I,J,hn),me=Yt.centerPoint.add(ue));const Zn=hn===1?ve:Yt.unproject(Q.add(ge.mult(St(tr))).mult(_r));return Yt.setLocationAtPoint(Yt.renderWorldCopies?Zn.wrap():Zn,me),Yt._updateCameraOnTerrain(),l.preloadOnly||this._fireMoveEvents(f),Yt};if(l.preloadOnly){const Yt=this._emulate(an,l.duration,y);return this._preloadTiles(Yt),this}return this._zooming=!0,this._rotating=tn,this._pitching=mt,this._padding=Dt,this._prepareEase(f,!1),this._ease(an(y),()=>this._afterEase(f),l),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(l,f){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const y=this._onEaseEnd;this._onEaseEnd=void 0,y.call(this,f)}if(!l){const y=this.handlers;y&&y.stop(!1)}return this}_ease(l,f,y){y.animate===!1||y.duration===0?(l(1),f()):(this._easeStart=o.exported.now(),this._easeOptions=y,this._onEaseFrame=l,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const l=Math.min((o.exported.now()-this._easeStart)/this._easeOptions.duration,1),f=this._onEaseFrame;f&&f(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(l,f){l=o.wrap(l,-180,180);const y=Math.abs(l-f);return Math.abs(l-360-f)<y&&(l-=360),Math.abs(l+360-f)<y&&(l+=360),l}_normalizeCenter(l){const f=this.transform;if(!f.renderWorldCopies||f.maxBounds)return;const y=l.lng-f.center.lng;l.lng+=y>180?-360:y<-180?360:0}_prefersReducedMotion(l){return this._respectPrefersReducedMotion&&o.exported.prefersReducedMotion&&!(l&&l.essential)}_emulate(l,f,y){const x=Math.ceil(15*f/1e3),w=[],P=l(y.clone());for(let I=0;I<=x;I++){const D=P(I/x);w.push(D.clone())}return w}}class Wn{constructor(l={}){this.options=l,o.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(l){const f=this.options&&this.options.compact;return this._map=l,this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=O("button","mapboxgl-ctrl-attrib-button",this._container),O("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),f&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),f===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(l,f){const y=this._map._getUIString(`AttributionControl.${f}`);l.setAttribute("aria-label",y),l.removeAttribute("title"),l.firstElementChild&&l.firstElementChild.setAttribute("title",y)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let l=this._editLink;l||(l=this._editLink=this._container.querySelector(".mapbox-improve-map"));const f=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||o.config.ACCESS_TOKEN}];if(l){const y=f.reduce((x,w,P)=>(w.value&&(x+=`${w.key}=${w.value}${P<f.length-1?"&":""}`),x),"?");l.href=`${o.config.FEEDBACK_URL}/${y}#${z(this._map,!0)}`,l.rel="noopener nofollow",this._setElementTitle(l,"MapFeedback")}}_updateData(l){!l||l.sourceDataType!=="metadata"&&l.sourceDataType!=="visibility"&&l.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let l=[];if(this._map.style.stylesheet){const x=this._map.style.stylesheet;this.styleOwner=x.owner,this.styleId=x.id}const f=this._map.style._sourceCaches;for(const x in f){const w=f[x];if(w.used){const P=w.getSource();P.attribution&&l.indexOf(P.attribution)<0&&l.push(P.attribution)}}l.sort((x,w)=>x.length-w.length),l=l.filter((x,w)=>{for(let P=w+1;P<l.length;P++)if(l[P].indexOf(x)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?l=[...this.options.customAttribution,...l]:l.unshift(this.options.customAttribution));const y=l.join(" | ");y!==this._attribHTML&&(this._attribHTML=y,l.length?(this._innerContainer.innerHTML=y,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class hh{constructor(){o.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(l){this._map=l,this._container=O("div","mapboxgl-ctrl");const f=O("a","mapboxgl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://www.mapbox.com/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(l){l&&l.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const l=this._map.style._sourceCaches;if(Object.entries(l).length===0)return!0;for(const f in l){const y=l[f].getSource();if(y.hasOwnProperty("mapbox_logo")&&!y.mapbox_logo)return!1}return!0}_updateCompact(){const l=this._container.children;if(l.length){const f=l[0];this._map.getCanvasContainer().offsetWidth<250?f.classList.add("mapboxgl-compact"):f.classList.remove("mapboxgl-compact")}}}class af{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(l){const f=++this._id;return this._queue.push({callback:l,id:f,cancelled:!1}),f}remove(l){const f=this._currentlyRunning,y=f?this._queue.concat(f):this._queue;for(const x of y)if(x.id===l)return void(x.cancelled=!0)}run(l=0){const f=this._currentlyRunning=this._queue;this._queue=[];for(const y of f)if(!y.cancelled&&(y.callback(l),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function bl(m,l,f){if(m=new o.LngLat(m.lng,m.lat),l){const y=new o.LngLat(m.lng-360,m.lat),x=new o.LngLat(m.lng+360,m.lat),w=360*Math.ceil(Math.abs(m.lng-f.center.lng)/360),P=f.locationPoint(m).distSqr(l),I=l.x<0||l.y<0||l.x>f.width||l.y>f.height;f.locationPoint(y).distSqr(l)<P&&(I||Math.abs(y.lng-f.center.lng)<w)?m=y:f.locationPoint(x).distSqr(l)<P&&(I||Math.abs(x.lng-f.center.lng)<w)&&(m=x)}for(;Math.abs(m.lng-f.center.lng)>180;){const y=f.locationPoint(m);if(y.x>=0&&y.y>=0&&y.x<=f.width&&y.y<=f.height)break;m.lng>f.center.lng?m.lng-=360:m.lng+=360}return m}const Us={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Bn extends o.Evented{constructor(l,f){if(super(),(l instanceof o.window.HTMLElement||f)&&(l=o.extend({element:l},f)),o.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=l&&l.occludedOpacity||.2,l&&l.element)this._element=l.element,this._offset=o.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=O("div");const x=41,w=27,P=N("svg",{display:"block",height:x*this._scale+"px",width:w*this._scale+"px",viewBox:`0 0 ${w} ${x}`},this._element),I=N("radialGradient",{id:"shadowGradient"},N("defs",{},P));N("stop",{offset:"10%","stop-opacity":.4},I),N("stop",{offset:"100%","stop-opacity":.05},I),N("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},P),N("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},P),N("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},P),N("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},P),this._offset=o.Point.convert(l&&l.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const y=this._element.classList;for(const x in Us)y.remove(`mapboxgl-marker-anchor-${x}`);y.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(l){return l===this._map||(this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._updateMoving),l.on("moveend",this._update),l.on("remove",this._clearFadeTimer),l._addMarker(this),this.setDraggable(this._draggable),this._update(),l.on("click",this._onMapClick)),this}remove(){const l=this._map;return l&&(l.off("click",this._onMapClick),l.off("move",this._updateMoving),l.off("moveend",this._update),l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler),l.off("mouseup",this._onUp),l.off("touchend",this._onUp),l.off("mousemove",this._onMove),l.off("touchmove",this._onMove),l.off("remove",this._clearFadeTimer),l._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(l){return this._lngLat=o.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){const x=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[x,-1*(38.1-13.5+x)],"bottom-right":[-x,-1*(38.1-13.5+x)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=l,l._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(l){const f=l.code,y=l.charCode||l.keyCode;f!=="Space"&&f!=="Enter"&&y!==32&&y!==13||this.togglePopup()}_onMapClick(l){const f=l.originalEvent.target,y=this._element;this._popup&&(f===y||y.contains(f))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const l=this._popup;return l?(l.isOpen()?(l.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(l.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const l=this._map,f=this._pos;if(!l||!f)return!1;const y=l.unproject(f),x=l.getFreeCameraOptions();if(!x.position)return!1;const w=x.position.toLngLat();return w.distanceTo(y)<.9*w.distanceTo(this._lngLat)}_evaluateOpacity(){const l=this._map;if(!l)return;const f=this._pos;if(!f||f.x<0||f.x>l.transform.width||f.y<0||f.y>l.transform.height)return void this._clearFadeTimer();const y=l.unproject(f);let x;l._showingGlobe()&&o.isLngLatBehindGlobe(l.transform,this._lngLat)?x=0:(x=1-l._queryFogOpacity(y),l.transform._terrainEnabled()&&l.getTerrain()&&this._behindTerrain()&&(x*=this._occludedOpacity)),this._element.style.opacity=`${x}`,this._element.style.pointerEvents=x>0?"auto":"none",this._popup&&this._popup._setOpacity(x),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const l=this._pos;if(!l||!this._map)return;const f=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${l.x}px,${l.y}px)
            ${Us[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${f.x}px,${f.y}px)
        `}_calculateXYTransform(){const l=this._pos,f=this._map,y=this.getPitchAlignment();if(!f||!l||y!=="map")return"";if(!f._showingGlobe()){const D=f.getPitch();return D?`rotateX(${D}deg)`:""}const x=o.radToDeg(o.globeTiltAtLngLat(f.transform,this._lngLat)),w=l.sub(o.globeCenterToScreenPoint(f.transform)),P=Math.abs(w.x)+Math.abs(w.y);if(P===0)return"";const I=x/P;return`rotateX(${-w.y*I}deg) rotateY(${w.x*I}deg)`}_calculateZTransform(){const l=this._pos,f=this._map;if(!f||!l)return"";let y=0;const x=this.getRotationAlignment();if(x==="map")if(f._showingGlobe()){const w=f.project(new o.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),P=f.project(new o.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(w);y=o.radToDeg(Math.atan2(P.y,P.x))-90}else y=-f.getBearing();else if(x==="horizon"){const w=o.smoothstep(4,6,f.getZoom()),P=o.globeCenterToScreenPoint(f.transform);P.y+=w*f.transform.height;const I=l.sub(P),D=o.radToDeg(Math.atan2(I.y,I.x));y=(D>90?D-270:D+90)*(1-w)}return y+=this._rotation,y?`rotateZ(${y}deg)`:""}_update(l){o.window.cancelAnimationFrame(this._updateFrameId);const f=this._map;f&&(f.transform.renderWorldCopies&&(this._lngLat=bl(this._lngLat,this._pos,f.transform)),this._pos=f.project(this._lngLat),l===!0?this._updateFrameId=o.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),f._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(f._showingGlobe()||f.getTerrain()||f.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(l){return this._offset=o.Point.convert(l),this._update(),this}_onMove(l){const f=this._map;if(!f)return;const y=this._pointerdownPos,x=this._positionDelta;if(y&&x){if(!this._isDragging){const w=this._clickTolerance||f._clickTolerance;if(l.point.dist(y)<w)return;this._isDragging=!0}this._pos=l.point.sub(x),this._lngLat=f.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.Event("dragstart"))),this.fire(new o.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const l=this._map;l&&(l.off("mousemove",this._onMove),l.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new o.Event("dragend")),this._state="inactive"}_addDragHandler(l){const f=this._map,y=this._pos;f&&y&&this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(y),this._pointerdownPos=l.point,this._state="pending",f.on("mousemove",this._onMove),f.on("touchmove",this._onMove),f.once("mouseup",this._onUp),f.once("touchend",this._onUp))}setDraggable(l){this._draggable=!!l;const f=this._map;return f&&(l?(f.on("mousedown",this._addDragHandler),f.on("touchstart",this._addDragHandler)):(f.off("mousedown",this._addDragHandler),f.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(l){return this._rotation=l||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(l){return this._rotationAlignment=l||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(l){return this._pitchAlignment=l||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(l){return this._occludedOpacity=l||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const ph={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},gd=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ce(m=new o.Point(0,0),l="bottom"){if(typeof m=="number"){const f=Math.round(Math.sqrt(.5*Math.pow(m,2)));switch(l){case"top":return new o.Point(0,m);case"top-left":return new o.Point(f,f);case"top-right":return new o.Point(-f,f);case"bottom":return new o.Point(0,-m);case"bottom-left":return new o.Point(f,-f);case"bottom-right":return new o.Point(-f,-f);case"left":return new o.Point(m,0);case"right":return new o.Point(-m,0)}return new o.Point(0,0)}return m instanceof o.Point||Array.isArray(m)?o.Point.convert(m):o.Point.convert(m[l]||[0,0])}class M{constructor(l){this.jumpTo(l)}getValue(l){if(l<=this._startTime)return this._start;if(l>=this._endTime)return this._end;const f=o.easeCubicInOut((l-this._startTime)/(this._endTime-this._startTime));return this._start*(1-f)+this._end*f}isEasing(l){return l>=this._startTime&&l<=this._endTime}jumpTo(l){this._startTime=-1/0,this._endTime=-1/0,this._start=l,this._end=l}easeTo(l,f,y){this._start=this.getValue(f),this._end=l,this._startTime=f,this._endTime=f+y}}const K={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},_e={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},at={showCompass:!0,showZoom:!0,visualizePitch:!1};class dt{constructor(l,f,y=!1){this._clickTolerance=10,this.element=f,this.mouseRotate=new ah({clickTolerance:l.dragRotate._mouseRotate._clickTolerance}),this.map=l,y&&(this.mousePitch=new sh({clickTolerance:l.dragRotate._mousePitch._clickTolerance})),o.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),f.addEventListener("mousedown",this.mousedown),f.addEventListener("touchstart",this.touchstart,{passive:!1}),f.addEventListener("touchmove",this.touchmove),f.addEventListener("touchend",this.touchend),f.addEventListener("touchcancel",this.reset)}down(l,f){this.mouseRotate.mousedown(l,f),this.mousePitch&&this.mousePitch.mousedown(l,f),q()}move(l,f){const y=this.map,x=this.mouseRotate.mousemoveWindow(l,f),w=x&&x.bearingDelta;if(w&&y.setBearing(y.getBearing()+w),this.mousePitch){const P=this.mousePitch.mousemoveWindow(l,f),I=P&&P.pitchDelta;I&&y.setPitch(y.getPitch()+I)}}off(){const l=this.element;l.removeEventListener("mousedown",this.mousedown),l.removeEventListener("touchstart",this.touchstart,{passive:!1}),l.removeEventListener("touchmove",this.touchmove),l.removeEventListener("touchend",this.touchend),l.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){W(),o.window.removeEventListener("mousemove",this.mousemove),o.window.removeEventListener("mouseup",this.mouseup)}mousedown(l){this.down(o.extend({},l,{ctrlKey:!0,preventDefault:()=>l.preventDefault()}),he(this.element,l)),o.window.addEventListener("mousemove",this.mousemove),o.window.addEventListener("mouseup",this.mouseup)}mousemove(l){this.move(l,he(this.element,l))}mouseup(l){this.mouseRotate.mouseupWindow(l),this.mousePitch&&this.mousePitch.mouseupWindow(l),this.offTemp()}touchstart(l){l.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Se(this.element,l.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>l.preventDefault()},this._startPos))}touchmove(l){l.targetTouches.length!==1?this.reset():(this._lastPos=Se(this.element,l.targetTouches)[0],this.move({preventDefault:()=>l.preventDefault()},this._lastPos))}touchend(l){l.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Ft={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},dn={maxWidth:100,unit:"metric"},Un={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Jn={version:o.version,supported:E,setRTLTextPlugin:o.setRTLTextPlugin,getRTLTextPluginStatus:o.getRTLTextPluginStatus,Map:class extends of{constructor(m){if(o.LivePerformanceUtils.mark(o.PerformanceMarkers.create),(m=o.extend({},_e,m)).minZoom!=null&&m.maxZoom!=null&&m.minZoom>m.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(m.minPitch!=null&&m.maxPitch!=null&&m.minPitch>m.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(m.minPitch!=null&&m.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(m.maxPitch!=null&&m.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(m.antialias&&o.isSafariWithAntialiasingBug(o.window)&&(m.antialias=!1,o.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new zs(m.minZoom,m.maxZoom,m.minPitch,m.maxPitch,m.renderWorldCopies),m),this._interactive=m.interactive,this._minTileCacheSize=m.minTileCacheSize,this._maxTileCacheSize=m.maxTileCacheSize,this._failIfMajorPerformanceCaveat=m.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=m.preserveDrawingBuffer,this._antialias=m.antialias,this._useWebGL2=m.useWebGL2,this._trackResize=m.trackResize,this._bearingSnap=m.bearingSnap,this._refreshExpiredTiles=m.refreshExpiredTiles,this._fadeDuration=m.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=m.crossSourceCollisions,this._collectResourceTiming=m.collectResourceTiming,this._optimizeForTerrain=m.optimizeForTerrain,this._language=this._parseLanguage(m.language),this._worldview=m.worldview,this._renderTaskQueue=new af,this._domRenderTaskQueue=new af,this._controls=[],this._markers=[],this._popups=[],this._mapId=o.uniqueId(),this._locale=o.extend({},K,m.locale),this._clickTolerance=m.clickTolerance,this._cooperativeGestures=m.cooperativeGestures,this._performanceMetricsCollection=m.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new M(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new o.RequestManager(m.transformRequest,m.accessToken,m.testMode),this._silenceAuthErrors=!!m.testMode,typeof m.container=="string"){if(this._container=o.window.document.getElementById(m.container),!this._container)throw new Error(`Container '${m.container}' not found.`)}else{if(!(m.container instanceof o.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=m.container}if(this._container.childNodes.length>0&&o.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),m.maxBounds&&this.setMaxBounds(m.maxBounds),o.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),o.window!==void 0&&(o.window.addEventListener("online",this._onWindowOnline,!1),o.window.addEventListener("resize",this._onWindowResize,!1),o.window.addEventListener("orientationchange",this._onWindowResize,!1),o.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),o.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new js(this,m),this._localFontFamily=m.localFontFamily,this._localIdeographFontFamily=m.localIdeographFontFamily,m.style&&this.setStyle(m.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),m.projection&&this.setProjection(m.projection),this._hash=m.hash&&new L(typeof m.hash=="string"&&m.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),m.bounds&&(this.resize(),this.fitBounds(m.bounds,o.extend({},m.fitBoundsOptions,{duration:0})))),this.resize(),m.attributionControl&&this.addControl(new Wn({customAttribution:m.customAttribution})),this._logoControl=new hh,this.addControl(this._logoControl,m.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new o.Event(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new o.Event(`${l.dataType}dataloading`,l))})}_getMapId(){return this._mapId}addControl(m,l){if(l===void 0&&(l=m.getDefaultPosition?m.getDefaultPosition():"top-right"),!m||!m.onAdd)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=m.onAdd(this);this._controls.push(m);const y=this._controlPositions[l];return l.indexOf("bottom")!==-1?y.insertBefore(f,y.firstChild):y.appendChild(f),this}removeControl(m){if(!m||!m.onRemove)return this.fire(new o.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const l=this._controls.indexOf(m);return l>-1&&this._controls.splice(l,1),m.onRemove(this),this}hasControl(m){return this._controls.indexOf(m)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(m){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const l=!this._moving;return l&&this.fire(new o.Event("movestart",m)).fire(new o.Event("move",m)),this.fire(new o.Event("resize",m)),l&&this.fire(new o.Event("moveend",m)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(m){return this.transform.setMaxBounds(o.LngLatBounds.convert(m)),this._update()}setMinZoom(m){if((m=m??-2)>=-2&&m<=this.transform.maxZoom)return this.transform.minZoom=m,this._update(),this.getZoom()<m?this.setZoom(m):this.fire(new o.Event("zoomstart")).fire(new o.Event("zoom")).fire(new o.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(m){if((m=m??22)>=this.transform.minZoom)return this.transform.maxZoom=m,this._update(),this.getZoom()>m?this.setZoom(m):this.fire(new o.Event("zoomstart")).fire(new o.Event("zoom")).fire(new o.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(m){if((m=m??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(m>=0&&m<=this.transform.maxPitch)return this.transform.minPitch=m,this._update(),this.getPitch()<m?this.setPitch(m):this.fire(new o.Event("pitchstart")).fire(new o.Event("pitch")).fire(new o.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(m){if((m=m??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(m>=this.transform.minPitch)return this.transform.maxPitch=m,this._update(),this.getPitch()>m?this.setPitch(m):this.fire(new o.Event("pitchstart")).fire(new o.Event("pitch")).fire(new o.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(m){return this.transform.renderWorldCopies=m,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(m){return m==="auto"?o.window.navigator.language:Array.isArray(m)?m.length===0?void 0:m.map(l=>l==="auto"?o.window.navigator.language:l):m}setLanguage(m){const l=this._parseLanguage(m);if(!this.style||l===this._language)return this;this._language=l,this.style._reloadSources();for(const f of this._controls)f._setLanguage&&f._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(m){return this.style&&m!==this._worldview?(this._worldview=m,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(m){return this._lazyInitEmptyStyle(),m?typeof m=="string"&&(m={name:m}):m=null,this._useExplicitProjection=!!m,this._prioritizeAndUpdateProjection(m,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const m=this.transform,l=m.projection.name;let f;l==="globe"&&m.zoom>=o.GLOBE_ZOOM_THRESHOLD_MAX?(m.setMercatorFromTransition(),f=!0):l==="mercator"&&m.zoom<o.GLOBE_ZOOM_THRESHOLD_MAX&&(m.setProjection({name:"globe"}),f=!0),f&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(m,l){return this._updateProjection(m||l||{name:"mercator"})}_updateProjection(m){let l;if(l=m.name==="globe"&&this.transform.zoom>=o.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(m),this.style.applyProjectionUpdate(),l){this.painter.clearBackgroundTiles();for(const f in this.style._sourceCaches)this.style._sourceCaches[f].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(m){return this.transform.locationPoint3D(o.LngLat.convert(m))}unproject(m){return this.transform.pointLocation3D(o.Point.convert(m))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(m,l,f){if(m==="mouseenter"||m==="mouseover"){let y=!1;const x=P=>{const I=l.filter($=>this.getLayer($)),D=I.length?this.queryRenderedFeatures(P.point,{layers:I}):[];D.length?y||(y=!0,f.call(this,new Di(m,this,P.originalEvent,{features:D}))):y=!1},w=()=>{y=!1};return{layers:new Set(l),listener:f,delegates:{mousemove:x,mouseout:w}}}if(m==="mouseleave"||m==="mouseout"){let y=!1;const x=P=>{const I=l.filter(D=>this.getLayer(D));(I.length?this.queryRenderedFeatures(P.point,{layers:I}):[]).length?y=!0:y&&(y=!1,f.call(this,new Di(m,this,P.originalEvent)))},w=P=>{y&&(y=!1,f.call(this,new Di(m,this,P.originalEvent)))};return{layers:new Set(l),listener:f,delegates:{mousemove:x,mouseout:w}}}{const y=x=>{const w=l.filter(I=>this.getLayer(I)),P=w.length?this.queryRenderedFeatures(x.point,{layers:w}):[];P.length&&(x.features=P,f.call(this,x),delete x.features)};return{layers:new Set(l),listener:f,delegates:{[m]:y}}}}on(m,l,f){if(f===void 0)return super.on(m,l);Array.isArray(l)||(l=[l]);const y=this._createDelegatedListener(m,l,f);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[m]=this._delegatedListeners[m]||[],this._delegatedListeners[m].push(y);for(const x in y.delegates)this.on(x,y.delegates[x]);return this}once(m,l,f){if(f===void 0)return super.once(m,l);Array.isArray(l)||(l=[l]);const y=this._createDelegatedListener(m,l,f);for(const x in y.delegates)this.once(x,y.delegates[x]);return this}off(m,l,f){if(f===void 0)return super.off(m,l);l=new Set(Array.isArray(l)?l:[l]);const y=(w,P)=>{if(w.size!==P.size)return!1;for(const I of w)if(!P.has(I))return!1;return!0},x=this._delegatedListeners?this._delegatedListeners[m]:void 0;return x&&(w=>{for(let P=0;P<w.length;P++){const I=w[P];if(I.listener===f&&y(I.layers,l)){for(const D in I.delegates)this.off(D,I.delegates[D]);return w.splice(P,1),this}}})(x),this}queryRenderedFeatures(m,l){return this.style?(l!==void 0||m===void 0||m instanceof o.Point||Array.isArray(m)||(l=m,m=void 0),this.style.queryRenderedFeatures(m=m||[[0,0],[this.transform.width,this.transform.height]],l=l||{},this.transform)):[]}querySourceFeatures(m,l){return this.style.querySourceFeatures(m,l)}isPointOnSurface(m){const{name:l}=this.transform.projection;return l!=="globe"&&l!=="mercator"&&o.warnOnce(`${l} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(o.Point.convert(m))}setStyle(m,l){return(l=o.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},l)).diff!==!1&&l.localIdeographFontFamily===this._localIdeographFontFamily&&l.localFontFamily===this._localFontFamily&&this.style&&m?(this._diffStyle(m,l),this):(this._localIdeographFontFamily=l.localIdeographFontFamily,this._localFontFamily=l.localFontFamily,this._updateStyle(m,l))}_getUIString(m){const l=this._locale[m];if(l==null)throw new Error(`Missing UI string '${m}'`);return l}_updateStyle(m,l){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),m&&(this.style=new Ii(this,l||{}),this.style.setEventedParent(this,{style:this.style}),typeof m=="string"?this.style.loadURL(m):this.style.loadJSON(m)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ii(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(m,l){if(typeof m=="string"){const f=this._requestManager.normalizeStyleURL(m),y=this._requestManager.transformRequest(f,o.ResourceType.Style);o.getJSON(y,(x,w)=>{x?this.fire(new o.ErrorEvent(x)):w&&this._updateDiff(w,l)})}else typeof m=="object"&&this._updateDiff(m,l)}_updateDiff(m,l){try{this.style.setState(m)&&this._update(!0)}catch(f){o.warnOnce(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(m,l)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(o.warnOnce("There is no style added to the map."),!1)}addSource(m,l){return this._lazyInitEmptyStyle(),this.style.addSource(m,l),this._update(!0)}isSourceLoaded(m){return!!this.style&&this.style._isSourceCacheLoaded(m)}areTilesLoaded(){const m=this.style&&this.style._sourceCaches;for(const l in m){const f=m[l]._tiles;for(const y in f){const x=f[y];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}addSourceType(m,l,f){this._lazyInitEmptyStyle(),this.style.addSourceType(m,l,f)}removeSource(m){return this.style.removeSource(m),this._updateTerrain(),this._update(!0)}getSource(m){return this.style.getSource(m)}addImage(m,l,{pixelRatio:f=1,sdf:y=!1,stretchX:x,stretchY:w,content:P}={}){if(this._lazyInitEmptyStyle(),l instanceof o.window.HTMLImageElement||o.window.ImageBitmap&&l instanceof o.window.ImageBitmap){const{width:I,height:D,data:$}=o.exported.getImageData(l);this.style.addImage(m,{data:new o.RGBAImage({width:I,height:D},$),pixelRatio:f,stretchX:x,stretchY:w,content:P,sdf:y,version:0})}else if(l.width===void 0||l.height===void 0)this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:I,height:D}=l,$=l;this.style.addImage(m,{data:new o.RGBAImage({width:I,height:D},new Uint8Array($.data)),pixelRatio:f,stretchX:x,stretchY:w,content:P,sdf:y,version:0,userImage:$}),$.onAdd&&$.onAdd(this,m)}}updateImage(m,l){const f=this.style.getImage(m);if(!f)return void this.fire(new o.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const y=l instanceof o.window.HTMLImageElement||o.window.ImageBitmap&&l instanceof o.window.ImageBitmap?o.exported.getImageData(l):l,{width:x,height:w}=y;x!==void 0&&w!==void 0?x===f.data.width&&w===f.data.height?(f.data.replace(y.data,!(l instanceof o.window.HTMLImageElement||o.window.ImageBitmap&&l instanceof o.window.ImageBitmap)),this.style.updateImage(m,f)):this.fire(new o.ErrorEvent(new Error(`The width and height of the updated image (${x}, ${w})
                must be that same as the previous version of the image
                (${f.data.width}, ${f.data.height})`))):this.fire(new o.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(m){return m?!!this.style.getImage(m):(this.fire(new o.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(m){this.style.removeImage(m)}loadImage(m,l){o.getImage(this._requestManager.transformRequest(m,o.ResourceType.Image),(f,y)=>{l(f,y instanceof o.window.HTMLImageElement?o.exported.getImageData(y):y)})}listImages(){return this.style.listImages()}addLayer(m,l){return this._lazyInitEmptyStyle(),this.style.addLayer(m,l),this._update(!0)}moveLayer(m,l){return this.style.moveLayer(m,l),this._update(!0)}removeLayer(m){return this.style.removeLayer(m),this._update(!0)}getLayer(m){return this.style.getLayer(m)}setLayerZoomRange(m,l,f){return this.style.setLayerZoomRange(m,l,f),this._update(!0)}setFilter(m,l,f={}){return this.style.setFilter(m,l,f),this._update(!0)}getFilter(m){return this.style.getFilter(m)}setPaintProperty(m,l,f,y={}){return this.style.setPaintProperty(m,l,f,y),this._update(!0)}getPaintProperty(m,l){return this.style.getPaintProperty(m,l)}setLayoutProperty(m,l,f,y={}){return this.style.setLayoutProperty(m,l,f,y),this._update(!0)}getLayoutProperty(m,l){return this.style.getLayoutProperty(m,l)}setLight(m,l={}){return this._lazyInitEmptyStyle(),this.style.setLight(m,l),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(m){return this._lazyInitEmptyStyle(),!m&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(m),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(m){return this._lazyInitEmptyStyle(),this.style.setFog(m),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(m){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(o.LngLat.convert(m),this.transform):0}setFeatureState(m,l){return this.style.setFeatureState(m,l),this._update()}removeFeatureState(m,l){return this.style.removeFeatureState(m,l),this._update()}getFeatureState(m){return this.style.getFeatureState(m)}_updateContainerDimensions(){if(!this._container)return;const m=this._container.getBoundingClientRect().width||400,l=this._container.getBoundingClientRect().height||300;let f,y,x,w=this._container;for(;w&&(!y||!x);){const P=o.window.getComputedStyle(w).transform;P&&P!=="none"&&(f=P.match(/matrix.*\((.+)\)/)[1].split(", "),f[0]&&f[0]!=="0"&&f[0]!=="1"&&(y=f[0]),f[3]&&f[3]!=="0"&&f[3]!=="1"&&(x=f[3])),w=w.parentElement}this._containerWidth=y?Math.abs(m/y):m,this._containerHeight=x?Math.abs(l/x):l}_detectMissingCSS(){o.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&o.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const m=this._container;m.classList.add("mapboxgl-map"),(this._missingCSSCanary=O("div","mapboxgl-canary",m)).style.visibility="hidden",this._detectMissingCSS();const l=this._canvasContainer=O("div","mapboxgl-canvas-container",m);this._interactive&&l.classList.add("mapboxgl-interactive"),this._canvas=O("canvas","mapboxgl-canvas",l),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const f=this._controlContainer=O("div","mapboxgl-control-container",m),y=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(x=>{y[x]=O("div",`mapboxgl-ctrl-${x}`,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(m,l){const f=o.exported.devicePixelRatio||1;this._canvas.width=f*Math.ceil(m),this._canvas.height=f*Math.ceil(l),this._canvas.style.width=`${m}px`,this._canvas.style.height=`${l}px`}_addMarker(m){this._markers.push(m)}_removeMarker(m){const l=this._markers.indexOf(m);l!==-1&&this._markers.splice(l,1)}_addPopup(m){this._popups.push(m)}_removePopup(m){const l=this._popups.indexOf(m);l!==-1&&this._popups.splice(l,1)}_setupPainter(){const m=o.extend({},E.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),l=this._useWebGL2&&this._canvas.getContext("webgl2",m),f=l||this._canvas.getContext("webgl",m)||this._canvas.getContext("experimental-webgl",m);f?(this._useWebGL2&&!l&&o.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),o.storeAuthState(f,!0),this.painter=new _l(f,this.transform,!!l),this.on("data",y=>{y.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),o.exported$1.testSupport(f)):this.fire(new o.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(m){m.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.Event("webglcontextlost",{originalEvent:m}))}_contextRestored(m){this._setupPainter(),this.resize(),this._update(),this.fire(new o.Event("webglcontextrestored",{originalEvent:m}))}_onMapScroll(m){if(m.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(m){return this.style?(this._styleDirty=this._styleDirty||m,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(m){return this._update(),this._renderTaskQueue.add(m)}_cancelRenderFrame(m){this._renderTaskQueue.remove(m)}_requestDomTask(m){!this.loaded()||this.loaded()&&!this.isMoving()?m():this._domRenderTaskQueue.add(m)}_render(m){let l;const f=this.painter.context.extTimerQuery,y=o.exported.now();if(this.listens("gpu-timing-frame")&&(l=f.createQueryEXT(),f.beginQueryEXT(f.TIME_ELAPSED_EXT,l)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],o.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],o.window.performance.now())),this._renderTaskQueue.run(m),this._domRenderTaskQueue.run(m),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const I=this.transform.zoom,D=this.transform.pitch,$=o.exported.now(),j=new o.EvaluationParameters(I,{now:$,fadeDuration:x,pitch:D,transition:this.style.getTransition()});this.style.update(j)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let w=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),w=this._updateAverageElevation(y),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):w=this._updateAverageElevation(y),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new o.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new o.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),l){const I=o.exported.now()-y;f.endQueryEXT(f.TIME_ELAPSED_EXT,l),setTimeout(()=>{const D=f.getQueryObjectEXT(l,f.QUERY_RESULT_EXT)/1e6;f.deleteQueryEXT(l),this.fire(new o.Event("gpu-timing-frame",{cpuTime:I,gpuTime:D})),o.window.performance.mark("frame-gpu",{startTime:y,detail:{gpuTime:D}})},50)}if(this.listens("gpu-timing-layer")){const I=this.painter.collectGpuTimers();setTimeout(()=>{const D=this.painter.queryGpuTimers(I);this.fire(new o.Event("gpu-timing-layer",{layerTimes:D}))},50)}if(this.listens("gpu-timing-deferred-render")){const I=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const D=this.painter.queryGpuTimeDeferredRender(I);this.fire(new o.Event("gpu-timing-deferred-render",{gpuTime:D}))},50)}const P=this._sourcesDirty||this._styleDirty||this._placementDirty||w;if(P||this._repaint)this.triggerRepaint();else{const I=!this.isMoving()&&this.loaded();if(I&&(w=this._updateAverageElevation(y,!0)),w)this.triggerRepaint();else if(this._triggerFrame(!1),I&&(this.fire(new o.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const D=this._calculateSpeedIndex();this.fire(new o.Event("speedindexcompleted",{speedIndex:D})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||P||(this._fullyLoaded=!0,o.LivePerformanceUtils.mark(o.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&o.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(m){for(const l of this._markers)m&&!this.getRenderWorldCopies()&&(l._lngLat=l._lngLat.wrap()),l._update();for(const l of this._popups)!m||this.getRenderWorldCopies()||l._trackPointer||(l._lngLat=l._lngLat.wrap()),l._update()}_updateAverageElevation(m,l=!1){const f=y=>(this.transform.averageElevation=y,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&f(0);if((l||m-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(m)){const y=this.transform.averageElevation;let x=this.transform.sampleAverageElevation(),w=!1;this.transform.elevation&&(w=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=m;const P=Math.abs(y-x);if(P>1){if(this._isInitialLoad||w)return this._averageElevation.jumpTo(x),f(x);this._averageElevation.easeTo(x,m,300)}else if(P>1e-4)return this._averageElevation.jumpTo(x),f(x)}return!!this._averageElevation.isEasing(m)&&f(this._averageElevation.getValue(m))}_authenticate(){o.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,m=>{if(m&&(m.message===o.AUTH_ERR_MSG||m.status===401)){const l=this.painter.context.gl;o.storeAuthState(l,!1),this._logoControl instanceof hh&&this._logoControl._updateLogo(),l&&l.clear(l.DEPTH_BUFFER_BIT|l.COLOR_BUFFER_BIT|l.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new o.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),o.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const m=this._isDragging();this.painter.updateTerrain(this.style,m)}_calculateSpeedIndex(){const m=this.painter.canvasCopy(),l=this.painter.getCanvasCopiesAndTimestamps();l.timeStamps.push(performance.now());const f=this.painter.context.gl,y=f.createFramebuffer();function x(w){f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,w,0);const P=new Uint8Array(f.drawingBufferWidth*f.drawingBufferHeight*4);return f.readPixels(0,0,f.drawingBufferWidth,f.drawingBufferHeight,f.RGBA,f.UNSIGNED_BYTE,P),P}return f.bindFramebuffer(f.FRAMEBUFFER,y),this._canvasPixelComparison(x(m),l.canvasCopies.map(x),l.timeStamps)}_canvasPixelComparison(m,l,f){let y=f[1]-f[0];const x=m.length/4;for(let w=0;w<l.length;w++){const P=l[w];let I=0;for(let D=0;D<P.length;D+=4)P[D]===m[D]&&P[D+1]===m[D+1]&&P[D+2]===m[D+2]&&P[D+3]===m[D+3]&&(I+=1);y+=(f[w+2]-f[w+1])*(1-I/x)}return y}remove(){this._hash&&this._hash.remove();for(const l of this._controls)l.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),o.window!==void 0&&(o.window.removeEventListener("resize",this._onWindowResize,!1),o.window.removeEventListener("orientationchange",this._onWindowResize,!1),o.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),o.window.removeEventListener("online",this._onWindowOnline,!1),o.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const m=this.painter.context.gl.getExtension("WEBGL_lose_context");m&&m.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),o.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new o.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(m){this._renderNextFrame=this._renderNextFrame||m,this.style&&!this._frame&&(this._frame=o.exported.frame(l=>{const f=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,f&&this._render(l)}))}_preloadTiles(m){const l=this.style?Object.values(this.style._sourceCaches):[];return o.asyncAll(l,(f,y)=>f._preloadTiles(m,y),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(m){this._trackResize&&this.resize({originalEvent:m})._update()}_onVisibilityChange(){o.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(m){this._showTileBoundaries!==m&&(this._showTileBoundaries=m,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(m){this._showTerrainWireframe!==m&&(this._showTerrainWireframe=m,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(m){this._speedIndexTiming!==m&&(this._speedIndexTiming=m,this._update())}get showPadding(){return!!this._showPadding}set showPadding(m){this._showPadding!==m&&(this._showPadding=m,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(m){this._showCollisionBoxes!==m&&(this._showCollisionBoxes=m,m?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(m){this._showOverdrawInspector!==m&&(this._showOverdrawInspector=m,this._update())}get repaint(){return!!this._repaint}set repaint(m){this._repaint!==m&&(this._repaint=m,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(m){this._vertices=m,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(m){this._showTileAABBs!==m&&(this._showTileAABBs=m,m&&this._update())}_setCacheLimits(m,l){o.setCacheLimits(m,l)}get version(){return o.version}},NavigationControl:class{constructor(m){this.options=o.extend({},at,m),this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",l=>l.preventDefault()),this.options.showZoom&&(o.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",l=>{this._map&&this._map.zoomIn({},{originalEvent:l})}),O("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",l=>{this._map&&this._map.zoomOut({},{originalEvent:l})}),O("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(o.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",l=>{const f=this._map;f&&(this.options.visualizePitch?f.resetNorthPitch({},{originalEvent:l}):f.resetNorth({},{originalEvent:l}))}),this._compassIcon=O("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const m=this._map;if(!m)return;const l=m.getZoom(),f=l===m.getMaxZoom(),y=l===m.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=y,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",y.toString())}_rotateCompassArrow(){const m=this._map;if(!m)return;const l=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(m.transform.pitch*(Math.PI/180)),.5)}) rotateX(${m.transform.pitch}deg) rotateZ(${m.transform.angle*(180/Math.PI)}deg)`:`rotate(${m.transform.angle*(180/Math.PI)}deg)`;m._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=l)})}onAdd(m){return this._map=m,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),m.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&m.on("pitch",this._rotateCompassArrow),m.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new dt(m,this._compass,this.options.visualizePitch)),this._container}onRemove(){const m=this._map;m&&(this._container.remove(),this.options.showZoom&&m.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&m.off("pitch",this._rotateCompassArrow),m.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(m,l){const f=O("button",m,this._container);return f.type="button",f.addEventListener("click",l),f}_setButtonTitle(m,l){if(!this._map)return;const f=this._map._getUIString(`NavigationControl.${l}`);m.setAttribute("aria-label",f),m.firstElementChild&&m.firstElementChild.setAttribute("title",f)}},GeolocateControl:class extends o.Evented{constructor(m){super(),this.options=o.extend({geolocation:o.window.navigator.geolocation},Ft,m),o.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=_a(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(m){return this._map=m,this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(m){const l=(f=!!this.options.geolocation)=>{this._supportsGeolocation=f,m(f)};this._supportsGeolocation!==void 0?m(this._supportsGeolocation):o.window.navigator.permissions!==void 0?o.window.navigator.permissions.query({name:"geolocation"}).then(f=>l(f.state!=="denied")).catch(()=>l()):l()}_isOutOfMapMaxBounds(m){const l=this._map.getMaxBounds(),f=m.coords;return!!l&&(f.longitude<l.getWest()||f.longitude>l.getEast()||f.latitude<l.getSouth()||f.latitude>l.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(m){if(this._map){if(this._isOutOfMapMaxBounds(m))return this._setErrorState(),this.fire(new o.Event("outofmaxbounds",m)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=m,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(m),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(m),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("geolocate",m)),this._finish()}}_updateCamera(m){const l=new o.LngLat(m.coords.longitude,m.coords.latitude),f=m.coords.accuracy,y=this._map.getBearing(),x=o.extend({bearing:y},this.options.fitBoundsOptions);this._map.fitBounds(l.toBounds(f),x,{geolocateSource:!0})}_updateMarker(m){if(m){const l=new o.LngLat(m.coords.longitude,m.coords.latitude);this._accuracyCircleMarker.setLngLat(l).addTo(this._map),this._userLocationDotMarker.setLngLat(l).addTo(this._map),this._accuracy=m.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const m=this._map.transform,l=o.mercatorZfromAltitude(1,m._center.lat)*m.worldSize,f=Math.ceil(2*this._accuracy*l);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(m){if(this._map){if(this.options.trackUserLocation)if(m.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(m.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new o.Event("error",m)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(m){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",l=>l.preventDefault()),this._geolocateButton=O("button","mapboxgl-ctrl-geolocate",this._container),O("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",m===!1){o.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const l=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}else{const l=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",l),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",l)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O("div","mapboxgl-user-location"),this._dotElement.appendChild(O("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(O("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Bn({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=O("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Bn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",l=>{l.geolocateSource||this._watchState!=="ACTIVE_LOCK"||l.originalEvent&&l.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new o.Event("trackuserlocationend")))})}}_onDeviceOrientation(m){this._userLocationDotMarker&&(m.webkitCompassHeading?this._heading=m.webkitCompassHeading:m.absolute===!0&&(this._heading=-1*m.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return o.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new o.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let m;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(m={maximumAge:6e5,timeout:0},this._noTimeout=!0):(m=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,m),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const m=()=>{o.window.addEventListener("ondeviceorientationabsolute"in o.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};o.window.DeviceMotionEvent!==void 0&&typeof o.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(l=>{l==="granted"&&m()}).catch(console.error):m()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),o.window.removeEventListener("deviceorientation",this._onDeviceOrientation),o.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Wn,ScaleControl:class{constructor(m){this.options=o.extend({},dn,m),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),o.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const m=this.options.maxWidth||100,l=this._map,f=l._containerHeight/2,y=l._containerWidth/2-m/2,x=l.unproject([y,f]),w=l.unproject([y+m,f]),P=x.distanceTo(w);if(this.options.unit==="imperial"){const I=3.2808*P;I>5280?this._setScale(m,I/5280,"mile"):this._setScale(m,I,"foot")}else this.options.unit==="nautical"?this._setScale(m,P/1852,"nautical-mile"):P>=1e3?this._setScale(m,P/1e3,"kilometer"):this._setScale(m,P,"meter")}_setScale(m,l,f){this._map._requestDomTask(()=>{const y=function(w){const P=Math.pow(10,`${Math.floor(w)}`.length-1);let I=w/P;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:I>=1?1:function(D){const $=Math.pow(10,Math.ceil(-Math.log(D)/Math.LN10));return Math.round(D*$)/$}(I),P*I}(l),x=y/l;this._container.innerHTML=this._isNumberFormatSupported&&f!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:f}).format(y):`${y}&nbsp;${Un[f]}`,this._container.style.width=m*x+"px"})}onAdd(m){return this._map=m,this._language=m.getLanguage(),this._container=O("div","mapboxgl-ctrl mapboxgl-ctrl-scale",m.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(m){this._language=m,this._update()}setUnit(m){this.options.unit=m,this._update()}},FullscreenControl:class{constructor(m){this._fullscreen=!1,m&&m.container&&(m.container instanceof o.window.HTMLElement?this._container=m.container:o.warnOnce("Full screen control 'container' must be a DOM element.")),o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in o.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(m){return this._map=m,this._container||(this._container=this._map.getContainer()),this._controlContainer=O("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,o.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!o.window.document.fullscreenEnabled&&!o.window.document.webkitFullscreenEnabled)}_setupUI(){const m=this._fullscreenButton=O("button","mapboxgl-ctrl-fullscreen",this._controlContainer);O("span","mapboxgl-ctrl-icon",m).setAttribute("aria-hidden","true"),m.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const m=this._getTitle();this._fullscreenButton.setAttribute("aria-label",m),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",m)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(o.window.document.fullscreenElement||o.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?o.window.document.exitFullscreen?o.window.document.exitFullscreen():o.window.document.webkitCancelFullScreen&&o.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends o.Evented{constructor(m){super(),this.options=o.extend(Object.create(ph),m),o.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(m&&m.className?m.className.trim().split(/\s+/):[])}addTo(m){return this._map&&this.remove(),this._map=m,this.options.closeOnClick&&m.on("preclick",this._onClose),this.options.closeOnMove&&m.on("move",this._onClose),m.on("remove",this.remove),this._update(),m._addPopup(this),this._focusFirstElement(),this._trackPointer?(m.on("mousemove",this._onMouseEvent),m.on("mouseup",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")):m.on("move",this._update),this.fire(new o.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const m=this._map;return m&&(m.off("move",this._update),m.off("move",this._onClose),m.off("preclick",this._onClose),m.off("click",this._onClose),m.off("remove",this.remove),m.off("mousemove",this._onMouseEvent),m.off("mouseup",this._onMouseEvent),m.off("drag",this._onMouseEvent),m._canvasContainer&&m._canvasContainer.classList.remove("mapboxgl-track-pointer"),m._removePopup(this),this._map=void 0),this.fire(new o.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(m){this._lngLat=o.LngLat.convert(m),this._pos=null,this._trackPointer=!1,this._update();const l=this._map;return l&&(l.on("move",this._update),l.off("mousemove",this._onMouseEvent),l._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const m=this._map;return m&&(m.off("move",this._update),m.on("mousemove",this._onMouseEvent),m.on("drag",this._onMouseEvent),m._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(m){return this.setDOMContent(o.window.document.createTextNode(m))}setHTML(m){const l=o.window.document.createDocumentFragment(),f=o.window.document.createElement("body");let y;for(f.innerHTML=m;y=f.firstChild,y;)l.appendChild(y);return this.setDOMContent(l)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(m){return this.options.maxWidth=m,this._update(),this}setDOMContent(m){let l=this._content;if(l)for(;l.hasChildNodes();)l.firstChild&&l.removeChild(l.firstChild);else l=this._content=O("div","mapboxgl-popup-content",this._container||void 0);if(l.appendChild(m),this.options.closeButton){const f=this._closeButton=O("button","mapboxgl-popup-close-button",l);f.type="button",f.setAttribute("aria-label","Close popup"),f.setAttribute("aria-hidden","true"),f.innerHTML="&#215;",f.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(m){return this._classList.add(m),this._updateClassList(),this}removeClassName(m){return this._classList.delete(m),this._updateClassList(),this}setOffset(m){return this.options.offset=m,this._update(),this}toggleClassName(m){let l;return this._classList.delete(m)?l=!1:(this._classList.add(m),l=!0),this._updateClassList(),l}_onMouseEvent(m){this._update(m.point)}_getAnchor(m){if(this.options.anchor)return this.options.anchor;const l=this._map,f=this._container,y=this._pos;if(!l||!f||!y)return"bottom";const x=f.offsetWidth,w=f.offsetHeight,P=y.x<x/2,I=y.x>l.transform.width-x/2;if(y.y+m<w)return P?"top-left":I?"top-right":"top";if(y.y>l.transform.height-w){if(P)return"bottom-left";if(I)return"bottom-right"}return P?"left":I?"right":"bottom"}_updateClassList(){const m=this._container;if(!m)return;const l=[...this._classList];l.push("mapboxgl-popup"),this._anchor&&l.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&l.push("mapboxgl-popup-track-pointer"),m.className=l.join(" ")}_update(m){const l=this._map,f=this._content;if(!l||!this._lngLat&&!this._trackPointer||!f)return;let y=this._container;if(y||(y=this._container=O("div","mapboxgl-popup",l.getContainer()),this._tip=O("div","mapboxgl-popup-tip",y),y.appendChild(f)),this.options.maxWidth&&y.style.maxWidth!==this.options.maxWidth&&(y.style.maxWidth=this.options.maxWidth),l.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=bl(this._lngLat,this._pos,l.transform)),!this._trackPointer||m){const x=this._pos=this._trackPointer&&m?m:l.project(this._lngLat),w=ce(this.options.offset),P=this._anchor=this._getAnchor(w.y),I=ce(this.options.offset,P),D=x.add(I).round();l._requestDomTask(()=>{this._container&&P&&(this._container.style.transform=`${Us[P]} translate(${D.x}px,${D.y}px)`)})}if(!this._marker&&l._showingGlobe()){const x=o.isLngLatBehindGlobe(l.transform,this._lngLat)?0:1;this._setOpacity(x)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const m=this._container.querySelector(gd);m&&m.focus()}_onClose(){this.remove()}_setOpacity(m){this._container&&(this._container.style.opacity=`${m}`),this._content&&(this._content.style.pointerEvents=m?"auto":"none")}},Marker:Bn,Style:Ii,LngLat:o.LngLat,LngLatBounds:o.LngLatBounds,Point:o.Point,MercatorCoordinate:o.MercatorCoordinate,FreeCameraOptions:Ec,Evented:o.Evented,config:o.config,prewarm:function(){le().acquire(vr)},clearPrewarmedResources:function(){const m=re;m&&(m.isPreloaded()&&m.numActive()===1?(m.release(vr),re=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return o.config.ACCESS_TOKEN},set accessToken(m){o.config.ACCESS_TOKEN=m},get baseApiUrl(){return o.config.API_URL},set baseApiUrl(m){o.config.API_URL=m},get workerCount(){return ft.workerCount},set workerCount(m){ft.workerCount=m},get maxParallelImageRequests(){return o.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(m){o.config.MAX_PARALLEL_IMAGE_REQUESTS=m},clearStorage(m){o.clearTileCache(m)},workerUrl:"",workerClass:null,setNow:o.exported.setNow,restoreNow:o.exported.restoreNow};return Jn});var h=c;return h})})(m6);var RH=m6.exports;const du=Qh(RH),{TOKEN:DH}=d6();du.accessToken=DH;const LH=e=>{const{places:t,startLoadingPlace:n}=fv(),r=A.useRef(),c=A.useCallback(v=>{r.current=v},[]),u=A.useRef(),[h,o]=A.useState(e);return A.useEffect(()=>{const v=new du.Map({container:r.current,style:"mapbox://styles/mapbox/streets-v11",center:[e.lng,e.lat],zoom:h.zoom});u.current=v},[e]),A.useEffect(()=>{var v;(v=u.current)==null||v.on("move",()=>{const{lng:E,lat:S}=u.current.getCenter();o({lng:E.toFixed(4),lat:S.toFixed(4),zoom:u.current.getZoom().toFixed(2)})})},[]),A.useEffect(()=>{setTimeout(()=>{t.length>0&&t.map(v=>{const E=new du.Popup().setHTML(`
                    <p>Nivel: ${v.nivel}</p>
                    <p>Barrio: ${v.barrio}</p>
                    <p>Direccin: ${v.direccion}</p>
                    <p>Detalle: ${v.detalle}</p>
                    `),S=new du.Marker;S.id=v.id,S.setLngLat([v.longitud,v.latitud]).setPopup(E).addTo(u.current)})},3e3)},[t]),{coords:h,setRef:c}};du.accessToken="pk.eyJ1IjoiYW5kZXJzb25zdHVkIiwiYSI6ImNsbXI1b3lzZzAzZ3IybHBsdWl3bXhhY2wifQ.p1cEUOXuTxweERs3FMpoRg";const FH=e=>{const t=A.useRef(),n=A.useCallback(o=>{t.current=o},[]),r=A.useRef(),[c,u]=A.useState(e);A.useEffect(()=>{const o=new du.Map({container:t.current,style:"mapbox://styles/mapbox/streets-v12",center:[e.lng,e.lat],zoom:c.zoom});r.current=o},[e]);const h=A.useCallback(()=>{const{lng:o,lat:v}=e,E=new du.Marker;E.id=1,E.setLngLat({lng:o,lat:v}).addTo(r.current).setDraggable(!0),E.on("drag",({target:S})=>{const{lng:k,lat:O}=S.getLngLat();u({lng:k.toFixed(5),lat:O.toFixed(5),zoom:r.current.getZoom().toFixed(2)})})},[]);return A.useEffect(()=>{h()},[h]),{coords:c,setRef:n}},y6=()=>{const e=nd(),{alerts:t,total:n,alertActive:r,tempId:c}=hu(v=>v.usalert);return{total:n,alerts:t,alertActive:r,tempId:c,starLoadAlertsSerene:async()=>{try{Sa("Cargando..."),e(Tw(!0));const{data:v}=await Gi.get("/odayakana/risuto");console.log(v),e(V1(v.list)),e(Tw(!1)),e(Oj(v.list.length)),Ar.close()}catch{Ar.close()}},starNewSocketSerene:v=>{e(fA(v)),Ar.close()},starUpdateAlert:async v=>{try{Sa("Cargando..."),e(Tw(!0)),v.estado==="atendido"?(await Gi.post("/odayakana/risuto/up",v),e(Y5(v.id))):(await Gi.post("/odayakana/risuto/up",v),e(Dj(v))),Ar.close()}catch{Ar.close()}}}};du.accessToken="pk.eyJ1IjoiYW5kZXJzb25zdHVkIiwiYSI6ImNsbXI1b3lzZzAzZ3IybHBsdWl3bXhhY2wifQ.p1cEUOXuTxweERs3FMpoRg";const NH=e=>{const{alerts:t}=y6(),n=A.useRef(),r=A.useCallback(o=>{n.current=o},[]),c=A.useRef(),[u,h]=A.useState(e);return A.useEffect(()=>{const o=new du.Map({container:n.current,style:"mapbox://styles/mapbox/streets-v12",center:[e.lng,e.lat],zoom:u.zoom});c.current=o},[e]),A.useEffect(()=>{var o;(o=c.current)==null||o.on("move",()=>{const{lng:v,lat:E}=c.current.getCenter();h({lng:v.toFixed(4),lat:E.toFixed(4),zoom:c.current.getZoom().toFixed(2)})})},[]),A.useEffect(()=>{setTimeout(()=>{t.length>0&&t.map(o=>{const v=new du.Popup().setHTML(`
                    <p>Fecha y Hora: ${o.fecha}</p>
                    <p>DNI: ${o.dni}</p>
                    <p>Usuario: ${o.nombres} ${o.apellidos}</p>
                    <p>Celular: ${o.celular}</p>
                    `),E=new du.Marker;E.id=o.id,E.setLngLat([o.longitud,o.latitud]).setPopup(v).addTo(c.current)})},3e3)},[t]),{coords:u,setRef:r}},td=Object.create(null);td.open="0";td.close="1";td.ping="2";td.pong="3";td.message="4";td.upgrade="5";td.noop="6";const s_=Object.create(null);Object.keys(td).forEach(e=>{s_[td[e]]=e});const _E={type:"error",data:"parser error"},v6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_6=typeof ArrayBuffer=="function",x6=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,OA=({type:e,data:t},n,r)=>v6&&t instanceof Blob?n?r(t):KM(t,r):_6&&(t instanceof ArrayBuffer||x6(t))?n?r(t):KM(new Blob([t]),r):r(td[e]+(t||"")),KM=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function XM(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Nw;function BH(e,t){if(v6&&e.data instanceof Blob)return e.data.arrayBuffer().then(XM).then(t);if(_6&&(e.data instanceof ArrayBuffer||x6(e.data)))return t(XM(e.data));OA(e,!1,n=>{Nw||(Nw=new TextEncoder),t(Nw.encode(n))})}const YM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ay=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<YM.length;e++)ay[YM.charCodeAt(e)]=e;const zH=e=>{let t=e.length*.75,n=e.length,r,c=0,u,h,o,v;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const E=new ArrayBuffer(t),S=new Uint8Array(E);for(r=0;r<n;r+=4)u=ay[e.charCodeAt(r)],h=ay[e.charCodeAt(r+1)],o=ay[e.charCodeAt(r+2)],v=ay[e.charCodeAt(r+3)],S[c++]=u<<2|h>>4,S[c++]=(h&15)<<4|o>>2,S[c++]=(o&3)<<6|v&63;return E},$H=typeof ArrayBuffer=="function",RA=(e,t)=>{if(typeof e!="string")return{type:"message",data:b6(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:jH(e.substring(1),t)}:s_[n]?e.length>1?{type:s_[n],data:e.substring(1)}:{type:s_[n]}:_E},jH=(e,t)=>{if($H){const n=zH(e);return b6(n,t)}else return{base64:!0,data:e}},b6=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},w6=String.fromCharCode(30),UH=(e,t)=>{const n=e.length,r=new Array(n);let c=0;e.forEach((u,h)=>{OA(u,!1,o=>{r[h]=o,++c===n&&t(r.join(w6))})})},VH=(e,t)=>{const n=e.split(w6),r=[];for(let c=0;c<n.length;c++){const u=RA(n[c],t);if(r.push(u),u.type==="error")break}return r};function GH(){return new TransformStream({transform(e,t){BH(e,n=>{const r=n.length;let c;if(r<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,r);else if(r<65536){c=new Uint8Array(3);const u=new DataView(c.buffer);u.setUint8(0,126),u.setUint16(1,r)}else{c=new Uint8Array(9);const u=new DataView(c.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(c[0]|=128),t.enqueue(c),t.enqueue(n)})}})}let Bw;function M0(e){return e.reduce((t,n)=>t+n.length,0)}function O0(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let c=0;c<t;c++)n[c]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function HH(e,t){Bw||(Bw=new TextDecoder);const n=[];let r=0,c=-1,u=!1;return new TransformStream({transform(h,o){for(n.push(h);;){if(r===0){if(M0(n)<1)break;const v=O0(n,1);u=(v[0]&128)===128,c=v[0]&127,c<126?r=3:c===126?r=1:r=2}else if(r===1){if(M0(n)<2)break;const v=O0(n,2);c=new DataView(v.buffer,v.byteOffset,v.length).getUint16(0),r=3}else if(r===2){if(M0(n)<8)break;const v=O0(n,8),E=new DataView(v.buffer,v.byteOffset,v.length),S=E.getUint32(0);if(S>Math.pow(2,53-32)-1){o.enqueue(_E);break}c=S*Math.pow(2,32)+E.getUint32(4),r=3}else{if(M0(n)<c)break;const v=O0(n,c);o.enqueue(RA(u?v:Bw.decode(v),t)),r=0}if(c===0||c>e){o.enqueue(_E);break}}}})}const E6=4;function oa(e){if(e)return WH(e)}function WH(e){for(var t in oa.prototype)e[t]=oa.prototype[t];return e}oa.prototype.on=oa.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};oa.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};oa.prototype.off=oa.prototype.removeListener=oa.prototype.removeAllListeners=oa.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,c=0;c<n.length;c++)if(r=n[c],r===t||r.fn===t){n.splice(c,1);break}return n.length===0&&delete this._callbacks["$"+e],this};oa.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,c=n.length;r<c;++r)n[r].apply(this,t)}return this};oa.prototype.emitReserved=oa.prototype.emit;oa.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};oa.prototype.hasListeners=function(e){return!!this.listeners(e).length};const sc=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function C6(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const ZH=sc.setTimeout,qH=sc.clearTimeout;function rx(e,t){t.useNativeTimers?(e.setTimeoutFn=ZH.bind(sc),e.clearTimeoutFn=qH.bind(sc)):(e.setTimeoutFn=sc.setTimeout.bind(sc),e.clearTimeoutFn=sc.clearTimeout.bind(sc))}const KH=1.33;function XH(e){return typeof e=="string"?YH(e):Math.ceil((e.byteLength||e.size)*KH)}function YH(e){let t=0,n=0;for(let r=0,c=e.length;r<c;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function JH(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function QH(e){let t={},n=e.split("&");for(let r=0,c=n.length;r<c;r++){let u=n[r].split("=");t[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return t}class eW extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class DA extends oa{constructor(t){super(),this.writable=!1,rx(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new eW(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=RA(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=JH(t);return n.length?"?"+n:""}}const S6="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xE=64,tW={};let JM=0,R0=0,QM;function eO(e){let t="";do t=S6[e%xE]+t,e=Math.floor(e/xE);while(e>0);return t}function T6(){const e=eO(+new Date);return e!==QM?(JM=0,QM=e):e+"."+eO(JM++)}for(;R0<xE;R0++)tW[S6[R0]]=R0;let A6=!1;try{A6=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const nW=A6;function P6(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||nW))return new XMLHttpRequest}catch{}if(!t)try{return new sc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function rW(){}const iW=function(){return new P6({xdomain:!1}).responseType!=null}();class oW extends DA{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let c=location.port;c||(c=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||c!==t.port}const n=t&&t.forceBase64;this.supportsBinary=iW&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};VH(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,UH(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=T6()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Qu(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(c,u)=>{this.onError("xhr post error",c,u)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Qu extends oa{constructor(t,n){super(),rx(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=C6(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new P6(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let c in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(c)&&r.setRequestHeader(c,this.opts.extraHeaders[c])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var c;r.readyState===3&&((c=this.opts.cookieJar)===null||c===void 0||c.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(c){this.setTimeoutFn(()=>{this.onError(c)},0);return}typeof document<"u"&&(this.index=Qu.requestsCount++,Qu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=rW,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Qu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Qu.requestsCount=0;Qu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tO);else if(typeof addEventListener=="function"){const e="onpagehide"in sc?"pagehide":"unload";addEventListener(e,tO,!1)}}function tO(){for(let e in Qu.requests)Qu.requests.hasOwnProperty(e)&&Qu.requests[e].abort()}const LA=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),D0=sc.WebSocket||sc.MozWebSocket,nO=!0,aW="arraybuffer",rO=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class sW extends DA{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=rO?{}:C6(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=nO&&!rO?n?new D0(t,n):new D0(t):new D0(t,n,r)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],c=n===t.length-1;OA(r,this.supportsBinary,u=>{const h={};try{nO&&this.ws.send(u)}catch{}c&&LA(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=T6()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!D0}}class lW extends DA{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=HH(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),c=GH();c.readable.pipeTo(t.writable),this.writer=c.writable.getWriter();const u=()=>{r.read().then(({done:o,value:v})=>{o||(this.onPacket(v),u())}).catch(o=>{})};u();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this.writer.write(h).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],c=n===t.length-1;this.writer.write(r).then(()=>{c&&LA(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const cW={websocket:sW,webtransport:lW,polling:oW},uW=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,dW=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bE(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let c=uW.exec(e||""),u={},h=14;for(;h--;)u[dW[h]]=c[h]||"";return n!=-1&&r!=-1&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=fW(u,u.path),u.queryKey=hW(u,u.query),u}function fW(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function hW(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,c,u){c&&(n[c]=u)}),n}let I6=class Zp extends oa{constructor(t,n={}){super(),this.binaryType=aW,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=bE(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=bE(n.host).host),rx(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=QH(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=E6,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new cW[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Zp.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Zp.priorWebsocketSuccess=!1;const c=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",k=>{if(!r)if(k.type==="pong"&&k.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Zp.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(S(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const O=new Error("probe error");O.transport=n.name,this.emitReserved("upgradeError",O)}}))};function u(){r||(r=!0,S(),n.close(),n=null)}const h=k=>{const O=new Error("probe error: "+k);O.transport=n.name,u(),this.emitReserved("upgradeError",O)};function o(){h("transport closed")}function v(){h("socket closed")}function E(k){n&&k.name!==n.name&&u()}const S=()=>{n.removeListener("open",c),n.removeListener("error",h),n.removeListener("close",o),this.off("close",v),this.off("upgrading",E)};n.once("open",c),n.once("error",h),n.once("close",o),this.once("close",v),this.once("upgrading",E),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Zp.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const c=this.writeBuffer[r].data;if(c&&(n+=XH(c)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,c){if(typeof n=="function"&&(c=n,n=void 0),typeof r=="function"&&(c=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const u={type:t,data:n,options:r};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),c&&this.once("flush",c),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Zp.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const c=t.length;for(;r<c;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};I6.protocol=E6;function pW(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=bE(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const u=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+u+":"+r.port+t,r.href=r.protocol+"://"+u+(n&&n.port===r.port?"":":"+r.port),r}const mW=typeof ArrayBuffer=="function",gW=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,k6=Object.prototype.toString,yW=typeof Blob=="function"||typeof Blob<"u"&&k6.call(Blob)==="[object BlobConstructor]",vW=typeof File=="function"||typeof File<"u"&&k6.call(File)==="[object FileConstructor]";function FA(e){return mW&&(e instanceof ArrayBuffer||gW(e))||yW&&e instanceof Blob||vW&&e instanceof File}function l_(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(l_(e[n]))return!0;return!1}if(FA(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return l_(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&l_(e[n]))return!0;return!1}function _W(e){const t=[],n=e.data,r=e;return r.data=wE(n,t),r.attachments=t.length,{packet:r,buffers:t}}function wE(e,t){if(!e)return e;if(FA(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=wE(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=wE(e[r],t));return n}return e}function xW(e,t){return e.data=EE(e.data,t),delete e.attachments,e}function EE(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=EE(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=EE(e[n],t));return e}const bW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wW=5;var si;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(si||(si={}));class EW{constructor(t){this.replacer=t}encode(t){return(t.type===si.EVENT||t.type===si.ACK)&&l_(t)?this.encodeAsBinary({type:t.type===si.EVENT?si.BINARY_EVENT:si.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===si.BINARY_EVENT||t.type===si.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=_W(t),r=this.encodeAsString(n.packet),c=n.buffers;return c.unshift(r),c}}function iO(e){return Object.prototype.toString.call(e)==="[object Object]"}class NA extends oa{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===si.BINARY_EVENT;r||n.type===si.BINARY_ACK?(n.type=r?si.EVENT:si.ACK,this.reconstructor=new CW(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(FA(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(si[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===si.BINARY_EVENT||r.type===si.BINARY_ACK){const u=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const h=t.substring(u,n);if(h!=Number(h)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(h)}if(t.charAt(n+1)==="/"){const u=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(u,n)}else r.nsp="/";const c=t.charAt(n+1);if(c!==""&&Number(c)==c){const u=n+1;for(;++n;){const h=t.charAt(n);if(h==null||Number(h)!=h){--n;break}if(n===t.length)break}r.id=Number(t.substring(u,n+1))}if(t.charAt(++n)){const u=this.tryParse(t.substr(n));if(NA.isPayloadValid(r.type,u))r.data=u;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case si.CONNECT:return iO(n);case si.DISCONNECT:return n===void 0;case si.CONNECT_ERROR:return typeof n=="string"||iO(n);case si.EVENT:case si.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&bW.indexOf(n[0])===-1);case si.ACK:case si.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class CW{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=xW(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const SW=Object.freeze(Object.defineProperty({__proto__:null,Decoder:NA,Encoder:EW,get PacketType(){return si},protocol:wW},Symbol.toStringTag,{value:"Module"}));function Vc(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const TW=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class M6 extends oa{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Vc(t,"open",this.onopen.bind(this)),Vc(t,"packet",this.onpacket.bind(this)),Vc(t,"error",this.onerror.bind(this)),Vc(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(TW.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:si.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const h=this.ids++,o=n.pop();this._registerAckCallback(h,o),r.id=h}const c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!c||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const c=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(c===void 0){this.acks[t]=n;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);n.call(this,new Error("operation has timed out"))},c);this.acks[t]=(...h)=>{this.io.clearTimeoutFn(u),n.apply(this,[null,...h])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((c,u)=>{n.push((h,o)=>r?h?u(h):c(o):c(h)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((c,...u)=>r!==this._queue[0]?void 0:(c!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(c)):(this._queue.shift(),n&&n(null,...u)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:si.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case si.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case si.EVENT:case si.BINARY_EVENT:this.onevent(t);break;case si.ACK:case si.BINARY_ACK:this.onack(t);break;case si.DISCONNECT:this.ondisconnect();break;case si.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...c){r||(r=!0,n.packet({type:si.ACK,id:t,data:c}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:si.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Hm(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Hm.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Hm.prototype.reset=function(){this.attempts=0};Hm.prototype.setMin=function(e){this.ms=e};Hm.prototype.setMax=function(e){this.max=e};Hm.prototype.setJitter=function(e){this.jitter=e};class CE extends oa{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,rx(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Hm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const c=n.parser||SW;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new I6(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const c=Vc(n,"open",function(){r.onopen(),t&&t()}),u=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),t?t(o):this.maybeReconnectOnOpen()},h=Vc(n,"error",u);if(this._timeout!==!1){const o=this._timeout,v=this.setTimeoutFn(()=>{c(),u(new Error("timeout")),n.close()},o);this.opts.autoUnref&&v.unref(),this.subs.push(()=>{this.clearTimeoutFn(v)})}return this.subs.push(c),this.subs.push(h),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Vc(t,"ping",this.onping.bind(this)),Vc(t,"data",this.ondata.bind(this)),Vc(t,"error",this.onerror.bind(this)),Vc(t,"close",this.onclose.bind(this)),Vc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){LA(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new M6(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(c=>{c?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",c)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const qg={};function c_(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=pW(e,t.path||"/socket.io"),r=n.source,c=n.id,u=n.path,h=qg[c]&&u in qg[c].nsps,o=t.forceNew||t["force new connection"]||t.multiplex===!1||h;let v;return o?v=new CE(r,t):(qg[c]||(qg[c]=new CE(r,t)),v=qg[c]),n.query&&!t.query&&(t.query=n.queryKey),v.socket(n.path,t)}Object.assign(c_,{Manager:CE,Socket:M6,io:c_,connect:c_});const AW=e=>{const[t,n]=A.useState(null),[r,c]=A.useState(!1),u=A.useCallback(()=>{const o=localStorage.getItem("token"),v=c_.connect(e,{transports:["websocket"],autoConnect:!0,forceNew:!0,query:{"x-token":o}});n(v)},[e]),h=A.useCallback(()=>{t==null||t.disconnect()},[t]);return A.useEffect(()=>{c(t==null?void 0:t.connected)},[t]),A.useEffect(()=>{t==null||t.on("connect",()=>c(!0))},[t]),A.useEffect(()=>{t==null||t.on("disconnect",()=>c(!1))},[t]),{socket:t,online:r,conectarSocket:u,desconectarSocket:h}};var SE={exports:{}},TE={exports:{}},AE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function n(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(c)}function r(c){var u=typeof c=="string"||c instanceof String;if(!u){var h=n(c);throw c===null?h="null":h==="object"&&(h=c.constructor.name),new TypeError("Expected a string but received a ".concat(h))}}e.exports=t.default,e.exports.default=t.default})(AE,AE.exports);var zn=AE.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u),u=Date.parse(u),isNaN(u)?null:new Date(u)}e.exports=t.default,e.exports.default=t.default})(TE,TE.exports);var BA=TE.exports,PE={exports:{}},Wm={},co={};Object.defineProperty(co,"__esModule",{value:!0});co.commaDecimal=co.dotDecimal=co.bengaliLocales=co.farsiLocales=co.arabicLocales=co.englishLocales=co.decimal=co.alphanumeric=co.alpha=void 0;var As={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ]+$/i,"bg-BG":/^[-]+$/i,"cs-CZ":/^[A-Z]+$/i,"da-DK":/^[A-Z]+$/i,"de-DE":/^[A-Z]+$/i,"el-GR":/^[-]+$/i,"es-ES":/^[A-Z]+$/i,"fa-IR":/^[]+$/i,"fi-FI":/^[A-Z]+$/i,"fr-FR":/^[A-Z]+$/i,"it-IT":/^[A-Z]+$/i,"ja-JP":/^[----]+$/i,"nb-NO":/^[A-Z]+$/i,"nl-NL":/^[A-Z]+$/i,"nn-NO":/^[A-Z]+$/i,"hu-HU":/^[A-Z]+$/i,"pl-PL":/^[A-Z]+$/i,"pt-PT":/^[A-Z]+$/i,"ru-RU":/^[-]+$/i,"kk-KZ":/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z]+$/i,"sk-SK":/^[A-Z]+$/i,"sr-RS@latin":/^[A-Z]+$/i,"sr-RS":/^[-]+$/i,"sv-SE":/^[A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[A-Z]+$/i,"uk-UA":/^[-I]+$/i,"vi-VN":/^[A-Z]+$/i,"ko-KR":/^[---]*$/,"ku-IQ":/^[]+$/i,ar:/^[]+$/,he:/^[-]+$/,fa:/^['']+$/i,bn:/^['']+$/,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/};co.alpha=As;var Ps={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ]+$/i,"bg-BG":/^[0-9-]+$/i,"cs-CZ":/^[0-9A-Z]+$/i,"da-DK":/^[0-9A-Z]+$/i,"de-DE":/^[0-9A-Z]+$/i,"el-GR":/^[0-9-]+$/i,"es-ES":/^[0-9A-Z]+$/i,"fi-FI":/^[0-9A-Z]+$/i,"fr-FR":/^[0-9A-Z]+$/i,"it-IT":/^[0-9A-Z]+$/i,"ja-JP":/^[0-9-----]+$/i,"hu-HU":/^[0-9A-Z]+$/i,"nb-NO":/^[0-9A-Z]+$/i,"nl-NL":/^[0-9A-Z]+$/i,"nn-NO":/^[0-9A-Z]+$/i,"pl-PL":/^[0-9A-Z]+$/i,"pt-PT":/^[0-9A-Z]+$/i,"ru-RU":/^[0-9-]+$/i,"kk-KZ":/^[0-9-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z]+$/i,"sk-SK":/^[0-9A-Z]+$/i,"sr-RS@latin":/^[0-9A-Z]+$/i,"sr-RS":/^[0-9-]+$/i,"sv-SE":/^[0-9A-Z]+$/i,"th-TH":/^[-\s]+$/i,"tr-TR":/^[0-9A-Z]+$/i,"uk-UA":/^[0-9-I]+$/i,"ko-KR":/^[0-9---]*$/,"ku-IQ":/^[0-9]+$/i,"vi-VN":/^[0-9A-Z]+$/i,ar:/^[0-9]+$/,he:/^[0-9-]+$/,fa:/^['0-9']+$/i,bn:/^['']+$/,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/};co.alphanumeric=Ps;var fs={"en-US":".",ar:""};co.decimal=fs;var IE=["AU","GB","HK","IN","NZ","ZA","ZM"];co.englishLocales=IE;for(var L0,zw=0;zw<IE.length;zw++)L0="en-".concat(IE[zw]),As[L0]=As["en-US"],Ps[L0]=Ps["en-US"],fs[L0]=fs["en-US"];var kE=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];co.arabicLocales=kE;for(var F0,$w=0;$w<kE.length;$w++)F0="ar-".concat(kE[$w]),As[F0]=As.ar,Ps[F0]=Ps.ar,fs[F0]=fs.ar;var ME=["IR","AF"];co.farsiLocales=ME;for(var jw,Uw=0;Uw<ME.length;Uw++)jw="fa-".concat(ME[Uw]),Ps[jw]=Ps.fa,fs[jw]=fs.ar;var OE=["BD","IN"];co.bengaliLocales=OE;for(var N0,Vw=0;Vw<OE.length;Vw++)N0="bn-".concat(OE[Vw]),As[N0]=As.bn,Ps[N0]=Ps.bn,fs[N0]=fs["en-US"];var RE=["ar-EG","ar-LB","ar-LY"];co.dotDecimal=RE;var DE=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];co.commaDecimal=DE;for(var Gw=0;Gw<RE.length;Gw++)fs[RE[Gw]]=fs["en-US"];for(var Hw=0;Hw<DE.length;Hw++)fs[DE[Hw]]=",";As["fr-CA"]=As["fr-FR"];Ps["fr-CA"]=Ps["fr-FR"];As["pt-BR"]=As["pt-PT"];Ps["pt-BR"]=Ps["pt-PT"];fs["pt-BR"]=fs["pt-PT"];As["pl-Pl"]=As["pl-PL"];Ps["pl-Pl"]=Ps["pl-PL"];fs["pl-Pl"]=fs["pl-PL"];As["fa-AF"]=As.fa;Object.defineProperty(Wm,"__esModule",{value:!0});Wm.default=kW;Wm.locales=void 0;var PW=IW(zn),O6=co;function IW(e){return e&&e.__esModule?e:{default:e}}function kW(e,t){(0,PW.default)(e),t=t||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?O6.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(e===""||e==="."||e===","||e==="-"||e==="+")return!1;var r=parseFloat(e.replace(",","."));return n.test(e)&&(!t.hasOwnProperty("min")||r>=t.min)&&(!t.hasOwnProperty("max")||r<=t.max)&&(!t.hasOwnProperty("lt")||r<t.lt)&&(!t.hasOwnProperty("gt")||r>t.gt)}var MW=Object.keys(O6.decimal);Wm.locales=MW;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(Wm);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u)?parseFloat(u):NaN}e.exports=t.default,e.exports.default=t.default})(PE,PE.exports);var R6=PE.exports,LE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){return(0,n.default)(u),parseInt(u,h||10)}e.exports=t.default,e.exports.default=t.default})(LE,LE.exports);var OW=LE.exports,FE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){return(0,n.default)(u),h?u==="1"||/^true$/i.test(u):u!=="0"&&!/^false$/i.test(u)&&u!==""}e.exports=t.default,e.exports.default=t.default})(FE,FE.exports);var RW=FE.exports,NE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){return(0,n.default)(u),u===h}e.exports=t.default,e.exports.default=t.default})(NE,NE.exports);var DW=NE.exports,BE={exports:{}},zE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function n(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(h){return typeof h}:n=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},n(c)}function r(c){return n(c)==="object"&&c!==null?typeof c.toString=="function"?c=c.toString():c="[object Object]":(c===null||typeof c>"u"||isNaN(c)&&!c.length)&&(c=""),String(c)}e.exports=t.default,e.exports.default=t.default})(zE,zE.exports);var D6=zE.exports,$E={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;for(var u in c)typeof r[u]>"u"&&(r[u]=c[u]);return r}e.exports=t.default,e.exports.default=t.default})($E,$E.exports);var Ms=$E.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=u(zn),r=u(D6),c=u(Ms);function u(v){return v&&v.__esModule?v:{default:v}}var h={ignoreCase:!1,minOccurrences:1};function o(v,E,S){return(0,n.default)(v),S=(0,c.default)(S,h),S.ignoreCase?v.toLowerCase().split((0,r.default)(E).toLowerCase()).length>S.minOccurrences:v.split((0,r.default)(E)).length>S.minOccurrences}e.exports=t.default,e.exports.default=t.default})(BE,BE.exports);var LW=BE.exports,jE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h,o){return(0,n.default)(u),Object.prototype.toString.call(h)!=="[object RegExp]"&&(h=new RegExp(h,o)),!!u.match(h)}e.exports=t.default,e.exports.default=t.default})(jE,jE.exports);var FW=jE.exports,UE={exports:{}},VE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}function c(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(v){return typeof v}:c=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(h)}function u(h,o){(0,n.default)(h);var v,E;c(o)==="object"?(v=o.min||0,E=o.max):(v=arguments[1],E=arguments[2]);var S=encodeURI(h).split(/%..|./).length-1;return S>=v&&(typeof E>"u"||S<=E)}e.exports=t.default,e.exports.default=t.default})(VE,VE.exports);var L6=VE.exports,GE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=c(Ms);function c(o){return o&&o.__esModule?o:{default:o}}var u={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function h(o,v){(0,n.default)(o),v=(0,r.default)(v,u),v.allow_trailing_dot&&o[o.length-1]==="."&&(o=o.substring(0,o.length-1)),v.allow_wildcard===!0&&o.indexOf("*.")===0&&(o=o.substring(2));var E=o.split("."),S=E[E.length-1];return v.require_tld&&(E.length<2||!v.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(S)||/\s/.test(S))||!v.allow_numeric_tld&&/^\d+$/.test(S)?!1:E.every(function(k){return!(k.length>63&&!v.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(k)||/[\uff01-\uff5e]/.test(k)||/^-|-$/.test(k)||!v.allow_underscores&&/_/.test(k))})}e.exports=t.default,e.exports.default=t.default})(GE,GE.exports);var zA=GE.exports,HE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var n=r(zn);function r(S){return S&&S.__esModule?S:{default:S}}var c="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",u="(".concat(c,"[.]){3}").concat(c),h=new RegExp("^".concat(u,"$")),o="(?:[0-9a-fA-F]{1,4})",v=new RegExp("^("+"(?:".concat(o,":){7}(?:").concat(o,"|:)|")+"(?:".concat(o,":){6}(?:").concat(u,"|:").concat(o,"|:)|")+"(?:".concat(o,":){5}(?::").concat(u,"|(:").concat(o,"){1,2}|:)|")+"(?:".concat(o,":){4}(?:(:").concat(o,"){0,1}:").concat(u,"|(:").concat(o,"){1,3}|:)|")+"(?:".concat(o,":){3}(?:(:").concat(o,"){0,2}:").concat(u,"|(:").concat(o,"){1,4}|:)|")+"(?:".concat(o,":){2}(?:(:").concat(o,"){0,3}:").concat(u,"|(:").concat(o,"){1,5}|:)|")+"(?:".concat(o,":){1}(?:(:").concat(o,"){0,4}:").concat(u,"|(:").concat(o,"){1,6}|:)|")+"(?::((?::".concat(o,"){0,5}:").concat(u,"|(?::").concat(o,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function E(S){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(0,n.default)(S),k=String(k),k?k==="4"?h.test(S):k==="6"?v.test(S):!1:E(S,4)||E(S,6)}e.exports=t.default,e.exports.default=t.default})(HE,HE.exports);var ix=HE.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=q;var n=o(zn),r=o(L6),c=o(zA),u=o(ix),h=o(Ms);function o(W){return W&&W.__esModule?W:{default:W}}var v={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},E=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,S=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,k=/^[a-z\d]+$/,O=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,N=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,G=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,U=254;function H(W){var Y=W.replace(/^"(.+)"$/,"$1");if(!Y.trim())return!1;var ie=/[\.";<>]/.test(Y);if(ie){if(Y===W)return!1;var he=Y.split('"').length===Y.split('\\"').length;if(!he)return!1}return!0}function q(W,Y){if((0,n.default)(W),Y=(0,h.default)(Y,v),Y.require_display_name||Y.allow_display_name){var ie=W.match(E);if(ie){var he=ie[1];if(W=W.replace(he,"").replace(/(^<|>$)/g,""),he.endsWith(" ")&&(he=he.slice(0,-1)),!H(he))return!1}else if(Y.require_display_name)return!1}if(!Y.ignore_max_length&&W.length>U)return!1;var Se=W.split("@"),Pe=Se.pop(),We=Pe.toLowerCase();if(Y.host_blacklist.includes(We)||Y.host_whitelist.length>0&&!Y.host_whitelist.includes(We))return!1;var Le=Se.join("@");if(Y.domain_specific_validation&&(We==="gmail.com"||We==="googlemail.com")){Le=Le.toLowerCase();var qe=Le.split("+")[0];if(!(0,r.default)(qe.replace(/\./g,""),{min:6,max:30}))return!1;for(var Kt=qe.split("."),Ut=0;Ut<Kt.length;Ut++)if(!k.test(Kt[Ut]))return!1}if(Y.ignore_max_length===!1&&(!(0,r.default)(Le,{max:64})||!(0,r.default)(Pe,{max:254})))return!1;if(!(0,c.default)(Pe,{require_tld:Y.require_tld,ignore_max_length:Y.ignore_max_length,allow_underscores:Y.allow_underscores})){if(!Y.allow_ip_domain)return!1;if(!(0,u.default)(Pe)){if(!Pe.startsWith("[")||!Pe.endsWith("]"))return!1;var Qt=Pe.slice(1,-1);if(Qt.length===0||!(0,u.default)(Qt))return!1}}if(Le[0]==='"')return Le=Le.slice(1,Le.length-1),Y.allow_utf8_local_part?G.test(Le):O.test(Le);for(var Tn=Y.allow_utf8_local_part?N:S,An=Le.split("."),Vt=0;Vt<An.length;Vt++)if(!Tn.test(An[Vt]))return!1;return!(Y.blacklisted_chars&&Le.search(new RegExp("[".concat(Y.blacklisted_chars,"]+"),"g"))!==-1)}e.exports=t.default,e.exports.default=t.default})(UE,UE.exports);var F6=UE.exports,WE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=q;var n=h(zn),r=h(zA),c=h(ix),u=h(Ms);function h(W){return W&&W.__esModule?W:{default:W}}function o(W,Y){return O(W)||k(W,Y)||E(W,Y)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(W,Y){if(W){if(typeof W=="string")return S(W,Y);var ie=Object.prototype.toString.call(W).slice(8,-1);if(ie==="Object"&&W.constructor&&(ie=W.constructor.name),ie==="Map"||ie==="Set")return Array.from(W);if(ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return S(W,Y)}}function S(W,Y){(Y==null||Y>W.length)&&(Y=W.length);for(var ie=0,he=new Array(Y);ie<Y;ie++)he[ie]=W[ie];return he}function k(W,Y){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(W)))){var ie=[],he=!0,Se=!1,Pe=void 0;try{for(var We=W[Symbol.iterator](),Le;!(he=(Le=We.next()).done)&&(ie.push(Le.value),!(Y&&ie.length===Y));he=!0);}catch(qe){Se=!0,Pe=qe}finally{try{!he&&We.return!=null&&We.return()}finally{if(Se)throw Pe}}return ie}}function O(W){if(Array.isArray(W))return W}var N={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},G=/^\[([^\]]+)\](?::([0-9]+))?$/;function U(W){return Object.prototype.toString.call(W)==="[object RegExp]"}function H(W,Y){for(var ie=0;ie<Y.length;ie++){var he=Y[ie];if(W===he||U(he)&&he.test(W))return!0}return!1}function q(W,Y){if((0,n.default)(W),!W||/[\s<>]/.test(W)||W.indexOf("mailto:")===0||(Y=(0,u.default)(Y,N),Y.validate_length&&W.length>=2083)||!Y.allow_fragments&&W.includes("#")||!Y.allow_query_components&&(W.includes("?")||W.includes("&")))return!1;var ie,he,Se,Pe,We,Le,qe,Kt;if(qe=W.split("#"),W=qe.shift(),qe=W.split("?"),W=qe.shift(),qe=W.split("://"),qe.length>1){if(ie=qe.shift().toLowerCase(),Y.require_valid_protocol&&Y.protocols.indexOf(ie)===-1)return!1}else{if(Y.require_protocol)return!1;if(W.slice(0,2)==="//"){if(!Y.allow_protocol_relative_urls)return!1;qe[0]=W.slice(2)}}if(W=qe.join("://"),W==="")return!1;if(qe=W.split("/"),W=qe.shift(),W===""&&!Y.require_host)return!0;if(qe=W.split("@"),qe.length>1){if(Y.disallow_auth||qe[0]===""||(he=qe.shift(),he.indexOf(":")>=0&&he.split(":").length>2))return!1;var Ut=he.split(":"),Qt=o(Ut,2),Tn=Qt[0],An=Qt[1];if(Tn===""&&An==="")return!1}Pe=qe.join("@"),Le=null,Kt=null;var Vt=Pe.match(G);if(Vt?(Se="",Kt=Vt[1],Le=Vt[2]||null):(qe=Pe.split(":"),Se=qe.shift(),qe.length&&(Le=qe.join(":"))),Le!==null&&Le.length>0){if(We=parseInt(Le,10),!/^[0-9]+$/.test(Le)||We<=0||We>65535)return!1}else if(Y.require_port)return!1;return Y.host_whitelist?H(Se,Y.host_whitelist):Se===""&&!Y.require_host?!0:!(!(0,c.default)(Se)&&!(0,r.default)(Se,Y)&&(!Kt||!(0,c.default)(Kt,6))||(Se=Se||Kt,Y.host_blacklist&&H(Se,Y.host_blacklist)))}e.exports=t.default,e.exports.default=t.default})(WE,WE.exports);var NW=WE.exports,ZE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var n=r(zn);function r(k){return k&&k.__esModule?k:{default:k}}var c=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,u=/^([0-9a-fA-F]){12}$/,h=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,v=/^([0-9a-fA-F]){16}$/,E=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;function S(k,O){return(0,n.default)(k),O!=null&&O.eui&&(O.eui=String(O.eui)),O!=null&&O.no_colons||O!=null&&O.no_separators?O.eui==="48"?u.test(k):O.eui==="64"?v.test(k):u.test(k)||v.test(k):(O==null?void 0:O.eui)==="48"?c.test(k)||h.test(k):(O==null?void 0:O.eui)==="64"?o.test(k)||E.test(k):S(k,{eui:"48"})||S(k,{eui:"64"})}e.exports=t.default,e.exports.default=t.default})(ZE,ZE.exports);var BW=ZE.exports,qE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=c(zn),r=c(ix);function c(E){return E&&E.__esModule?E:{default:E}}var u=/^\d{1,3}$/,h=32,o=128;function v(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,n.default)(E);var k=E.split("/");if(k.length!==2||!u.test(k[1])||k[1].length>1&&k[1].startsWith("0"))return!1;var O=(0,r.default)(k[0],S);if(!O)return!1;var N=null;switch(String(S)){case"4":N=h;break;case"6":N=o;break;default:N=(0,r.default)(k[0],"6")?o:h}return k[1]<=N&&k[1]>=0}e.exports=t.default,e.exports.default=t.default})(qE,qE.exports);var zW=qE.exports,KE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=G;var n=r(Ms);function r(U){return U&&U.__esModule?U:{default:U}}function c(U,H){return o(U)||h(U,H)||E(U,H)||u()}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(U,H){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(U)))){var q=[],W=!0,Y=!1,ie=void 0;try{for(var he=U[Symbol.iterator](),Se;!(W=(Se=he.next()).done)&&(q.push(Se.value),!(H&&q.length===H));W=!0);}catch(Pe){Y=!0,ie=Pe}finally{try{!W&&he.return!=null&&he.return()}finally{if(Y)throw ie}}return q}}function o(U){if(Array.isArray(U))return U}function v(U,H){var q;if(typeof Symbol>"u"||U[Symbol.iterator]==null){if(Array.isArray(U)||(q=E(U))||H&&U&&typeof U.length=="number"){q&&(U=q);var W=0,Y=function(){};return{s:Y,n:function(){return W>=U.length?{done:!0}:{done:!1,value:U[W++]}},e:function(We){throw We},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie=!0,he=!1,Se;return{s:function(){q=U[Symbol.iterator]()},n:function(){var We=q.next();return ie=We.done,We},e:function(We){he=!0,Se=We},f:function(){try{!ie&&q.return!=null&&q.return()}finally{if(he)throw Se}}}}function E(U,H){if(U){if(typeof U=="string")return S(U,H);var q=Object.prototype.toString.call(U).slice(8,-1);if(q==="Object"&&U.constructor&&(q=U.constructor.name),q==="Map"||q==="Set")return Array.from(U);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return S(U,H)}}function S(U,H){(H==null||H>U.length)&&(H=U.length);for(var q=0,W=new Array(H);q<H;q++)W[q]=U[q];return W}var k={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};function O(U){return/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(U)}function N(U,H){for(var q=[],W=Math.min(U.length,H.length),Y=0;Y<W;Y++)q.push([U[Y],H[Y]]);return q}function G(U,H){if(typeof H=="string"?H=(0,n.default)({format:H},k):H=(0,n.default)(H,k),typeof U=="string"&&O(H.format)){var q=H.delimiters.find(function(Qt){return H.format.indexOf(Qt)!==-1}),W=H.strictMode?q:H.delimiters.find(function(Qt){return U.indexOf(Qt)!==-1}),Y=N(U.split(W),H.format.toLowerCase().split(q)),ie={},he=v(Y),Se;try{for(he.s();!(Se=he.n()).done;){var Pe=c(Se.value,2),We=Pe[0],Le=Pe[1];if(We.length!==Le.length)return!1;ie[Le.charAt(0)]=We}}catch(Qt){he.e(Qt)}finally{he.f()}var qe=ie.y;if(ie.y.length===2){var Kt=parseInt(ie.y,10);if(isNaN(Kt))return!1;var Ut=new Date().getFullYear()%100;Kt<Ut?qe="20".concat(ie.y):qe="19".concat(ie.y)}return new Date("".concat(qe,"-").concat(ie.m,"-").concat(ie.d)).getDate()===+ie.d}return H.strictMode?!1:Object.prototype.toString.call(U)==="[object Date]"&&isFinite(U)}e.exports=t.default,e.exports.default=t.default})(KE,KE.exports);var N6=KE.exports,XE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=r(Ms);function r(o){return o&&o.__esModule?o:{default:o}}var c={hourFormat:"hour24",mode:"default"},u={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};function h(o,v){return v=(0,n.default)(v,c),typeof o!="string"?!1:u[v.hourFormat][v.mode].test(o)}e.exports=t.default,e.exports.default=t.default})(XE,XE.exports);var $W=XE.exports,YE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(zn);function r(v){return v&&v.__esModule?v:{default:v}}var c={loose:!1},u=["true","false","1","0"],h=[].concat(u,["yes","no"]);function o(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;return(0,n.default)(v),E.loose?h.includes(v.toLowerCase()):u.includes(v)}e.exports=t.default,e.exports.default=t.default})(YE,YE.exports);var jW=YE.exports,JE={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=W;var n=r(zn);function r(Y){return Y&&Y.__esModule?Y:{default:Y}}var c="([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",u="(([a-zA-Z]{2,3}(-".concat(c,")?)|([a-zA-Z]{5,8}))"),h="([A-Za-z]{4})",o="([A-Za-z]{2}|\\d{3})",v="([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",E="(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])",S="(".concat(E,"(-[A-Za-z0-9]{2,8})+)"),k="(x(-[A-Za-z0-9]{1,8})+)",O="((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))",N="((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",G="(".concat(O,"|").concat(N,")"),U="(-|_)",H="".concat(u,"(").concat(U).concat(h,")?(").concat(U).concat(o,")?(").concat(U).concat(v,")*(").concat(U).concat(S,")*(").concat(U).concat(k,")?"),q=new RegExp("(^".concat(k,"$)|(^").concat(G,"$)|(^").concat(H,"$)"));function W(Y){return(0,n.default)(Y),q.test(Y)}e.exports=t.default,e.exports.default=t.default})(JE,JE.exports);var UW=JE.exports,hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.default=HW;hv.locales=void 0;var VW=GW(zn),QE=co;function GW(e){return e&&e.__esModule?e:{default:e}}function HW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,VW.default)(e);var r=e,c=n.ignore;if(c)if(c instanceof RegExp)r=r.replace(c,"");else if(typeof c=="string")r=r.replace(new RegExp("[".concat(c.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(t in QE.alpha)return QE.alpha[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))}var WW=Object.keys(QE.alpha);hv.locales=WW;var pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.default=KW;pv.locales=void 0;var ZW=qW(zn),eC=co;function qW(e){return e&&e.__esModule?e:{default:e}}function KW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,ZW.default)(e);var r=e,c=n.ignore;if(c)if(c instanceof RegExp)r=r.replace(c,"");else if(typeof c=="string")r=r.replace(new RegExp("[".concat(c.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw new Error("ignore should be instance of a String or RegExp");if(t in eC.alphanumeric)return eC.alphanumeric[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))}var XW=Object.keys(eC.alphanumeric);pv.locales=XW;var tC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=co;function c(o){return o&&o.__esModule?o:{default:o}}var u=/^[0-9]+$/;function h(o,v){return(0,n.default)(o),v&&v.no_symbols?u.test(o):new RegExp("^[+-]?([0-9]*[".concat((v||{}).locale?r.decimal[v.locale]:".","])?[0-9]+$")).test(o)}e.exports=t.default,e.exports.default=t.default})(tC,tC.exports);var YW=tC.exports,nC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{2,3}\d{7,8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/};function u(h,o){(0,n.default)(h);var v=h.replace(/\s/g,"").toUpperCase();return o.toUpperCase()in c&&c[o].test(v)}e.exports=t.default,e.exports.default=t.default})(nC,nC.exports);var JW=nC.exports,rC={exports:{}},iC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=r(zn);function r(o){return o&&o.__esModule?o:{default:o}}var c=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,u=/^[-+]?[0-9]+$/;function h(o,v){(0,n.default)(o),v=v||{};var E=v.hasOwnProperty("allow_leading_zeroes")&&!v.allow_leading_zeroes?c:u,S=!v.hasOwnProperty("min")||o>=v.min,k=!v.hasOwnProperty("max")||o<=v.max,O=!v.hasOwnProperty("lt")||o<v.lt,N=!v.hasOwnProperty("gt")||o>v.gt;return E.test(o)&&S&&k&&O&&N}e.exports=t.default,e.exports.default=t.default})(iC,iC.exports);var $A=iC.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r($A);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u,{min:0,max:65535})}e.exports=t.default,e.exports.default=t.default})(rC,rC.exports);var QW=rC.exports,oC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u),u===u.toLowerCase()}e.exports=t.default,e.exports.default=t.default})(oC,oC.exports);var eZ=oC.exports,aC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u),u===u.toUpperCase()}e.exports=t.default,e.exports.default=t.default})(aC,aC.exports);var tZ=aC.exports,sC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=r(zn);function r(o){return o&&o.__esModule?o:{default:o}}var c=/^[0-9]{15}$/,u=/^\d{2}-\d{6}-\d{6}-\d{1}$/;function h(o,v){(0,n.default)(o),v=v||{};var E=c;if(v.allow_hyphens&&(E=u),!E.test(o))return!1;o=o.replace(/-/g,"");for(var S=0,k=2,O=14,N=0;N<O;N++){var G=o.substring(O-N-1,O-N),U=parseInt(G,10)*k;U>=10?S+=U%10+1:S+=U,k===1?k+=1:k-=1}var H=(10-S%10)%10;return H===parseInt(o.substring(14,15),10)}e.exports=t.default,e.exports.default=t.default})(sC,sC.exports);var nZ=sC.exports,lC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^[\x00-\x7F]+$/;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(lC,lC.exports);var rZ=lC.exports,Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.default=aZ;Zm.fullWidth=void 0;var iZ=oZ(zn);function oZ(e){return e&&e.__esModule?e:{default:e}}var B6=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;Zm.fullWidth=B6;function aZ(e){return(0,iZ.default)(e),B6.test(e)}var qm={};Object.defineProperty(qm,"__esModule",{value:!0});qm.default=cZ;qm.halfWidth=void 0;var sZ=lZ(zn);function lZ(e){return e&&e.__esModule?e:{default:e}}var z6=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;qm.halfWidth=z6;function cZ(e){return(0,sZ.default)(e),z6.test(e)}var cC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=u(zn),r=Zm,c=qm;function u(o){return o&&o.__esModule?o:{default:o}}function h(o){return(0,n.default)(o),r.fullWidth.test(o)&&c.halfWidth.test(o)}e.exports=t.default,e.exports.default=t.default})(cC,cC.exports);var uZ=cC.exports,uC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/[^\x00-\x7F]/;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(uC,uC.exports);var dZ=uC.exports,dC={exports:{}},fC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,c){var u=r.join("");return new RegExp(u,c)}e.exports=t.default,e.exports.default=t.default})(fC,fC.exports);var fZ=fC.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=c(fZ);function c(o){return o&&o.__esModule?o:{default:o}}var u=(0,r.default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");function h(o){return(0,n.default)(o),u.test(o)}e.exports=t.default,e.exports.default=t.default})(dC,dC.exports);var hZ=dC.exports,hC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(hC,hC.exports);var pZ=hC.exports,pC={exports:{}},mC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(u,h){return u.some(function(o){return h===o})},r=n;t.default=r,e.exports=t.default,e.exports.default=t.default})(mC,mC.exports);var mZ=mC.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var n=h(Ms),r=h(zn),c=h(mZ),u=co;function h(k){return k&&k.__esModule?k:{default:k}}function o(k){var O=new RegExp("^[-+]?([0-9]+)?(\\".concat(u.decimal[k.locale],"[0-9]{").concat(k.decimal_digits,"})").concat(k.force_decimal?"":"?","$"));return O}var v={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},E=["","-","+"];function S(k,O){if((0,r.default)(k),O=(0,n.default)(O,v),O.locale in u.decimal)return!(0,c.default)(E,k.replace(/ /g,""))&&o(O).test(k);throw new Error("Invalid locale '".concat(O.locale,"'"))}e.exports=t.default,e.exports.default=t.default})(pC,pC.exports);var gZ=pC.exports,gC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^(0x|0h)?[0-9A-F]+$/i;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(gC,gC.exports);var $6=gC.exports,yC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^(0o)?[0-7]+$/i;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(yC,yC.exports);var yZ=yC.exports,vC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(zn),r=c(R6);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,o){return(0,n.default)(h),(0,r.default)(h)%parseInt(o,10)===0}e.exports=t.default,e.exports.default=t.default})(vC,vC.exports);var vZ=vC.exports,_C={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(_C,_C.exports);var _Z=_C.exports,xC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=r(zn);function r(E){return E&&E.__esModule?E:{default:E}}var c=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,u=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,h=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,o=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;function v(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,n.default)(E),S?c.test(E)||u.test(E)||h.test(E)||o.test(E):c.test(E)||u.test(E)}e.exports=t.default,e.exports.default=t.default})(xC,xC.exports);var xZ=xC.exports,bC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=r(zn);function r(o){return o&&o.__esModule?o:{default:o}}var c=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,u=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;function h(o){(0,n.default)(o);var v=o.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return v.indexOf(",")!==-1?c.test(v):u.test(v)}e.exports=t.default,e.exports.default=t.default})(bC,bC.exports);var bZ=bC.exports,wC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(wC,wC.exports);var wZ=wC.exports,mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.default=PZ;mv.locales=void 0;var EZ=CZ(zn);function CZ(e){return e&&e.__esModule?e:{default:e}}var Q_={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};function SZ(e){var t=e.filter(function(n){return!(n in Q_)});return!(t.length>0)}function TZ(e,t){var n=e.replace(/[\s\-]+/gi,"").toUpperCase(),r=n.slice(0,2).toUpperCase(),c=r in Q_;if(t.whitelist){if(!SZ(t.whitelist))return!1;var u=t.whitelist.includes(r);if(!u)return!1}if(t.blacklist){var h=t.blacklist.includes(r);if(h)return!1}return c&&Q_[r].test(n)}function AZ(e){var t=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase(),n=t.slice(4)+t.slice(0,4),r=n.replace(/[A-Z]/g,function(u){return u.charCodeAt(0)-55}),c=r.match(/\d{1,7}/g).reduce(function(u,h){return Number(u+h)%97},"");return c===1}function PZ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,EZ.default)(e),TZ(e,t)&&AZ(e)}var IZ=Object.keys(Q_);mv.locales=IZ;var EC={exports:{}},Km={};Object.defineProperty(Km,"__esModule",{value:!0});Km.default=OZ;Km.CountryCodes=void 0;var kZ=MZ(zn);function MZ(e){return e&&e.__esModule?e:{default:e}}var j6=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);function OZ(e){return(0,kZ.default)(e),j6.has(e.toUpperCase())}var RZ=j6;Km.CountryCodes=RZ;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=Km;function c(o){return o&&o.__esModule?o:{default:o}}var u=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;function h(o){(0,n.default)(o);var v=o.slice(4,6).toUpperCase();return!r.CountryCodes.has(v)&&v!=="XK"?!1:u.test(o)}e.exports=t.default,e.exports.default=t.default})(EC,EC.exports);var DZ=EC.exports,CC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^[a-f0-9]{32}$/;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(CC,CC.exports);var LZ=CC.exports,SC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};function u(h,o){(0,n.default)(h);var v=new RegExp("^[a-fA-F0-9]{".concat(c[o],"}$"));return v.test(h)}e.exports=t.default,e.exports.default=t.default})(SC,SC.exports);var FZ=SC.exports,TC={exports:{}},AC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=c(zn),r=c(Ms);function c(E){return E&&E.__esModule?E:{default:E}}var u=/[^A-Z0-9+\/=]/i,h=/^[A-Z0-9_\-]*$/i,o={urlSafe:!1};function v(E,S){(0,n.default)(E),S=(0,r.default)(S,o);var k=E.length;if(S.urlSafe)return h.test(E);if(k%4!==0||u.test(E))return!1;var O=E.indexOf("=");return O===-1||O===k-1||O===k-2&&E[k-1]==="="}e.exports=t.default,e.exports.default=t.default})(AC,AC.exports);var U6=AC.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(zn),r=c(U6);function c(h){return h&&h.__esModule?h:{default:h}}function u(h){(0,n.default)(h);var o=h.split("."),v=o.length;return v!==3?!1:o.reduce(function(E,S){return E&&(0,r.default)(S,{urlSafe:!0})},!0)}e.exports=t.default,e.exports.default=t.default})(TC,TC.exports);var NZ=TC.exports,PC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=c(zn),r=c(Ms);function c(v){return v&&v.__esModule?v:{default:v}}function u(v){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(S){return typeof S}:u=function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},u(v)}var h={allow_primitives:!1};function o(v,E){(0,n.default)(v);try{E=(0,r.default)(E,h);var S=[];E.allow_primitives&&(S=[null,!1,!0]);var k=JSON.parse(v);return S.includes(k)||!!k&&u(k)==="object"}catch{}return!1}e.exports=t.default,e.exports.default=t.default})(PC,PC.exports);var BZ=PC.exports,IC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=c(Ms);function c(o){return o&&o.__esModule?o:{default:o}}var u={ignore_whitespace:!1};function h(o,v){return(0,n.default)(o),v=(0,r.default)(v,u),(v.ignore_whitespace?o.trim().length:o.length)===0}e.exports=t.default,e.exports.default=t.default})(IC,IC.exports);var zZ=IC.exports,kC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}function c(h){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(v){return typeof v}:c=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(h)}function u(h,o){(0,n.default)(h);var v,E;c(o)==="object"?(v=o.min||0,E=o.max):(v=arguments[1]||0,E=arguments[2]);var S=h.match(/(\uFE0F|\uFE0E)/g)||[],k=h.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],O=h.length-S.length-k.length;return O>=v&&(typeof E>"u"||O<=E)}e.exports=t.default,e.exports.default=t.default})(kC,kC.exports);var $Z=kC.exports,MC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function u(h,o){(0,n.default)(h);var v=c[[void 0,null].includes(o)?"all":o];return!!v&&v.test(h)}e.exports=t.default,e.exports.default=t.default})(MC,MC.exports);var jZ=MC.exports,OC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(zn),r=c($6);function c(h){return h&&h.__esModule?h:{default:h}}function u(h){return(0,n.default)(h),(0,r.default)(h)&&h.length===24}e.exports=t.default,e.exports.default=t.default})(OC,OC.exports);var UZ=OC.exports,RC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(BA);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){var o=(h==null?void 0:h.comparisonDate)||h||Date().toString(),v=(0,n.default)(o),E=(0,n.default)(u);return!!(E&&v&&E>v)}e.exports=t.default,e.exports.default=t.default})(RC,RC.exports);var VZ=RC.exports,DC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(zn),r=c(BA);function c(h){return h&&h.__esModule?h:{default:h}}function u(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:String(new Date);(0,n.default)(h);var v=(0,r.default)(o),E=(0,r.default)(h);return!!(E&&v&&E<v)}e.exports=t.default,e.exports.default=t.default})(DC,DC.exports);var GZ=DC.exports,LC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=c(D6);function c(o){return o&&o.__esModule?o:{default:o}}function u(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(E){return typeof E}:u=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(o)}function h(o,v){(0,n.default)(o);var E;if(Object.prototype.toString.call(v)==="[object Array]"){var S=[];for(E in v)({}).hasOwnProperty.call(v,E)&&(S[E]=(0,r.default)(v[E]));return S.indexOf(o)>=0}else{if(u(v)==="object")return v.hasOwnProperty(o);if(v&&typeof v.indexOf=="function")return v.indexOf(o)>=0}return!1}e.exports=t.default,e.exports.default=t.default})(LC,LC.exports);var HZ=LC.exports,FC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){(0,n.default)(u);for(var h=u.replace(/[- ]+/g,""),o=0,v,E,S,k=h.length-1;k>=0;k--)v=h.substring(k,k+1),E=parseInt(v,10),S?(E*=2,E>=10?o+=E%10+1:o+=E):o+=E,S=!S;return!!(o%10===0&&h)}e.exports=t.default,e.exports.default=t.default})(FC,FC.exports);var V6=FC.exports,NC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=c(zn),r=c(V6);function c(v){return v&&v.__esModule?v:{default:v}}var u={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},h=function(){var v=[];for(var E in u)u.hasOwnProperty(E)&&v.push(u[E]);return v}();function o(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(v);var S=E.provider,k=v.replace(/[- ]+/g,"");if(S&&S.toLowerCase()in u){if(!u[S.toLowerCase()].test(k))return!1}else{if(S&&!(S.toLowerCase()in u))throw new Error("".concat(S," is not a valid credit card provider."));if(!h.some(function(O){return O.test(k)}))return!1}return(0,r.default)(v)}e.exports=t.default,e.exports.default=t.default})(NC,NC.exports);var WZ=NC.exports,BC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=c(zn),r=c($A);function c(o){return o&&o.__esModule?o:{default:o}}var u={PL:function(v){(0,n.default)(v);var E={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(v!=null&&v.length===11&&(0,r.default)(v,{allow_leading_zeroes:!0})){var S=v.split("").slice(0,-1),k=S.reduce(function(G,U,H){return G+Number(U)*E[H+1]},0),O=k%10,N=Number(v.charAt(v.length-1));if(O===0&&N===0||N===10-O)return!0}return!1},ES:function(v){(0,n.default)(v);var E=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,S={X:0,Y:1,Z:2},k=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],O=v.trim().toUpperCase();if(!E.test(O))return!1;var N=O.slice(0,-1).replace(/[X,Y,Z]/g,function(G){return S[G]});return O.endsWith(k[N%23])},FI:function(v){if((0,n.default)(v),v.length!==11||!v.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;var E="0123456789ABCDEFHJKLMNPRSTUVWXY",S=parseInt(v.slice(0,6),10)*1e3+parseInt(v.slice(7,10),10),k=S%31,O=E[k];return O===v.slice(10,11)},IN:function(v){var E=/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/,S=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],k=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],O=v.trim();if(!E.test(O))return!1;var N=0,G=O.replace(/\s/g,"").split("").map(Number).reverse();return G.forEach(function(U,H){N=S[N][k[H%8][U]]}),N===0},IR:function(v){if(!v.match(/^\d{10}$/)||(v="0000".concat(v).slice(v.length-6),parseInt(v.slice(3,9),10)===0))return!1;for(var E=parseInt(v.slice(9,10),10),S=0,k=0;k<9;k++)S+=parseInt(v.slice(k,k+1),10)*(10-k);return S%=11,S<2&&E===S||S>=2&&E===11-S},IT:function(v){return v.length!==9||v==="CA00000AA"?!1:v.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1},NO:function(v){var E=v.trim();if(isNaN(Number(E))||E.length!==11||E==="00000000000")return!1;var S=E.split("").map(Number),k=(11-(3*S[0]+7*S[1]+6*S[2]+1*S[3]+8*S[4]+9*S[5]+4*S[6]+5*S[7]+2*S[8])%11)%11,O=(11-(5*S[0]+4*S[1]+3*S[2]+2*S[3]+7*S[4]+6*S[5]+5*S[6]+4*S[7]+3*S[8]+2*k)%11)%11;return!(k!==S[9]||O!==S[10])},TH:function(v){if(!v.match(/^[1-8]\d{12}$/))return!1;for(var E=0,S=0;S<12;S++)E+=parseInt(v[S],10)*(13-S);return v[12]===((11-E%11)%10).toString()},LK:function(v){var E=/^[1-9]\d{8}[vx]$/i,S=/^[1-9]\d{11}$/i;return v.length===10&&E.test(v)?!0:!!(v.length===12&&S.test(v))},"he-IL":function(v){var E=/^\d{9}$/,S=v.trim();if(!E.test(S))return!1;for(var k=S,O=0,N,G=0;G<k.length;G++)N=Number(k[G])*(G%2+1),O+=N>9?N-9:N;return O%10===0},"ar-LY":function(v){var E=/^(1|2)\d{11}$/,S=v.trim();return!!E.test(S)},"ar-TN":function(v){var E=/^\d{8}$/,S=v.trim();return!!E.test(S)},"zh-CN":function(v){var E=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],S=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],k=["1","0","X","9","8","7","6","5","4","3","2"],O=function(ie){return E.includes(ie)},N=function(ie){var he=parseInt(ie.substring(0,4),10),Se=parseInt(ie.substring(4,6),10),Pe=parseInt(ie.substring(6),10),We=new Date(he,Se-1,Pe);return We>new Date?!1:We.getFullYear()===he&&We.getMonth()===Se-1&&We.getDate()===Pe},G=function(ie){for(var he=ie.substring(0,17),Se=0,Pe=0;Pe<17;Pe++)Se+=parseInt(he.charAt(Pe),10)*parseInt(S[Pe],10);var We=Se%11;return k[We]},U=function(ie){return G(ie)===ie.charAt(17).toUpperCase()},H=function(ie){var he=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(ie);if(!he)return!1;var Se=ie.substring(0,2);if(he=O(Se),!he)return!1;var Pe="19".concat(ie.substring(6,12));return he=N(Pe),!!he},q=function(ie){var he=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(ie);if(!he)return!1;var Se=ie.substring(0,2);if(he=O(Se),!he)return!1;var Pe=ie.substring(6,14);return he=N(Pe),he?U(ie):!1},W=function(ie){var he=/^\d{15}|(\d{17}(\d|x|X))$/.test(ie);return he?ie.length===15?H(ie):q(ie):!1};return W(v)},"zh-HK":function(v){v=v.trim();var E=/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/,S=/^[0-9]$/;if(v=v.toUpperCase(),!E.test(v))return!1;v=v.replace(/\[|\]|\(|\)/g,""),v.length===8&&(v="3".concat(v));for(var k=0,O=0;O<=7;O++){var N=void 0;S.test(v[O])?N=v[O]:N=(v[O].charCodeAt(0)-55)%11,k+=N*(9-O)}k%=11;var G;return k===0?G="0":k===1?G="A":G=String(11-k),G===v[v.length-1]},"zh-TW":function(v){var E={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},S=v.trim().toUpperCase();return/^[A-Z][0-9]{9}$/.test(S)?Array.from(S).reduce(function(k,O,N){if(N===0){var G=E[O];return G%10*9+Math.floor(G/10)}return N===9?(10-k%10-Number(O))%10===0:k+Number(O)*(9-N)},0):!1}};function h(o,v){if((0,n.default)(o),v in u)return u[v](o);if(v==="any"){for(var E in u)if(u.hasOwnProperty(E)){var S=u[E];if(S(o))return!0}return!1}throw new Error("Invalid locale '".concat(v,"'"))}e.exports=t.default,e.exports.default=t.default})(BC,BC.exports);var ZZ=BC.exports,zC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var n=r(zn);function r(S){return S&&S.__esModule?S:{default:S}}var c=8,u=14,h=/^(\d{8}|\d{13}|\d{14})$/;function o(S,k){return S===c||S===u?k%2===0?3:1:k%2===0?1:3}function v(S){var k=S.slice(0,-1).split("").map(function(N,G){return Number(N)*o(S.length,G)}).reduce(function(N,G){return N+G},0),O=10-k%10;return O<10?O:0}function E(S){(0,n.default)(S);var k=Number(S.slice(-1));return h.test(S)&&k===v(S)}e.exports=t.default,e.exports.default=t.default})(zC,zC.exports);var qZ=zC.exports,$C={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;function u(h){if((0,n.default)(h),!c.test(h))return!1;for(var o=!0,v=0,E=h.length-2;E>=0;E--)if(h[E]>="A"&&h[E]<="Z")for(var S=h[E].charCodeAt(0)-55,k=S%10,O=Math.trunc(S/10),N=0,G=[k,O];N<G.length;N++){var U=G[N];o?U>=5?v+=1+(U-5)*2:v+=U*2:v+=U,o=!o}else{var H=h[E].charCodeAt(0)-"0".charCodeAt(0);o?H>=5?v+=1+(H-5)*2:v+=H*2:v+=H,o=!o}var q=Math.trunc((v+9)/10)*10-v;return+h[h.length-1]===q}e.exports=t.default,e.exports.default=t.default})($C,$C.exports);var KZ=$C.exports,jC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(zn);function r(v){return v&&v.__esModule?v:{default:v}}var c=/^(?:[0-9]{9}X|[0-9]{10})$/,u=/^(?:[0-9]{13})$/,h=[1,3];function o(v,E){(0,n.default)(v);var S=String((E==null?void 0:E.version)||E);if(!(E!=null&&E.version||E))return o(v,{version:10})||o(v,{version:13});var k=v.replace(/[\s-]+/g,""),O=0;if(S==="10"){if(!c.test(k))return!1;for(var N=0;N<S-1;N++)O+=(N+1)*k.charAt(N);if(k.charAt(9)==="X"?O+=10*10:O+=10*k.charAt(9),O%11===0)return!0}else if(S==="13"){if(!u.test(k))return!1;for(var G=0;G<12;G++)O+=h[G%2]*k.charAt(G);if(k.charAt(12)-(10-O%10)%10===0)return!0}return!1}e.exports=t.default,e.exports.default=t.default})(jC,jC.exports);var XZ=jC.exports,UC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c="^\\d{4}-?\\d{3}[\\dX]$";function u(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(h);var v=c;if(v=o.require_hyphen?v.replace("?",""):v,v=o.case_sensitive?new RegExp(v):new RegExp(v,"i"),!v.test(h))return!1;for(var E=h.replace("-","").toUpperCase(),S=0,k=0;k<E.length;k++){var O=E[k];S+=(O==="X"?10:+O)*(8-k)}return S%11===0}e.exports=t.default,e.exports.default=t.default})(UC,UC.exports);var YZ=UC.exports,VC={exports:{}},op={};Object.defineProperty(op,"__esModule",{value:!0});op.iso7064Check=JZ;op.luhnCheck=QZ;op.reverseMultiplyAndSum=eq;op.verhoeffCheck=tq;function JZ(e){for(var t=10,n=0;n<e.length-1;n++)t=(parseInt(e[n],10)+t)%10===0?10*2%11:(parseInt(e[n],10)+t)%10*2%11;return t=t===1?0:11-t,t===parseInt(e[10],10)}function QZ(e){for(var t=0,n=!1,r=e.length-1;r>=0;r--){if(n){var c=parseInt(e[r],10)*2;c>9?t+=c.toString().split("").map(function(u){return parseInt(u,10)}).reduce(function(u,h){return u+h},0):t+=c}else t+=parseInt(e[r],10);n=!n}return t%10===0}function eq(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*(t-r);return n}function tq(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.split("").reverse().join(""),c=0,u=0;u<r.length;u++)c=t[c][n[u%8][parseInt(r[u],10)]];return c===0}(function(e,t){function n(xe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(lt){return typeof lt}:n=function(lt){return lt&&typeof Symbol=="function"&&lt.constructor===Symbol&&lt!==Symbol.prototype?"symbol":typeof lt},n(xe)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=yn;var r=v(zn),c=o(op),u=v(N6);function h(){if(typeof WeakMap!="function")return null;var xe=new WeakMap;return h=function(){return xe},xe}function o(xe){if(xe&&xe.__esModule)return xe;if(xe===null||n(xe)!=="object"&&typeof xe!="function")return{default:xe};var Re=h();if(Re&&Re.has(xe))return Re.get(xe);var lt={},kt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in xe)if(Object.prototype.hasOwnProperty.call(xe,zt)){var Wt=kt?Object.getOwnPropertyDescriptor(xe,zt):null;Wt&&(Wt.get||Wt.set)?Object.defineProperty(lt,zt,Wt):lt[zt]=xe[zt]}return lt.default=xe,Re&&Re.set(xe,lt),lt}function v(xe){return xe&&xe.__esModule?xe:{default:xe}}function E(xe){return N(xe)||O(xe)||k(xe)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(xe,Re){if(xe){if(typeof xe=="string")return G(xe,Re);var lt=Object.prototype.toString.call(xe).slice(8,-1);if(lt==="Object"&&xe.constructor&&(lt=xe.constructor.name),lt==="Map"||lt==="Set")return Array.from(xe);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return G(xe,Re)}}function O(xe){if(typeof Symbol<"u"&&Symbol.iterator in Object(xe))return Array.from(xe)}function N(xe){if(Array.isArray(xe))return G(xe)}function G(xe,Re){(Re==null||Re>xe.length)&&(Re=xe.length);for(var lt=0,kt=new Array(Re);lt<Re;lt++)kt[lt]=xe[lt];return kt}function U(xe){var Re=xe.slice(0,2),lt=parseInt(xe.slice(2,4),10);lt>40?(lt-=40,Re="20".concat(Re)):lt>20?(lt-=20,Re="18".concat(Re)):Re="19".concat(Re),lt<10&&(lt="0".concat(lt));var kt="".concat(Re,"/").concat(lt,"/").concat(xe.slice(4,6));if(!(0,u.default)(kt,"YYYY/MM/DD"))return!1;for(var zt=xe.split("").map(function(kn){return parseInt(kn,10)}),Wt=[2,4,8,5,10,9,7,3,6],Pn=0,Rn=0;Rn<Wt.length;Rn++)Pn+=zt[Rn]*Wt[Rn];return Pn=Pn%11===10?0:Pn%11,Pn===zt[9]}function H(xe){var Re=xe.split(""),lt=Re.filter(function(zt,Wt){return Wt%2}).map(function(zt){return Number(zt)*2}).join("").split(""),kt=Re.filter(function(zt,Wt){return!(Wt%2)}).concat(lt).map(function(zt){return Number(zt)}).reduce(function(zt,Wt){return zt+Wt});return kt%10===0}function q(xe){xe=xe.replace(/\W/,"");var Re=parseInt(xe.slice(0,2),10);if(xe.length===10)Re<54?Re="20".concat(Re):Re="19".concat(Re);else{if(xe.slice(6)==="000")return!1;if(Re<54)Re="19".concat(Re);else return!1}Re.length===3&&(Re=[Re.slice(0,2),"0",Re.slice(2)].join(""));var lt=parseInt(xe.slice(2,4),10);if(lt>50&&(lt-=50),lt>20){if(parseInt(Re,10)<2004)return!1;lt-=20}lt<10&&(lt="0".concat(lt));var kt="".concat(Re,"/").concat(lt,"/").concat(xe.slice(4,6));if(!(0,u.default)(kt,"YYYY/MM/DD"))return!1;if(xe.length===10&&parseInt(xe,10)%11!==0){var zt=parseInt(xe.slice(0,9),10)%11;if(parseInt(Re,10)<1986&&zt===10){if(parseInt(xe.slice(9),10)!==0)return!1}else return!1}return!0}function W(xe){return c.luhnCheck(xe)}function Y(xe){for(var Re=xe.split("").map(function(kn){return parseInt(kn,10)}),lt=[],kt=0;kt<Re.length-1;kt++){lt.push("");for(var zt=0;zt<Re.length-1;zt++)Re[kt]===Re[zt]&&(lt[kt]+=zt)}if(lt=lt.filter(function(kn){return kn.length>1}),lt.length!==2&&lt.length!==3)return!1;if(lt[0].length===3){for(var Wt=lt[0].split("").map(function(kn){return parseInt(kn,10)}),Pn=0,Rn=0;Rn<Wt.length-1;Rn++)Wt[Rn]+1===Wt[Rn+1]&&(Pn+=1);if(Pn===2)return!1}return c.iso7064Check(xe)}function ie(xe){xe=xe.replace(/\W/,"");var Re=parseInt(xe.slice(4,6),10),lt=xe.slice(6,7);switch(lt){case"0":case"1":case"2":case"3":Re="19".concat(Re);break;case"4":case"9":Re<37?Re="20".concat(Re):Re="19".concat(Re);break;default:if(Re<37)Re="20".concat(Re);else if(Re>58)Re="18".concat(Re);else return!1;break}Re.length===3&&(Re=[Re.slice(0,2),"0",Re.slice(2)].join(""));var kt="".concat(Re,"/").concat(xe.slice(2,4),"/").concat(xe.slice(0,2));if(!(0,u.default)(kt,"YYYY/MM/DD"))return!1;for(var zt=xe.split("").map(function(kn){return parseInt(kn,10)}),Wt=0,Pn=4,Rn=0;Rn<9;Rn++)Wt+=zt[Rn]*Pn,Pn-=1,Pn===1&&(Pn=7);return Wt%=11,Wt===1?!1:Wt===0?zt[9]===0:zt[9]===11-Wt}function he(xe){for(var Re=xe.slice(0,8).split("").map(function(Wt){return parseInt(Wt,10)}),lt=0,kt=1;kt<Re.length;kt+=2)lt+=Re[kt];for(var zt=0;zt<Re.length;zt+=2)Re[zt]<2?lt+=1-Re[zt]:(lt+=2*(Re[zt]-2)+5,Re[zt]>4&&(lt+=2));return String.fromCharCode(lt%26+65)===xe.charAt(8)}function Se(xe){for(var Re=xe.split("").map(function(zt){return parseInt(zt,10)}),lt=0,kt=0;kt<8;kt++)lt+=Re[kt]*Math.pow(2,8-kt);return lt%11%10===Re[8]}function Pe(xe){var Re=c.reverseMultiplyAndSum(xe.split("").slice(0,7).map(function(lt){return parseInt(lt,10)}),8);return xe.length===9&&xe[8]!=="W"&&(Re+=(xe[8].charCodeAt(0)-64)*9),Re%=23,Re===0?xe[7].toUpperCase()==="W":xe[7].toUpperCase()===String.fromCharCode(64+Re)}var We={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function Le(){var xe=[];for(var Re in We)We.hasOwnProperty(Re)&&xe.push.apply(xe,E(We[Re]));return xe}function qe(xe){return Le().indexOf(xe.slice(0,2))!==-1}function Kt(xe){var Re=xe.toUpperCase().split("");if(isNaN(parseInt(Re[0],10))&&Re.length>1){var lt=0;switch(Re[0]){case"Y":lt=1;break;case"Z":lt=2;break}Re.splice(0,1,lt)}else for(;Re.length<9;)Re.unshift(0);var kt=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"];Re=Re.join("");var zt=parseInt(Re.slice(0,8),10)%23;return Re[8]===kt[zt]}function Ut(xe){var Re=xe.slice(1,3),lt=xe.slice(0,1);switch(lt){case"1":case"2":Re="18".concat(Re);break;case"3":case"4":Re="19".concat(Re);break;default:Re="20".concat(Re);break}var kt="".concat(Re,"/").concat(xe.slice(3,5),"/").concat(xe.slice(5,7));if(!(0,u.default)(kt,"YYYY/MM/DD"))return!1;for(var zt=xe.split("").map(function(xn){return parseInt(xn,10)}),Wt=0,Pn=1,Rn=0;Rn<10;Rn++)Wt+=zt[Rn]*Pn,Pn+=1,Pn===10&&(Pn=1);if(Wt%11===10){Wt=0,Pn=3;for(var kn=0;kn<10;kn++)Wt+=zt[kn]*Pn,Pn+=1,Pn===10&&(Pn=1);if(Wt%11===10)return zt[10]===0}return Wt%11===zt[10]}function Qt(xe){var Re=xe.slice(4,6),lt=xe.slice(6,7);switch(lt){case"+":Re="18".concat(Re);break;case"-":Re="19".concat(Re);break;default:Re="20".concat(Re);break}var kt="".concat(Re,"/").concat(xe.slice(2,4),"/").concat(xe.slice(0,2));if(!(0,u.default)(kt,"YYYY/MM/DD"))return!1;var zt=parseInt(xe.slice(0,6)+xe.slice(7,10),10)%31;if(zt<10)return zt===parseInt(xe.slice(10),10);zt-=10;var Wt=["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"];return Wt[zt]===xe.slice(10)}function Tn(xe){if(xe.slice(2,4)!=="00"||xe.slice(4,6)!=="00"){var Re="".concat(xe.slice(0,2),"/").concat(xe.slice(2,4),"/").concat(xe.slice(4,6));if(!(0,u.default)(Re,"YY/MM/DD"))return!1}var lt=97-parseInt(xe.slice(0,9),10)%97,kt=parseInt(xe.slice(9,11),10);return!(lt!==kt&&(lt=97-parseInt("2".concat(xe.slice(0,9)),10)%97,lt!==kt))}function An(xe){xe=xe.replace(/\s/g,"");var Re=parseInt(xe.slice(0,10),10)%511,lt=parseInt(xe.slice(10,13),10);return Re===lt}function Vt(xe){var Re="".concat(xe.slice(0,4),"/").concat(xe.slice(4,6),"/").concat(xe.slice(6,8));return!(0,u.default)(Re,"YYYY/MM/DD")||!c.luhnCheck(xe.slice(0,12))?!1:c.verhoeffCheck("".concat(xe.slice(0,11)).concat(xe[12]))}function _t(xe){return c.iso7064Check(xe)}function Ve(xe){for(var Re=xe.split("").map(function(zt){return parseInt(zt,10)}),lt=8,kt=1;kt<9;kt++)lt+=Re[kt]*(kt+1);return lt%11===Re[9]}function Rt(xe){for(var Re=!1,lt=!1,kt=0;kt<3;kt++)if(!Re&&/[AEIOU]/.test(xe[kt]))Re=!0;else if(!lt&&Re&&xe[kt]==="X")lt=!0;else if(kt>0&&(Re&&!lt&&!/[AEIOU]/.test(xe[kt])||lt&&!/X/.test(xe[kt])))return!1;return!0}function Ge(xe){var Re=xe.toUpperCase().split("");if(!Rt(Re.slice(0,3))||!Rt(Re.slice(3,6)))return!1;for(var lt=[6,7,9,10,12,13,14],kt={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},zt=0,Wt=lt;zt<Wt.length;zt++){var Pn=Wt[zt];Re[Pn]in kt&&Re.splice(Pn,1,kt[Re[Pn]])}var Rn={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"},kn=Rn[Re[8]],xn=parseInt(Re[9]+Re[10],10);xn>40&&(xn-=40),xn<10&&(xn="0".concat(xn));var jn="".concat(Re[6]).concat(Re[7],"/").concat(kn,"/").concat(xn);if(!(0,u.default)(jn,"YY/MM/DD"))return!1;for(var nr=0,wn=1;wn<Re.length-1;wn+=2){var Qe=parseInt(Re[wn],10);isNaN(Qe)&&(Qe=Re[wn].charCodeAt(0)-65),nr+=Qe}for(var xt={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},Ze=0;Ze<Re.length-1;Ze+=2){var Gt=0;if(Re[Ze]in xt)Gt=xt[Re[Ze]];else{var Cn=parseInt(Re[Ze],10);Gt=2*Cn+1,Cn>4&&(Gt+=2)}nr+=Gt}return String.fromCharCode(65+nr%26)===Re[15]}function sn(xe){xe=xe.replace(/\W/,"");var Re=xe.slice(0,2);if(Re!=="32"){var lt=xe.slice(2,4);if(lt!=="00"){var kt=xe.slice(4,6);switch(xe[6]){case"0":kt="18".concat(kt);break;case"1":kt="19".concat(kt);break;default:kt="20".concat(kt);break}var zt="".concat(kt,"/").concat(xe.slice(2,4),"/").concat(Re);if(!(0,u.default)(zt,"YYYY/MM/DD"))return!1}for(var Wt=1101,Pn=[1,6,3,7,9,10,5,8,4,2],Rn=0;Rn<xe.length-1;Rn++)Wt-=parseInt(xe[Rn],10)*Pn[Rn];return parseInt(xe[10],10)===Wt%11}return!0}function ln(xe){if(xe.length!==9){for(var Re=xe.toUpperCase().split("");Re.length<8;)Re.unshift(0);switch(xe[7]){case"A":case"P":if(parseInt(Re[6],10)===0)return!1;break;default:{var lt=parseInt(Re.join("").slice(0,5),10);if(lt>32e3)return!1;var kt=parseInt(Re.join("").slice(5,7),10);if(lt===kt)return!1}}}return!0}function pn(xe){return c.reverseMultiplyAndSum(xe.split("").slice(0,8).map(function(Re){return parseInt(Re,10)}),9)%11===parseInt(xe[8],10)}function Yn(xe){if(xe.length===10){for(var Re=[6,5,7,2,3,4,5,6,7],lt=0,kt=0;kt<Re.length;kt++)lt+=parseInt(xe[kt],10)*Re[kt];return lt%=11,lt===10?!1:lt===parseInt(xe[9],10)}var zt=xe.slice(0,2),Wt=parseInt(xe.slice(2,4),10);Wt>80?(zt="18".concat(zt),Wt-=80):Wt>60?(zt="22".concat(zt),Wt-=60):Wt>40?(zt="21".concat(zt),Wt-=40):Wt>20?(zt="20".concat(zt),Wt-=20):zt="19".concat(zt),Wt<10&&(Wt="0".concat(Wt));var Pn="".concat(zt,"/").concat(Wt,"/").concat(xe.slice(4,6));if(!(0,u.default)(Pn,"YYYY/MM/DD"))return!1;for(var Rn=0,kn=1,xn=0;xn<xe.length-1;xn++)Rn+=parseInt(xe[xn],10)*kn%10,kn+=2,kn>10?kn=1:kn===5&&(kn+=2);return Rn=10-Rn%10,Rn===parseInt(xe[10],10)}function qn(xe){if(xe.length===11){var Re,lt;if(Re=0,xe==="11111111111"||xe==="22222222222"||xe==="33333333333"||xe==="44444444444"||xe==="55555555555"||xe==="66666666666"||xe==="77777777777"||xe==="88888888888"||xe==="99999999999"||xe==="00000000000")return!1;for(var kt=1;kt<=9;kt++)Re+=parseInt(xe.substring(kt-1,kt),10)*(11-kt);if(lt=Re*10%11,lt===10&&(lt=0),lt!==parseInt(xe.substring(9,10),10))return!1;Re=0;for(var zt=1;zt<=10;zt++)Re+=parseInt(xe.substring(zt-1,zt),10)*(12-zt);return lt=Re*10%11,lt===10&&(lt=0),lt===parseInt(xe.substring(10,11),10)}if(xe==="00000000000000"||xe==="11111111111111"||xe==="22222222222222"||xe==="33333333333333"||xe==="44444444444444"||xe==="55555555555555"||xe==="66666666666666"||xe==="77777777777777"||xe==="88888888888888"||xe==="99999999999999")return!1;for(var Wt=xe.length-2,Pn=xe.substring(0,Wt),Rn=xe.substring(Wt),kn=0,xn=Wt-7,jn=Wt;jn>=1;jn--)kn+=Pn.charAt(Wt-jn)*xn,xn-=1,xn<2&&(xn=9);var nr=kn%11<2?0:11-kn%11;if(nr!==parseInt(Rn.charAt(0),10))return!1;Wt+=1,Pn=xe.substring(0,Wt),kn=0,xn=Wt-7;for(var wn=Wt;wn>=1;wn--)kn+=Pn.charAt(Wt-wn)*xn,xn-=1,xn<2&&(xn=9);return nr=kn%11<2?0:11-kn%11,nr===parseInt(Rn.charAt(1),10)}function nn(xe){var Re=11-c.reverseMultiplyAndSum(xe.split("").slice(0,8).map(function(lt){return parseInt(lt,10)}),9)%11;return Re>9?parseInt(xe[8],10)===0:Re===parseInt(xe[8],10)}function Bt(xe){if(xe.slice(0,4)!=="9000"){var Re=xe.slice(1,3);switch(xe[0]){case"1":case"2":Re="19".concat(Re);break;case"3":case"4":Re="18".concat(Re);break;case"5":case"6":Re="20".concat(Re);break}var lt="".concat(Re,"/").concat(xe.slice(3,5),"/").concat(xe.slice(5,7));if(lt.length===8){if(!(0,u.default)(lt,"YY/MM/DD"))return!1}else if(!(0,u.default)(lt,"YYYY/MM/DD"))return!1;for(var kt=xe.split("").map(function(Rn){return parseInt(Rn,10)}),zt=[2,7,9,1,4,6,3,5,8,2,7,9],Wt=0,Pn=0;Pn<zt.length;Pn++)Wt+=kt[Pn]*zt[Pn];return Wt%11===10?kt[12]===1:kt[12]===Wt%11}return!0}function ot(xe){if(xe.length===9){if(xe=xe.replace(/\W/,""),xe.slice(6)==="000")return!1;var Re=parseInt(xe.slice(0,2),10);if(Re>53)return!1;Re<10?Re="190".concat(Re):Re="19".concat(Re);var lt=parseInt(xe.slice(2,4),10);lt>50&&(lt-=50),lt<10&&(lt="0".concat(lt));var kt="".concat(Re,"/").concat(lt,"/").concat(xe.slice(4,6));if(!(0,u.default)(kt,"YYYY/MM/DD"))return!1}return!0}function Xe(xe){var Re=11-c.reverseMultiplyAndSum(xe.split("").slice(0,7).map(function(lt){return parseInt(lt,10)}),8)%11;return Re===10?parseInt(xe[7],10)===0:Re===parseInt(xe[7],10)}function Xt(xe){var Re=xe.slice(0);xe.length>11&&(Re=Re.slice(2));var lt="",kt=Re.slice(2,4),zt=parseInt(Re.slice(4,6),10);if(xe.length>11)lt=xe.slice(0,4);else if(lt=xe.slice(0,2),xe.length===11&&zt<60){var Wt=new Date().getFullYear().toString(),Pn=parseInt(Wt.slice(0,2),10);if(Wt=parseInt(Wt,10),xe[6]==="-")parseInt("".concat(Pn).concat(lt),10)>Wt?lt="".concat(Pn-1).concat(lt):lt="".concat(Pn).concat(lt);else if(lt="".concat(Pn-1).concat(lt),Wt-parseInt(lt,10)<100)return!1}zt>60&&(zt-=60),zt<10&&(zt="0".concat(zt));var Rn="".concat(lt,"/").concat(kt,"/").concat(zt);if(Rn.length===8){if(!(0,u.default)(Rn,"YY/MM/DD"))return!1}else if(!(0,u.default)(Rn,"YYYY/MM/DD"))return!1;return c.luhnCheck(xe.replace(/\W/,""))}var It={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/};It["lb-LU"]=It["fr-LU"],It["lt-LT"]=It["et-EE"],It["nl-BE"]=It["fr-BE"],It["fr-CA"]=It["en-CA"];var Mn={"bg-BG":U,"cs-CZ":q,"de-AT":W,"de-DE":Y,"dk-DK":ie,"el-CY":he,"el-GR":Se,"en-CA":H,"en-IE":Pe,"en-US":qe,"es-ES":Kt,"et-EE":Ut,"fi-FI":Qt,"fr-BE":Tn,"fr-FR":An,"fr-LU":Vt,"hr-HR":_t,"hu-HU":Ve,"it-IT":Ge,"lv-LV":sn,"mt-MT":ln,"nl-NL":pn,"pl-PL":Yn,"pt-BR":qn,"pt-PT":nn,"ro-RO":Bt,"sk-SK":ot,"sl-SI":Xe,"sv-SE":Xt};Mn["lb-LU"]=Mn["fr-LU"],Mn["lt-LT"]=Mn["et-EE"],Mn["nl-BE"]=Mn["fr-BE"],Mn["fr-CA"]=Mn["en-CA"];var En=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,er={"de-AT":En,"de-DE":/[\/\\]/g,"fr-BE":En};er["nl-BE"]=er["fr-BE"];function yn(xe){var Re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en-US";(0,r.default)(xe);var lt=xe.slice(0);if(Re in It)return Re in er&&(lt=lt.replace(er[Re],"")),It[Re].test(lt)?Re in Mn?Mn[Re](lt):!0:!1;throw new Error("Invalid locale '".concat(Re,"'"))}e.exports=t.default,e.exports.default=t.default})(VC,VC.exports);var nq=VC.exports,gv={};Object.defineProperty(gv,"__esModule",{value:!0});gv.default=oq;gv.locales=void 0;var rq=iq(zn);function iq(e){return e&&e.__esModule?e:{default:e}}var uo={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};uo["en-CA"]=uo["en-US"];uo["fr-CA"]=uo["en-CA"];uo["fr-BE"]=uo["nl-BE"];uo["zh-HK"]=uo["en-HK"];uo["zh-MO"]=uo["en-MO"];uo["ga-IE"]=uo["en-IE"];uo["fr-CH"]=uo["de-CH"];uo["it-CH"]=uo["fr-CH"];function oq(e,t,n){if((0,rq.default)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some(function(u){if(uo.hasOwnProperty(u)){var h=uo[u];if(h.test(e))return!0}return!1});if(t in uo)return uo[t].test(e);if(!t||t==="any"){for(var r in uo)if(uo.hasOwnProperty(r)){var c=uo[r];if(c.test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}var aq=Object.keys(uo);gv.locales=aq;var GC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^(0x)[0-9a-f]{40}$/i;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(GC,GC.exports);var sq=GC.exports,HC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=c(Ms),r=c(zn);function c(v){return v&&v.__esModule?v:{default:v}}function u(v){var E="\\d{".concat(v.digits_after_decimal[0],"}");v.digits_after_decimal.forEach(function(W,Y){Y!==0&&(E="".concat(E,"|\\d{").concat(W,"}"))});var S="(".concat(v.symbol.replace(/\W/,function(W){return"\\".concat(W)}),")").concat(v.require_symbol?"":"?"),k="-?",O="[1-9]\\d*",N="[1-9]\\d{0,2}(\\".concat(v.thousands_separator,"\\d{3})*"),G=["0",O,N],U="(".concat(G.join("|"),")?"),H="(\\".concat(v.decimal_separator,"(").concat(E,"))").concat(v.require_decimal?"":"?"),q=U+(v.allow_decimal||v.require_decimal?H:"");return v.allow_negatives&&!v.parens_for_negatives&&(v.negative_sign_after_digits?q+=k:v.negative_sign_before_digits&&(q=k+q)),v.allow_negative_sign_placeholder?q="( (?!\\-))?".concat(q):v.allow_space_after_symbol?q=" ?".concat(q):v.allow_space_after_digits&&(q+="( (?!$))?"),v.symbol_after_digits?q+=S:q=S+q,v.allow_negatives&&(v.parens_for_negatives?q="(\\(".concat(q,"\\)|").concat(q,")"):v.negative_sign_before_digits||v.negative_sign_after_digits||(q=k+q)),new RegExp("^(?!-? )(?=.*\\d)".concat(q,"$"))}var h={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};function o(v,E){return(0,r.default)(v),E=(0,n.default)(E,h),u(E).test(v)}e.exports=t.default,e.exports.default=t.default})(HC,HC.exports);var lq=HC.exports,WC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var n=r(zn);function r(o){return o&&o.__esModule?o:{default:o}}var c=/^(bc1)[a-z0-9]{25,39}$/,u=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;function h(o){return(0,n.default)(o),c.test(o)||u.test(o)}e.exports=t.default,e.exports.default=t.default})(WC,WC.exports);var cq=WC.exports,yv={};Object.defineProperty(yv,"__esModule",{value:!0});yv.isISO6346=G6;yv.isFreightContainerID=void 0;var uq=dq(zn);function dq(e){return e&&e.__esModule?e:{default:e}}var fq=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,hq=/^[0-9]$/;function G6(e){if((0,uq.default)(e),e=e.toUpperCase(),!fq.test(e))return!1;if(e.length===11){for(var t=0,n=0;n<e.length-1;n++)if(hq.test(e[n]))t+=e[n]*Math.pow(2,n);else{var r=void 0,c=e.charCodeAt(n)-55;c<11?r=c:c>=11&&c<=20?r=12+c%11:c>=21&&c<=30?r=23+c%21:r=34+c%31,t+=r*Math.pow(2,n)}var u=t%11;return Number(e[e.length-1])===u}return!0}var pq=G6;yv.isFreightContainerID=pq;var ZC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);function u(h){return(0,n.default)(h),c.has(h)}e.exports=t.default,e.exports.default=t.default})(ZC,ZC.exports);var mq=ZC.exports,qC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(zn);function r(v){return v&&v.__esModule?v:{default:v}}var c=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,u=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,h=function(E){var S=E.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(S){var k=Number(S[1]),O=Number(S[2]);return k%4===0&&k%100!==0||k%400===0?O<=366:O<=365}var N=E.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),G=N[1],U=N[2],H=N[3],q=U&&"0".concat(U).slice(-2),W=H&&"0".concat(H).slice(-2),Y=new Date("".concat(G,"-").concat(q||"01","-").concat(W||"01"));return U&&H?Y.getUTCFullYear()===G&&Y.getUTCMonth()+1===U&&Y.getUTCDate()===H:!0};function o(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(v);var S=E.strictSeparator?u.test(v):c.test(v);return S&&E.strict?h(v):S}e.exports=t.default,e.exports.default=t.default})(qC,qC.exports);var gq=qC.exports,KC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=q;var n=r(zn);function r(W){return W&&W.__esModule?W:{default:W}}var c=/[0-9]{4}/,u=/(0[1-9]|1[0-2])/,h=/([12]\d|0[1-9]|3[01])/,o=/([01][0-9]|2[0-3])/,v=/[0-5][0-9]/,E=/([0-5][0-9]|60)/,S=/(\.[0-9]+)?/,k=new RegExp("[-+]".concat(o.source,":").concat(v.source)),O=new RegExp("([zZ]|".concat(k.source,")")),N=new RegExp("".concat(o.source,":").concat(v.source,":").concat(E.source).concat(S.source)),G=new RegExp("".concat(c.source,"-").concat(u.source,"-").concat(h.source)),U=new RegExp("".concat(N.source).concat(O.source)),H=new RegExp("^".concat(G.source,"[ tT]").concat(U.source,"$"));function q(W){return(0,n.default)(W),H.test(W)}e.exports=t.default,e.exports.default=t.default})(KC,KC.exports);var yq=KC.exports,XC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);function u(h){return(0,n.default)(h),c.has(h.toUpperCase())}e.exports=t.default,e.exports.default=t.default})(XC,XC.exports);var vq=XC.exports,vv={};Object.defineProperty(vv,"__esModule",{value:!0});vv.default=bq;vv.CurrencyCodes=void 0;var _q=xq(zn);function xq(e){return e&&e.__esModule?e:{default:e}}var H6=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);function bq(e){return(0,_q.default)(e),H6.has(e.toUpperCase())}var wq=H6;vv.CurrencyCodes=wq;var YC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var n=c(zn),r=c(Ms);function c(E){return E&&E.__esModule?E:{default:E}}var u=/^[A-Z2-7]+=*$/,h=/^[A-HJKMNP-TV-Z0-9]+$/,o={crockford:!1};function v(E,S){if((0,n.default)(E),S=(0,r.default)(S,o),S.crockford)return h.test(E);var k=E.length;return!!(k%8===0&&u.test(E))}e.exports=t.default,e.exports.default=t.default})(YC,YC.exports);var Eq=YC.exports,JC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^[A-HJ-NP-Za-km-z1-9]*$/;function u(h){return(0,n.default)(h),!!c.test(h)}e.exports=t.default,e.exports.default=t.default})(JC,JC.exports);var Cq=JC.exports,QC={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(zn);function r(v){return v&&v.__esModule?v:{default:v}}var c=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,u=/^[a-z\-]+=[a-z0-9\-]+$/i,h=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;function o(v){(0,n.default)(v);var E=v.split(",");if(E.length<2)return!1;var S=E.shift().trim().split(";"),k=S.shift();if(k.slice(0,5)!=="data:")return!1;var O=k.slice(5);if(O!==""&&!c.test(O))return!1;for(var N=0;N<S.length;N++)if(!(N===S.length-1&&S[N].toLowerCase()==="base64")&&!u.test(S[N]))return!1;for(var G=0;G<E.length;G++)if(!h.test(E[G]))return!1;return!0}e.exports=t.default,e.exports.default=t.default})(QC,QC.exports);var Sq=QC.exports,eS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;function u(h){return(0,n.default)(h),h.indexOf("magnet:?")!==0?!1:c.test(h)}e.exports=t.default,e.exports.default=t.default})(eS,eS.exports);var Tq=eS.exports,tS={exports:{}},nS={exports:{}},rS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){if((0,n.default)(u),h){var o=new RegExp("[".concat(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return u.replace(o,"")}for(var v=u.length-1;/\s/.test(u.charAt(v));)v-=1;return u.slice(0,v+1)}e.exports=t.default,e.exports.default=t.default})(rS,rS.exports);var W6=rS.exports,iS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){(0,n.default)(u);var o=h?new RegExp("^[".concat(h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return u.replace(o,"")}e.exports=t.default,e.exports.default=t.default})(iS,iS.exports);var Z6=iS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(W6),r=c(Z6);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,o){return(0,n.default)((0,r.default)(h,o),o)}e.exports=t.default,e.exports.default=t.default})(nS,nS.exports);var q6=nS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=G;var n=u(q6),r=u(F6),c=u(zn);function u(U){return U&&U.__esModule?U:{default:U}}function h(U,H){return E(U)||v(U,H)||k(U,H)||o()}function o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v(U,H){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(U)))){var q=[],W=!0,Y=!1,ie=void 0;try{for(var he=U[Symbol.iterator](),Se;!(W=(Se=he.next()).done)&&(q.push(Se.value),!(H&&q.length===H));W=!0);}catch(Pe){Y=!0,ie=Pe}finally{try{!W&&he.return!=null&&he.return()}finally{if(Y)throw ie}}return q}}function E(U){if(Array.isArray(U))return U}function S(U,H){var q;if(typeof Symbol>"u"||U[Symbol.iterator]==null){if(Array.isArray(U)||(q=k(U))||H&&U&&typeof U.length=="number"){q&&(U=q);var W=0,Y=function(){};return{s:Y,n:function(){return W>=U.length?{done:!0}:{done:!1,value:U[W++]}},e:function(We){throw We},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie=!0,he=!1,Se;return{s:function(){q=U[Symbol.iterator]()},n:function(){var We=q.next();return ie=We.done,We},e:function(We){he=!0,Se=We},f:function(){try{!ie&&q.return!=null&&q.return()}finally{if(he)throw Se}}}}function k(U,H){if(U){if(typeof U=="string")return O(U,H);var q=Object.prototype.toString.call(U).slice(8,-1);if(q==="Object"&&U.constructor&&(q=U.constructor.name),q==="Map"||q==="Set")return Array.from(U);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return O(U,H)}}function O(U,H){(H==null||H>U.length)&&(H=U.length);for(var q=0,W=new Array(H);q<H;q++)W[q]=U[q];return W}function N(U){var H=new Set(["subject","body","cc","bcc"]),q={cc:"",bcc:""},W=!1,Y=U.split("&");if(Y.length>4)return!1;var ie=S(Y),he;try{for(ie.s();!(he=ie.n()).done;){var Se=he.value,Pe=Se.split("="),We=h(Pe,2),Le=We[0],qe=We[1];if(Le&&!H.has(Le)){W=!0;break}qe&&(Le==="cc"||Le==="bcc")&&(q[Le]=qe),Le&&H.delete(Le)}}catch(Kt){ie.e(Kt)}finally{ie.f()}return W?!1:q}function G(U,H){if((0,c.default)(U),U.indexOf("mailto:")!==0)return!1;var q=U.replace("mailto:","").split("?"),W=h(q,2),Y=W[0],ie=Y===void 0?"":Y,he=W[1],Se=he===void 0?"":he;if(!ie&&!Se)return!0;var Pe=N(Se);return Pe?"".concat(ie,",").concat(Pe.cc,",").concat(Pe.bcc).split(",").every(function(We){return We=(0,n.default)(We," "),We?(0,r.default)(We,H):!0}):!1}e.exports=t.default,e.exports.default=t.default})(tS,tS.exports);var Aq=tS.exports,oS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(zn);function r(v){return v&&v.__esModule?v:{default:v}}var c=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,u=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,h=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;function o(v){return(0,n.default)(v),c.test(v)||u.test(v)||h.test(v)}e.exports=t.default,e.exports.default=t.default})(oS,oS.exports);var Pq=oS.exports,aS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var n=c(zn),r=c(Ms);function c(k){return k&&k.__esModule?k:{default:k}}var u=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,h=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,o=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,v=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,E={checkDMS:!1};function S(k,O){if((0,n.default)(k),O=(0,r.default)(O,E),!k.includes(","))return!1;var N=k.split(",");return N[0].startsWith("(")&&!N[1].endsWith(")")||N[1].endsWith(")")&&!N[0].startsWith("(")?!1:O.checkDMS?o.test(N[0])&&v.test(N[1]):u.test(N[0])&&h.test(N[1])}e.exports=t.default,e.exports.default=t.default})(aS,aS.exports);var Iq=aS.exports,_v={};Object.defineProperty(_v,"__esModule",{value:!0});_v.default=Rq;_v.locales=void 0;var kq=Mq(zn);function Mq(e){return e&&e.__esModule?e:{default:e}}var oO=/^\d{3}$/,Sl=/^\d{4}$/,Cs=/^\d{5}$/,Ww=/^\d{6}$/,qp={AD:/^AD\d{3}$/,AT:Sl,AU:Sl,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:Sl,BG:Sl,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:Sl,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:Cs,DK:Sl,DO:Cs,DZ:Cs,EE:Cs,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:Cs,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:Sl,ID:Cs,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:oO,IT:Cs,JP:/^\d{3}\-\d{4}$/,KE:Cs,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:Sl,LV:/^LV\-\d{4}$/,LK:Cs,MG:oO,MX:Cs,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:Cs,NL:/^\d{4}\s?[a-z]{2}$/i,NO:Sl,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:Sl,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:Ww,RU:Ww,SA:Cs,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:Ww,SI:Sl,SK:/^\d{3}\s?\d{2}$/,TH:Cs,TN:Sl,TW:/^\d{3}(\d{2})?$/,UA:Cs,US:/^\d{5}(-\d{4})?$/,ZA:Sl,ZM:Cs},Oq=Object.keys(qp);_v.locales=Oq;function Rq(e,t){if((0,kq.default)(e),t in qp)return qp[t].test(e);if(t==="any"){for(var n in qp)if(qp.hasOwnProperty(n)){var r=qp[n];if(r.test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}var sS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u),u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}e.exports=t.default,e.exports.default=t.default})(sS,sS.exports);var Dq=sS.exports,lS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u){return(0,n.default)(u),u.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")}e.exports=t.default,e.exports.default=t.default})(lS,lS.exports);var Lq=lS.exports,cS={exports:{}},uS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){return(0,n.default)(u),u.replace(new RegExp("[".concat(h,"]+"),"g"),"")}e.exports=t.default,e.exports.default=t.default})(uS,uS.exports);var K6=uS.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=c(zn),r=c(K6);function c(h){return h&&h.__esModule?h:{default:h}}function u(h,o){(0,n.default)(h);var v=o?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,r.default)(h,v)}e.exports=t.default,e.exports.default=t.default})(cS,cS.exports);var Fq=cS.exports,dS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){return(0,n.default)(u),u.replace(new RegExp("[^".concat(h,"]+"),"g"),"")}e.exports=t.default,e.exports.default=t.default})(dS,dS.exports);var Nq=dS.exports,fS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(zn);function r(u){return u&&u.__esModule?u:{default:u}}function c(u,h){(0,n.default)(u);for(var o=u.length-1;o>=0;o--)if(h.indexOf(u[o])===-1)return!1;return!0}e.exports=t.default,e.exports.default=t.default})(fS,fS.exports);var Bq=fS.exports,hS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=S;var n=r(Ms);function r(k){return k&&k.__esModule?k:{default:k}}var c={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},u=["icloud.com","me.com"],h=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],o=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],v=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function E(k){return k.length>1?k:""}function S(k,O){O=(0,n.default)(O,c);var N=k.split("@"),G=N.pop(),U=N.join("@"),H=[U,G];if(H[1]=H[1].toLowerCase(),H[1]==="gmail.com"||H[1]==="googlemail.com"){if(O.gmail_remove_subaddress&&(H[0]=H[0].split("+")[0]),O.gmail_remove_dots&&(H[0]=H[0].replace(/\.+/g,E)),!H[0].length)return!1;(O.all_lowercase||O.gmail_lowercase)&&(H[0]=H[0].toLowerCase()),H[1]=O.gmail_convert_googlemaildotcom?"gmail.com":H[1]}else if(u.indexOf(H[1])>=0){if(O.icloud_remove_subaddress&&(H[0]=H[0].split("+")[0]),!H[0].length)return!1;(O.all_lowercase||O.icloud_lowercase)&&(H[0]=H[0].toLowerCase())}else if(h.indexOf(H[1])>=0){if(O.outlookdotcom_remove_subaddress&&(H[0]=H[0].split("+")[0]),!H[0].length)return!1;(O.all_lowercase||O.outlookdotcom_lowercase)&&(H[0]=H[0].toLowerCase())}else if(o.indexOf(H[1])>=0){if(O.yahoo_remove_subaddress){var q=H[0].split("-");H[0]=q.length>1?q.slice(0,-1).join("-"):q[0]}if(!H[0].length)return!1;(O.all_lowercase||O.yahoo_lowercase)&&(H[0]=H[0].toLowerCase())}else v.indexOf(H[1])>=0?((O.all_lowercase||O.yandex_lowercase)&&(H[0]=H[0].toLowerCase()),H[1]="yandex.ru"):O.all_lowercase&&(H[0]=H[0].toLowerCase());return H.join("@")}e.exports=t.default,e.exports.default=t.default})(hS,hS.exports);var zq=hS.exports,pS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;function u(h){return(0,n.default)(h),c.test(h)}e.exports=t.default,e.exports.default=t.default})(pS,pS.exports);var $q=pS.exports,mS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=r(zn);function r(h){return h&&h.__esModule?h:{default:h}}var c={"cs-CZ":function(o){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(o)},"de-DE":function(o){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G|GP|GR|GS|GT|G|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T|B|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BD|BUL|BR|BS|BZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL|FOR|FRG|FRI|FRW|FTL|FS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM|HOG|HOH|HOL|HOM|HOR|HS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JL|KEH|KEL|KEM|KIB|KLE|KLZ|KN|KT|KZ|KRU|KN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LB|LOS|LRO|LSZ|LN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MB|MR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL|PR|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RD|RG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL|SLZ|SM|SOB|SOG|SOK|SM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SW|SWA|SZB|TBB|TDO|TET|TIR|TL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(o)},"de-LI":function(o){return/^FL[- ]?\d{1,5}[UZ]?$/.test(o)},"en-IN":function(o){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(o)},"es-AR":function(o){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(o)},"fi-FI":function(o){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(o)},"hu-HU":function(o){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(o)},"pt-BR":function(o){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(o)},"pt-PT":function(o){return/^([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})[ -]?([A-Z]{2}|[0-9]{2})$/.test(o)},"sq-AL":function(o){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(o)},"sv-SE":function(o){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z ]{2,7}$)/.test(o.trim())}};function u(h,o){if((0,n.default)(h),o in c)return c[o](h);if(o==="any"){for(var v in c){var E=c[v];if(E(h))return!0}return!1}throw new Error("Invalid locale '".concat(o,"'"))}e.exports=t.default,e.exports.default=t.default})(mS,mS.exports);var jq=mS.exports,gS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=N;var n=c(Ms),r=c(zn);function c(G){return G&&G.__esModule?G:{default:G}}var u=/^[A-Z]$/,h=/^[a-z]$/,o=/^[0-9]$/,v=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,E={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function S(G){var U={};return Array.from(G).forEach(function(H){var q=U[H];q?U[H]+=1:U[H]=1}),U}function k(G){var U=S(G),H={length:G.length,uniqueChars:Object.keys(U).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(U).forEach(function(q){u.test(q)?H.uppercaseCount+=U[q]:h.test(q)?H.lowercaseCount+=U[q]:o.test(q)?H.numberCount+=U[q]:v.test(q)&&(H.symbolCount+=U[q])}),H}function O(G,U){var H=0;return H+=G.uniqueChars*U.pointsPerUnique,H+=(G.length-G.uniqueChars)*U.pointsPerRepeat,G.lowercaseCount>0&&(H+=U.pointsForContainingLower),G.uppercaseCount>0&&(H+=U.pointsForContainingUpper),G.numberCount>0&&(H+=U.pointsForContainingNumber),G.symbolCount>0&&(H+=U.pointsForContainingSymbol),H}function N(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;(0,r.default)(G);var H=k(G);return U=(0,n.default)(U||{},E),U.returnScore?O(H,U):H.length>=U.minLength&&H.lowercaseCount>=U.minLowercase&&H.uppercaseCount>=U.minUppercase&&H.numberCount>=U.minNumbers&&H.symbolCount>=U.minSymbols}e.exports=t.default,e.exports.default=t.default})(gS,gS.exports);var Uq=gS.exports,xv={};function u_(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u_=function(n){return typeof n}:u_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u_(e)}Object.defineProperty(xv,"__esModule",{value:!0});xv.default=qq;xv.vatMatchers=void 0;var aO=Hq(zn),Vq=Gq(op);function X6(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return X6=function(){return e},e}function Gq(e){if(e&&e.__esModule)return e;if(e===null||u_(e)!=="object"&&typeof e!="function")return{default:e};var t=X6();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var u=r?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(n,c,u):n[c]=e[c]}return n.default=e,t&&t.set(e,n),n}function Hq(e){return e&&e.__esModule?e:{default:e}}var Wq=function(t){var n=function(c){var u=c.pop(),h=[5,4,3,2,7,6,5,4],o=(11-c.reduce(function(v,E,S){return v+E*h[S]},0)%11)%11;return u===o};return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(t)&&n(t.match(/\d/g).map(function(r){return+r}))},Zq=function(t){var n=t.match(/^(PT)?(\d{9})$/);if(!n)return!1;var r=n[2],c=11-Vq.reverseMultiplyAndSum(r.split("").slice(0,8).map(function(u){return parseInt(u,10)}),9)%11;return c>9?parseInt(r[8],10)===0:c===parseInt(r[8],10)},yS={AT:function(t){return/^(AT)?U\d{8}$/.test(t)},BE:function(t){return/^(BE)?\d{10}$/.test(t)},BG:function(t){return/^(BG)?\d{9,10}$/.test(t)},HR:function(t){return/^(HR)?\d{11}$/.test(t)},CY:function(t){return/^(CY)?\w{9}$/.test(t)},CZ:function(t){return/^(CZ)?\d{8,10}$/.test(t)},DK:function(t){return/^(DK)?\d{8}$/.test(t)},EE:function(t){return/^(EE)?\d{9}$/.test(t)},FI:function(t){return/^(FI)?\d{8}$/.test(t)},FR:function(t){return/^(FR)?\w{2}\d{9}$/.test(t)},DE:function(t){return/^(DE)?\d{9}$/.test(t)},EL:function(t){return/^(EL)?\d{9}$/.test(t)},HU:function(t){return/^(HU)?\d{8}$/.test(t)},IE:function(t){return/^(IE)?\d{7}\w{1}(W)?$/.test(t)},IT:function(t){return/^(IT)?\d{11}$/.test(t)},LV:function(t){return/^(LV)?\d{11}$/.test(t)},LT:function(t){return/^(LT)?\d{9,12}$/.test(t)},LU:function(t){return/^(LU)?\d{8}$/.test(t)},MT:function(t){return/^(MT)?\d{8}$/.test(t)},NL:function(t){return/^(NL)?\d{9}B\d{2}$/.test(t)},PL:function(t){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(t)},PT:Zq,RO:function(t){return/^(RO)?\d{2,10}$/.test(t)},SK:function(t){return/^(SK)?\d{10}$/.test(t)},SI:function(t){return/^(SI)?\d{8}$/.test(t)},ES:function(t){return/^(ES)?\w\d{7}[A-Z]$/.test(t)},SE:function(t){return/^(SE)?\d{12}$/.test(t)},AL:function(t){return/^(AL)?\w{9}[A-Z]$/.test(t)},MK:function(t){return/^(MK)?\d{13}$/.test(t)},AU:function(t){return/^(AU)?\d{11}$/.test(t)},BY:function(t){return/^( )?\d{9}$/.test(t)},CA:function(t){return/^(CA)?\d{9}$/.test(t)},IS:function(t){return/^(IS)?\d{5,6}$/.test(t)},IN:function(t){return/^(IN)?\d{15}$/.test(t)},ID:function(t){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(t)},IL:function(t){return/^(IL)?\d{9}$/.test(t)},KZ:function(t){return/^(KZ)?\d{9}$/.test(t)},NZ:function(t){return/^(NZ)?\d{9}$/.test(t)},NG:function(t){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(t)},NO:function(t){return/^(NO)?\d{9}MVA$/.test(t)},PH:function(t){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(t)},RU:function(t){return/^(RU)?(\d{10}|\d{12})$/.test(t)},SM:function(t){return/^(SM)?\d{5}$/.test(t)},SA:function(t){return/^(SA)?\d{15}$/.test(t)},RS:function(t){return/^(RS)?\d{9}$/.test(t)},CH:Wq,TR:function(t){return/^(TR)?\d{10}$/.test(t)},UA:function(t){return/^(UA)?\d{12}$/.test(t)},GB:function(t){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(t)},UZ:function(t){return/^(UZ)?\d{9}$/.test(t)},AR:function(t){return/^(AR)?\d{11}$/.test(t)},BO:function(t){return/^(BO)?\d{7}$/.test(t)},BR:function(t){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(t)},CL:function(t){return/^(CL)?\d{8}-\d{1}$/.test(t)},CO:function(t){return/^(CO)?\d{10}$/.test(t)},CR:function(t){return/^(CR)?\d{9,12}$/.test(t)},EC:function(t){return/^(EC)?\d{13}$/.test(t)},SV:function(t){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(t)},GT:function(t){return/^(GT)?\d{7}-\d{1}$/.test(t)},HN:function(t){return/^(HN)?$/.test(t)},MX:function(t){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(t)},NI:function(t){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(t)},PA:function(t){return/^(PA)?$/.test(t)},PY:function(t){return/^(PY)?\d{6,8}-\d{1}$/.test(t)},PE:function(t){return/^(PE)?\d{11}$/.test(t)},DO:function(t){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(t)},UY:function(t){return/^(UY)?\d{12}$/.test(t)},VE:function(t){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(t)}};xv.vatMatchers=yS;function qq(e,t){if((0,aO.default)(e),(0,aO.default)(t),t in yS)return yS[t](e);throw new Error("Invalid country code: '".concat(t,"'"))}(function(e,t){function n(jt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(Xn){return typeof Xn}:n=function(Xn){return Xn&&typeof Symbol=="function"&&Xn.constructor===Symbol&&Xn!==Symbol.prototype?"symbol":typeof Xn},n(jt)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=se(BA),c=se(R6),u=se(OW),h=se(RW),o=se(DW),v=se(LW),E=se(FW),S=se(F6),k=se(NW),O=se(BW),N=se(ix),G=se(zW),U=se(zA),H=se(N6),q=se($W),W=se(jW),Y=se(UW),ie=de(hv),he=de(pv),Se=se(YW),Pe=se(JW),We=se(QW),Le=se(eZ),qe=se(tZ),Kt=se(nZ),Ut=se(rZ),Qt=se(Zm),Tn=se(qm),An=se(uZ),Vt=se(dZ),_t=se(hZ),Ve=se(pZ),Rt=se($A),Ge=de(Wm),sn=se(gZ),ln=se($6),pn=se(yZ),Yn=se(vZ),qn=se(_Z),nn=se(xZ),Bt=se(bZ),ot=se(wZ),Xe=de(mv),Xt=se(DZ),It=se(LZ),Mn=se(FZ),En=se(NZ),er=se(BZ),yn=se(zZ),xe=se($Z),Re=se(L6),lt=se(jZ),kt=se(UZ),zt=se(VZ),Wt=se(GZ),Pn=se(HZ),Rn=se(V6),kn=se(WZ),xn=se(ZZ),jn=se(qZ),nr=se(KZ),wn=se(XZ),Qe=se(YZ),xt=se(nq),Ze=de(gv),Gt=se(sq),Cn=se(lq),Vn=se(cq),mr=yv,dr=se(mq),yr=se(gq),Nr=se(yq),Ae=se(Km),te=se(vq),oe=se(vv),Ce=se(Eq),Ie=se(Cq),Ue=se(U6),et=se(Sq),Ye=se(Tq),Fe=se(Aq),ct=se(Pq),Ht=se(Iq),Jt=de(_v),Et=se(Z6),Hn=se(W6),rr=se(q6),Tt=se(Dq),nt=se(Lq),Ct=se(Fq),cn=se(Nq),Fn=se(K6),ir=se(Bq),On=se(zq),vr=se($q),ft=se(jq),re=se(Uq),le=se(xv);function ye(){if(typeof WeakMap!="function")return null;var jt=new WeakMap;return ye=function(){return jt},jt}function de(jt){if(jt&&jt.__esModule)return jt;if(jt===null||n(jt)!=="object"&&typeof jt!="function")return{default:jt};var on=ye();if(on&&on.has(jt))return on.get(jt);var Xn={},Rr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Fr in jt)if(Object.prototype.hasOwnProperty.call(jt,Fr)){var Ur=Rr?Object.getOwnPropertyDescriptor(jt,Fr):null;Ur&&(Ur.get||Ur.set)?Object.defineProperty(Xn,Fr,Ur):Xn[Fr]=jt[Fr]}return Xn.default=jt,on&&on.set(jt,Xn),Xn}function se(jt){return jt&&jt.__esModule?jt:{default:jt}}var He="13.11.0",tt={version:He,toDate:r.default,toFloat:c.default,toInt:u.default,toBoolean:h.default,equals:o.default,contains:v.default,matches:E.default,isEmail:S.default,isURL:k.default,isMACAddress:O.default,isIP:N.default,isIPRange:G.default,isFQDN:U.default,isBoolean:W.default,isIBAN:Xe.default,isBIC:Xt.default,isAlpha:ie.default,isAlphaLocales:ie.locales,isAlphanumeric:he.default,isAlphanumericLocales:he.locales,isNumeric:Se.default,isPassportNumber:Pe.default,isPort:We.default,isLowercase:Le.default,isUppercase:qe.default,isAscii:Ut.default,isFullWidth:Qt.default,isHalfWidth:Tn.default,isVariableWidth:An.default,isMultibyte:Vt.default,isSemVer:_t.default,isSurrogatePair:Ve.default,isInt:Rt.default,isIMEI:Kt.default,isFloat:Ge.default,isFloatLocales:Ge.locales,isDecimal:sn.default,isHexadecimal:ln.default,isOctal:pn.default,isDivisibleBy:Yn.default,isHexColor:qn.default,isRgbColor:nn.default,isHSL:Bt.default,isISRC:ot.default,isMD5:It.default,isHash:Mn.default,isJWT:En.default,isJSON:er.default,isEmpty:yn.default,isLength:xe.default,isLocale:Y.default,isByteLength:Re.default,isUUID:lt.default,isMongoId:kt.default,isAfter:zt.default,isBefore:Wt.default,isIn:Pn.default,isLuhnNumber:Rn.default,isCreditCard:kn.default,isIdentityCard:xn.default,isEAN:jn.default,isISIN:nr.default,isISBN:wn.default,isISSN:Qe.default,isMobilePhone:Ze.default,isMobilePhoneLocales:Ze.locales,isPostalCode:Jt.default,isPostalCodeLocales:Jt.locales,isEthereumAddress:Gt.default,isCurrency:Cn.default,isBtcAddress:Vn.default,isISO6346:mr.isISO6346,isFreightContainerID:mr.isFreightContainerID,isISO6391:dr.default,isISO8601:yr.default,isRFC3339:Nr.default,isISO31661Alpha2:Ae.default,isISO31661Alpha3:te.default,isISO4217:oe.default,isBase32:Ce.default,isBase58:Ie.default,isBase64:Ue.default,isDataURI:et.default,isMagnetURI:Ye.default,isMailtoURI:Fe.default,isMimeType:ct.default,isLatLong:Ht.default,ltrim:Et.default,rtrim:Hn.default,trim:rr.default,escape:Tt.default,unescape:nt.default,stripLow:Ct.default,whitelist:cn.default,blacklist:Fn.default,isWhitelisted:ir.default,normalizeEmail:On.default,toString,isSlug:vr.default,isStrongPassword:re.default,isTaxID:xt.default,isDate:H.default,isTime:q.default,isLicensePlate:ft.default,isVAT:le.default,ibanLocales:Xe.locales},ut=tt;t.default=ut,e.exports=t.default,e.exports.default=t.default})(SE,SE.exports);var Kq=SE.exports;const hr=Qh(Kq),Xq=(e={email:"",password:""})=>{const[t,n]=A.useState({valEmail:"",valPass:""}),[r,c]=A.useState({state:!1});return A.useMemo(()=>{n({...t,valEmail:hr.isEmail(e.email)?"":"is-invalid",valPass:!hr.isEmpty(e.password)&&hr.isLength(e.password,{min:5,max:15})&&hr.isAlphanumeric(e.password,"es-ES",{ignore:"#@"})?"":"is-invalid"})},[e]),A.useMemo(()=>{c({...r,state:!!(hr.isEmpty(t.valEmail)&&hr.isEmpty(t.valPass))})},[t]),{...t,...r}},Y6=(e={nombres:"",apellidos:"",celular:"",correo:"",contrasenia:"",dni:""})=>{const[t,n]=A.useState({valNomb:"",valApell:"",valCelul:"",valCorre:"",valContr:"",valDNI:""}),[r,c]=A.useState({state:!1});return A.useMemo(()=>{n({...t,valNomb:!hr.isEmpty(e.nombres)&&hr.isAlpha(e.nombres,"es-ES",{ignore:" "})&&hr.isLength(e.nombres,{min:3,max:25})?"":"is-invalid",valApell:!hr.isEmpty(e.apellidos)&&hr.isAlpha(e.apellidos,"es-ES",{ignore:" "})&&hr.isLength(e.apellidos,{min:3,max:25})?"":"is-invalid",valCelul:!hr.isEmpty(e.celular)&&hr.isMobilePhone(e.celular,"es-PE")?"":"is-invalid",valCorre:hr.isEmail(e.correo)?"":"is-invalid",valContr:!hr.isEmpty(e.contrasenia)&&hr.isLength(e.contrasenia,{min:5,max:15})&&hr.isAlphanumeric(e.contrasenia,"es-ES",{ignore:"#@"})?"":"is-invalid",valDNI:!hr.isEmpty(e.dni)&&hr.isNumeric(e.dni)&&hr.isLength(e.dni,{min:8,max:8})?"":"is-invalid"})},[e]),A.useMemo(()=>{c({...r,state:!!(hr.isEmpty(t.valNomb)&&hr.isEmpty(t.valApell)&&hr.isEmpty(t.valCelul)&&hr.isEmpty(t.valCorre)&&hr.isEmpty(t.valDNI)&&hr.isEmpty(t.valContr))})},[t]),{...t,...r}},Yq=(e={tipo:"",numero:""})=>{const[t,n]=A.useState({valTipo:"",valNume:""}),[r,c]=A.useState({state:!1});return A.useMemo(()=>{n({...t,valTipo:!hr.isEmpty(e.tipo)&&hr.isLength(e.tipo,{min:4,max:12})&&hr.isAlphanumeric(e.tipo,"es-ES")?"":"is-invalid",valNume:!hr.isEmpty(e.numero)&&hr.isLength(e.numero,{min:3,max:12})?"":"is-invalid"})},[e]),A.useMemo(()=>{c({...r,state:!!(hr.isEmpty(t.valTipo)&&hr.isEmpty(t.valNume))})},[t]),{...t,...r}},Jq={detalle:"",direccion:"",barrio:"",longitud:"",latitud:"",nivel:""},J6=(e=Jq)=>{const[t,n]=A.useState({valDeta:"",valDire:"",valBarr:"",valLong:"",valLati:"",valNive:""}),[r,c]=A.useState({state:!1});return A.useMemo(()=>{n({...t,valDeta:!hr.isEmpty(e.detalle)&&hr.isLength(e.detalle,{min:1})&&hr.isAlphanumeric(e.detalle,"es-ES",{ignore:" "})?"":"is-invalid",valDire:!hr.isEmpty(e.direccion)&&hr.isLength(e.direccion,{min:1})&&hr.isAlphanumeric(e.direccion,"es-ES",{ignore:" .-_"})?"":"is-invalid",valBarr:!hr.isEmpty(e.barrio)&&hr.isLength(e.barrio,{min:1})&&hr.isAlphanumeric(e.barrio,"es-ES",{ignore:" "})?"":"is-invalid",valNive:!hr.isEmpty(e.nivel)&&hr.isLength(e.nivel,{min:1,max:25})&&hr.isAlphanumeric(e.nivel,"es-ES",{ignore:" "})?"":"is-invalid"})},[e]),A.useMemo(()=>{c({...r,state:!!(hr.isEmpty(t.valDeta)&&hr.isEmpty(t.valDire)&&hr.isEmpty(t.valBarr)&&hr.isEmpty(t.valLong)&&hr.isEmpty(t.valLati)&&hr.isEmpty(t.valNive))})},[t]),{...t,...r}},Qq={datos:"",fecha:"",link:""},eK=(e=Qq)=>{const[t,n]=A.useState({valDato:"",valFech:"",valLink:""}),[r,c]=A.useState({state:!1});return A.useMemo(()=>{n({...t,valDato:!hr.isEmpty(e.datos)&&hr.isLength(e.datos,{min:1})&&hr.isAlphanumeric(e.datos,"es-ES",{ignore:" .):("})?"":"is-invalid",valLink:hr.isURL(e.link)?"":"is-invalid",valFech:!hr.isEmpty(e.fecha)&&!hr.isDate(e.fecha,["/"])?"":"is-invalid"})},[e]),A.useMemo(()=>{c({...r,state:!!(hr.isEmpty(t.valDato)&&hr.isEmpty(t.valFech)&&hr.isEmpty(t.valLink))})},[t]),{...t,...r}},tK={black:"#000",white:"#fff"},Vy=tK,nK={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},$p=nK,rK={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},jp=rK,iK={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Up=iK,oK={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Vp=oK,aK={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gp=aK,sK={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Kg=sK,lK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},cK=lK;function Fh(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function Q6(e){if(!Fh(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Q6(e[n])}),t}function Dd(e,t,n={clone:!0}){const r=n.clone?In({},e):e;return Fh(e)&&Fh(t)&&Object.keys(t).forEach(c=>{c!=="__proto__"&&(Fh(t[c])&&c in e&&Fh(e[c])?r[c]=Dd(e[c],t[c],n):n.clone?r[c]=Fh(t[c])?Q6(t[c]):t[c]:r[c]=t[c])}),r}function Mm(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function fa(e){if(typeof e!="string")throw new Error(Mm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function uK(e,t){return A.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function dK(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const fK=typeof window<"u"?A.useLayoutEffect:A.useEffect,e9=fK;function B0(e){const t=A.useRef(e);return e9(()=>{t.current=e}),A.useCallback((...n)=>(0,t.current)(...n),[])}function e1(...e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{dK(n,t)})},e)}let ox=!0,vS=!1,sO;const hK={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function pK(e){const{type:t,tagName:n}=e;return!!(n==="INPUT"&&hK[t]&&!e.readOnly||n==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function mK(e){e.metaKey||e.altKey||e.ctrlKey||(ox=!0)}function Zw(){ox=!1}function gK(){this.visibilityState==="hidden"&&vS&&(ox=!0)}function yK(e){e.addEventListener("keydown",mK,!0),e.addEventListener("mousedown",Zw,!0),e.addEventListener("pointerdown",Zw,!0),e.addEventListener("touchstart",Zw,!0),e.addEventListener("visibilitychange",gK,!0)}function vK(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return ox||pK(t)}function t9(){const e=A.useCallback(c=>{c!=null&&yK(c.ownerDocument)},[]),t=A.useRef(!1);function n(){return t.current?(vS=!0,window.clearTimeout(sO),sO=window.setTimeout(()=>{vS=!1},100),t.current=!1,!0):!1}function r(c){return vK(c)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:n,ref:e}}function jA(e,t){const n=In({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=In({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const c=e[r]||{},u=t[r];n[r]={},!u||!Object.keys(u)?n[r]=c:!c||!Object.keys(c)?n[r]=u:(n[r]=In({},u),Object.keys(c).forEach(h=>{n[r][h]=jA(c[h],u[h])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function $l(e,t,n=void 0){const r={};return Object.keys(e).forEach(c=>{r[c]=e[c].reduce((u,h)=>{if(h){const o=t(h);o!==""&&u.push(o),n&&n[h]&&u.push(n[h])}return u},[]).join(" ")}),r}const lO=e=>e,_K=()=>{let e=lO;return{configure(t){e=t},generate(t){return e(t)},reset(){e=lO}}},xK=_K(),n9=xK,bK={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nl(e,t,n="Mui"){const r=bK[t];return r?`${n}-${r}`:`${n9.generate(e)}-${t}`}function Os(e,t,n="Mui"){const r={};return t.forEach(c=>{r[c]=nl(e,c,n)}),r}const ax="$$material";function r9(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var wK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EK=r9(function(e){return wK.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function CK(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function SK(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var TK=function(){function e(n){var r=this;this._insertTag=function(c){var u;r.tags.length===0?r.insertionPoint?u=r.insertionPoint.nextSibling:r.prepend?u=r.container.firstChild:u=r.before:u=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(c,u),r.tags.push(c)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SK(this));var c=this.tags[this.tags.length-1];if(this.isSpeedy){var u=CK(c);try{u.insertRule(r,u.cssRules.length)}catch{}}else c.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),is="-ms-",t1="-moz-",Si="-webkit-",i9="comm",UA="rule",VA="decl",AK="@import",o9="@keyframes",PK="@layer",IK=Math.abs,sx=String.fromCharCode,kK=Object.assign;function MK(e,t){return Fa(e,0)^45?(((t<<2^Fa(e,0))<<2^Fa(e,1))<<2^Fa(e,2))<<2^Fa(e,3):0}function a9(e){return e.trim()}function OK(e,t){return(e=t.exec(e))?e[0]:e}function Ti(e,t,n){return e.replace(t,n)}function _S(e,t){return e.indexOf(t)}function Fa(e,t){return e.charCodeAt(t)|0}function Gy(e,t,n){return e.slice(t,n)}function Hu(e){return e.length}function GA(e){return e.length}function z0(e,t){return t.push(e),e}function RK(e,t){return e.map(t).join("")}var lx=1,Om=1,s9=0,tl=0,ra=0,Xm="";function cx(e,t,n,r,c,u,h){return{value:e,root:t,parent:n,type:r,props:c,children:u,line:lx,column:Om,length:h,return:""}}function Xg(e,t){return kK(cx("",null,null,"",null,null,0),e,{length:-e.length},t)}function DK(){return ra}function LK(){return ra=tl>0?Fa(Xm,--tl):0,Om--,ra===10&&(Om=1,lx--),ra}function Dl(){return ra=tl<s9?Fa(Xm,tl++):0,Om++,ra===10&&(Om=1,lx++),ra}function ed(){return Fa(Xm,tl)}function d_(){return tl}function bv(e,t){return Gy(Xm,e,t)}function Hy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function l9(e){return lx=Om=1,s9=Hu(Xm=e),tl=0,[]}function c9(e){return Xm="",e}function f_(e){return a9(bv(tl-1,xS(e===91?e+2:e===40?e+1:e)))}function FK(e){for(;(ra=ed())&&ra<33;)Dl();return Hy(e)>2||Hy(ra)>3?"":" "}function NK(e,t){for(;--t&&Dl()&&!(ra<48||ra>102||ra>57&&ra<65||ra>70&&ra<97););return bv(e,d_()+(t<6&&ed()==32&&Dl()==32))}function xS(e){for(;Dl();)switch(ra){case e:return tl;case 34:case 39:e!==34&&e!==39&&xS(ra);break;case 40:e===41&&xS(e);break;case 92:Dl();break}return tl}function BK(e,t){for(;Dl()&&e+ra!==47+10;)if(e+ra===42+42&&ed()===47)break;return"/*"+bv(t,tl-1)+"*"+sx(e===47?e:Dl())}function zK(e){for(;!Hy(ed());)Dl();return bv(e,tl)}function $K(e){return c9(h_("",null,null,null,[""],e=l9(e),0,[0],e))}function h_(e,t,n,r,c,u,h,o,v){for(var E=0,S=0,k=h,O=0,N=0,G=0,U=1,H=1,q=1,W=0,Y="",ie=c,he=u,Se=r,Pe=Y;H;)switch(G=W,W=Dl()){case 40:if(G!=108&&Fa(Pe,k-1)==58){_S(Pe+=Ti(f_(W),"&","&\f"),"&\f")!=-1&&(q=-1);break}case 34:case 39:case 91:Pe+=f_(W);break;case 9:case 10:case 13:case 32:Pe+=FK(G);break;case 92:Pe+=NK(d_()-1,7);continue;case 47:switch(ed()){case 42:case 47:z0(jK(BK(Dl(),d_()),t,n),v);break;default:Pe+="/"}break;case 123*U:o[E++]=Hu(Pe)*q;case 125*U:case 59:case 0:switch(W){case 0:case 125:H=0;case 59+S:q==-1&&(Pe=Ti(Pe,/\f/g,"")),N>0&&Hu(Pe)-k&&z0(N>32?uO(Pe+";",r,n,k-1):uO(Ti(Pe," ","")+";",r,n,k-2),v);break;case 59:Pe+=";";default:if(z0(Se=cO(Pe,t,n,E,S,c,o,Y,ie=[],he=[],k),u),W===123)if(S===0)h_(Pe,t,Se,Se,ie,u,k,o,he);else switch(O===99&&Fa(Pe,3)===110?100:O){case 100:case 108:case 109:case 115:h_(e,Se,Se,r&&z0(cO(e,Se,Se,0,0,c,o,Y,c,ie=[],k),he),c,he,k,o,r?ie:he);break;default:h_(Pe,Se,Se,Se,[""],he,0,o,he)}}E=S=N=0,U=q=1,Y=Pe="",k=h;break;case 58:k=1+Hu(Pe),N=G;default:if(U<1){if(W==123)--U;else if(W==125&&U++==0&&LK()==125)continue}switch(Pe+=sx(W),W*U){case 38:q=S>0?1:(Pe+="\f",-1);break;case 44:o[E++]=(Hu(Pe)-1)*q,q=1;break;case 64:ed()===45&&(Pe+=f_(Dl())),O=ed(),S=k=Hu(Y=Pe+=zK(d_())),W++;break;case 45:G===45&&Hu(Pe)==2&&(U=0)}}return u}function cO(e,t,n,r,c,u,h,o,v,E,S){for(var k=c-1,O=c===0?u:[""],N=GA(O),G=0,U=0,H=0;G<r;++G)for(var q=0,W=Gy(e,k+1,k=IK(U=h[G])),Y=e;q<N;++q)(Y=a9(U>0?O[q]+" "+W:Ti(W,/&\f/g,O[q])))&&(v[H++]=Y);return cx(e,t,n,c===0?UA:o,v,E,S)}function jK(e,t,n){return cx(e,t,n,i9,sx(DK()),Gy(e,2,-2),0)}function uO(e,t,n,r){return cx(e,t,n,VA,Gy(e,0,r),Gy(e,r+1,-1),r)}function ym(e,t){for(var n="",r=GA(e),c=0;c<r;c++)n+=t(e[c],c,e,t)||"";return n}function UK(e,t,n,r){switch(e.type){case PK:if(e.children.length)break;case AK:case VA:return e.return=e.return||e.value;case i9:return"";case o9:return e.return=e.value+"{"+ym(e.children,r)+"}";case UA:e.value=e.props.join(",")}return Hu(n=ym(e.children,r))?e.return=e.value+"{"+n+"}":""}function VK(e){var t=GA(e);return function(n,r,c,u){for(var h="",o=0;o<t;o++)h+=e[o](n,r,c,u)||"";return h}}function GK(e){return function(t){t.root||(t=t.return)&&e(t)}}var HK=function(t,n,r){for(var c=0,u=0;c=u,u=ed(),c===38&&u===12&&(n[r]=1),!Hy(u);)Dl();return bv(t,tl)},WK=function(t,n){var r=-1,c=44;do switch(Hy(c)){case 0:c===38&&ed()===12&&(n[r]=1),t[r]+=HK(tl-1,n,r);break;case 2:t[r]+=f_(c);break;case 4:if(c===44){t[++r]=ed()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=sx(c)}while(c=Dl());return t},ZK=function(t,n){return c9(WK(l9(t),n))},dO=new WeakMap,qK=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,c=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!dO.get(r))&&!c){dO.set(t,!0);for(var u=[],h=ZK(n,u),o=r.props,v=0,E=0;v<h.length;v++)for(var S=0;S<o.length;S++,E++)t.props[E]=u[v]?h[v].replace(/&\f/g,o[S]):o[S]+" "+h[v]}}},KK=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function u9(e,t){switch(MK(e,t)){case 5103:return Si+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Si+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Si+e+t1+e+is+e+e;case 6828:case 4268:return Si+e+is+e+e;case 6165:return Si+e+is+"flex-"+e+e;case 5187:return Si+e+Ti(e,/(\w+).+(:[^]+)/,Si+"box-$1$2"+is+"flex-$1$2")+e;case 5443:return Si+e+is+"flex-item-"+Ti(e,/flex-|-self/,"")+e;case 4675:return Si+e+is+"flex-line-pack"+Ti(e,/align-content|flex-|-self/,"")+e;case 5548:return Si+e+is+Ti(e,"shrink","negative")+e;case 5292:return Si+e+is+Ti(e,"basis","preferred-size")+e;case 6060:return Si+"box-"+Ti(e,"-grow","")+Si+e+is+Ti(e,"grow","positive")+e;case 4554:return Si+Ti(e,/([^-])(transform)/g,"$1"+Si+"$2")+e;case 6187:return Ti(Ti(Ti(e,/(zoom-|grab)/,Si+"$1"),/(image-set)/,Si+"$1"),e,"")+e;case 5495:case 3959:return Ti(e,/(image-set\([^]*)/,Si+"$1$`$1");case 4968:return Ti(Ti(e,/(.+:)(flex-)?(.*)/,Si+"box-pack:$3"+is+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Si+e+e;case 4095:case 3583:case 4068:case 2532:return Ti(e,/(.+)-inline(.+)/,Si+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hu(e)-1-t>6)switch(Fa(e,t+1)){case 109:if(Fa(e,t+4)!==45)break;case 102:return Ti(e,/(.+:)(.+)-([^]+)/,"$1"+Si+"$2-$3$1"+t1+(Fa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_S(e,"stretch")?u9(Ti(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fa(e,t+1)!==115)break;case 6444:switch(Fa(e,Hu(e)-3-(~_S(e,"!important")&&10))){case 107:return Ti(e,":",":"+Si)+e;case 101:return Ti(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Si+(Fa(e,14)===45?"inline-":"")+"box$3$1"+Si+"$2$3$1"+is+"$2box$3")+e}break;case 5936:switch(Fa(e,t+11)){case 114:return Si+e+is+Ti(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Si+e+is+Ti(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Si+e+is+Ti(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Si+e+is+e+e}return e}var XK=function(t,n,r,c){if(t.length>-1&&!t.return)switch(t.type){case VA:t.return=u9(t.value,t.length);break;case o9:return ym([Xg(t,{value:Ti(t.value,"@","@"+Si)})],c);case UA:if(t.length)return RK(t.props,function(u){switch(OK(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ym([Xg(t,{props:[Ti(u,/:(read-\w+)/,":"+t1+"$1")]})],c);case"::placeholder":return ym([Xg(t,{props:[Ti(u,/:(plac\w+)/,":"+Si+"input-$1")]}),Xg(t,{props:[Ti(u,/:(plac\w+)/,":"+t1+"$1")]}),Xg(t,{props:[Ti(u,/:(plac\w+)/,is+"input-$1")]})],c)}return""})}},YK=[XK],JK=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(U){var H=U.getAttribute("data-emotion");H.indexOf(" ")!==-1&&(document.head.appendChild(U),U.setAttribute("data-s",""))})}var c=t.stylisPlugins||YK,u={},h,o=[];h=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(U){for(var H=U.getAttribute("data-emotion").split(" "),q=1;q<H.length;q++)u[H[q]]=!0;o.push(U)});var v,E=[qK,KK];{var S,k=[UK,GK(function(U){S.insert(U)})],O=VK(E.concat(c,k)),N=function(H){return ym($K(H),O)};v=function(H,q,W,Y){S=W,N(H?H+"{"+q.styles+"}":q.styles),Y&&(G.inserted[q.name]=!0)}}var G={key:n,sheet:new TK({key:n,container:h,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:u,registered:{},insert:v};return G.sheet.hydrate(o),G},QK=!0;function eX(e,t,n){var r="";return n.split(" ").forEach(function(c){e[c]!==void 0?t.push(e[c]+";"):r+=c+" "}),r}var d9=function(t,n,r){var c=t.key+"-"+n.name;(r===!1||QK===!1)&&t.registered[c]===void 0&&(t.registered[c]=n.styles)},tX=function(t,n,r){d9(t,n,r);var c=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var u=n;do t.insert(n===u?"."+c:"",u,t.sheet,!0),u=u.next;while(u!==void 0)}};function nX(e){for(var t=0,n,r=0,c=e.length;c>=4;++r,c-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(c){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var rX={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iX=/[A-Z]|^ms/g,oX=/_EMO_([^_]+?)_([^]*?)_EMO_/g,f9=function(t){return t.charCodeAt(1)===45},fO=function(t){return t!=null&&typeof t!="boolean"},qw=r9(function(e){return f9(e)?e:e.replace(iX,"-$&").toLowerCase()}),hO=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(oX,function(r,c,u){return Wu={name:c,styles:u,next:Wu},c})}return rX[t]!==1&&!f9(t)&&typeof n=="number"&&n!==0?n+"px":n};function Wy(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Wu={name:n.name,styles:n.styles,next:Wu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Wu={name:r.name,styles:r.styles,next:Wu},r=r.next;var c=n.styles+";";return c}return aX(e,t,n)}case"function":{if(e!==void 0){var u=Wu,h=n(e);return Wu=u,Wy(e,t,h)}break}}if(t==null)return n;var o=t[n];return o!==void 0?o:n}function aX(e,t,n){var r="";if(Array.isArray(n))for(var c=0;c<n.length;c++)r+=Wy(e,t,n[c])+";";else for(var u in n){var h=n[u];if(typeof h!="object")t!=null&&t[h]!==void 0?r+=u+"{"+t[h]+"}":fO(h)&&(r+=qw(u)+":"+hO(u,h)+";");else if(Array.isArray(h)&&typeof h[0]=="string"&&(t==null||t[h[0]]===void 0))for(var o=0;o<h.length;o++)fO(h[o])&&(r+=qw(u)+":"+hO(u,h[o])+";");else{var v=Wy(e,t,h);switch(u){case"animation":case"animationName":{r+=qw(u)+":"+v+";";break}default:r+=u+"{"+v+"}"}}}return r}var pO=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wu,h9=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var c=!0,u="";Wu=void 0;var h=t[0];h==null||h.raw===void 0?(c=!1,u+=Wy(r,n,h)):u+=h[0];for(var o=1;o<t.length;o++)u+=Wy(r,n,t[o]),c&&(u+=h[o]);pO.lastIndex=0;for(var v="",E;(E=pO.exec(u))!==null;)v+="-"+E[1];var S=nX(u)+v;return{name:S,styles:u,next:Wu}},sX=function(t){return t()},lX=l2["useInsertionEffect"]?l2["useInsertionEffect"]:!1,cX=lX||sX,p9=A.createContext(typeof HTMLElement<"u"?JK({key:"css"}):null);p9.Provider;var uX=function(t){return A.forwardRef(function(n,r){var c=A.useContext(p9);return t(n,c,r)})},m9=A.createContext({});function dX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h9(t)}var HA=function(){var t=dX.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},fX=EK,hX=function(t){return t!=="theme"},mO=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?fX:hX},gO=function(t,n,r){var c;if(n){var u=n.shouldForwardProp;c=t.__emotion_forwardProp&&u?function(h){return t.__emotion_forwardProp(h)&&u(h)}:u}return typeof c!="function"&&r&&(c=t.__emotion_forwardProp),c},pX=function(t){var n=t.cache,r=t.serialized,c=t.isStringTag;return d9(n,r,c),cX(function(){return tX(n,r,c)}),null},mX=function e(t,n){var r=t.__emotion_real===t,c=r&&t.__emotion_base||t,u,h;n!==void 0&&(u=n.label,h=n.target);var o=gO(t,n,r),v=o||mO(c),E=!v("as");return function(){var S=arguments,k=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(u!==void 0&&k.push("label:"+u+";"),S[0]==null||S[0].raw===void 0)k.push.apply(k,S);else{k.push(S[0][0]);for(var O=S.length,N=1;N<O;N++)k.push(S[N],S[0][N])}var G=uX(function(U,H,q){var W=E&&U.as||c,Y="",ie=[],he=U;if(U.theme==null){he={};for(var Se in U)he[Se]=U[Se];he.theme=A.useContext(m9)}typeof U.className=="string"?Y=eX(H.registered,ie,U.className):U.className!=null&&(Y=U.className+" ");var Pe=h9(k.concat(ie),H.registered,he);Y+=H.key+"-"+Pe.name,h!==void 0&&(Y+=" "+h);var We=E&&o===void 0?mO(W):v,Le={};for(var qe in U)E&&qe==="as"||We(qe)&&(Le[qe]=U[qe]);return Le.className=Y,Le.ref=q,A.createElement(A.Fragment,null,A.createElement(pX,{cache:H,serialized:Pe,isStringTag:typeof W=="string"}),A.createElement(W,Le))});return G.displayName=u!==void 0?u:"Styled("+(typeof c=="string"?c:c.displayName||c.name||"Component")+")",G.defaultProps=t.defaultProps,G.__emotion_real=G,G.__emotion_base=c,G.__emotion_styles=k,G.__emotion_forwardProp=o,Object.defineProperty(G,"toString",{value:function(){return"."+h}}),G.withComponent=function(U,H){return e(U,In({},n,H,{shouldForwardProp:gO(G,H,!0)})).apply(void 0,k)},G}},gX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],bS=mX.bind();gX.forEach(function(e){bS[e]=bS(e)});/**
 * @mui/styled-engine v5.14.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function g9(e,t){return bS(e,t)}const yX=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},vX=["values","unit","step"],_X=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>In({},n,{[r.key]:r.val}),{})};function xX(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,c=$i(e,vX),u=_X(t),h=Object.keys(u);function o(O){return`@media (min-width:${typeof t[O]=="number"?t[O]:O}${n})`}function v(O){return`@media (max-width:${(typeof t[O]=="number"?t[O]:O)-r/100}${n})`}function E(O,N){const G=h.indexOf(N);return`@media (min-width:${typeof t[O]=="number"?t[O]:O}${n}) and (max-width:${(G!==-1&&typeof t[h[G]]=="number"?t[h[G]]:N)-r/100}${n})`}function S(O){return h.indexOf(O)+1<h.length?E(O,h[h.indexOf(O)+1]):o(O)}function k(O){const N=h.indexOf(O);return N===0?o(h[1]):N===h.length-1?v(h[N]):E(O,h[h.indexOf(O)+1]).replace("@media","@media not all and")}return In({keys:h,values:u,up:o,down:v,between:E,only:S,not:k,unit:n},c)}const bX={borderRadius:4},wX=bX;function vy(e,t){return t?Dd(e,t,{clone:!1}):e}const WA={xs:0,sm:600,md:900,lg:1200,xl:1536},yO={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${WA[e]}px)`};function hc(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const u=r.breakpoints||yO;return t.reduce((h,o,v)=>(h[u.up(u.keys[v])]=n(t[v]),h),{})}if(typeof t=="object"){const u=r.breakpoints||yO;return Object.keys(t).reduce((h,o)=>{if(Object.keys(u.values||WA).indexOf(o)!==-1){const v=u.up(o);h[v]=n(t[o],o)}else{const v=o;h[v]=t[v]}return h},{})}return n(t)}function EX(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,c)=>{const u=e.up(c);return r[u]={},r},{}))||{}}function CX(e,t){return e.reduce((n,r)=>{const c=n[r];return(!c||Object.keys(c).length===0)&&delete n[r],n},t)}function SX(e,t){if(typeof e!="object")return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((c,u)=>{u<e.length&&(n[c]=!0)}):r.forEach(c=>{e[c]!=null&&(n[c]=!0)}),n}function ux({values:e,breakpoints:t,base:n}){const r=n||SX(e,t),c=Object.keys(r);if(c.length===0)return e;let u;return c.reduce((h,o,v)=>(Array.isArray(e)?(h[o]=e[v]!=null?e[v]:e[u],u=v):typeof e=="object"?(h[o]=e[o]!=null?e[o]:e[u],u=o):h[o]=e,h),{})}function Rm(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((c,u)=>c&&c[u]?c[u]:null,e);if(r!=null)return r}return t.split(".").reduce((r,c)=>r&&r[c]!=null?r[c]:null,e)}function n1(e,t,n,r=n){let c;return typeof e=="function"?c=e(n):Array.isArray(e)?c=e[n]||r:c=Rm(e,n)||r,t&&(c=t(c,r,e)),c}function Ri(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:c}=e,u=h=>{if(h[t]==null)return null;const o=h[t],v=h.theme,E=Rm(v,r)||{};return hc(h,o,k=>{let O=n1(E,c,k);return k===O&&typeof k=="string"&&(O=n1(E,c,`${t}${k==="default"?"":fa(k)}`,k)),n===!1?O:{[n]:O}})};return u.propTypes={},u.filterProps=[t],u}function TX(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const AX={m:"margin",p:"padding"},PX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vO={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},IX=TX(e=>{if(e.length>2)if(vO[e])e=vO[e];else return[e];const[t,n]=e.split(""),r=AX[t],c=PX[n]||"";return Array.isArray(c)?c.map(u=>r+u):[r+c]}),ZA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],qA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ZA,...qA];function wv(e,t,n,r){var c;const u=(c=Rm(e,t,!1))!=null?c:n;return typeof u=="number"?h=>typeof h=="string"?h:u*h:Array.isArray(u)?h=>typeof h=="string"?h:u[h]:typeof u=="function"?u:()=>{}}function y9(e){return wv(e,"spacing",8)}function Ev(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function kX(e,t){return n=>e.reduce((r,c)=>(r[c]=Ev(t,n),r),{})}function MX(e,t,n,r){if(t.indexOf(n)===-1)return null;const c=IX(n),u=kX(c,r),h=e[n];return hc(e,h,u)}function v9(e,t){const n=y9(e.theme);return Object.keys(e).map(r=>MX(e,t,r,n)).reduce(vy,{})}function Lo(e){return v9(e,ZA)}Lo.propTypes={};Lo.filterProps=ZA;function Fo(e){return v9(e,qA)}Fo.propTypes={};Fo.filterProps=qA;function OX(e=8){if(e.mui)return e;const t=y9({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(u=>{const h=t(u);return typeof h=="number"?`${h}px`:h}).join(" ");return n.mui=!0,n}function dx(...e){const t=e.reduce((r,c)=>(c.filterProps.forEach(u=>{r[u]=c}),r),{}),n=r=>Object.keys(r).reduce((c,u)=>t[u]?vy(c,t[u](r)):c,{});return n.propTypes={},n.filterProps=e.reduce((r,c)=>r.concat(c.filterProps),[]),n}function Ku(e){return typeof e!="number"?e:`${e}px solid`}const RX=Ri({prop:"border",themeKey:"borders",transform:Ku}),DX=Ri({prop:"borderTop",themeKey:"borders",transform:Ku}),LX=Ri({prop:"borderRight",themeKey:"borders",transform:Ku}),FX=Ri({prop:"borderBottom",themeKey:"borders",transform:Ku}),NX=Ri({prop:"borderLeft",themeKey:"borders",transform:Ku}),BX=Ri({prop:"borderColor",themeKey:"palette"}),zX=Ri({prop:"borderTopColor",themeKey:"palette"}),$X=Ri({prop:"borderRightColor",themeKey:"palette"}),jX=Ri({prop:"borderBottomColor",themeKey:"palette"}),UX=Ri({prop:"borderLeftColor",themeKey:"palette"}),fx=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=wv(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ev(t,r)});return hc(e,e.borderRadius,n)}return null};fx.propTypes={};fx.filterProps=["borderRadius"];dx(RX,DX,LX,FX,NX,BX,zX,$X,jX,UX,fx);const hx=e=>{if(e.gap!==void 0&&e.gap!==null){const t=wv(e.theme,"spacing",8),n=r=>({gap:Ev(t,r)});return hc(e,e.gap,n)}return null};hx.propTypes={};hx.filterProps=["gap"];const px=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=wv(e.theme,"spacing",8),n=r=>({columnGap:Ev(t,r)});return hc(e,e.columnGap,n)}return null};px.propTypes={};px.filterProps=["columnGap"];const mx=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=wv(e.theme,"spacing",8),n=r=>({rowGap:Ev(t,r)});return hc(e,e.rowGap,n)}return null};mx.propTypes={};mx.filterProps=["rowGap"];const VX=Ri({prop:"gridColumn"}),GX=Ri({prop:"gridRow"}),HX=Ri({prop:"gridAutoFlow"}),WX=Ri({prop:"gridAutoColumns"}),ZX=Ri({prop:"gridAutoRows"}),qX=Ri({prop:"gridTemplateColumns"}),KX=Ri({prop:"gridTemplateRows"}),XX=Ri({prop:"gridTemplateAreas"}),YX=Ri({prop:"gridArea"});dx(hx,px,mx,VX,GX,HX,WX,ZX,qX,KX,XX,YX);function vm(e,t){return t==="grey"?t:e}const JX=Ri({prop:"color",themeKey:"palette",transform:vm}),QX=Ri({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:vm}),eY=Ri({prop:"backgroundColor",themeKey:"palette",transform:vm});dx(JX,QX,eY);function Il(e){return e<=1&&e!==0?`${e*100}%`:e}const tY=Ri({prop:"width",transform:Il}),KA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,c;const u=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||WA[n];return u?((c=e.theme)==null||(c=c.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${u}${e.theme.breakpoints.unit}`}:{maxWidth:u}:{maxWidth:Il(n)}};return hc(e,e.maxWidth,t)}return null};KA.filterProps=["maxWidth"];const nY=Ri({prop:"minWidth",transform:Il}),rY=Ri({prop:"height",transform:Il}),iY=Ri({prop:"maxHeight",transform:Il}),oY=Ri({prop:"minHeight",transform:Il});Ri({prop:"size",cssProperty:"width",transform:Il});Ri({prop:"size",cssProperty:"height",transform:Il});const aY=Ri({prop:"boxSizing"});dx(tY,KA,nY,rY,iY,oY,aY);const sY={border:{themeKey:"borders",transform:Ku},borderTop:{themeKey:"borders",transform:Ku},borderRight:{themeKey:"borders",transform:Ku},borderBottom:{themeKey:"borders",transform:Ku},borderLeft:{themeKey:"borders",transform:Ku},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fx},color:{themeKey:"palette",transform:vm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:vm},backgroundColor:{themeKey:"palette",transform:vm},p:{style:Fo},pt:{style:Fo},pr:{style:Fo},pb:{style:Fo},pl:{style:Fo},px:{style:Fo},py:{style:Fo},padding:{style:Fo},paddingTop:{style:Fo},paddingRight:{style:Fo},paddingBottom:{style:Fo},paddingLeft:{style:Fo},paddingX:{style:Fo},paddingY:{style:Fo},paddingInline:{style:Fo},paddingInlineStart:{style:Fo},paddingInlineEnd:{style:Fo},paddingBlock:{style:Fo},paddingBlockStart:{style:Fo},paddingBlockEnd:{style:Fo},m:{style:Lo},mt:{style:Lo},mr:{style:Lo},mb:{style:Lo},ml:{style:Lo},mx:{style:Lo},my:{style:Lo},margin:{style:Lo},marginTop:{style:Lo},marginRight:{style:Lo},marginBottom:{style:Lo},marginLeft:{style:Lo},marginX:{style:Lo},marginY:{style:Lo},marginInline:{style:Lo},marginInlineStart:{style:Lo},marginInlineEnd:{style:Lo},marginBlock:{style:Lo},marginBlockStart:{style:Lo},marginBlockEnd:{style:Lo},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:hx},rowGap:{style:mx},columnGap:{style:px},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Il},maxWidth:{style:KA},minWidth:{transform:Il},height:{transform:Il},maxHeight:{transform:Il},minHeight:{transform:Il},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},gx=sY;function lY(...e){const t=e.reduce((r,c)=>r.concat(Object.keys(c)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function cY(e,t){return typeof e=="function"?e(t):e}function uY(){function e(n,r,c,u){const h={[n]:r,theme:c},o=u[n];if(!o)return{[n]:r};const{cssProperty:v=n,themeKey:E,transform:S,style:k}=o;if(r==null)return null;if(E==="typography"&&r==="inherit")return{[n]:r};const O=Rm(c,E)||{};return k?k(h):hc(h,r,G=>{let U=n1(O,S,G);return G===U&&typeof G=="string"&&(U=n1(O,S,`${n}${G==="default"?"":fa(G)}`,G)),v===!1?U:{[v]:U}})}function t(n){var r;const{sx:c,theme:u={}}=n||{};if(!c)return null;const h=(r=u.unstable_sxConfig)!=null?r:gx;function o(v){let E=v;if(typeof v=="function")E=v(u);else if(typeof v!="object")return v;if(!E)return null;const S=EX(u.breakpoints),k=Object.keys(S);let O=S;return Object.keys(E).forEach(N=>{const G=cY(E[N],u);if(G!=null)if(typeof G=="object")if(h[N])O=vy(O,e(N,G,u,h));else{const U=hc({theme:u},G,H=>({[N]:H}));lY(U,G)?O[N]=t({sx:G,theme:u}):O=vy(O,U)}else O=vy(O,e(N,G,u,h))}),CX(k,O)}return Array.isArray(c)?c.map(o):o(c)}return t}const _9=uY();_9.filterProps=["sx"];const yx=_9,dY=["breakpoints","palette","spacing","shape"];function XA(e={},...t){const{breakpoints:n={},palette:r={},spacing:c,shape:u={}}=e,h=$i(e,dY),o=xX(n),v=OX(c);let E=Dd({breakpoints:o,direction:"ltr",components:{},palette:In({mode:"light"},r),spacing:v,shape:In({},wX,u)},h);return E=t.reduce((S,k)=>Dd(S,k),E),E.unstable_sxConfig=In({},gx,h==null?void 0:h.unstable_sxConfig),E.unstable_sx=function(k){return yx({sx:k,theme:this})},E}function fY(e){return Object.keys(e).length===0}function hY(e=null){const t=A.useContext(m9);return!t||fY(t)?e:t}const pY=XA();function YA(e=pY){return hY(e)}const mY=["sx"],gY=e=>{var t,n;const r={systemProps:{},otherProps:{}},c=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:gx;return Object.keys(e).forEach(u=>{c[u]?r.systemProps[u]=e[u]:r.otherProps[u]=e[u]}),r};function JA(e){const{sx:t}=e,n=$i(e,mY),{systemProps:r,otherProps:c}=gY(n);let u;return Array.isArray(t)?u=[r,...t]:typeof t=="function"?u=(...h)=>{const o=t(...h);return Fh(o)?In({},r,o):r}:u=In({},r,t),In({},c,{sx:u})}function x9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=x9(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Zi(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=x9(e))&&(r&&(r+=" "),r+=t);return r}const yY=["className","component"];function vY(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:c}=e,u=g9("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(yx);return A.forwardRef(function(v,E){const S=YA(n),k=JA(v),{className:O,component:N="div"}=k,G=$i(k,yY);return B.jsx(u,In({as:N,ref:E,className:Zi(O,c?c(r):r),theme:t&&S[t]||S},G))})}const _Y=["variant"];function _O(e){return e.length===0}function b9(e){const{variant:t}=e,n=$i(e,_Y);let r=t||"";return Object.keys(n).sort().forEach(c=>{c==="color"?r+=_O(r)?e[c]:fa(e[c]):r+=`${_O(r)?c:fa(c)}${fa(e[c].toString())}`}),r}const xY=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bY(e){return Object.keys(e).length===0}function wY(e){return typeof e=="string"&&e.charCodeAt(0)>96}const EY=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,CY=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(c=>{const u=b9(c.props);r[u]=c.style}),r},SY=(e,t,n,r)=>{var c;const{ownerState:u={}}=e,h=[],o=n==null||(c=n.components)==null||(c=c[r])==null?void 0:c.variants;return o&&o.forEach(v=>{let E=!0;Object.keys(v.props).forEach(S=>{u[S]!==v.props[S]&&e[S]!==v.props[S]&&(E=!1)}),E&&h.push(t[b9(v.props)])}),h};function p_(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const TY=XA(),AY=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Yg({defaultTheme:e,theme:t,themeId:n}){return bY(t)?e:t[n]||t}function PY(e){return e?(t,n)=>n[e]:null}function IY(e={}){const{themeId:t,defaultTheme:n=TY,rootShouldForwardProp:r=p_,slotShouldForwardProp:c=p_}=e,u=h=>yx(In({},h,{theme:Yg(In({},h,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,(h,o={})=>{yX(h,ie=>ie.filter(he=>!(he!=null&&he.__mui_systemSx)));const{name:v,slot:E,skipVariantsResolver:S,skipSx:k,overridesResolver:O=PY(AY(E))}=o,N=$i(o,xY),G=S!==void 0?S:E&&E!=="Root"&&E!=="root"||!1,U=k||!1;let H,q=p_;E==="Root"||E==="root"?q=r:E?q=c:wY(h)&&(q=void 0);const W=g9(h,In({shouldForwardProp:q,label:H},N)),Y=(ie,...he)=>{const Se=he?he.map(qe=>typeof qe=="function"&&qe.__emotion_real!==qe?Kt=>qe(In({},Kt,{theme:Yg(In({},Kt,{defaultTheme:n,themeId:t}))})):qe):[];let Pe=ie;v&&O&&Se.push(qe=>{const Kt=Yg(In({},qe,{defaultTheme:n,themeId:t})),Ut=EY(v,Kt);if(Ut){const Qt={};return Object.entries(Ut).forEach(([Tn,An])=>{Qt[Tn]=typeof An=="function"?An(In({},qe,{theme:Kt})):An}),O(qe,Qt)}return null}),v&&!G&&Se.push(qe=>{const Kt=Yg(In({},qe,{defaultTheme:n,themeId:t}));return SY(qe,CY(v,Kt),Kt,v)}),U||Se.push(u);const We=Se.length-he.length;if(Array.isArray(ie)&&We>0){const qe=new Array(We).fill("");Pe=[...ie,...qe],Pe.raw=[...ie.raw,...qe]}else typeof ie=="function"&&ie.__emotion_real!==ie&&(Pe=qe=>ie(In({},qe,{theme:Yg(In({},qe,{defaultTheme:n,themeId:t}))})));const Le=W(Pe,...Se);return h.muiName&&(Le.muiName=h.muiName),Le};return W.withConfig&&(Y.withConfig=W.withConfig),Y}}function kY(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:jA(t.components[n].defaultProps,r)}function MY({props:e,name:t,defaultTheme:n,themeId:r}){let c=YA(n);return r&&(c=c[r]||c),kY({theme:c,name:t,props:e})}function QA(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function OY(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,c)=>c<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Yh(e){if(e.type)return e;if(e.charAt(0)==="#")return Yh(OY(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Mm(9,e));let r=e.substring(t+1,e.length-1),c;if(n==="color"){if(r=r.split(" "),c=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(c)===-1)throw new Error(Mm(10,c))}else r=r.split(",");return r=r.map(u=>parseFloat(u)),{type:n,values:r,colorSpace:c}}function vx(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((c,u)=>u<3?parseInt(c,10):c):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function RY(e){e=Yh(e);const{values:t}=e,n=t[0],r=t[1]/100,c=t[2]/100,u=r*Math.min(c,1-c),h=(E,S=(E+n/30)%12)=>c-u*Math.max(Math.min(S-3,9-S,1),-1);let o="rgb";const v=[Math.round(h(0)*255),Math.round(h(8)*255),Math.round(h(4)*255)];return e.type==="hsla"&&(o+="a",v.push(t[3])),vx({type:o,values:v})}function xO(e){e=Yh(e);let t=e.type==="hsl"||e.type==="hsla"?Yh(RY(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function DY(e,t){const n=xO(e),r=xO(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function au(e,t){return e=Yh(e),t=QA(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,vx(e)}function LY(e,t){if(e=Yh(e),t=QA(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return vx(e)}function FY(e,t){if(e=Yh(e),t=QA(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return vx(e)}function NY(e,t){return In({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const BY=["mode","contrastThreshold","tonalOffset"],bO={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Vy.white,default:Vy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kw={text:{primary:Vy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Vy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function wO(e,t,n,r){const c=r.light||r,u=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=FY(e.main,c):t==="dark"&&(e.dark=LY(e.main,u)))}function zY(e="light"){return e==="dark"?{main:Up[200],light:Up[50],dark:Up[400]}:{main:Up[700],light:Up[400],dark:Up[800]}}function $Y(e="light"){return e==="dark"?{main:jp[200],light:jp[50],dark:jp[400]}:{main:jp[500],light:jp[300],dark:jp[700]}}function jY(e="light"){return e==="dark"?{main:$p[500],light:$p[300],dark:$p[700]}:{main:$p[700],light:$p[400],dark:$p[800]}}function UY(e="light"){return e==="dark"?{main:Vp[400],light:Vp[300],dark:Vp[700]}:{main:Vp[700],light:Vp[500],dark:Vp[900]}}function VY(e="light"){return e==="dark"?{main:Gp[400],light:Gp[300],dark:Gp[700]}:{main:Gp[800],light:Gp[500],dark:Gp[900]}}function GY(e="light"){return e==="dark"?{main:Kg[400],light:Kg[300],dark:Kg[700]}:{main:"#ed6c02",light:Kg[500],dark:Kg[900]}}function HY(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,c=$i(e,BY),u=e.primary||zY(t),h=e.secondary||$Y(t),o=e.error||jY(t),v=e.info||UY(t),E=e.success||VY(t),S=e.warning||GY(t);function k(U){return DY(U,Kw.text.primary)>=n?Kw.text.primary:bO.text.primary}const O=({color:U,name:H,mainShade:q=500,lightShade:W=300,darkShade:Y=700})=>{if(U=In({},U),!U.main&&U[q]&&(U.main=U[q]),!U.hasOwnProperty("main"))throw new Error(Mm(11,H?` (${H})`:"",q));if(typeof U.main!="string")throw new Error(Mm(12,H?` (${H})`:"",JSON.stringify(U.main)));return wO(U,"light",W,r),wO(U,"dark",Y,r),U.contrastText||(U.contrastText=k(U.main)),U},N={dark:Kw,light:bO};return Dd(In({common:In({},Vy),mode:t,primary:O({color:u,name:"primary"}),secondary:O({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:O({color:o,name:"error"}),warning:O({color:S,name:"warning"}),info:O({color:v,name:"info"}),success:O({color:E,name:"success"}),grey:cK,contrastThreshold:n,getContrastText:k,augmentColor:O,tonalOffset:r},N[t]),c)}const WY=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function ZY(e){return Math.round(e*1e5)/1e5}const EO={textTransform:"uppercase"},CO='"Roboto", "Helvetica", "Arial", sans-serif';function qY(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=CO,fontSize:c=14,fontWeightLight:u=300,fontWeightRegular:h=400,fontWeightMedium:o=500,fontWeightBold:v=700,htmlFontSize:E=16,allVariants:S,pxToRem:k}=n,O=$i(n,WY),N=c/14,G=k||(q=>`${q/E*N}rem`),U=(q,W,Y,ie,he)=>In({fontFamily:r,fontWeight:q,fontSize:G(W),lineHeight:Y},r===CO?{letterSpacing:`${ZY(ie/W)}em`}:{},he,S),H={h1:U(u,96,1.167,-1.5),h2:U(u,60,1.2,-.5),h3:U(h,48,1.167,0),h4:U(h,34,1.235,.25),h5:U(h,24,1.334,0),h6:U(o,20,1.6,.15),subtitle1:U(h,16,1.75,.15),subtitle2:U(o,14,1.57,.1),body1:U(h,16,1.5,.15),body2:U(h,14,1.43,.15),button:U(o,14,1.75,.4,EO),caption:U(h,12,1.66,.4),overline:U(h,12,2.66,1,EO),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Dd(In({htmlFontSize:E,pxToRem:G,fontFamily:r,fontSize:c,fontWeightLight:u,fontWeightRegular:h,fontWeightMedium:o,fontWeightBold:v},H),O,{clone:!1})}const KY=.2,XY=.14,YY=.12;function so(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${KY})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${XY})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${YY})`].join(",")}const JY=["none",so(0,2,1,-1,0,1,1,0,0,1,3,0),so(0,3,1,-2,0,2,2,0,0,1,5,0),so(0,3,3,-2,0,3,4,0,0,1,8,0),so(0,2,4,-1,0,4,5,0,0,1,10,0),so(0,3,5,-1,0,5,8,0,0,1,14,0),so(0,3,5,-1,0,6,10,0,0,1,18,0),so(0,4,5,-2,0,7,10,1,0,2,16,1),so(0,5,5,-3,0,8,10,1,0,3,14,2),so(0,5,6,-3,0,9,12,1,0,3,16,2),so(0,6,6,-3,0,10,14,1,0,4,18,3),so(0,6,7,-4,0,11,15,1,0,4,20,3),so(0,7,8,-4,0,12,17,2,0,5,22,4),so(0,7,8,-4,0,13,19,2,0,5,24,4),so(0,7,9,-4,0,14,21,2,0,5,26,4),so(0,8,9,-5,0,15,22,2,0,6,28,5),so(0,8,10,-5,0,16,24,2,0,6,30,5),so(0,8,11,-5,0,17,26,2,0,6,32,5),so(0,9,11,-5,0,18,28,2,0,7,34,6),so(0,9,12,-6,0,19,29,2,0,7,36,6),so(0,10,13,-6,0,20,31,3,0,8,38,7),so(0,10,13,-6,0,21,33,3,0,8,40,7),so(0,10,14,-6,0,22,35,3,0,8,42,7),so(0,11,14,-7,0,23,36,3,0,9,44,8),so(0,11,15,-7,0,24,38,3,0,9,46,8)],QY=JY,eJ=["duration","easing","delay"],tJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nJ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function SO(e){return`${Math.round(e)}ms`}function rJ(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function iJ(e){const t=In({},tJ,e.easing),n=In({},nJ,e.duration);return In({getAutoHeightDuration:rJ,create:(c=["all"],u={})=>{const{duration:h=n.standard,easing:o=t.easeInOut,delay:v=0}=u;return $i(u,eJ),(Array.isArray(c)?c:[c]).map(E=>`${E} ${typeof h=="string"?h:SO(h)} ${o} ${typeof v=="string"?v:SO(v)}`).join(",")}},e,{easing:t,duration:n})}const oJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},aJ=oJ,sJ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function w9(e={},...t){const{mixins:n={},palette:r={},transitions:c={},typography:u={}}=e,h=$i(e,sJ);if(e.vars)throw new Error(Mm(18));const o=HY(r),v=XA(e);let E=Dd(v,{mixins:NY(v.breakpoints,n),palette:o,shadows:QY.slice(),typography:qY(o,u),transitions:iJ(c),zIndex:In({},aJ)});return E=Dd(E,h),E=t.reduce((S,k)=>Dd(S,k),E),E.unstable_sxConfig=In({},gx,h==null?void 0:h.unstable_sxConfig),E.unstable_sx=function(k){return yx({sx:k,theme:this})},E}const lJ=w9(),eP=lJ;function cJ(){const e=YA(eP);return e[ax]||e}function rl({props:e,name:t}){return MY({props:e,name:t,defaultTheme:eP,themeId:ax})}const E9=e=>p_(e)&&e!=="classes",uJ=IY({themeId:ax,defaultTheme:eP,rootShouldForwardProp:E9}),Pa=uJ,dJ=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},TO=dJ;var fJ=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return BL(t,r)})},Xw=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return zL(t,r)})},tP=function(e){vA(t,e);function t(){for(var r,c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];return r=e.call.apply(e,[this].concat(u))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(o,v){var E=r.resolveArguments(o,v),S=E[0],k=E[1];r.removeClasses(S,"exit"),r.addClass(S,k?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(o,v)},r.onEntering=function(o,v){var E=r.resolveArguments(o,v),S=E[0],k=E[1],O=k?"appear":"enter";r.addClass(S,O,"active"),r.props.onEntering&&r.props.onEntering(o,v)},r.onEntered=function(o,v){var E=r.resolveArguments(o,v),S=E[0],k=E[1],O=k?"appear":"enter";r.removeClasses(S,O),r.addClass(S,O,"done"),r.props.onEntered&&r.props.onEntered(o,v)},r.onExit=function(o){var v=r.resolveArguments(o),E=v[0];r.removeClasses(E,"appear"),r.removeClasses(E,"enter"),r.addClass(E,"exit","base"),r.props.onExit&&r.props.onExit(o)},r.onExiting=function(o){var v=r.resolveArguments(o),E=v[0];r.addClass(E,"exit","active"),r.props.onExiting&&r.props.onExiting(o)},r.onExited=function(o){var v=r.resolveArguments(o),E=v[0];r.removeClasses(E,"exit"),r.addClass(E,"exit","done"),r.props.onExited&&r.props.onExited(o)},r.resolveArguments=function(o,v){return r.props.nodeRef?[r.props.nodeRef.current,o]:[o,v]},r.getClassNames=function(o){var v=r.props.classNames,E=typeof v=="string",S=E&&v?v+"-":"",k=E?""+S+o:v[o],O=E?k+"-active":v[o+"Active"],N=E?k+"-done":v[o+"Done"];return{baseClassName:k,activeClassName:O,doneClassName:N}},r}var n=t.prototype;return n.addClass=function(c,u,h){var o=this.getClassNames(u)[h+"ClassName"],v=this.getClassNames("enter"),E=v.doneClassName;u==="appear"&&h==="done"&&E&&(o+=" "+E),h==="active"&&c&&fL(c),o&&(this.appliedClasses[u][h]=o,fJ(c,o))},n.removeClasses=function(c,u){var h=this.appliedClasses[u],o=h.base,v=h.active,E=h.done;this.appliedClasses[u]={},o&&Xw(c,o),v&&Xw(c,v),E&&Xw(c,E)},n.render=function(){var c=this.props;c.classNames;var u=$i(c,["classNames"]);return Eo.createElement(hL,In({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Eo.Component);tP.defaultProps={classNames:""};tP.propTypes={};const hJ=tP;function pJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(e,t){var n=function(u){return t&&A.isValidElement(u)?t(u):u},r=Object.create(null);return e&&A.Children.map(e,function(c){return c}).forEach(function(c){r[c.key]=n(c)}),r}function mJ(e,t){e=e||{},t=t||{};function n(S){return S in t?t[S]:e[S]}var r=Object.create(null),c=[];for(var u in e)u in t?c.length&&(r[u]=c,c=[]):c.push(u);var h,o={};for(var v in t){if(r[v])for(h=0;h<r[v].length;h++){var E=r[v][h];o[r[v][h]]=n(E)}o[v]=n(v)}for(h=0;h<c.length;h++)o[c[h]]=n(c[h]);return o}function jh(e,t,n){return n[t]!=null?n[t]:e.props[t]}function gJ(e,t){return nP(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:jh(n,"appear",e),enter:jh(n,"enter",e),exit:jh(n,"exit",e)})})}function yJ(e,t,n){var r=nP(e.children),c=mJ(t,r);return Object.keys(c).forEach(function(u){var h=c[u];if(A.isValidElement(h)){var o=u in t,v=u in r,E=t[u],S=A.isValidElement(E)&&!E.props.in;v&&(!o||S)?c[u]=A.cloneElement(h,{onExited:n.bind(null,h),in:!0,exit:jh(h,"exit",e),enter:jh(h,"enter",e)}):!v&&o&&!S?c[u]=A.cloneElement(h,{in:!1}):v&&o&&A.isValidElement(E)&&(c[u]=A.cloneElement(h,{onExited:n.bind(null,h),in:E.props.in,exit:jh(h,"exit",e),enter:jh(h,"enter",e)}))}}),c}var vJ=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_J={component:"div",childFactory:function(t){return t}},rP=function(e){vA(t,e);function t(r,c){var u;u=e.call(this,r,c)||this;var h=u.handleExited.bind(pJ(u));return u.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},u}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(c,u){var h=u.children,o=u.handleExited,v=u.firstRender;return{children:v?gJ(c,o):yJ(c,h,o),firstRender:!1}},n.handleExited=function(c,u){var h=nP(this.props.children);c.key in h||(c.props.onExited&&c.props.onExited(u),this.mounted&&this.setState(function(o){var v=In({},o.children);return delete v[c.key],{children:v}}))},n.render=function(){var c=this.props,u=c.component,h=c.childFactory,o=$i(c,["component","childFactory"]),v=this.state.contextValue,E=vJ(this.state.children).map(h);return delete o.appear,delete o.enter,delete o.exit,u===null?Eo.createElement(K_.Provider,{value:v},E):Eo.createElement(K_.Provider,{value:v},Eo.createElement(u,o,E))},t}(Eo.Component);rP.propTypes={};rP.defaultProps=_J;const xJ=rP;function bJ(e){return nl("MuiPaper",e)}Os("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const wJ=["className","component","elevation","square","variant"],EJ=e=>{const{square:t,elevation:n,variant:r,classes:c}=e,u={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return $l(u,bJ,c)},CJ=Pa("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return In({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&In({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${au("#fff",TO(t.elevation))}, ${au("#fff",TO(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),SJ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiPaper"}),{className:c,component:u="div",elevation:h=1,square:o=!1,variant:v="elevation"}=r,E=$i(r,wJ),S=In({},r,{component:u,elevation:h,square:o,variant:v}),k=EJ(S);return B.jsx(CJ,In({as:u,ownerState:S,className:Zi(k.root,c),ref:n},E))}),TJ=SJ;function AJ(e){const{className:t,classes:n,pulsate:r=!1,rippleX:c,rippleY:u,rippleSize:h,in:o,onExited:v,timeout:E}=e,[S,k]=A.useState(!1),O=Zi(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),N={width:h,height:h,top:-(h/2)+u,left:-(h/2)+c},G=Zi(n.child,S&&n.childLeaving,r&&n.childPulsate);return!o&&!S&&k(!0),A.useEffect(()=>{if(!o&&v!=null){const U=setTimeout(v,E);return()=>{clearTimeout(U)}}},[v,o,E]),B.jsx("span",{className:O,style:N,children:B.jsx("span",{className:G})})}const PJ=Os("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ic=PJ,IJ=["center","classes","className"];let _x=e=>e,AO,PO,IO,kO;const wS=550,kJ=80,MJ=HA(AO||(AO=_x`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),OJ=HA(PO||(PO=_x`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),RJ=HA(IO||(IO=_x`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),DJ=Pa("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),LJ=Pa(AJ,{name:"MuiTouchRipple",slot:"Ripple"})(kO||(kO=_x`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ic.rippleVisible,MJ,wS,({theme:e})=>e.transitions.easing.easeInOut,ic.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,ic.child,ic.childLeaving,OJ,wS,({theme:e})=>e.transitions.easing.easeInOut,ic.childPulsate,RJ,({theme:e})=>e.transitions.easing.easeInOut),FJ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiTouchRipple"}),{center:c=!1,classes:u={},className:h}=r,o=$i(r,IJ),[v,E]=A.useState([]),S=A.useRef(0),k=A.useRef(null);A.useEffect(()=>{k.current&&(k.current(),k.current=null)},[v]);const O=A.useRef(!1),N=A.useRef(0),G=A.useRef(null),U=A.useRef(null);A.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const H=A.useCallback(ie=>{const{pulsate:he,rippleX:Se,rippleY:Pe,rippleSize:We,cb:Le}=ie;E(qe=>[...qe,B.jsx(LJ,{classes:{ripple:Zi(u.ripple,ic.ripple),rippleVisible:Zi(u.rippleVisible,ic.rippleVisible),ripplePulsate:Zi(u.ripplePulsate,ic.ripplePulsate),child:Zi(u.child,ic.child),childLeaving:Zi(u.childLeaving,ic.childLeaving),childPulsate:Zi(u.childPulsate,ic.childPulsate)},timeout:wS,pulsate:he,rippleX:Se,rippleY:Pe,rippleSize:We},S.current)]),S.current+=1,k.current=Le},[u]),q=A.useCallback((ie={},he={},Se=()=>{})=>{const{pulsate:Pe=!1,center:We=c||he.pulsate,fakeElement:Le=!1}=he;if((ie==null?void 0:ie.type)==="mousedown"&&O.current){O.current=!1;return}(ie==null?void 0:ie.type)==="touchstart"&&(O.current=!0);const qe=Le?null:U.current,Kt=qe?qe.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Ut,Qt,Tn;if(We||ie===void 0||ie.clientX===0&&ie.clientY===0||!ie.clientX&&!ie.touches)Ut=Math.round(Kt.width/2),Qt=Math.round(Kt.height/2);else{const{clientX:An,clientY:Vt}=ie.touches&&ie.touches.length>0?ie.touches[0]:ie;Ut=Math.round(An-Kt.left),Qt=Math.round(Vt-Kt.top)}if(We)Tn=Math.sqrt((2*Kt.width**2+Kt.height**2)/3),Tn%2===0&&(Tn+=1);else{const An=Math.max(Math.abs((qe?qe.clientWidth:0)-Ut),Ut)*2+2,Vt=Math.max(Math.abs((qe?qe.clientHeight:0)-Qt),Qt)*2+2;Tn=Math.sqrt(An**2+Vt**2)}ie!=null&&ie.touches?G.current===null&&(G.current=()=>{H({pulsate:Pe,rippleX:Ut,rippleY:Qt,rippleSize:Tn,cb:Se})},N.current=setTimeout(()=>{G.current&&(G.current(),G.current=null)},kJ)):H({pulsate:Pe,rippleX:Ut,rippleY:Qt,rippleSize:Tn,cb:Se})},[c,H]),W=A.useCallback(()=>{q({},{pulsate:!0})},[q]),Y=A.useCallback((ie,he)=>{if(clearTimeout(N.current),(ie==null?void 0:ie.type)==="touchend"&&G.current){G.current(),G.current=null,N.current=setTimeout(()=>{Y(ie,he)});return}G.current=null,E(Se=>Se.length>0?Se.slice(1):Se),k.current=he},[]);return A.useImperativeHandle(n,()=>({pulsate:W,start:q,stop:Y}),[W,q,Y]),B.jsx(DJ,In({className:Zi(ic.root,u.root,h),ref:U},o,{children:B.jsx(xJ,{component:null,exit:!0,children:v})}))}),NJ=FJ;function BJ(e){return nl("MuiButtonBase",e)}const zJ=Os("MuiButtonBase",["root","disabled","focusVisible"]),$J=zJ,jJ=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],UJ=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:c}=e,h=$l({root:["root",t&&"disabled",n&&"focusVisible"]},BJ,c);return n&&r&&(h.root+=` ${r}`),h},VJ=Pa("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$J.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),GJ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiButtonBase"}),{action:c,centerRipple:u=!1,children:h,className:o,component:v="button",disabled:E=!1,disableRipple:S=!1,disableTouchRipple:k=!1,focusRipple:O=!1,LinkComponent:N="a",onBlur:G,onClick:U,onContextMenu:H,onDragLeave:q,onFocus:W,onFocusVisible:Y,onKeyDown:ie,onKeyUp:he,onMouseDown:Se,onMouseLeave:Pe,onMouseUp:We,onTouchEnd:Le,onTouchMove:qe,onTouchStart:Kt,tabIndex:Ut=0,TouchRippleProps:Qt,touchRippleRef:Tn,type:An}=r,Vt=$i(r,jJ),_t=A.useRef(null),Ve=A.useRef(null),Rt=e1(Ve,Tn),{isFocusVisibleRef:Ge,onFocus:sn,onBlur:ln,ref:pn}=t9(),[Yn,qn]=A.useState(!1);E&&Yn&&qn(!1),A.useImperativeHandle(c,()=>({focusVisible:()=>{qn(!0),_t.current.focus()}}),[]);const[nn,Bt]=A.useState(!1);A.useEffect(()=>{Bt(!0)},[]);const ot=nn&&!S&&!E;A.useEffect(()=>{Yn&&O&&!S&&nn&&Ve.current.pulsate()},[S,O,Yn,nn]);function Xe(Qe,xt,Ze=k){return B0(Gt=>(xt&&xt(Gt),!Ze&&Ve.current&&Ve.current[Qe](Gt),!0))}const Xt=Xe("start",Se),It=Xe("stop",H),Mn=Xe("stop",q),En=Xe("stop",We),er=Xe("stop",Qe=>{Yn&&Qe.preventDefault(),Pe&&Pe(Qe)}),yn=Xe("start",Kt),xe=Xe("stop",Le),Re=Xe("stop",qe),lt=Xe("stop",Qe=>{ln(Qe),Ge.current===!1&&qn(!1),G&&G(Qe)},!1),kt=B0(Qe=>{_t.current||(_t.current=Qe.currentTarget),sn(Qe),Ge.current===!0&&(qn(!0),Y&&Y(Qe)),W&&W(Qe)}),zt=()=>{const Qe=_t.current;return v&&v!=="button"&&!(Qe.tagName==="A"&&Qe.href)},Wt=A.useRef(!1),Pn=B0(Qe=>{O&&!Wt.current&&Yn&&Ve.current&&Qe.key===" "&&(Wt.current=!0,Ve.current.stop(Qe,()=>{Ve.current.start(Qe)})),Qe.target===Qe.currentTarget&&zt()&&Qe.key===" "&&Qe.preventDefault(),ie&&ie(Qe),Qe.target===Qe.currentTarget&&zt()&&Qe.key==="Enter"&&!E&&(Qe.preventDefault(),U&&U(Qe))}),Rn=B0(Qe=>{O&&Qe.key===" "&&Ve.current&&Yn&&!Qe.defaultPrevented&&(Wt.current=!1,Ve.current.stop(Qe,()=>{Ve.current.pulsate(Qe)})),he&&he(Qe),U&&Qe.target===Qe.currentTarget&&zt()&&Qe.key===" "&&!Qe.defaultPrevented&&U(Qe)});let kn=v;kn==="button"&&(Vt.href||Vt.to)&&(kn=N);const xn={};kn==="button"?(xn.type=An===void 0?"button":An,xn.disabled=E):(!Vt.href&&!Vt.to&&(xn.role="button"),E&&(xn["aria-disabled"]=E));const jn=e1(n,pn,_t),nr=In({},r,{centerRipple:u,component:v,disabled:E,disableRipple:S,disableTouchRipple:k,focusRipple:O,tabIndex:Ut,focusVisible:Yn}),wn=UJ(nr);return B.jsxs(VJ,In({as:kn,className:Zi(wn.root,o),ownerState:nr,onBlur:lt,onClick:U,onContextMenu:It,onFocus:kt,onKeyDown:Pn,onKeyUp:Rn,onMouseDown:Xt,onMouseLeave:er,onMouseUp:En,onDragLeave:Mn,onTouchEnd:xe,onTouchMove:Re,onTouchStart:yn,ref:jn,tabIndex:E?-1:Ut,type:An},xn,Vt,{children:[h,ot?B.jsx(NJ,In({ref:Rt,center:u},Qt)):null]}))}),C9=GJ;function HJ(e){return nl("MuiTypography",e)}Os("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const WJ=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ZJ=e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:c,variant:u,classes:h}=e,o={root:["root",u,e.align!=="inherit"&&`align${fa(t)}`,n&&"gutterBottom",r&&"noWrap",c&&"paragraph"]};return $l(o,HJ,h)},qJ=Pa("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],n.align!=="inherit"&&t[`align${fa(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>In({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),MO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},KJ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},XJ=e=>KJ[e]||e,YJ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiTypography"}),c=XJ(r.color),u=JA(In({},r,{color:c})),{align:h="inherit",className:o,component:v,gutterBottom:E=!1,noWrap:S=!1,paragraph:k=!1,variant:O="body1",variantMapping:N=MO}=u,G=$i(u,WJ),U=In({},u,{align:h,color:c,className:o,component:v,gutterBottom:E,noWrap:S,paragraph:k,variant:O,variantMapping:N}),H=v||(k?"p":N[O]||MO[O])||"span",q=ZJ(U);return B.jsx(qJ,In({as:H,ref:n,ownerState:U,className:Zi(q.root,o)},G))}),Na=YJ;function OO(e){return typeof e=="string"}const JJ=w9(),QJ=vY({themeId:ax,defaultTheme:JJ,defaultClassName:"MuiBox-root",generateClassName:n9.generate}),eQ=QJ;function tQ(e){return nl("MuiButton",e)}const nQ=Os("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),$0=nQ,rQ=A.createContext({}),iQ=rQ,oQ=A.createContext(void 0),aQ=oQ,sQ=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],lQ=e=>{const{color:t,disableElevation:n,fullWidth:r,size:c,variant:u,classes:h}=e,o={root:["root",u,`${u}${fa(t)}`,`size${fa(c)}`,`${u}Size${fa(c)}`,t==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${fa(c)}`],endIcon:["endIcon",`iconSize${fa(c)}`]},v=$l(o,tQ,h);return In({},h,v)},S9=e=>In({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),cQ=Pa(C9,{shouldForwardProp:e=>E9(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${fa(n.color)}`],t[`size${fa(n.size)}`],t[`${n.variant}Size${fa(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,r;const c=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],u=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return In({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":In({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:au(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:au(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:au(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":In({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${$0.focusVisible}`]:In({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${$0.disabled}`]:In({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${au(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(n=(r=e.palette).getContrastText)==null?void 0:n.call(r,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:c,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${$0.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${$0.disabled}`]:{boxShadow:"none"}}),uQ=Pa("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${fa(n.size)}`]]}})(({ownerState:e})=>In({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},S9(e))),dQ=Pa("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${fa(n.size)}`]]}})(({ownerState:e})=>In({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},S9(e))),fQ=A.forwardRef(function(t,n){const r=A.useContext(iQ),c=A.useContext(aQ),u=jA(r,t),h=rl({props:u,name:"MuiButton"}),{children:o,color:v="primary",component:E="button",className:S,disabled:k=!1,disableElevation:O=!1,disableFocusRipple:N=!1,endIcon:G,focusVisibleClassName:U,fullWidth:H=!1,size:q="medium",startIcon:W,type:Y,variant:ie="text"}=h,he=$i(h,sQ),Se=In({},h,{color:v,component:E,disabled:k,disableElevation:O,disableFocusRipple:N,fullWidth:H,size:q,type:Y,variant:ie}),Pe=lQ(Se),We=W&&B.jsx(uQ,{className:Pe.startIcon,ownerState:Se,children:W}),Le=G&&B.jsx(dQ,{className:Pe.endIcon,ownerState:Se,children:G}),qe=c||"";return B.jsxs(cQ,In({ownerState:Se,className:Zi(r.className,Pe.root,S,qe),component:E,disabled:k,focusRipple:!N,focusVisibleClassName:Zi(Pe.focusVisible,U),ref:n,type:Y},he,{classes:Pe,children:[We,o,Le]}))}),hs=fQ;function hQ(e){return nl("MuiCard",e)}Os("MuiCard",["root"]);const pQ=["className","raised"],mQ=e=>{const{classes:t}=e;return $l({root:["root"]},hQ,t)},gQ=Pa(TJ,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),yQ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiCard"}),{className:c,raised:u=!1}=r,h=$i(r,pQ),o=In({},r,{raised:u}),v=mQ(o);return B.jsx(gQ,In({className:Zi(v.root,c),elevation:u?8:void 0,ref:n,ownerState:o},h))}),xx=yQ;function vQ(e){return nl("MuiCardActions",e)}Os("MuiCardActions",["root","spacing"]);const _Q=["disableSpacing","className"],xQ=e=>{const{classes:t,disableSpacing:n}=e;return $l({root:["root",!n&&"spacing"]},vQ,t)},bQ=Pa("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>In({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),wQ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiCardActions"}),{disableSpacing:c=!1,className:u}=r,h=$i(r,_Q),o=In({},r,{disableSpacing:c}),v=xQ(o);return B.jsx(bQ,In({className:Zi(v.root,u),ownerState:o,ref:n},h))}),ap=wQ;function EQ(e){return nl("MuiCardContent",e)}Os("MuiCardContent",["root"]);const CQ=["className","component"],SQ=e=>{const{classes:t}=e;return $l({root:["root"]},EQ,t)},TQ=Pa("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),AQ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiCardContent"}),{className:c,component:u="div"}=r,h=$i(r,CQ),o=In({},r,{component:u}),v=SQ(o);return B.jsx(TQ,In({as:u,className:Zi(v.root,c),ownerState:o,ref:n},h))}),bx=AQ,PQ=A.createContext(),RO=PQ;function IQ(e){return nl("MuiGrid",e)}const kQ=[0,1,2,3,4,5,6,7,8,9,10],MQ=["column-reverse","column","row-reverse","row"],OQ=["nowrap","wrap-reverse","wrap"],Jg=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Zy=Os("MuiGrid",["root","container","item","zeroMinWidth",...kQ.map(e=>`spacing-xs-${e}`),...MQ.map(e=>`direction-xs-${e}`),...OQ.map(e=>`wrap-xs-${e}`),...Jg.map(e=>`grid-xs-${e}`),...Jg.map(e=>`grid-sm-${e}`),...Jg.map(e=>`grid-md-${e}`),...Jg.map(e=>`grid-lg-${e}`),...Jg.map(e=>`grid-xl-${e}`)]),RQ=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function _m(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function DQ({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce((r,c)=>{let u={};if(t[c]&&(n=t[c]),!n)return r;if(n===!0)u={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")u={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const h=ux({values:t.columns,breakpoints:e.breakpoints.values}),o=typeof h=="object"?h[c]:h;if(o==null)return r;const v=`${Math.round(n/o*1e8)/1e6}%`;let E={};if(t.container&&t.item&&t.columnSpacing!==0){const S=e.spacing(t.columnSpacing);if(S!=="0px"){const k=`calc(${v} + ${_m(S)})`;E={flexBasis:k,maxWidth:k}}}u=In({flexBasis:v,flexGrow:0,maxWidth:v},E)}return e.breakpoints.values[c]===0?Object.assign(r,u):r[e.breakpoints.up(c)]=u,r},{})}function LQ({theme:e,ownerState:t}){const n=ux({values:t.direction,breakpoints:e.breakpoints.values});return hc({theme:e},n,r=>{const c={flexDirection:r};return r.indexOf("column")===0&&(c[`& > .${Zy.item}`]={maxWidth:"none"}),c})}function T9({breakpoints:e,values:t}){let n="";Object.keys(t).forEach(c=>{n===""&&t[c]!==0&&(n=c)});const r=Object.keys(e).sort((c,u)=>e[c]-e[u]);return r.slice(0,r.indexOf(n))}function FQ({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let c={};if(n&&r!==0){const u=ux({values:r,breakpoints:e.breakpoints.values});let h;typeof u=="object"&&(h=T9({breakpoints:e.breakpoints.values,values:u})),c=hc({theme:e},u,(o,v)=>{var E;const S=e.spacing(o);return S!=="0px"?{marginTop:`-${_m(S)}`,[`& > .${Zy.item}`]:{paddingTop:_m(S)}}:(E=h)!=null&&E.includes(v)?{}:{marginTop:0,[`& > .${Zy.item}`]:{paddingTop:0}}})}return c}function NQ({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let c={};if(n&&r!==0){const u=ux({values:r,breakpoints:e.breakpoints.values});let h;typeof u=="object"&&(h=T9({breakpoints:e.breakpoints.values,values:u})),c=hc({theme:e},u,(o,v)=>{var E;const S=e.spacing(o);return S!=="0px"?{width:`calc(100% + ${_m(S)})`,marginLeft:`-${_m(S)}`,[`& > .${Zy.item}`]:{paddingLeft:_m(S)}}:(E=h)!=null&&E.includes(v)?{}:{width:"100%",marginLeft:0,[`& > .${Zy.item}`]:{paddingLeft:0}}})}return c}function BQ(e,t,n={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach(c=>{const u=e[c];Number(u)>0&&r.push(n[`spacing-${c}-${String(u)}`])}),r}const zQ=Pa("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:c,item:u,spacing:h,wrap:o,zeroMinWidth:v,breakpoints:E}=n;let S=[];r&&(S=BQ(h,E,t));const k=[];return E.forEach(O=>{const N=n[O];N&&k.push(t[`grid-${O}-${String(N)}`])}),[t.root,r&&t.container,u&&t.item,v&&t.zeroMinWidth,...S,c!=="row"&&t[`direction-xs-${String(c)}`],o!=="wrap"&&t[`wrap-xs-${String(o)}`],...k]}})(({ownerState:e})=>In({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),LQ,FQ,NQ,DQ);function $Q(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const n=[];return t.forEach(r=>{const c=e[r];if(Number(c)>0){const u=`spacing-${r}-${String(c)}`;n.push(u)}}),n}const jQ=e=>{const{classes:t,container:n,direction:r,item:c,spacing:u,wrap:h,zeroMinWidth:o,breakpoints:v}=e;let E=[];n&&(E=$Q(u,v));const S=[];v.forEach(O=>{const N=e[O];N&&S.push(`grid-${O}-${String(N)}`)});const k={root:["root",n&&"container",c&&"item",o&&"zeroMinWidth",...E,r!=="row"&&`direction-xs-${String(r)}`,h!=="wrap"&&`wrap-xs-${String(h)}`,...S]};return $l(k,IQ,t)},UQ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiGrid"}),{breakpoints:c}=cJ(),u=JA(r),{className:h,columns:o,columnSpacing:v,component:E="div",container:S=!1,direction:k="row",item:O=!1,rowSpacing:N,spacing:G=0,wrap:U="wrap",zeroMinWidth:H=!1}=u,q=$i(u,RQ),W=N||G,Y=v||G,ie=A.useContext(RO),he=S?o||12:ie,Se={},Pe=In({},q);c.keys.forEach(qe=>{q[qe]!=null&&(Se[qe]=q[qe],delete Pe[qe])});const We=In({},u,{columns:he,container:S,direction:k,item:O,rowSpacing:W,columnSpacing:Y,wrap:U,zeroMinWidth:H,spacing:G},Se,{breakpoints:c.keys}),Le=jQ(We);return B.jsx(RO.Provider,{value:he,children:B.jsx(zQ,In({ownerState:We,className:Zi(Le.root,h),as:E,ref:n},Pe))})}),Dm=UQ;function VQ(e){return nl("MuiLink",e)}const GQ=Os("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),HQ=GQ,A9={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},WQ=e=>A9[e]||e,ZQ=({theme:e,ownerState:t})=>{const n=WQ(t.color),r=Rm(e,`palette.${n}`,!1)||t.color,c=Rm(e,`palette.${n}Channel`);return"vars"in e&&c?`rgba(${c} / 0.4)`:au(r,.4)},qQ=ZQ,KQ=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],XQ=e=>{const{classes:t,component:n,focusVisible:r,underline:c}=e,u={root:["root",`underline${fa(c)}`,n==="button"&&"button",r&&"focusVisible"]};return $l(u,VQ,t)},YQ=Pa(Na,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${fa(n.underline)}`],n.component==="button"&&t.button]}})(({theme:e,ownerState:t})=>In({},t.underline==="none"&&{textDecoration:"none"},t.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},t.underline==="always"&&In({textDecoration:"underline"},t.color!=="inherit"&&{textDecorationColor:qQ({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),t.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${HQ.focusVisible}`]:{outline:"auto"}})),JQ=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiLink"}),{className:c,color:u="primary",component:h="a",onBlur:o,onFocus:v,TypographyClasses:E,underline:S="always",variant:k="inherit",sx:O}=r,N=$i(r,KQ),{isFocusVisibleRef:G,onBlur:U,onFocus:H,ref:q}=t9(),[W,Y]=A.useState(!1),ie=e1(n,q),he=Le=>{U(Le),G.current===!1&&Y(!1),o&&o(Le)},Se=Le=>{H(Le),G.current===!0&&Y(!0),v&&v(Le)},Pe=In({},r,{color:u,component:h,focusVisible:W,underline:S,variant:k}),We=XQ(Pe);return B.jsx(YQ,In({color:u,className:Zi(We.root,c),classes:E,component:h,onBlur:he,onFocus:Se,ref:ie,ownerState:Pe,variant:k,sx:[...Object.keys(A9).includes(u)?[]:[{color:u}],...Array.isArray(O)?O:[O]]},N))}),P9=JQ,QQ=A.createContext({}),xm=QQ;function eee(e){return nl("MuiList",e)}Os("MuiList",["root","padding","dense","subheader"]);const tee=["children","className","component","dense","disablePadding","subheader"],nee=e=>{const{classes:t,disablePadding:n,dense:r,subheader:c}=e;return $l({root:["root",!n&&"padding",r&&"dense",c&&"subheader"]},eee,t)},ree=Pa("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>In({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),iee=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiList"}),{children:c,className:u,component:h="ul",dense:o=!1,disablePadding:v=!1,subheader:E}=r,S=$i(r,tee),k=A.useMemo(()=>({dense:o}),[o]),O=In({},r,{component:h,dense:o,disablePadding:v}),N=nee(O);return B.jsx(xm.Provider,{value:k,children:B.jsxs(ree,In({as:h,className:Zi(N.root,u),ref:n,ownerState:O},S,{children:[E,c]}))})}),sp=iee;function oee(e){return nl("MuiListItem",e)}const aee=Os("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Kp=aee,see=Os("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),lee=see;function cee(e){return nl("MuiListItemSecondaryAction",e)}Os("MuiListItemSecondaryAction",["root","disableGutters"]);const uee=["className"],dee=e=>{const{disableGutters:t,classes:n}=e;return $l({root:["root",t&&"disableGutters"]},cee,n)},fee=Pa("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>In({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),I9=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiListItemSecondaryAction"}),{className:c}=r,u=$i(r,uee),h=A.useContext(xm),o=In({},r,{disableGutters:h.disableGutters}),v=dee(o);return B.jsx(fee,In({className:Zi(v.root,c),ownerState:o,ref:n},u))});I9.muiName="ListItemSecondaryAction";const hee=I9,pee=["className"],mee=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],gee=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]},yee=e=>{const{alignItems:t,button:n,classes:r,dense:c,disabled:u,disableGutters:h,disablePadding:o,divider:v,hasSecondaryAction:E,selected:S}=e;return $l({root:["root",c&&"dense",!h&&"gutters",!o&&"padding",v&&"divider",u&&"disabled",n&&"button",t==="flex-start"&&"alignItemsFlexStart",E&&"secondaryAction",S&&"selected"],container:["container"]},oee,r)},vee=Pa("div",{name:"MuiListItem",slot:"Root",overridesResolver:gee})(({theme:e,ownerState:t})=>In({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&In({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${lee.root}`]:{paddingRight:48}},{[`&.${Kp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Kp.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:au(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Kp.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:au(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Kp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Kp.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:au(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:au(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),_ee=Pa("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),xee=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiListItem"}),{alignItems:c="center",autoFocus:u=!1,button:h=!1,children:o,className:v,component:E,components:S={},componentsProps:k={},ContainerComponent:O="li",ContainerProps:{className:N}={},dense:G=!1,disabled:U=!1,disableGutters:H=!1,disablePadding:q=!1,divider:W=!1,focusVisibleClassName:Y,secondaryAction:ie,selected:he=!1,slotProps:Se={},slots:Pe={}}=r,We=$i(r.ContainerProps,pee),Le=$i(r,mee),qe=A.useContext(xm),Kt=A.useMemo(()=>({dense:G||qe.dense||!1,alignItems:c,disableGutters:H}),[c,qe.dense,G,H]),Ut=A.useRef(null);e9(()=>{u&&Ut.current&&Ut.current.focus()},[u]);const Qt=A.Children.toArray(o),Tn=Qt.length&&uK(Qt[Qt.length-1],["ListItemSecondaryAction"]),An=In({},r,{alignItems:c,autoFocus:u,button:h,dense:Kt.dense,disabled:U,disableGutters:H,disablePadding:q,divider:W,hasSecondaryAction:Tn,selected:he}),Vt=yee(An),_t=e1(Ut,n),Ve=Pe.root||S.Root||vee,Rt=Se.root||k.root||{},Ge=In({className:Zi(Vt.root,Rt.className,v),disabled:U},Le);let sn=E||"li";return h&&(Ge.component=E||"div",Ge.focusVisibleClassName=Zi(Kp.focusVisible,Y),sn=C9),Tn?(sn=!Ge.component&&!E?"div":sn,O==="li"&&(sn==="li"?sn="div":Ge.component==="li"&&(Ge.component="div")),B.jsx(xm.Provider,{value:Kt,children:B.jsxs(_ee,In({as:O,className:Zi(Vt.container,N),ref:_t,ownerState:An},We,{children:[B.jsx(Ve,In({},Rt,!OO(Ve)&&{as:sn,ownerState:In({},An,Rt.ownerState)},Ge,{children:Qt})),Qt.pop()]}))})):B.jsx(xm.Provider,{value:Kt,children:B.jsxs(Ve,In({},Rt,{as:sn,ref:_t},!OO(Ve)&&{ownerState:In({},An,Rt.ownerState)},Ge,{children:[Qt,ie&&B.jsx(hee,{children:ie})]}))})}),cs=xee;function bee(e){return nl("MuiListItemText",e)}const wee=Os("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),DO=wee,Eee=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Cee=e=>{const{classes:t,inset:n,primary:r,secondary:c,dense:u}=e;return $l({root:["root",n&&"inset",u&&"dense",r&&c&&"multiline"],primary:["primary"],secondary:["secondary"]},bee,t)},See=Pa("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${DO.primary}`]:t.primary},{[`& .${DO.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>In({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Tee=A.forwardRef(function(t,n){const r=rl({props:t,name:"MuiListItemText"}),{children:c,className:u,disableTypography:h=!1,inset:o=!1,primary:v,primaryTypographyProps:E,secondary:S,secondaryTypographyProps:k}=r,O=$i(r,Eee),{dense:N}=A.useContext(xm);let G=v??c,U=S;const H=In({},r,{disableTypography:h,inset:o,primary:!!G,secondary:!!U,dense:N}),q=Cee(H);return G!=null&&G.type!==Na&&!h&&(G=B.jsx(Na,In({variant:N?"body2":"body1",className:q.primary,component:E!=null&&E.variant?void 0:"span",display:"block"},E,{children:G}))),U!=null&&U.type!==Na&&!h&&(U=B.jsx(Na,In({variant:"body2",className:q.secondary,color:"text.secondary",display:"block"},k,{children:U}))),B.jsxs(See,In({className:Zi(q.root,u),ownerState:H,ref:n},O,{children:[G,U]}))}),Ba=Tee,k9=({children:e,title:t})=>B.jsx(Dm,{className:"animate__animated animate__fadeIn",container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:B.jsx(Dm,{item:!0,className:"justify-content-center",xl:10,lg:10,md:9,sx:{padding:3,borderRadius:2,width:{sm:550,md:800,lg:1e3}},children:B.jsx("div",{className:"card o-hidden border-0 shadow-lg my-5",children:B.jsx("div",{className:"card-body p-0",children:B.jsxs("div",{className:"row",children:[B.jsx("div",{className:"col-lg-6 d-none d-lg-block bg-login-image",children:" "}),B.jsx("div",{className:"col-lg-6",children:B.jsxs("div",{className:"p-5",children:[B.jsx("div",{className:"text-center",children:B.jsx("h1",{className:"h4 text-gray-900 mb-4",children:t})}),e]})})]})})})})}),iP=({children:e})=>B.jsx("nav",{className:"navbar bg-dark sticky-bottom navbar-expand-lg",children:B.jsx("div",{className:"container-fluid",children:e})}),id=({children:e})=>B.jsx("div",{className:"animate__animated animate__fadeIn back-dashboard p-4 m-3",children:e}),mc=({children:e,widt:t})=>B.jsx("div",{className:"animate__animated animate__fadeIn back-dashboard p-4 m-3",children:B.jsx(xx,{sx:{p:1,margin:"auto",maxWidth:t,flexFlow:1,background:"#f1f2f6"},children:B.jsx(bx,{children:e})})}),Aee=()=>B.jsx("div",{className:"container-lo",children:B.jsx("div",{className:"container-child",children:B.jsx("span",{className:"loader"})})}),Pee=({children:e})=>B.jsx(Dm,{className:"animate__animated animate__fadeIn",container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:B.jsx(Dm,{item:!0,className:"justify-content-center",xl:10,lg:10,md:9,sx:{borderRadius:2,width:{sm:550,md:900,lg:1300}},children:B.jsx("div",{className:"card o-hidden border-0 shadow-lg my-5",children:B.jsx("div",{className:"card-body p-0",children:B.jsx("div",{className:"row",children:e})})})})}),Iee=()=>{const e=Aa(),{email:t,password:n,formStata:r,onInputChange:c}=ip({email:"",password:""}),{valEmail:u,valPass:h,state:o}=Xq(r),{startLogin:v,authState:E,loadindAuth:S}=pu(),k=N=>{N.preventDefault(),o&&v({email:t,password:n})},O=()=>{e("/signup")};return B.jsxs(k9,{title:"Bienvenido de nuevo!",children:[B.jsxs(Er,{className:"user",onSubmit:k,children:[B.jsx(Er.Group,{children:B.jsx(Er.Control,{type:"tex",value:t,autoComplete:"off",onChange:c,className:`${u}`,name:"email",placeholder:"Email"})}),B.jsx("br",{}),B.jsx(Er.Group,{children:B.jsx(Er.Control,{type:"password",value:n,autoComplete:"off",onChange:c,className:`${h}`,name:"password",placeholder:"Contrasea"})}),B.jsx("br",{}),S?B.jsx("div",{className:"text-center",children:B.jsx("span",{className:"loader"})}):B.jsx("div",{className:"text-center",children:B.jsx(el,{disabled:!o,type:"onSumit",variant:"primary",size:"sm",children:"Ingresar"})})]}),B.jsx("hr",{}),E==="citizen"&&B.jsx("div",{className:"text-center",children:B.jsx("a",{type:"button",onClick:O,className:"small",children:"Crea una cuenta!"})})]})},kee=()=>{const e=Aa();A.useState(!0);const{nombres:t,apellidos:n,celular:r,correo:c,contrasenia:u,dni:h,formStata:o,onInputChange:v}=ip({nombres:"",apellidos:"",celular:"",correo:"",contrasenia:"",dni:""}),{valNomb:E,valApell:S,valCorre:k,valCelul:O,valContr:N,valDNI:G,state:U}=Y6(o),{startSignup:H,loadindAuth:q}=pu(),W=()=>{e("/login")},Y=async ie=>{ie.preventDefault(),U&&await H(o)&&e("/login")};return B.jsx(k9,{title:"Crea una cuenta!",children:B.jsxs(Er,{onSubmit:Y,className:"user",children:[B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${E}`,type:"text",value:t,name:"nombres",onChange:v,placeholder:"Nombres"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${S}`,value:n,name:"apellidos",onChange:v,placeholder:"Apellidos"})})]}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${G}`,value:h,name:"dni",onChange:v,placeholder:"dni"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"tex",className:`${k}`,value:c,name:"correo",onChange:v,placeholder:"Email"})})]}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${O}`,value:r,name:"celular",onChange:v,placeholder:"Celular"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"password",className:`${N}`,value:u,name:"contrasenia",onChange:v,placeholder:"Contrasea"})})]}),B.jsx("br",{}),q?B.jsx("div",{className:"text-center",children:B.jsx("span",{className:"loader"})}):B.jsx("div",{className:"text-center",children:B.jsx(el,{disabled:!U,type:"onSumit",variant:"primary",size:"sm",children:"Registrar Cuenta"})}),B.jsx("hr",{}),B.jsx("div",{className:"text-center",children:B.jsx("a",{type:"button",onClick:W,className:"small",children:"Ya tienes una cuenta? Login!"})})]})})},Mee=()=>{const{startSate:e}=kA();return B.jsx(Dm,{className:"animate__animated animate__fadeIn",container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",sx:{minHeight:"100vh",padding:4,backgroundColor:"#9d75e6"},children:B.jsx(Dm,{item:!0,className:"justify-content-center",xl:10,lg:10,md:9,sx:{padding:3,borderRadius:2,width:{sm:550,md:800,lg:1e3}},children:B.jsx("div",{className:"card o-hidden border-0 shadow-lg my-5",children:B.jsx("div",{className:"card-body p-0",children:B.jsxs("div",{className:"row",children:[B.jsxs("div",{className:"col-lg-6",children:[B.jsx("h1",{}),B.jsx("h3",{className:"text-center mt-5",children:"Ingrese al Sistema"}),B.jsx("br",{}),B.jsxs("div",{className:"text-center",children:[B.jsx(el,{onClick:()=>e("hero"),variant:"warning",children:"Administrativo"}),B.jsx("br",{}),B.jsx("br",{}),B.jsx(el,{variant:"success",onClick:()=>e("citizen"),children:"Ciudadano"}),B.jsx("br",{}),B.jsx("br",{}),B.jsx(el,{variant:"danger",onClick:()=>e("serene"),children:"Serenazgo"}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("br",{})]})]}),B.jsx("div",{className:"col-lg-6",style:{background:"url(https://media.istockphoto.com/id/880300414/es/foto/sistema-de-vigilancia-o-c%C3%A1mara-de-seguridad-cctv-con-militares-en-el-fondo-borroso.webp?b=1&s=612x612&w=0&k=20&c=Dn7CVCnD21rfPQ1oyoXb2jgDmUxt46MxIab4Pyz6r_A=)"}})]})})})})})},Oee=()=>{const{user:e}=pu();return B.jsx(cv,{children:e.rol==="admin"?B.jsxs(B.Fragment,{children:[B.jsx(qr,{path:"/*",element:B.jsx(Poe,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"/"})})]}):B.jsx(B.Fragment,{children:e.rol==="ciuda"?B.jsxs(B.Fragment,{children:[B.jsx(qr,{path:"/*",element:B.jsx(iae,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"/"})})]}):B.jsxs(B.Fragment,{children:[B.jsx(qr,{path:"/*",element:B.jsx(Goe,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"/"})})]})})})},Ree=()=>{const e=Aa(),t=n=>{e(`/${n}`)};return B.jsx(id,{children:B.jsxs("div",{className:"row",children:[B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",onClick:()=>t("users"),children:B.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:B.jsx("div",{className:"card-body",children:B.jsx("div",{className:"row no-gutters align-items-center",children:B.jsx("div",{className:"col mr-2",children:B.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Usuarios"})})})})})}),B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",onClick:()=>t("serene"),children:B.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:B.jsx("div",{className:"card-body",children:B.jsx("div",{className:"row no-gutters align-items-center",children:B.jsx("div",{className:"col mr-2",children:B.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Serenos"})})})})})}),B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",onClick:()=>t("emergency"),children:B.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:B.jsx("div",{className:"card-body",children:B.jsx("div",{className:"row no-gutters align-items-center",children:B.jsx("div",{className:"col mr-2",children:B.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"nmeros de emergencia"})})})})})}),B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",onClick:()=>t("place"),children:B.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:B.jsx("div",{className:"card-body",children:B.jsx("div",{className:"row no-gutters align-items-center",children:B.jsx("div",{className:"col mr-2",children:B.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Lugares de Riesgo"})})})})})}),B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",onClick:()=>t("info"),children:B.jsx("div",{className:"card border-left-primary shadow h-100 py-2",children:B.jsx("div",{className:"card-body",children:B.jsx("div",{className:"row no-gutters align-items-center",children:B.jsx("div",{className:"col mr-2",children:B.jsx("div",{className:"text-xs font-weight-bold text-primary text-uppercase mb-1",children:"Publicaciones"})})})})})})]})})},Dee=()=>{const{user:e}=pu(),t=()=>{document.querySelector("#navbarSupportedContent").classList.remove("show")};return B.jsx(iP,{children:B.jsxs(B.Fragment,{children:[B.jsx(as,{to:"/",className:"navbar-brand",children:"Vigilantes Online"}),B.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:B.jsx("span",{className:"navbar-toggler-icon"})}),B.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[B.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/",className:"nav-link",children:"Home"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/users",className:"nav-link",children:"Usuarios"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/serene",className:"nav-link",children:"Serenos"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/info",className:"nav-link",children:"Publicaciones"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/place",className:"nav-link",children:"Zonas"})})]}),B.jsx("li",{className:"nav-item dropdown no-arrow",onClick:t,children:B.jsx(as,{to:"/perfil",className:"navbar-brand",style:{fontSize:"13px"},children:e.name})})]})]})})};function Lee(e){if(Array.isArray(e))return e}function Fee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function ES(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M9(e,t){if(e){if(typeof e=="string")return ES(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(e,t)}}function Nee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(e,t){return Lee(e)||Fee(e,t)||M9(e,t)||Nee()}function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Or(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){for(var r=[],c=0;c<t.length;c++){var u=t[c];if(u){var h=ls(u);if(h==="string"||h==="number")r.push(u);else if(h==="object"){var o=Array.isArray(u)?u:Object.entries(u).map(function(v){var E=Bee(v,2),S=E[0],k=E[1];return k?S:null});r=o.length?r.concat(o.filter(function(v){return!!v})):r}}}return r.join(" ").trim()}}function oP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zee(e,t){if(ls(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ls(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O9(e){var t=zee(e,"string");return ls(t)==="symbol"?t:String(t)}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O9(r.key),r)}}function aP(e,t,n){return t&&LO(e.prototype,t),n&&LO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wx(e,t,n){return t=O9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yw(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$ee(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(E){throw E},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,o;return{s:function(){n=n.call(e)},n:function(){var E=n.next();return u=E.done,E},e:function(E){h=!0,o=E},f:function(){try{!u&&n.return!=null&&n.return()}finally{if(h)throw o}}}}function $ee(e,t){if(e){if(typeof e=="string")return FO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FO(e,t)}}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt=function(){function e(){oP(this,e)}return aP(e,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,c=getComputedStyle(n);return r+=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,c=getComputedStyle(n);return r-=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var c=n.getBoundingClientRect().width||n.offsetWidth;if(r){var u=getComputedStyle(n);c+=parseFloat(u.marginLeft)+parseFloat(u.marginRight)}return c}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var c=n.getBoundingClientRect().height||n.offsetHeight;if(r){var u=getComputedStyle(n);c+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return c}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var c=n.clientHeight;if(r){var u=getComputedStyle(n);c+=parseFloat(u.marginTop)+parseFloat(u.marginBottom)}return c}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var c=n.clientWidth;if(r){var u=getComputedStyle(n);c+=parseFloat(u.marginLeft)+parseFloat(u.marginRight)}return c}return 0}},{key:"getViewport",value:function(){var n=window,r=document,c=r.documentElement,u=r.getElementsByTagName("body")[0],h=n.innerWidth||c.clientWidth||u.clientWidth,o=n.innerHeight||c.clientHeight||u.clientHeight;return{width:h,height:o}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,c=0,u=0;u<r.length;u++){if(r[u]===n)return c;r[u].nodeType===1&&c++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var c=r.split(" "),u=0;u<c.length;u++)n.classList.add(c[u]);else for(var h=r.split(" "),o=0;o<h.length;o++)n.className+=" "+h[o]}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var c=r.split(" "),u=0;u<c.length;u++)n.classList.remove(c[u]);else for(var h=r.split(" "),o=0;o<h.length;o++)n.className=n.className.replace(new RegExp("(^|\\b)"+h[o].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className+=" "+r)}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){return n?n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className):!1}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,c=getComputedStyle(n);return r-=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)+parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,c=getComputedStyle(n);return r-=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)+parseFloat(c.borderLeftWidth)+parseFloat(c.borderRightWidth),r}return 0}},{key:"alignOverlay",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(c==="self"?this.relativePosition(n,r):(u&&(n.style.minWidth=e.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(n&&r){var u=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),h=u.height,o=u.width,v=r.offsetHeight,E=r.offsetWidth,S=r.getBoundingClientRect(),k=this.getWindowScrollTop(),O=this.getWindowScrollLeft(),N=this.getViewport(),G,U;S.top+v+h>N.height?(G=S.top+k-h,G<0&&(G=k),n.style.transformOrigin="bottom"):(G=v+S.top+k,n.style.transformOrigin="top");var H=S.left,q=c==="left"?0:o-E;H+E+o>N.width?U=Math.max(0,H+O+E-o):U=H-q+O,n.style.top=G+"px",n.style.left=U+"px"}}},{key:"relativePosition",value:function(n,r){if(n&&r){var c=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),u=r.offsetHeight,h=r.getBoundingClientRect(),o=this.getViewport(),v,E;h.top+u+c.height>o.height?(v=-1*c.height,h.top+v<0&&(v=-1*h.top),n.style.transformOrigin="bottom"):(v=u,n.style.transformOrigin="top"),c.width>o.width?E=h.left*-1:h.left+c.width>o.width?E=(h.left+c.width-o.width)*-1:E=0,n.style.top=v+"px",n.style.left=E+"px"}}},{key:"flipfitCollision",value:function(n,r){var c=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",o=arguments.length>4?arguments[4]:void 0;if(n&&r){var v=r.getBoundingClientRect(),E=this.getViewport(),S=u.split(" "),k=h.split(" "),O=function(q,W){return W?+q.substring(q.search(/(\+|-)/g))||0:q.substring(0,q.search(/(\+|-)/g))||q},N={my:{x:O(S[0]),y:O(S[1]||S[0]),offsetX:O(S[0],!0),offsetY:O(S[1]||S[0],!0)},at:{x:O(k[0]),y:O(k[1]||k[0]),offsetX:O(k[0],!0),offsetY:O(k[1]||k[0],!0)}},G={left:function(){var q=N.my.offsetX+N.at.offsetX;return q+v.left+(N.my.x==="left"?0:-1*(N.my.x==="center"?c.getOuterWidth(n)/2:c.getOuterWidth(n)))},top:function(){var q=N.my.offsetY+N.at.offsetY;return q+v.top+(N.my.y==="top"?0:-1*(N.my.y==="center"?c.getOuterHeight(n)/2:c.getOuterHeight(n)))}},U={count:{x:0,y:0},left:function(){var q=G.left(),W=e.getWindowScrollLeft();n.style.left=q+W+"px",this.count.x===2?(n.style.left=W+"px",this.count.x=0):q<0&&(this.count.x++,N.my.x="left",N.at.x="right",N.my.offsetX*=-1,N.at.offsetX*=-1,this.right())},right:function(){var q=G.left()+e.getOuterWidth(r),W=e.getWindowScrollLeft();n.style.left=q+W+"px",this.count.x===2?(n.style.left=E.width-e.getOuterWidth(n)+W+"px",this.count.x=0):q+e.getOuterWidth(n)>E.width&&(this.count.x++,N.my.x="right",N.at.x="left",N.my.offsetX*=-1,N.at.offsetX*=-1,this.left())},top:function(){var q=G.top(),W=e.getWindowScrollTop();n.style.top=q+W+"px",this.count.y===2?(n.style.left=W+"px",this.count.y=0):q<0&&(this.count.y++,N.my.y="top",N.at.y="bottom",N.my.offsetY*=-1,N.at.offsetY*=-1,this.bottom())},bottom:function(){var q=G.top()+e.getOuterHeight(r),W=e.getWindowScrollTop();n.style.top=q+W+"px",this.count.y===2?(n.style.left=E.height-e.getOuterHeight(n)+W+"px",this.count.y=0):q+e.getOuterHeight(r)>E.height&&(this.count.y++,N.my.y="bottom",N.at.y="top",N.my.offsetY*=-1,N.at.offsetY*=-1,this.top())},center:function(q){if(q==="y"){var W=G.top()+e.getOuterHeight(r)/2;n.style.top=W+e.getWindowScrollTop()+"px",W<0?this.bottom():W+e.getOuterHeight(r)>E.height&&this.top()}else{var Y=G.left()+e.getOuterWidth(r)/2;n.style.left=Y+e.getWindowScrollLeft()+"px",Y<0?this.left():Y+e.getOuterWidth(n)>E.width&&this.right()}}};U[N.at.x]("x"),U[N.at.y]("y"),this.isFunction(o)&&o(N)}}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",c=n==="left"?"right":"left",u=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(u),at:"center ".concat(n)}:{axis:"x",my:"".concat(c," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=[];if(n){var u=this.getParents(n),h=/(auto|scroll)/,o=function(Y){var ie=Y?getComputedStyle(Y):null;return ie&&(h.test(ie.getPropertyValue("overflow"))||h.test(ie.getPropertyValue("overflowX"))||h.test(ie.getPropertyValue("overflowY")))},v=function(Y){r?c.push(Y.nodeName==="BODY"||Y.nodeName==="HTML"||Y.nodeType===9?window:Y):c.push(Y)},E=Yw(u),S;try{for(E.s();!(S=E.n()).done;){var k=S.value,O=k.nodeType===1&&k.dataset.scrollselectors;if(O){var N=O.split(","),G=Yw(N),U;try{for(G.s();!(U=G.n()).done;){var H=U.value,q=this.findSingle(k,H);q&&o(q)&&v(q)}}catch(W){G.e(W)}finally{G.f()}}k.nodeType===1&&o(k)&&v(k)}}catch(W){E.e(W)}finally{E.f()}}return c.length===0&&c.push(window),c}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var c=+new Date,u=0,h=function o(){u=+n.style.opacity+(new Date().getTime()-c)/r,n.style.opacity=u,c=+new Date,+u<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};h()}}},{key:"fadeOut",value:function(n,r){if(n)var c=1,u=50,h=u/r,o=setInterval(function(){c-=h,c<=0&&(c=0,clearInterval(o)),n.style.opacity=c},u)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement>"u"?"undefined":ls(HTMLElement))==="object"?n instanceof HTMLElement:n&&ls(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var c=getComputedStyle(n).getPropertyValue("borderTopWidth"),u=c?parseFloat(c):0,h=getComputedStyle(n).getPropertyValue("paddingTop"),o=h?parseFloat(h):0,v=n.getBoundingClientRect(),E=r.getBoundingClientRect(),S=E.top+document.body.scrollTop-(v.top+document.body.scrollTop)-u-o,k=n.scrollTop,O=n.clientHeight,N=this.getOuterHeight(r);S<0?n.scrollTop=k+S:S+N>O&&(n.scrollTop=k+S-O+N)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var c=document.createElement("div");c.className="p-scrollbar-measure",document.body.appendChild(c);var u=c.offsetWidth-c.clientWidth;return document.body.removeChild(c),this.calculatedScrollbarWidth=u,u}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"isVisible",value:function(n){return n&&(n.clientHeight!==0||n.getClientRects().length!==0||getComputedStyle(n).display!=="none")}},{key:"isExist",value:function(n){return!!(n!==null&&typeof n<"u"&&n.nodeName&&n.parentNode)}},{key:"hasDOM",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=e.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),u=[],h=Yw(c),o;try{for(h.s();!(o=h.n()).done;){var v=o.value;getComputedStyle(v).display!=="none"&&getComputedStyle(v).visibility!=="hidden"&&u.push(v)}}catch(E){h.e(E)}finally{h.f()}return u}},{key:"getFirstFocusableElement",value:function(n,r){var c=e.getFocusableElements(n,r);return c.length>0?c[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var c=e.getFocusableElements(n,r);return c.length>0?c[c.length-1]:null}},{key:"focus",value:function(n,r){var c=r===void 0?!0:!r;n&&document.activeElement!==n&&n.focus({preventScroll:c})}},{key:"focusFirstElement",value:function(n,r){if(n){var c=e.getFirstFocusableElement(n);return c&&e.focus(c,r),c}}},{key:"getCursorOffset",value:function(n,r,c,u){if(n){var h=getComputedStyle(n),o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.visibility="hidden",o.style.pointerEvents="none",o.style.overflow=h.overflow,o.style.width=h.width,o.style.height=h.height,o.style.padding=h.padding,o.style.border=h.border,o.style.overflowWrap=h.overflowWrap,o.style.whiteSpace=h.whiteSpace,o.style.lineHeight=h.lineHeight,o.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var v=document.createElement("span");v.textContent=u,o.appendChild(v);var E=document.createTextNode(c);o.appendChild(E),document.body.appendChild(o);var S=v.offsetLeft,k=v.offsetTop,O=v.clientHeight;return document.body.removeChild(o),{left:Math.abs(S-n.scrollLeft),top:Math.abs(k-n.scrollTop)+O}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,c){n[r].apply(n,c)}},{key:"isClickable",value:function(n){var r=n.nodeName,c=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||c==="INPUT"||c==="TEXTAREA"||c==="BUTTON"||c==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=this.style;else for(var c in this.style)n.style[c]=r[c]}},{key:"exportCSV",value:function(n,r){var c=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(c,r+".csv");else{var u=e.saveAs({name:r+".csv",src:URL.createObjectURL(c)});u||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var c=n.name,u=n.src;return r.setAttribute("href",u),r.setAttribute("download",c),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n){var r=document.createElement("style");try{n||(n={}.REACT_APP_CSS_NONCE)}catch{}return n&&r.setAttribute("nonce",n),document.head.appendChild(r),r}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{document.head.removeChild(n)}catch{}n=null}return n}},{key:"getTargetElement",value:function(n){if(!n)return null;if(n==="document")return document;if(n==="window")return window;if(ls(n)==="object"&&n.hasOwnProperty("current"))return this.isExist(n.current)?n.current:null;var r=function(h){return!!(h&&h.constructor&&h.call&&h.apply)},c=r(n)?n():n;return c&&c.nodeType===9||this.isExist(c)?c:null}},{key:"getAttributeNames",value:function(n){var r,c,u;for(c=[],u=n.attributes,r=0;r<u.length;++r)c.push(u[r].nodeName);return c.sort(),c}},{key:"isEqualElement",value:function(n,r){var c,u,h,o,v;if(c=e.getAttributeNames(n),u=e.getAttributeNames(r),c.join(",")!==u.join(","))return!1;for(var E=0;E<c.length;++E)if(h=c[E],h==="style")for(var S=n.style,k=r.style,O=/^\d+$/,N=0,G=Object.keys(S);N<G.length;N++){var U=G[N];if(!O.test(U)&&S[U]!==k[U])return!1}else if(n.getAttribute(h)!==r.getAttribute(h))return!1;for(o=n.firstChild,v=r.firstChild;o&&v;o=o.nextSibling,v=v.nextSibling){if(o.nodeType!==v.nodeType)return!1;if(o.nodeType===1){if(!e.isEqualElement(o,v))return!1}else if(o.nodeValue!==v.nodeValue)return!1}return!(o||v)}}]),e}();wx(wt,"DATA_PROPS",["data-"]);wx(wt,"ARIA_PROPS",["aria","focus-target"]);function jee(){var e=new Map;return{on:function(n,r){var c=e.get(n);c?c.push(r):c=[r],e.set(n,c)},off:function(n,r){var c=e.get(n);c&&c.splice(c.indexOf(r)>>>0,1)},emit:function(n,r){var c=e.get(n);c&&c.slice().forEach(function(u){return u(r)})}}}function CS(){return CS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CS.apply(this,arguments)}var ht=function(){function e(){oP(this,e)}return aP(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&ls(n)==="object"&&r&&ls(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&ls(n)=="object"&&ls(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?ls(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&ls(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}();function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Uee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(r){wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ki=function(){function e(){oP(this,e)}return aP(e,null,[{key:"getJSXIcon",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=null;if(n!==null){var h=ls(n),o=Or(r.className,h==="string"&&n);if(u=A.createElement("span",CS({},r,{className:o})),h!=="string"){var v=Uee({iconProps:r,element:u},c);return ht.getJSXElement(n,v)}}return u}}]),e}();function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function zO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(r){wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t){var r=function(u){return!!(u&&u.constructor&&u.call&&u.apply)};return t.reduce(function(c,u){var h=function(){if(o==="style")c.style=zO(zO({},c.style),u.style);else if(o==="className")c.className=[c.className,u.className].join(" ").trim();else if(r(u[o])){var E=c[o];c[o]=E?function(){E.apply(void 0,arguments),value.apply(void 0,arguments)}:u[o]}else c[o]=u[o]};for(var o in u)h();return c},{})}}var $O=0;function Vee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return $O++,"".concat(e).concat($O)}function Gee(e){if(Array.isArray(e))return ES(e)}function Hee(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(e){return Gee(e)||Hee(e)||M9(e)||Wee()}function qee(){var e=[],t=function(o,v){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,S=c(o,v,E),k=S.value+(S.key===o?0:E)+1;return e.push({key:o,value:k}),k},n=function(o){e=e.filter(function(v){return v.value!==o})},r=function(o,v){return c(o,v).value},c=function(o,v){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Zee(e).reverse().find(function(S){return v?!0:S.key===o})||{key:o,value:E}},u=function(o){return o&&parseInt(o.style.zIndex,10)||0};return{get:u,set:function(o,v,E,S){v&&(v.style.zIndex=String(t(o,E,S)))},clear:function(o){o&&(n(su.get(o)),o.style.zIndex="")},getCurrent:function(o,v){return r(o,v)}}}var su=qee(),li=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),_y=Object.freeze({AND:"and",OR:"or"});function jO(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kee(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(E){throw E},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,o;return{s:function(){n=n.call(e)},n:function(){var E=n.next();return u=E.done,E},e:function(E){h=!0,o=E},f:function(){try{!u&&n.return!=null&&n.return()}finally{if(h)throw o}}}}function Kee(e,t){if(e){if(typeof e=="string")return UO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(e,t)}}function UO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xy={filter:function(t,n,r,c,u){var h=[];if(!t)return h;var o=jO(t),v;try{for(o.s();!(v=o.n()).done;){var E=v.value;if(typeof E=="string"){if(this.filters[c](E,r,u)){h.push(E);continue}}else{var S=jO(n),k;try{for(S.s();!(k=S.n()).done;){var O=k.value,N=ht.resolveFieldData(E,O);if(this.filters[c](N,r,u)){h.push(E);break}}}catch(G){S.e(G)}finally{S.f()}}}}catch(G){o.e(G)}finally{o.f()}return h},filters:{startsWith:function(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;var c=ht.removeAccents(n.toString()).toLocaleLowerCase(r),u=ht.removeAccents(t.toString()).toLocaleLowerCase(r);return u.slice(0,c.length)===c},contains:function(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;var c=ht.removeAccents(n.toString()).toLocaleLowerCase(r),u=ht.removeAccents(t.toString()).toLocaleLowerCase(r);return u.indexOf(c)!==-1},notContains:function(t,n,r){if(n==null||typeof n=="string"&&n.trim()==="")return!0;if(t==null)return!1;var c=ht.removeAccents(n.toString()).toLocaleLowerCase(r),u=ht.removeAccents(t.toString()).toLocaleLowerCase(r);return u.indexOf(c)===-1},endsWith:function(t,n,r){if(n==null||n.trim()==="")return!0;if(t==null)return!1;var c=ht.removeAccents(n.toString()).toLocaleLowerCase(r),u=ht.removeAccents(t.toString()).toLocaleLowerCase(r);return u.indexOf(c,u.length-c.length)!==-1},equals:function(t,n,r){return n==null||typeof n=="string"&&n.trim()===""?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()===n.getTime():ht.removeAccents(t.toString()).toLocaleLowerCase(r)===ht.removeAccents(n.toString()).toLocaleLowerCase(r)},notEquals:function(t,n,r){return n==null||typeof n=="string"&&n.trim()===""||t==null?!0:t.getTime&&n.getTime?t.getTime()!==n.getTime():ht.removeAccents(t.toString()).toLocaleLowerCase(r)!==ht.removeAccents(n.toString()).toLocaleLowerCase(r)},in:function(t,n){if(n==null||n.length===0)return!0;for(var r=0;r<n.length;r++)if(ht.equals(t,n[r]))return!0;return!1},between:function(t,n){return n==null||n[0]==null||n[1]==null?!0:t==null?!1:t.getTime?n[0].getTime()<=t.getTime()&&t.getTime()<=n[1].getTime():n[0]<=t&&t<=n[1]},lt:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<n.getTime():t<n},lte:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()<=n.getTime():t<=n},gt:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>n.getTime():t>n},gte:function(t,n){return n==null?!0:t==null?!1:t.getTime&&n.getTime?t.getTime()>=n.getTime():t>=n},dateIs:function(t,n){return n==null?!0:t==null?!1:t.toDateString()===n.toDateString()},dateIsNot:function(t,n){return n==null?!0:t==null?!1:t.toDateString()!==n.toDateString()},dateBefore:function(t,n){return n==null?!0:t==null?!1:t.getTime()<n.getTime()},dateAfter:function(t,n){return n==null?!0:t==null?!1:t.getTime()>n.getTime()}},register:function(t,n){this.filters[t]=n}};function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function Xee(e,t){if(qy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e){var t=Xee(e,"string");return qy(t)==="symbol"?t:String(t)}function jl(e,t,n){return t=R9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R9(r.key),r)}}function Yee(e,t,n){return t&&VO(e.prototype,t),n&&VO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ua=Yee(function e(){Jee(this,e)});jl(Ua,"ripple",!1);jl(Ua,"inputStyle","outlined");jl(Ua,"locale","en");jl(Ua,"appendTo",null);jl(Ua,"cssTransition",!0);jl(Ua,"autoZIndex",!0);jl(Ua,"hideOverlaysOnDocumentScrolling",!1);jl(Ua,"nonce",null);jl(Ua,"nullSortOrder",1);jl(Ua,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});jl(Ua,"pt",void 0);jl(Ua,"filterMatchModeOptions",{text:[li.STARTS_WITH,li.CONTAINS,li.NOT_CONTAINS,li.ENDS_WITH,li.EQUALS,li.NOT_EQUALS],numeric:[li.EQUALS,li.NOT_EQUALS,li.LESS_THAN,li.LESS_THAN_OR_EQUAL_TO,li.GREATER_THAN,li.GREATER_THAN_OR_EQUAL_TO],date:[li.DATE_IS,li.DATE_IS_NOT,li.DATE_BEFORE,li.DATE_AFTER]});jl(Ua,"changeTheme",function(e,t,n,r){var c,u=document.getElementById(n),h=u.cloneNode(!0),o=u.getAttribute("href").replace(e,t);h.setAttribute("id",n+"-clone"),h.setAttribute("href",o),h.addEventListener("load",function(){u.remove(),h.setAttribute("id",n),r&&r()}),(c=u.parentNode)===null||c===void 0||c.insertBefore(h,u.nextSibling)});var Qee={en:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",filter:"Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",custom:"Custom",clear:"Clear",close:"Close",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",weekHeader:"Wk",firstDayOfWeek:0,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No available options",emptyMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"Page",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",previousPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",selectLabel:"Select",unselectLabel:"Unselect",expandLabel:"Expand",collapseLabel:"Collapse"}}};function qs(e,t){var n=t||Ua.locale;try{return D9(n)[e]}catch{throw new Error("The ".concat(e," option is not found in the current locale('").concat(n,"')."))}}function lu(e){var t=Ua.locale;try{return D9(t).aria[e]}catch{throw new Error("The ".concat(e," option is not found in the current locale('").concat(t,"')."))}}function D9(e){var t=e||Ua.locale;return Qee[t]}var $o=Eo.createContext(),Ai=Ua;function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function ete(e,t){if(Ky(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ky(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tte(e){var t=ete(e,"string");return Ky(t)==="symbol"?t:String(t)}function SS(e,t,n){return t=tte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){SS(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zo={defaultProps:{pt:void 0},context:void 0,extend:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=$c($c({},t.defaultProps),zo.defaultProps),r=function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return zo.context=S,ht.getMergedProps(E,n)},c=function(E){return ht.getDiffProps(E,n)},u=function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=String(ht.convertToFlatCase(S)).split("."),N=O.shift(),G=Object.keys(E).find(function(U){return ht.convertToFlatCase(U)===N})||"";return N?ht.isObject(E)?v(ht.getJSXElement(E[G],k),O.join("."),k):void 0:ht.getJSXElement(E,k)},h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O="data-pc-",N=k.props&&k.props.__TYPE&&ht.convertToFlatCase(k.props.__TYPE)||"",G=zo.context.pt||Ai.pt||{},U=function(he){return G&&u(G[N],he)},H=ht.getPropValue(E,S,k)[S],q=U(S),W=$c($c({},S==="root"&&SS({},"".concat(O,"name"),N)),{},SS({},"".concat(O,"section"),ht.convertToFlatCase(S))),Y=$c({},ht.getMergedProps(q,H));return Object.keys(W).length&&(Y=$c($c({},Y),W)),Y},o=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k((E.props||{}).pt,N,$c($c({},E),G))},k=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return h(N,G,U)};return{ptm:S,ptmo:k}};return $c($c({getProps:r,getOtherProps:c,setMetaData:o},t),{},{defaultProps:n})}};function nte(e){if(Array.isArray(e))return e}function rte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function HO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ite(e,t){if(e){if(typeof e=="string")return HO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(e,t)}}function ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j0(e,t){return nte(e)||rte(e,t)||ite(e,t)||ote()}var Xy=function(t){var n=A.useRef(void 0);return A.useEffect(function(){n.current=t}),n.current},mu=function(t){return A.useEffect(function(){return t},[])},Jh=function(t){var n=t.target,r=n===void 0?"document":n,c=t.type,u=t.listener,h=t.options,o=t.when,v=o===void 0?!0:o,E=A.useRef(null),S=A.useRef(null),k=Xy(u),O=Xy(h),N=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ht.isNotEmpty(H.target)&&(G(),(H.when||v)&&(E.current=wt.getTargetElement(H.target))),!S.current&&E.current&&(S.current=function(q){return u&&u(q)},E.current.addEventListener(c,S.current,h))},G=function(){S.current&&(E.current.removeEventListener(c,S.current,h),S.current=null)};return A.useEffect(function(){v?E.current=wt.getTargetElement(r):(G(),E.current=null)},[r,v]),A.useEffect(function(){S.current&&(""+k!=""+u||O!==h)&&(G(),v&&N())},[u,h,v]),mu(function(){G()}),[N,G]},Yf=function(t){var n=A.useRef(!1);return A.useEffect(function(){if(!n.current)return n.current=!0,t&&t()},[])},L9=function(t){var n=t.target,r=t.listener,c=t.options,u=t.when,h=u===void 0?!0:u,o=A.useRef(null),v=A.useRef(null),E=A.useRef([]),S=Xy(c),k=A.useContext($o),O=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ht.isNotEmpty(U.target)&&(N(),(U.when||h)&&(o.current=wt.getTargetElement(U.target))),!v.current&&o.current){var H=E.current=wt.getScrollableParents(o.current,k?k.hideOverlaysOnDocumentScrolling:Ai.hideOverlaysOnDocumentScrolling);v.current=function(q){return r&&r(q)},H.forEach(function(q){return q.addEventListener("scroll",v.current,c)})}},N=function(){if(v.current){var U=E.current;U.forEach(function(H){return H.removeEventListener("scroll",v.current,c)}),v.current=null}};return A.useEffect(function(){h?o.current=wt.getTargetElement(n):(N(),o.current=null)},[n,h]),A.useEffect(function(){v.current&&(v.current!==r||S!==c)&&(N(),h&&O())},[r,c]),mu(function(){N()}),[O,N]},sP=function(t){var n=t.listener,r=t.when,c=r===void 0?!0:r;return Jh({target:"window",type:"resize",listener:n,when:c})},F9=function(t){var n=t.target,r=t.overlay,c=t.listener,u=t.when,h=u===void 0?!0:u,o=A.useRef(null),v=A.useRef(null),E=Jh({type:"click",listener:function(Qt){c&&c(Qt,{type:"outside",valid:Qt.which!==3&&Le(Qt)})}}),S=j0(E,2),k=S[0],O=S[1],N=sP({listener:function(Qt){c&&c(Qt,{type:"resize",valid:!wt.isTouchDevice()})}}),G=j0(N,2),U=G[0],H=G[1],q=Jh({target:"window",type:"orientationchange",listener:function(Qt){c&&c(Qt,{type:"orientationchange",valid:!0})}}),W=j0(q,2),Y=W[0],ie=W[1],he=L9({target:n,listener:function(Qt){c&&c(Qt,{type:"scroll",valid:!0})}}),Se=j0(he,2),Pe=Se[0],We=Se[1],Le=function(Qt){return o.current&&!(o.current.isSameNode(Qt.target)||o.current.contains(Qt.target)||v.current&&v.current.contains(Qt.target))},qe=function(){k(),U(),Y(),Pe()},Kt=function(){O(),H(),ie(),We()};return A.useEffect(function(){h?(o.current=wt.getTargetElement(n),v.current=wt.getTargetElement(r)):(Kt(),o.current=v.current=null)},[n,r,h]),A.useEffect(function(){Kt()},[h]),mu(function(){Kt()}),[qe,Kt]},ro=function(t,n){var r=A.useRef(!1);return A.useEffect(function(){if(!r.current){r.current=!0;return}return t&&t()},n)},Xi={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(t){return ht.getMergedProps(t,Xi.defaultProps)},getOtherProps:function(t){return ht.getDiffProps(t,Xi.defaultProps)},getPTI:function(t){var n=ht.isEmpty(t.label),r=Xi.getOtherProps(t),c={className:Or("p-icon",{"p-icon-spin":t.spin},t.className),role:n?void 0:"img","aria-label":n?void 0:t.label,"aria-hidden":n};return ht.getMergedProps(r,c)}};function TS(){return TS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TS.apply(this,arguments)}function ate(e){if(Array.isArray(e))return e}function ste(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lte(e,t){if(e){if(typeof e=="string")return WO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WO(e,t)}}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ute(e,t){return ate(e)||ste(e,t)||lte(e,t)||cte()}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fte(e,t){if(Hc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hte(e){var t=fte(e,"string");return Hc(t)==="symbol"?t:String(t)}function ZO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hte(r.key),r)}}function pte(e,t,n){return t&&ZO(e.prototype,t),n&&ZO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var mte=function(){function e(){dte(this,e)}return pte(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Hc(n)==="object"&&r&&Hc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Hc(n)=="object"&&Hc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Hc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Hc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),qO=0;function gte(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return qO++,"".concat(e).concat(qO)}var N9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=ute(r,2),u=c[0],h=c[1];return A.useEffect(function(){mte.isEmpty(u)&&h(gte("pr_icon_clip_"))},[u]),A.createElement("svg",TS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));N9.displayName="ArrowDownIcon";function AS(){return AS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AS.apply(this,arguments)}function yte(e){if(Array.isArray(e))return e}function vte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function KO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _te(e,t){if(e){if(typeof e=="string")return KO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(e,t)}}function xte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bte(e,t){return yte(e)||vte(e,t)||_te(e,t)||xte()}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function wte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ete(e,t){if(Wc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cte(e){var t=Ete(e,"string");return Wc(t)==="symbol"?t:String(t)}function XO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cte(r.key),r)}}function Ste(e,t,n){return t&&XO(e.prototype,t),n&&XO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Tte=function(){function e(){wte(this,e)}return Ste(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Wc(n)==="object"&&r&&Wc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Wc(n)=="object"&&Wc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Wc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Wc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),YO=0;function Ate(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return YO++,"".concat(e).concat(YO)}var B9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=bte(r,2),u=c[0],h=c[1];return A.useEffect(function(){Tte.isEmpty(u)&&h(Ate("pr_icon_clip_"))},[u]),A.createElement("svg",AS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));B9.displayName="ArrowUpIcon";function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PS.apply(this,arguments)}function Pte(e){if(Array.isArray(e))return e}function Ite(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function JO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kte(e,t){if(e){if(typeof e=="string")return JO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JO(e,t)}}function Mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(e,t){return Pte(e)||Ite(e,t)||kte(e,t)||Mte()}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function Rte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dte(e,t){if(Zc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e){var t=Dte(e,"string");return Zc(t)==="symbol"?t:String(t)}function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lte(r.key),r)}}function Fte(e,t,n){return t&&QO(e.prototype,t),n&&QO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Nte=function(){function e(){Rte(this,e)}return Fte(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Zc(n)==="object"&&r&&Zc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Zc(n)=="object"&&Zc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Zc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Zc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),eR=0;function Bte(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return eR++,"".concat(e).concat(eR)}var Ex=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=Ote(r,2),u=c[0],h=c[1];return A.useEffect(function(){Nte.isEmpty(u)&&h(Bte("pr_icon_clip_"))},[u]),A.createElement("svg",PS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));Ex.displayName="SpinnerIcon";function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}var z9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",IS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"}))}));z9.displayName="AngleDoubleLeftIcon";var za=A.memo(A.forwardRef(function(){var e=A.useRef(null),t=A.useRef(null),n=A.useContext($o),r=function(){return e.current&&e.current.parentElement},c=function(){t.current&&(t.current.addEventListener("mousedown",o),wt.isTouchDevice()&&t.current.addEventListener("touchstart",h))},u=function(){t.current&&(t.current.removeEventListener("mousedown",o),wt.isTouchDevice()&&t.current.removeEventListener("touchstart",h))},h=function(O){var N=wt.getOffset(t.current),G=O.targetTouches[0].pageX-N.left+document.body.scrollTop-wt.getWidth(e.current)/2,U=O.targetTouches[0].pageY-N.top+document.body.scrollLeft-wt.getHeight(e.current)/2;v(G,U)},o=function(O){if(!wt.isTouchDevice()){var N=wt.getOffset(t.current),G=O.pageX-N.left+document.body.scrollTop-wt.getWidth(e.current)/2,U=O.pageY-N.top+document.body.scrollLeft-wt.getHeight(e.current)/2;v(G,U)}},v=function(O,N){!e.current||getComputedStyle(e.current,null).display==="none"||(wt.removeClass(e.current,"p-ink-active"),S(),e.current.style.top=N+"px",e.current.style.left=O+"px",wt.addClass(e.current,"p-ink-active"))},E=function(O){wt.removeClass(O.currentTarget,"p-ink-active")},S=function(){if(e.current&&!wt.getHeight(e.current)&&!wt.getWidth(e.current)){var O=Math.max(wt.getOuterWidth(t.current),wt.getOuterHeight(t.current));e.current.style.height=O+"px",e.current.style.width=O+"px"}};return Yf(function(){e.current&&(t.current=r(),S(),c())}),ro(function(){e.current&&!t.current&&(t.current=r(),S(),c())}),mu(function(){e.current&&(t.current=null,u())}),n&&n.ripple||Ai.ripple?A.createElement("span",{role:"presentation",ref:e,className:"p-ink",onAnimationEnd:E}):null}));za.displayName="Ripple";function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kS.apply(this,arguments)}var $9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",kS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"}))}));$9.displayName="AngleDownIcon";function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MS.apply(this,arguments)}var j9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",MS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"}))}));j9.displayName="AngleUpIcon";function OS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zte(e){if(Array.isArray(e))return OS(e)}function $te(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jte(e,t){if(e){if(typeof e=="string")return OS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(e,t)}}function Ute(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(e){return zte(e)||$te(e)||jte(e)||Ute()}var lm={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(t){return lm.DEFAULT_MASKS[t]?lm.DEFAULT_MASKS[t]:t},onBeforeInput:function(t,n,r){r||!wt.isAndroid()||this.validateKey(t,t.data,n)},onKeyPress:function(t,n,r){r||wt.isAndroid()||t.ctrlKey||t.altKey||this.validateKey(t,t.key,n)},onPaste:function(t,n,r){if(!r){var c=this.getRegex(n),u=t.clipboardData.getData("text");Vte(u).forEach(function(h){if(!c.test(h))return t.preventDefault(),!1})}},validateKey:function(t,n,r){if(n!=null){var c=n.length===1;if(c){var u=this.getRegex(r);u.test(n)||t.preventDefault()}}},validate:function(t,n){var r=t.target.value,c=!0,u=this.getRegex(n);return r&&!u.test(r)&&(c=!1),c}};function Gte(e){if(Array.isArray(e))return e}function Hte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function tR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wte(e,t){if(e){if(typeof e=="string")return tR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(e,t)}}function Zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(e,t){return Gte(e)||Hte(e,t)||Wte(e,t)||Zte()}var RS={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(t){return ht.getMergedProps(t,RS.defaultProps)},getOtherProps:function(t){return ht.getDiffProps(t,RS.defaultProps)}},Cx=A.memo(function(e){var t=RS.getProps(e),n=A.useContext($o),r=A.useState(t.visible&&wt.hasDOM()),c=qte(r,2),u=c[0],h=c[1];Yf(function(){wt.hasDOM()&&!u&&(h(!0),t.onMounted&&t.onMounted())}),ro(function(){t.onMounted&&t.onMounted()},[u]),mu(function(){t.onUnmounted&&t.onUnmounted()});var o=t.element||t.children;if(o&&u){var v=t.appendTo||n&&n.appendTo||Ai.appendTo||document.body;return v==="self"?o:$h.createPortal(o,v)}return null});Cx.displayName="Portal";function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function Kte(e,t){if(Yy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xte(e){var t=Kte(e,"string");return Yy(t)==="symbol"?t:String(t)}function Yte(e,t,n){return t=Xte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jte(e){if(Array.isArray(e))return DS(e)}function Qte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U9(e,t){if(e){if(typeof e=="string")return DS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(e,t)}}function ene(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(e){return Jte(e)||Qte(e)||U9(e)||ene()}function nne(e){if(Array.isArray(e))return e}function rne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qg(e,t){return nne(e)||rne(e,t)||U9(e,t)||ine()}var Jw=zo.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0}}),Ym=A.memo(A.forwardRef(function(e,t){var n=A.useContext($o),r=Jw.getProps(e,n),c=A.useState(!1),u=Qg(c,2),h=u[0],o=u[1],v=A.useState(r.position),E=Qg(v,2),S=E[0],k=E[1],O=A.useState(""),N=Qg(O,2),G=N[0],U=N[1],H=Jw.setMetaData({props:r,state:{visible:h,position:S,className:G}}),q=H.ptm,W=A.useRef(null),Y=A.useRef(null),ie=A.useRef(null),he=A.useRef(null),Se=A.useRef(!0),Pe=A.useRef({}),We=A.useRef(null),Le=sP({listener:function(Qe){!wt.isTouchDevice()&&It(Qe)}}),qe=Qg(Le,2),Kt=qe[0],Ut=qe[1],Qt=L9({target:ie.current,listener:function(Qe){It(Qe)},when:h}),Tn=Qg(Qt,2),An=Tn[0],Vt=Tn[1],_t=function(Qe){return!(r.content||pn(Qe,"tooltip"))},Ve=function(Qe){return!(r.content||pn(Qe,"tooltip")||r.children)},Rt=function(Qe){return pn(Qe,"mousetrack")||r.mouseTrack},Ge=function(Qe){return pn(Qe,"disabled")==="true"||Yn(Qe,"disabled")||r.disabled},sn=function(Qe){return pn(Qe,"showondisabled")||r.showOnDisabled},ln=function(){return pn(ie.current,"autohide")||r.autoHide},pn=function(Qe,xt){return Yn(Qe,"data-pr-".concat(xt))?Qe.getAttribute("data-pr-".concat(xt)):null},Yn=function(Qe,xt){return Qe&&Qe.hasAttribute(xt)},qn=function(Qe){var xt=[pn(Qe,"showevent")||r.showEvent],Ze=[pn(Qe,"hideevent")||r.hideEvent];if(Rt(Qe))xt=["mousemove"],Ze=["mouseleave"];else{var Gt=pn(Qe,"event")||r.event;Gt==="focus"&&(xt=["focus"],Ze=["blur"]),Gt==="both"&&(xt=["focus","mouseenter"],Ze=["blur","mouseleave"])}return{showEvents:xt,hideEvents:Ze}},nn=function(Qe){return pn(Qe,"position")||S},Bt=function(Qe){var xt=pn(Qe,"mousetracktop")||r.mouseTrackTop,Ze=pn(Qe,"mousetrackleft")||r.mouseTrackLeft;return{top:xt,left:Ze}},ot=function(Qe,xt){if(Y.current){var Ze=pn(Qe,"tooltip")||r.content;Ze?(Y.current.innerHTML="",Y.current.appendChild(document.createTextNode(Ze)),xt()):r.children&&xt()}},Xe=function(Qe){ot(ie.current,function(){var xt=We.current,Ze=xt.pageX,Gt=xt.pageY;r.autoZIndex&&!su.get(W.current)&&su.set("tooltip",W.current,n&&n.autoZIndex||Ai.autoZIndex,r.baseZIndex||n&&n.zIndex.tooltip||Ai.zIndex.tooltip),W.current.style.left="",W.current.style.top="",ln()&&(W.current.style.pointerEvents="none"),(Rt(ie.current)||Qe=="mouse")&&!he.current&&(he.current={width:wt.getOuterWidth(W.current),height:wt.getOuterHeight(W.current)}),Mn(ie.current,{x:Ze,y:Gt},Qe)})},Xt=function(Qe){ie.current=Qe.currentTarget;var xt=Ge(ie.current),Ze=Ve(sn(ie.current)&&xt?ie.current.firstChild:ie.current);if(!(Ze||xt))if(We.current=Qe,h)lt("updateDelay",Xe);else{var Gt=kt(r.onBeforeShow,{originalEvent:Qe,target:ie.current});Gt&&lt("showDelay",function(){o(!0),kt(r.onShow,{originalEvent:Qe,target:ie.current})})}},It=function(Qe){if(zt(),h){var xt=kt(r.onBeforeHide,{originalEvent:Qe,target:ie.current});xt&&lt("hideDelay",function(){!ln()&&Se.current===!1||(su.clear(W.current),wt.removeClass(W.current,"p-tooltip-active"),o(!1),kt(r.onHide,{originalEvent:Qe,target:ie.current}))})}},Mn=function(Qe,xt,Ze){var Gt=0,Cn=0,Vn=Ze||S;if((Rt(Qe)||Vn=="mouse")&&xt){var mr={width:wt.getOuterWidth(W.current),height:wt.getOuterHeight(W.current)};Gt=xt.x,Cn=xt.y;var dr=Bt(Qe),yr=dr.top,Nr=dr.left;switch(Vn){case"left":Gt-=mr.width+Nr,Cn-=mr.height/2-yr;break;case"right":case"mouse":Gt+=Nr,Cn-=mr.height/2-yr;break;case"top":Gt-=mr.width/2-Nr,Cn-=mr.height+yr;break;case"bottom":Gt-=mr.width/2-Nr,Cn+=yr;break}Gt<=0||he.current.width>mr.width?(W.current.style.left="0px",W.current.style.right=window.innerWidth-mr.width-Gt+"px"):(W.current.style.right="",W.current.style.left=Gt+"px"),W.current.style.top=Cn+"px",wt.addClass(W.current,"p-tooltip-active")}else{var Ae=wt.findCollisionPosition(Vn),te=pn(Qe,"my")||r.my||Ae.my,oe=pn(Qe,"at")||r.at||Ae.at;W.current.style.padding="0px",wt.flipfitCollision(W.current,Qe,te,oe,function(Ce){var Ie=Ce.at,Ue=Ie.x,et=Ie.y,Ye=Ce.my.x,Fe=r.at?Ue!=="center"&&Ue!==Ye?Ue:et:Ce.at["".concat(Ae.axis)];W.current.style.padding="",k(Fe),En(Fe),wt.addClass(W.current,"p-tooltip-active")})}},En=function(Qe){if(W.current){var xt=getComputedStyle(W.current);Qe==="left"?W.current.style.left=parseFloat(xt.left)-parseFloat(xt.paddingLeft)*2+"px":Qe==="top"&&(W.current.style.top=parseFloat(xt.top)-parseFloat(xt.paddingTop)*2+"px")}},er=function(){ln()||(Se.current=!1)},yn=function(Qe){ln()||(Se.current=!0,It(Qe))},xe=function(Qe){if(Qe){var xt=qn(Qe),Ze=xt.showEvents,Gt=xt.hideEvents,Cn=Wt(Qe);Ze.forEach(function(Vn){return Cn==null?void 0:Cn.addEventListener(Vn,Xt)}),Gt.forEach(function(Vn){return Cn==null?void 0:Cn.addEventListener(Vn,It)})}},Re=function(Qe){if(Qe){var xt=qn(Qe),Ze=xt.showEvents,Gt=xt.hideEvents,Cn=Wt(Qe);Ze.forEach(function(Vn){return Cn==null?void 0:Cn.removeEventListener(Vn,Xt)}),Gt.forEach(function(Vn){return Cn==null?void 0:Cn.removeEventListener(Vn,It)})}},lt=function(Qe,xt){zt();var Ze=pn(ie.current,Qe.toLowerCase())||r[Qe];Ze?Pe.current["".concat(Qe)]=setTimeout(function(){return xt()},Ze):xt()},kt=function(Qe){if(Qe){for(var xt=arguments.length,Ze=new Array(xt>1?xt-1:0),Gt=1;Gt<xt;Gt++)Ze[Gt-1]=arguments[Gt];var Cn=Qe.apply(void 0,Ze);return Cn===void 0&&(Cn=!0),Cn}return!0},zt=function(){Object.values(Pe.current).forEach(function(Qe){return clearTimeout(Qe)})},Wt=function(Qe){if(Qe){if(sn(Qe)){if(Qe.hasWrapper)return Qe.parentElement;var xt=document.createElement("span");return wt.addClass(xt,"p-tooltip-target-wrapper"),Qe.parentNode.insertBefore(xt,Qe),xt.appendChild(Qe),Qe.hasWrapper=!0,xt}else if(Qe.hasWrapper){var Ze;(Ze=Qe.parentElement).replaceWith.apply(Ze,tne(Qe.parentElement.childNodes)),delete Qe.hasWrapper}return Qe}return null},Pn=function(Qe){kn(Qe),Rn(Qe)},Rn=function(Qe){xn(Qe||r.target,xe)},kn=function(Qe){xn(Qe||r.target,Re)},xn=function(Qe,xt){if(Qe=ht.getRefElement(Qe),Qe)if(wt.isElement(Qe))xt(Qe);else{var Ze=function(Cn){var Vn=wt.find(document,Cn);Vn.forEach(function(mr){xt(mr)})};Qe instanceof Array?Qe.forEach(function(Gt){Ze(Gt)}):Ze(Qe)}};Yf(function(){Rn(),h&&ie.current&&Ge(ie.current)&&It()}),ro(function(){return Rn(),function(){kn()}},[Xt,It,r.target]),ro(function(){if(h){var wn=nn(ie.current),Qe=pn(ie.current,"classname");k(wn),U(Qe),Xe(wn),Kt(),An()}else k(r.position),U(""),ie.current=null,he.current=null,Se.current=!0;return function(){Ut(),Vt()}},[h]),ro(function(){h&&lt("updateDelay",function(){ot(ie.current,function(){Mn(ie.current)})})},[r.content]),mu(function(){zt(),kn(),su.clear(W.current)}),A.useImperativeHandle(t,function(){return{props:r,updateTargetEvents:Pn,loadTargetEvents:Rn,unloadTargetEvents:kn,show:Xt,hide:It,getElement:function(){return W.current},getTarget:function(){return ie.current}}});var jn=function(){var Qe=Or("p-tooltip p-component",Yte({},"p-tooltip-".concat(S),!0),r.className,G),xt=_t(ie.current),Ze=Nt({id:r.id,ref:W,className:Qe,style:r.style,role:"tooltip","aria-hidden":h,onMouseEnter:function(mr){return er()},onMouseLeave:function(mr){return yn(mr)}},Jw.getOtherProps(r),q("root")),Gt=Nt({className:"p-tooltip-arrow"},q("arrow")),Cn=Nt({ref:Y,className:"p-tooltip-text"},q("text"));return A.createElement("div",Ze,A.createElement("div",Gt),A.createElement("div",Cn,xt&&r.children))};if(h){var nr=jn();return A.createElement(Cx,{element:nr,appendTo:r.appendTo,visible:!0})}return null}));Ym.displayName="Tooltip";function LS(){return LS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LS.apply(this,arguments)}var Qw=zo.extend({defaultProps:{__TYPE:"InputText",keyfilter:null,validateOnly:!1,tooltip:null,tooltipOptions:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,children:void 0}}),Vd=A.memo(A.forwardRef(function(e,t){var n=A.useContext($o),r=Qw.getProps(e,n),c=Qw.setMetaData({props:r}),u=c.ptm,h=A.useRef(t),o=function(H){r.onKeyDown&&r.onKeyDown(H),r.keyfilter&&lm.onKeyPress(H,r.keyfilter,r.validateOnly)},v=function(H){r.onBeforeInput&&r.onBeforeInput(H),r.keyfilter&&lm.onBeforeInput(H,r.keyfilter,r.validateOnly)},E=function(H){var q=H.target,W=!0;r.keyfilter&&r.validateOnly&&(W=lm.validate(H,r.keyfilter)),r.onInput&&r.onInput(H,W),ht.isNotEmpty(q.value)?wt.addClass(q,"p-filled"):wt.removeClass(q,"p-filled")},S=function(H){r.onPaste&&r.onPaste(H),r.keyfilter&&lm.onPaste(H,r.keyfilter,r.validateOnly)};A.useEffect(function(){ht.combinedRefs(h,t)},[h,t]);var k=A.useMemo(function(){return ht.isNotEmpty(r.value)||ht.isNotEmpty(r.defaultValue)},[r.value,r.defaultValue]),O=ht.isNotEmpty(r.tooltip),N=Or("p-inputtext p-component",{"p-disabled":r.disabled,"p-filled":k},r.className),G=Nt({ref:h,className:N,onBeforeInput:v,onInput:E,onKeyDown:o,onPaste:S},Qw.getOtherProps(r),u("root"));return A.createElement(A.Fragment,null,A.createElement("input",G),O&&A.createElement(Ym,LS({target:h,content:r.tooltip},r.tooltipOptions,{pt:u("tooltip")})))}));Vd.displayName="InputText";function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r1.apply(this,arguments)}function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}function one(e,t){if(Jy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e){var t=one(e,"string");return Jy(t)==="symbol"?t:String(t)}function sne(e,t,n){return t=ane(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lne(e){if(Array.isArray(e))return FS(e)}function cne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V9(e,t){if(e){if(typeof e=="string")return FS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(e,t)}}function une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(e){return lne(e)||cne(e)||V9(e)||une()}function fne(e){if(Array.isArray(e))return e}function hne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function pne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mne(e,t){return fne(e)||hne(e,t)||V9(e,t)||pne()}var e2=zo.extend({defaultProps:{__TYPE:"InputNumber",allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:null,disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:null,inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null,children:void 0}});function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function U0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(n),!0).forEach(function(r){sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var G9=A.memo(A.forwardRef(function(e,t){var n=A.useContext($o),r=e2.getProps(e,n),c=A.useState(!1),u=mne(c,2),h=u[0],o=u[1],v=e2.setMetaData({props:r,state:{focused:h}}),E=v.ptm,S=A.useRef(null),k=A.useRef(null),O=A.useRef(null),N=A.useRef(null),G=A.useRef(null),U=A.useRef(null),H=A.useRef(null),q=A.useRef(null),W=A.useRef(null),Y=A.useRef(null),ie=A.useRef(null),he=A.useRef(null),Se=A.useRef(null),Pe=A.useRef(null),We=A.useRef(null),Le=A.useRef(null),qe=A.useRef(null),Kt=r.locale||n&&n.locale||Ai.locale,Ut=r.showButtons&&r.buttonLayout==="stacked",Qt=r.showButtons&&r.buttonLayout==="horizontal",Tn=r.showButtons&&r.buttonLayout==="vertical",An=r.inputMode||(r.mode==="decimal"&&!r.minFractionDigits?"numeric":"decimal"),Vt=function(){return{localeMatcher:r.localeMatcher,style:r.mode,currency:r.currency,currencyDisplay:r.currencyDisplay,useGrouping:r.useGrouping,minimumFractionDigits:r.minFractionDigits,maximumFractionDigits:r.maxFractionDigits}},_t=function(){G.current=new Intl.NumberFormat(Kt,Vt());var de=dne(new Intl.NumberFormat(Kt,{useGrouping:!1}).format(9876543210)).reverse(),se=new Map(de.map(function(He,tt){return[He,tt]}));Y.current=new RegExp("[".concat(de.join(""),"]"),"g"),ie.current=Ge(),he.current=sn(),Se.current=ln(),Pe.current=Rt(),We.current=Yn(),Le.current=pn(),qe.current=function(He){return se.get(He)}},Ve=function(de){return de.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},Rt=function(){var de=new Intl.NumberFormat(Kt,U0(U0({},Vt()),{},{useGrouping:!1}));return new RegExp("[".concat(de.format(1.1).replace(Se.current,"").trim().replace(Y.current,""),"]"),"g")},Ge=function(){var de=new Intl.NumberFormat(Kt,{useGrouping:!0});return U.current=de.format(1e6).trim().replace(Y.current,"").charAt(0),new RegExp("[".concat(U.current,"]"),"g")},sn=function(){var de=new Intl.NumberFormat(Kt,{useGrouping:!1});return new RegExp("[".concat(de.format(-1).trim().replace(Y.current,""),"]"),"g")},ln=function(){if(r.currency){var de=new Intl.NumberFormat(Kt,{style:"currency",currency:r.currency,currencyDisplay:r.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(de.format(1).replace(/\s/g,"").replace(Y.current,"").replace(ie.current,""),"]"),"g")}return new RegExp("[]","g")},pn=function(){if(r.prefix)H.current=r.prefix;else{var de=new Intl.NumberFormat(Kt,{style:r.mode,currency:r.currency,currencyDisplay:r.currencyDisplay});H.current=de.format(1).split("1")[0]}return new RegExp("".concat(Ve(H.current||"")),"g")},Yn=function(){if(r.suffix)q.current=r.suffix;else{var de=new Intl.NumberFormat(Kt,{style:r.mode,currency:r.currency,currencyDisplay:r.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});q.current=de.format(1).split("1")[1]}return new RegExp("".concat(Ve(q.current||"")),"g")},qn=function(de){if(de!=null){if(de==="-")return de;if(r.format){var se=new Intl.NumberFormat(Kt,Vt()),He=se.format(de);return r.prefix&&(He=r.prefix+He),r.suffix&&(He=He+r.suffix),He}return de.toString()}return""},nn=function(de){var se=de.replace(We.current,"").replace(Le.current,"").trim().replace(/\s/g,"").replace(Se.current,"").replace(ie.current,"").replace(he.current,"-").replace(Pe.current,".").replace(Y.current,qe.current);if(se){if(se==="-")return se;var He=+se;return isNaN(He)?null:He}return null},Bt=function ye(de,se,He){var tt=se||500;Jt(),O.current=setTimeout(function(){ye(de,40,He)},tt),ot(de,He)},ot=function(de,se){if(k.current){var He=r.step*se,tt=nn(k.current.value)||0,ut=te(tt+He);if(r.maxLength&&r.maxLength<qn(ut).length)return;Nr(de,tt,ut),!wt.isTouchDevice()&&Ce(ut,null,"spin"),Fe(de,ut)}},Xe=function(de){!r.disabled&&!r.readOnly&&(r.autoFocus&&wt.focus(k.current,r.autoFocus),Bt(de,null,1))},Xt=function(){!r.disabled&&!r.readOnly&&Jt()},It=function(){!r.disabled&&!r.readOnly&&Jt()},Mn=function(){!r.disabled&&!r.readOnly&&Jt()},En=function(de){!r.disabled&&!r.readOnly&&(de.keyCode===32||de.keyCode===13)&&Bt(de,null,1)},er=function(de){!r.disabled&&!r.readOnly&&(r.autoFocus&&wt.focus(k.current,r.autoFocus),Bt(de,null,-1))},yn=function(){!r.disabled&&!r.readOnly&&Jt()},xe=function(){!r.disabled&&!r.readOnly&&Jt()},Re=function(){!r.disabled&&!r.readOnly&&Jt()},lt=function(de){!r.disabled&&!r.readOnly&&(de.keyCode===32||de.keyCode===13)&&Bt(de,null,-1)},kt=function(de){r.disabled||r.readOnly||(W.current&&(de.target.value=N.current),W.current=!1)},zt=function(de){if(!(r.disabled||r.readOnly)){if(N.current=de.target.value,de.shiftKey||de.altKey){W.current=!0;return}var se=de.target.selectionStart,He=de.target.selectionEnd,tt=de.target.value,ut=null;switch(de.altKey&&de.preventDefault(),de.which){case 38:ot(de,1),de.preventDefault();break;case 40:ot(de,-1),de.preventDefault();break;case 37:Vn(tt.charAt(se-1))||de.preventDefault();break;case 39:Vn(tt.charAt(se))||de.preventDefault();break;case 13:case 9:ut=te(nn(tt)),k.current.value=qn(ut),k.current.setAttribute("aria-valuenow",ut),Fe(de,ut);break;case 8:if(de.preventDefault(),se===He){var jt=tt.charAt(se-1),on=nr(tt),Xn=on.decimalCharIndex,Rr=on.decimalCharIndexWithoutPrefix;if(Vn(jt)){var Fr=Ye(tt);if(ie.current.test(jt))ie.current.lastIndex=0,ut=tt.slice(0,se-2)+tt.slice(se-1);else if(Pe.current.test(jt))Pe.current.lastIndex=0,Fr?k.current.setSelectionRange(se-1,se-1):ut=tt.slice(0,se-1)+tt.slice(se);else if(Xn>0&&se>Xn){var Ur=jn()&&(r.minFractionDigits||0)<Fr?"":"0";ut=tt.slice(0,se-1)+Ur+tt.slice(se)}else Rr===1?(ut=tt.slice(0,se-1)+"0"+tt.slice(se),ut=nn(ut)>0?ut:""):ut=tt.slice(0,se-1)+tt.slice(se)}dr(de,ut,null,"delete-single")}else ut=Ze(tt,se,He),dr(de,ut,null,"delete-range");break;case 46:if(de.preventDefault(),se===He){var xr=tt.charAt(se),Br=nr(tt),vt=Br.decimalCharIndex,vi=Br.decimalCharIndexWithoutPrefix;if(Vn(xr)){var Vr=Ye(tt);if(ie.current.test(xr))ie.current.lastIndex=0,ut=tt.slice(0,se)+tt.slice(se+2);else if(Pe.current.test(xr))Pe.current.lastIndex=0,Vr?k.current.setSelectionRange(se+1,se+1):ut=tt.slice(0,se)+tt.slice(se+1);else if(vt>0&&se>vt){var Zr=jn()&&(r.minFractionDigits||0)<Vr?"":"0";ut=tt.slice(0,se)+Zr+tt.slice(se+1)}else vi===1?(ut=tt.slice(0,se)+"0"+tt.slice(se+1),ut=nn(ut)>0?ut:""):ut=tt.slice(0,se)+tt.slice(se+1)}dr(de,ut,null,"delete-back-single")}else ut=Ze(tt,se,He),dr(de,ut,null,"delete-range");break}r.onKeyDown&&r.onKeyDown(de)}},Wt=function(de){if(!(r.disabled||r.readOnly)){var se=de.which||de.keyCode;se!==13&&de.preventDefault();var He=String.fromCharCode(se),tt=xn(He),ut=kn(He);(48<=se&&se<=57||ut||tt)&&Qe(de,He,{isDecimalSign:tt,isMinusSign:ut})}},Pn=function(de){if(de.preventDefault(),!(r.disabled||r.readOnly)){var se=(de.clipboardData||window.clipboardData).getData("Text");if(se){var He=nn(se);He!=null&&Qe(de,He.toString())}}},Rn=function(){return r.min===null||r.min<0},kn=function(de){return he.current.test(de)||de==="-"?(he.current.lastIndex=0,!0):!1},xn=function(de){return Pe.current.test(de)?(Pe.current.lastIndex=0,!0):!1},jn=function(){return r.mode==="decimal"},nr=function(de){var se=de.search(Pe.current);Pe.current.lastIndex=0;var He=de.replace(Le.current,"").trim().replace(/\s/g,"").replace(Se.current,""),tt=He.search(Pe.current);return Pe.current.lastIndex=0,{decimalCharIndex:se,decimalCharIndexWithoutPrefix:tt}},wn=function(de){var se=de.search(Pe.current);Pe.current.lastIndex=0;var He=de.search(he.current);he.current.lastIndex=0;var tt=de.search(We.current);We.current.lastIndex=0;var ut=de.search(Se.current);return Se.current.lastIndex=0,{decimalCharIndex:se,minusCharIndex:He,suffixCharIndex:tt,currencyCharIndex:ut}},Qe=function(de,se){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},tt=se.search(he.current);if(he.current.lastIndex=0,!(!Rn()&&tt!==-1)){var ut=k.current.selectionStart,jt=k.current.selectionEnd,on=k.current.value.trim(),Xn=wn(on),Rr=Xn.decimalCharIndex,Fr=Xn.minusCharIndex,Ur=Xn.suffixCharIndex,xr=Xn.currencyCharIndex,Br;if(He.isMinusSign)ut===0&&(Br=on,(Fr===-1||jt!==0)&&(Br=xt(on,se,0,jt)),dr(de,Br,se,"insert"));else if(He.isDecimalSign)Rr>0&&ut===Rr?dr(de,on,se,"insert"):(Rr>ut&&Rr<jt||Rr===-1&&r.maxFractionDigits)&&(Br=xt(on,se,ut,jt),dr(de,Br,se,"insert"));else{var vt=G.current.resolvedOptions().maximumFractionDigits,vi=ut!==jt?"range-insert":"insert";if(Rr>0&&ut>Rr){if(ut+se.length-(Rr+1)<=vt){var Vr=xr>=ut?xr-1:Ur>=ut?Ur:on.length;Br=on.slice(0,ut)+se+on.slice(ut+se.length,Vr)+on.slice(Vr),dr(de,Br,se,vi)}}else Br=xt(on,se,ut,jt),dr(de,Br,se,vi)}}},xt=function(de,se,He,tt){var ut=se==="."?se:se.split(".");if(ut.length===2){var jt=de.slice(He,tt).search(Pe.current);return Pe.current.lastIndex=0,jt>0?de.slice(0,He)+qn(se)+de.slice(tt):de||qn(se)}else{if(tt-He===de.length)return qn(se);if(He===0){var on=ht.isLetter(de[tt])?tt-1:tt;return se+de.slice(on)}else return tt===de.length?de.slice(0,He)+se:de.slice(0,He)+se+de.slice(tt)}},Ze=function(de,se,He){var tt;return He-se===de.length?tt="":se===0?tt=de.slice(He):He===de.length?tt=de.slice(0,se):tt=de.slice(0,se)+de.slice(He),tt},Gt=function(){var de=k.current.selectionStart,se=k.current.value,He=se.length,tt=null,ut=(H.current||"").length;se=se.replace(Le.current,""),de=de-ut;var jt=se.charAt(de);if(Vn(jt))return de+ut;for(var on=de-1;on>=0;)if(jt=se.charAt(on),Vn(jt)){tt=on+ut;break}else on--;if(tt!==null)k.current.setSelectionRange(tt+1,tt+1);else{for(on=de;on<He;)if(jt=se.charAt(on),Vn(jt)){tt=on+ut;break}else on++;tt!==null&&k.current.setSelectionRange(tt,tt)}return tt||0},Cn=function(){Gt()},Vn=function(de){return de.length===1&&(Y.current.test(de)||Pe.current.test(de)||ie.current.test(de)||he.current.test(de))?(mr(),!0):!1},mr=function(){Y.current.lastIndex=0,Pe.current.lastIndex=0,ie.current.lastIndex=0,he.current.lastIndex=0},dr=function(de,se,He,tt){var ut=k.current.value,jt=null;se!=null&&(jt=yr(nn(se)),Ce(jt,He,tt,se),Nr(de,ut,jt))},yr=function(de){return!de&&!r.allowEmpty?r.min||0:de},Nr=function(de,se,He){r.onChange&&Ae(se,He)&&r.onChange({originalEvent:de,value:He})},Ae=function(de,se){if(se===null&&de!==null)return!0;if(se!=null){var He=typeof de=="string"?nn(de):de;return se!==He}return!1},te=function(de){return de==="-"?null:oe(de)},oe=function(de){return ht.isEmpty(de)?null:r.min!==null&&de<r.min?r.min:r.max!==null&&de>r.max?r.max:de},Ce=function(de,se,He,tt){se=se||"";var ut=k.current,jt=ut.value,on=qn(de),Xn=jt.length;if(on!==tt&&(on=et(on,tt)),Xn===0){ut.value=on,ut.setSelectionRange(0,0);var Rr=Gt(),Fr=Rr+se.length;ut.setSelectionRange(Fr,Fr)}else{var Ur=ut.selectionStart,xr=ut.selectionEnd;if(r.maxLength&&r.maxLength<on.length)return;ut.value=on;var Br=on.length;if(He==="range-insert"){var vt=nn((jt||"").slice(0,Ur)),vi=vt!==null?vt.toString():"",Vr=vi.split("").join("(".concat(U.current,")?")),Zr=new RegExp(Vr,"g");Zr.test(on);var sa=se.split("").join("(".concat(U.current,")?")),Ui=new RegExp(sa,"g");Ui.test(on.slice(Zr.lastIndex)),xr=Zr.lastIndex+Ui.lastIndex,ut.setSelectionRange(xr,xr)}else if(Br===Xn)He==="insert"||He==="delete-back-single"?ut.setSelectionRange(xr+1,xr+1):He==="delete-single"?ut.setSelectionRange(xr-1,xr-1):(He==="delete-range"||He==="spin")&&ut.setSelectionRange(xr,xr);else if(He==="delete-back-single"){var jo=jt.charAt(xr-1),zr=jt.charAt(xr),br=Xn-Br,vn=ie.current.test(zr);vn&&br===1?xr+=1:!vn&&Vn(jo)&&(xr+=-1*br+1),ie.current.lastIndex=0,ut.setSelectionRange(xr,xr)}else if(jt==="-"&&He==="insert"){ut.setSelectionRange(0,0);var or=Gt(),ar=or+se.length+1;ut.setSelectionRange(ar,ar)}else xr=xr+(Br-Xn),ut.setSelectionRange(xr,xr)}ut.setAttribute("aria-valuenow",de)},Ie=function(de){de=yr(de);var se=k.current,He=se.value,tt=Ue(de);He!==tt&&(se.value=tt,se.setAttribute("aria-valuenow",de))},Ue=function(de){return qn(yr(de))},et=function(de,se){if(de&&se){var He=se.search(Pe.current);return Pe.current.lastIndex=0,He!==-1?de.split(Pe.current)[0]+se.slice(He):de}return de},Ye=function(de){if(de){var se=de.split(Pe.current);if(se.length===2)return se[1].replace(We.current,"").trim().replace(/\s/g,"").replace(Se.current,"").length}return 0},Fe=function(de,se){r.onValueChange&&r.onValueChange({originalEvent:de,value:se,stopPropagation:function(){de.stopPropagation()},preventDefault:function(){de.preventDefault()},target:{name:r.name,id:r.id,value:se}})},ct=function(de){if(o(!0),r.onFocus&&r.onFocus(de),(r.suffix||r.currency||r.prefix)&&k.current){var se=Gt();k.current.setSelectionRange(se,se)}},Ht=function(de){if(o(!1),k.current){var se=k.current.value;if(Ae(se,r.value)){var He=te(nn(se));Ie(He),Fe(de,He)}}r.onBlur&&r.onBlur(de)},Jt=function(){O.current&&clearInterval(O.current)},Et=function(){Ie(oe(r.value));var de=te(r.value);r.value!==null&&r.value!==de&&Fe(null,de)},Hn=function(){return G.current};A.useImperativeHandle(t,function(){return{props:r,focus:function(){return wt.focus(k.current)},getFormatter:Hn,getElement:function(){return S.current},getInput:function(){return k.current}}}),A.useEffect(function(){ht.combinedRefs(k,r.inputRef)},[k,r.inputRef]),Yf(function(){_t();var ye=te(r.value);r.value!==null&&r.value!==ye&&Fe(null,ye)}),ro(function(){_t(),Et()},[r.locale,r.localeMatcher,r.mode,r.currency,r.currencyDisplay,r.useGrouping,r.minFractionDigits,r.maxFractionDigits,r.suffix,r.prefix]),ro(function(){Et()},[r.value]);var rr=function(){var de=Or("p-inputnumber-input",r.inputClassName),se=Ue(r.value);return A.createElement(Vd,r1({ref:k,id:r.inputId,style:r.inputStyle,role:"spinbutton",className:de,defaultValue:se,type:r.type,size:r.size,tabIndex:r.tabIndex,inputMode:An,maxLength:r.maxLength,disabled:r.disabled,required:r.required,pattern:r.pattern,placeholder:r.placeholder,readOnly:r.readOnly,name:r.name,autoFocus:r.autoFocus,onKeyDown:zt,onKeyPress:Wt,onInput:kt,onClick:Cn,onBlur:Ht,onFocus:ct,onPaste:Pn,min:r.min,max:r.max,"aria-valuemin":r.min,"aria-valuemax":r.max,"aria-valuenow":r.value},On,ir,{pt:E("input")}))},Tt=function(){var de=Or("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":r.disabled},r.incrementButtonClassName),se="p-button-icon",He=Nt({className:se},E("incrementIconProps")),tt=r.incrementButtonIcon||A.createElement(j9,He),ut=Ki.getJSXIcon(tt,U0({},He),{props:r}),jt=Nt({type:"button",className:de,onPointerLeave:It,onPointerDown:function(Xn){return Xe(Xn)},onPointerUp:Xt,onKeyDown:function(Xn){return En(Xn)},onKeyUp:Mn,disabled:r.disabled,tabIndex:-1},E("incrementButton"));return A.createElement("button",jt,ut,A.createElement(za,null))},nt=function(){var de=Or("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":r.disabled},r.decrementButtonClassName),se="p-button-icon",He=Nt({className:se},E("decrementIconProps")),tt=r.decrementButtonIcon||A.createElement($9,He),ut=Ki.getJSXIcon(tt,U0({},He),{props:r}),jt=Nt({type:"button",className:de,onPointerLeave:xe,onPointerDown:function(Xn){return er(Xn)},onPointerUp:yn,onKeyDown:function(Xn){return lt(Xn)},onKeyUp:Re,disabled:r.disabled,tabIndex:-1},E("decrementButton"));return A.createElement("button",jt,ut,A.createElement(za,null))},Ct=function(){var de=r.showButtons&&Tt(),se=r.showButtons&&nt(),He=Nt({className:"p-inputnumber-button-group"},E("buttonGroup"));return Ut?A.createElement("span",He,de,se):A.createElement(A.Fragment,null,de,se)},cn=ht.isNotEmpty(r.tooltip),Fn=e2.getOtherProps(r),ir=ht.reduceKeys(Fn,wt.DATA_PROPS),On=ht.reduceKeys(Fn,wt.ARIA_PROPS),vr=Or("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":r.value!=null&&r.value.toString().length>0,"p-inputwrapper-focus":h,"p-inputnumber-buttons-stacked":Ut,"p-inputnumber-buttons-horizontal":Qt,"p-inputnumber-buttons-vertical":Tn},r.className),ft=rr(),re=Ct(),le=Nt({id:r.id,ref:S,className:vr,style:r.style},Fn,E("root"));return A.createElement(A.Fragment,null,A.createElement("span",le,ft,re),cn&&A.createElement(Ym,r1({target:S,content:r.tooltip},r.tooltipOptions,{pt:E("tooltip")})))}));G9.displayName="InputNumber";function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(this,arguments)}var H9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",NS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"}))}));H9.displayName="AngleDoubleRightIcon";function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BS.apply(this,arguments)}var W9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",BS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"}))}));W9.displayName="AngleRightIcon";function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}var Z9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",zS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"}))}));Z9.displayName="AngleLeftIcon";function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$S.apply(this,arguments)}var Sx=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",$S({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))}));Sx.displayName="ChevronDownIcon";function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jS.apply(this,arguments)}var Tx=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",jS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));Tx.displayName="TimesIcon";var If=jee();function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function gne(e,t){if(Qy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yne(e){var t=gne(e,"string");return Qy(t)==="symbol"?t:String(t)}function vne(e,t,n){return t=yne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var US={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(t){return ht.getMergedProps(t,US.defaultProps)},getOtherProps:function(t){return ht.getDiffProps(t,US.defaultProps)}};function rR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(n),!0).forEach(function(r){vne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lP=A.forwardRef(function(e,t){var n=US.getProps(e),r=A.useContext($o),c=n.disabled||n.options&&n.options.disabled||r&&!r.cssTransition||!Ai.cssTransition,u=function(U,H){n.onEnter&&n.onEnter(U,H),n.options&&n.options.onEnter&&n.options.onEnter(U,H)},h=function(U,H){n.onEntering&&n.onEntering(U,H),n.options&&n.options.onEntering&&n.options.onEntering(U,H)},o=function(U,H){n.onEntered&&n.onEntered(U,H),n.options&&n.options.onEntered&&n.options.onEntered(U,H)},v=function(U){n.onExit&&n.onExit(U),n.options&&n.options.onExit&&n.options.onExit(U)},E=function(U){n.onExiting&&n.onExiting(U),n.options&&n.options.onExiting&&n.options.onExiting(U)},S=function(U){n.onExited&&n.onExited(U),n.options&&n.options.onExited&&n.options.onExited(U)};if(ro(function(){if(c){var G=ht.getRefElement(n.nodeRef);n.in?(u(G,!0),h(G,!0),o(G,!0)):(v(G),E(G),S(G))}},[n.in]),c)return n.in?n.children:null;var k={nodeRef:n.nodeRef,in:n.in,onEnter:u,onEntering:h,onEntered:o,onExit:v,onExiting:E,onExited:S},O={classNames:n.classNames,timeout:n.timeout,unmountOnExit:n.unmountOnExit},N=t2(t2(t2({},O),n.options||{}),k);return A.createElement(hJ,N,n.children)});lP.displayName="CSSTransition";function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VS.apply(this,arguments)}function _ne(e){if(Array.isArray(e))return e}function xne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bne(e,t){if(e){if(typeof e=="string")return iR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iR(e,t)}}function wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(e,t){return _ne(e)||xne(e,t)||bne(e,t)||wne()}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sne(e,t){if(qc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e){var t=Sne(e,"string");return qc(t)==="symbol"?t:String(t)}function oR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tne(r.key),r)}}function Ane(e,t,n){return t&&oR(e.prototype,t),n&&oR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Pne=function(){function e(){Cne(this,e)}return Ane(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&qc(n)==="object"&&r&&qc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&qc(n)=="object"&&qc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?qc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&qc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),aR=0;function Ine(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return aR++,"".concat(e).concat(aR)}var q9=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=Ene(r,2),u=c[0],h=c[1];return A.useEffect(function(){Pne.isEmpty(u)&&h(Ine("pr_icon_clip_"))},[u]),A.createElement("svg",VS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));q9.displayName="SearchIcon";function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS.apply(this,arguments)}function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function kne(e,t){if(ev(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ev(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mne(e){var t=kne(e,"string");return ev(t)==="symbol"?t:String(t)}function K9(e,t,n){return t=Mne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function One(e){if(Array.isArray(e))return e}function Rne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dne(e,t){if(e){if(typeof e=="string")return sR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sR(e,t)}}function Lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Td(e,t){return One(e)||Rne(e,t)||Dne(e,t)||Lne()}var n2=zo.extend({defaultProps:{__TYPE:"VirtualScroller",id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0}});function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){K9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cP=A.memo(A.forwardRef(function(e,t){var n=A.useContext($o),r=n2.getProps(e,n),c=Xy(e)||{},u=r.orientation==="vertical",h=r.orientation==="horizontal",o=r.orientation==="both",v=A.useState(o?{rows:0,cols:0}:0),E=Td(v,2),S=E[0],k=E[1],O=A.useState(o?{rows:0,cols:0}:0),N=Td(O,2),G=N[0],U=N[1],H=A.useState(0),q=Td(H,2),W=q[0],Y=q[1],ie=A.useState(o?{rows:0,cols:0}:0),he=Td(ie,2),Se=he[0],Pe=he[1],We=A.useState(r.numToleratedItems),Le=Td(We,2),qe=Le[0],Kt=Le[1],Ut=A.useState(r.loading||!1),Qt=Td(Ut,2),Tn=Qt[0],An=Qt[1],Vt=A.useState([]),_t=Td(Vt,2),Ve=_t[0],Rt=_t[1],Ge=n2.setMetaData({props:r,state:{first:S,last:G,page:W,numItemsInViewport:Se,numToleratedItems:qe,loading:Tn,loaderArr:Ve}}),sn=Ge.ptm,ln=A.useRef(null),pn=A.useRef(null),Yn=A.useRef(null),qn=A.useRef(null),nn=A.useRef(o?{top:0,left:0}:0),Bt=A.useRef(null),ot=A.useRef(null),Xe=A.useRef({}),Xt=A.useRef({}),It=A.useRef(null),Mn=A.useRef(null),En=A.useRef(null),er=A.useRef(null),yn=A.useRef(!1),xe=A.useRef(null),Re=sP({listener:function(re){return Ue()},when:!r.disabled}),lt=Td(Re,1),kt=lt[0],zt=Jh({target:"window",type:"orientationchange",listener:function(re){return Ue()},when:!r.disabled}),Wt=Td(zt,1),Pn=Wt[0],Rn=function(){return ln},kn=function(re){return Math.floor((re+qe*4)/(r.step||1))},xn=function(re){pn.current=re||pn.current||wt.findSingle(ln.current,".p-virtualscroller-content")},jn=function(re){return r.step?W!==kn(re):!0},nr=function(re){nn.current=o?{top:0,left:0}:0,ln.current&&ln.current.scrollTo(re)},wn=function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",ye=Cn(),de=ye.numToleratedItems,se=yr(),He=function(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Fr=arguments.length>1?arguments[1]:void 0;return Rr<=Fr?0:Rr},tt=function(Rr,Fr,Ur){return Rr*Fr+Ur},ut=function(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Fr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return nr({left:Rr,top:Fr,behavior:le})},jt=o?{rows:0,cols:0}:0,on=!1;o?(jt={rows:He(re[0],de[0]),cols:He(re[1],de[1])},ut(tt(jt.cols,r.itemSize[1],se.left),tt(jt.rows,r.itemSize[0],se.top)),on=S.rows!==jt.rows||S.cols!==jt.cols):(jt=He(re,de),h?ut(tt(jt,r.itemSize,se.left),0):ut(0,tt(jt,r.itemSize,se.top)),on=S!==jt),yn.current=on,k(jt)},Qe=function(re,le){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(le){var de=Gt(),se=de.first,He=de.viewport,tt=function(){var Fr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return nr({left:Fr,top:Ur,behavior:ye})},ut=le==="to-start",jt=le==="to-end";if(ut){if(o)He.first.rows-se.rows>re[0]?tt(He.first.cols*r.itemSize[1],(He.first.rows-1)*r.itemSize[0]):He.first.cols-se.cols>re[1]&&tt((He.first.cols-1)*r.itemSize[1],He.first.rows*r.itemSize[0]);else if(He.first-se>re){var on=(He.first-1)*r.itemSize;h?tt(on,0):tt(0,on)}}else if(jt){if(o)He.last.rows-se.rows<=re[0]+1?tt(He.first.cols*r.itemSize[1],(He.first.rows+1)*r.itemSize[0]):He.last.cols-se.cols<=re[1]+1&&tt((He.first.cols+1)*r.itemSize[1],He.first.rows*r.itemSize[0]);else if(He.last-se<=re+1){var Xn=(He.first+1)*r.itemSize;h?tt(Xn,0):tt(0,Xn)}}}else wn(re,ye)},xt=function(){return Tn?r.loaderDisabled?Ve:[]:Fe()},Ze=function(){return r.columns&&o||h?Tn&&r.loaderDisabled?o?Ve[0]:Ve:r.columns.slice(o?S.cols:S,o?G.cols:G):r.columns},Gt=function(){var re=function(jt,on){return Math.floor(jt/(on||jt))},le=S,ye=0;if(ln.current){var de=ln.current,se=de.scrollTop,He=de.scrollLeft;if(o)le={rows:re(se,r.itemSize[0]),cols:re(He,r.itemSize[1])},ye={rows:le.rows+Se.rows,cols:le.cols+Se.cols};else{var tt=h?He:se;le=re(tt,r.itemSize),ye=le+Se}}return{first:S,last:G,viewport:{first:le,last:ye}}},Cn=function(){var re=yr(),le=ln.current?ln.current.offsetWidth-re.left:0,ye=ln.current?ln.current.offsetHeight-re.top:0,de=function(jt,on){return Math.ceil(jt/(on||jt))},se=function(jt){return Math.ceil(jt/2)},He=o?{rows:de(ye,r.itemSize[0]),cols:de(le,r.itemSize[1])}:de(h?le:ye,r.itemSize),tt=qe||(o?[se(He.rows),se(He.cols)]:se(He));return{numItemsInViewport:He,numToleratedItems:tt}},Vn=function(){var re=Cn(),le=re.numItemsInViewport,ye=re.numToleratedItems,de=function(tt,ut,jt){var on=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return dr(tt+ut+(tt<jt?2:3)*jt,on)},se=o?{rows:de(S.rows,le.rows,ye[0]),cols:de(S.cols,le.cols,ye[1],!0)}:de(S,le,ye);Pe(le),Kt(ye),U(se),r.showLoader&&Rt(o?Array.from({length:le.rows}).map(function(){return Array.from({length:le.cols})}):Array.from({length:le})),r.lazy&&Promise.resolve().then(function(){xe.current={first:r.step?o?{rows:0,cols:S.cols}:0:S,last:Math.min(r.step?r.step:se,r.items.length)},r.onLazyLoad&&r.onLazyLoad(xe.current)})},mr=function(re){r.autoSize&&!re&&Promise.resolve().then(function(){if(pn.current){pn.current.style.minHeight=pn.current.style.minWidth="auto",pn.current.style.position="relative",ln.current.style.contain="none";var le=[wt.getWidth(ln.current),wt.getHeight(ln.current)],ye=le[0],de=le[1];(o||h)&&(ln.current.style.width=(ye<It.current?ye:r.scrollWidth||It.current)+"px"),(o||u)&&(ln.current.style.height=(de<Mn.current?de:r.scrollHeight||Mn.current)+"px"),pn.current.style.minHeight=pn.current.style.minWidth="",pn.current.style.position="",ln.current.style.contain=""}})},dr=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,le=arguments.length>1?arguments[1]:void 0;return r.items?Math.min(le?(r.columns||r.items[0]).length:r.items.length,re):0},yr=function(){if(pn.current){var re=getComputedStyle(pn.current),le=parseFloat(re.paddingLeft)+Math.max(parseFloat(re.left)||0,0),ye=parseFloat(re.paddingRight)+Math.max(parseFloat(re.right)||0,0),de=parseFloat(re.paddingTop)+Math.max(parseFloat(re.top)||0,0),se=parseFloat(re.paddingBottom)+Math.max(parseFloat(re.bottom)||0,0);return{left:le,right:ye,top:de,bottom:se,x:le+ye,y:de+se}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},Nr=function(){if(ln.current){var re=ln.current.parentElement,le=r.scrollWidth||"".concat(ln.current.offsetWidth||re.offsetWidth,"px"),ye=r.scrollHeight||"".concat(ln.current.offsetHeight||re.offsetHeight,"px"),de=function(He,tt){return ln.current.style[He]=tt};o||h?(de("height",ye),de("width",le)):de("height",ye)}},Ae=function(){var re=r.items;if(re){var le=yr(),ye=function(se,He,tt){var ut=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return Xt.current=Hp(Hp({},Xt.current),K9({},"".concat(se),(He||[]).length*tt+ut+"px"))};o?(ye("height",re,r.itemSize[0],le.y),ye("width",r.columns||re[1],r.itemSize[1],le.x)):h?ye("width",r.columns||re,r.itemSize,le.x):ye("height",re,r.itemSize,le.y)}},te=function(re){if(pn.current&&!r.appendOnly){var le=re?re.first:S,ye=function(tt,ut){return tt*ut},de=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;qn.current&&(qn.current.style.top="-".concat(ut,"px")),Xe.current=Hp(Hp({},Xe.current),{transform:"translate3d(".concat(tt,"px, ").concat(ut,"px, 0)")})};if(o)de(ye(le.cols,r.itemSize[1]),ye(le.rows,r.itemSize[0]));else{var se=ye(le,r.itemSize);h?de(se,0):de(0,se)}}},oe=function(re){var le=re.target,ye=yr(),de=function(zr,br){return zr?zr>br?zr-br:zr:0},se=function(zr,br){return Math.floor(zr/(br||zr))},He=function(zr,br,vn,or,ar,di){return zr<=ar?ar:di?vn-or-ar:br+ar-1},tt=function(zr,br,vn,or,ar,di,ii){return zr<=di?0:Math.max(0,ii?zr<br?vn:zr-di:zr>br?vn:zr-2*di)},ut=function(zr,br,vn,or,ar,di){var ii=br+or+2*ar;return zr>=ar&&(ii+=ar+1),dr(ii,di)},jt=de(le.scrollTop,ye.top),on=de(le.scrollLeft,ye.left),Xn=o?{rows:0,cols:0}:0,Rr=G,Fr=!1,Ur=nn.current;if(o){var xr=nn.current.top<=jt,Br=nn.current.left<=on;if(!r.appendOnly||r.appendOnly&&(xr||Br)){var vt={rows:se(jt,r.itemSize[0]),cols:se(on,r.itemSize[1])},vi={rows:He(vt.rows,S.rows,G.rows,Se.rows,qe[0],xr),cols:He(vt.cols,S.cols,G.cols,Se.cols,qe[1],Br)};Xn={rows:tt(vt.rows,vi.rows,S.rows,G.rows,Se.rows,qe[0],xr),cols:tt(vt.cols,vi.cols,S.cols,G.cols,Se.cols,qe[1],Br)},Rr={rows:ut(vt.rows,Xn.rows,G.rows,Se.rows,qe[0]),cols:ut(vt.cols,Xn.cols,G.cols,Se.cols,qe[1],!0)},Fr=Xn.rows!==S.rows||Rr.rows!==G.rows||Xn.cols!==S.cols||Rr.cols!==G.cols||yn.current,Ur={top:jt,left:on}}}else{var Vr=h?on:jt,Zr=nn.current<=Vr;if(!r.appendOnly||r.appendOnly&&Zr){var sa=se(Vr,r.itemSize),Ui=He(sa,S,G,Se,qe,Zr);Xn=tt(sa,Ui,S,G,Se,qe,Zr),Rr=ut(sa,Xn,G,Se,qe),Fr=Xn!==S||Rr!==G||yn.current,Ur=Vr}}return{first:Xn,last:Rr,isRangeChanged:Fr,scrollPos:Ur}},Ce=function(re){var le=oe(re),ye=le.first,de=le.last,se=le.isRangeChanged,He=le.scrollPos;if(se){var tt={first:ye,last:de};if(te(tt),k(ye),U(de),nn.current=He,r.onScrollIndexChange&&r.onScrollIndexChange(tt),r.lazy&&jn(ye)){var ut={first:r.step?Math.min(kn(ye)*r.step,r.items.length-r.step):ye,last:Math.min(r.step?(kn(ye)+1)*r.step:de,r.items.length)},jt=!xe.current||xe.current.first!==ut.first||xe.current.last!==ut.last;jt&&r.onLazyLoad&&r.onLazyLoad(ut),xe.current=ut}}},Ie=function(re){if(r.onScroll&&r.onScroll(re),r.delay){if(Bt.current&&clearTimeout(Bt.current),jn(S)){if(!Tn&&r.showLoader){var le=oe(re),ye=le.isRangeChanged,de=ye||(r.step?jn(S):!1);de&&An(!0)}Bt.current=setTimeout(function(){Ce(re),Tn&&r.showLoader&&(!r.lazy||r.loading===void 0)&&(An(!1),Y(kn(S)))},r.delay)}}else Ce(re)},Ue=function(){ot.current&&clearTimeout(ot.current),ot.current=setTimeout(function(){if(ln.current){var re=[wt.getWidth(ln.current),wt.getHeight(ln.current)],le=re[0],ye=re[1],de=le!==It.current,se=ye!==Mn.current,He=o?de||se:h?de:u?se:!1;He&&(Kt(r.numToleratedItems),It.current=le,Mn.current=ye,En.current=wt.getWidth(pn.current),er.current=wt.getHeight(pn.current))}},r.resizeDelay)},et=function(re){var le=(r.items||[]).length,ye=o?S.rows+re:S+re;return{index:ye,count:le,first:ye===0,last:ye===le-1,even:ye%2===0,odd:ye%2!==0,props:r}},Ye=function(re,le){var ye=Ve.length;return Hp({index:re,count:ye,first:re===0,last:re===ye-1,even:re%2===0,odd:re%2!==0,props:r},le)},Fe=function(){var re=r.items;return re&&!Tn?o?re.slice(r.appendOnly?0:S.rows,G.rows).map(function(le){return r.columns?le:le.slice(r.appendOnly?0:S.cols,G.cols)}):h&&r.columns?re:re.slice(r.appendOnly?0:S,G):[]},ct=function(){ln.current&&wt.isVisible(ln.current)&&(xn(pn.current),Ht(),kt(),Pn(),It.current=wt.getWidth(ln.current),Mn.current=wt.getHeight(ln.current),En.current=wt.getWidth(pn.current),er.current=wt.getHeight(pn.current))},Ht=function(){r.disabled||(Nr(),Vn(),Ae())};Yf(function(){ct()}),ro(function(){Ht()},[r.itemSize,r.scrollHeight,r.scrollWidth]),ro(function(){r.numToleratedItems!==qe&&Kt(r.numToleratedItems)},[r.numToleratedItems]),ro(function(){r.numToleratedItems===qe&&Ht()},[qe]),ro(function(){(!c.items||c.items.length!==(r.items||[]).length)&&Ht();var ft=Tn;r.lazy&&c.loading!==r.loading&&r.loading!==Tn&&(An(r.loading),ft=r.loading),mr(ft)}),ro(function(){nn.current=o?{top:0,left:0}:0},[r.orientation]),A.useImperativeHandle(t,function(){return{props:r,getElementRef:Rn,scrollTo:nr,scrollToIndex:wn,scrollInView:Qe,getRenderedRange:Gt}});var Jt=function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=Ye(re,le),de=ht.getJSXElement(r.loadingTemplate,ye);return A.createElement(A.Fragment,{key:re},de)},Et=function(){var re="p-virtualscroller-loading-icon",le=Nt({className:re},sn("loadingIcon")),ye=r.loadingIcon||A.createElement(Ex,GS({},le,{spin:!0})),de=Ki.getJSXIcon(ye,Hp({},le),{props:r});if(!r.loaderDisabled&&r.showLoader&&Tn){var se=Or("p-virtualscroller-loader",{"p-component-overlay":!r.loadingTemplate}),He=de;if(r.loadingTemplate)He=Ve.map(function(jt,on){return Jt(on,o&&{numCols:Se.cols})});else if(r.loaderIconTemplate){var tt={iconClassName:re,element:He,props:r};He=ht.getJSXElement(r.loaderIconTemplate,tt)}var ut=Nt({className:se},sn("loader"));return A.createElement("div",ut,He)}return null},Hn=function(){if(r.showSpacer){var re=Nt({ref:Yn,style:Xt.current,className:"p-virtualscroller-spacer"},sn("spacer"));return A.createElement("div",re)}return null},rr=function(re,le){var ye=et(le),de=ht.getJSXElement(r.itemTemplate,re,ye);return A.createElement(A.Fragment,{key:ye.index},de)},Tt=function(){var re=Fe();return re.map(rr)},nt=function(){var re=Tt(),le=Or("p-virtualscroller-content",{"p-virtualscroller-loading":Tn}),ye=Nt({ref:pn,style:Xe.current,className:le},sn("content")),de=A.createElement("div",ye,re);if(r.contentTemplate){var se={style:Xe.current,className:le,spacerStyle:Xt.current,contentRef:function(tt){return pn.current=ht.getRefElement(tt)},spacerRef:function(tt){return Yn.current=ht.getRefElement(tt)},stickyRef:function(tt){return qn.current=ht.getRefElement(tt)},items:Fe(),getItemOptions:function(tt){return et(tt)},children:re,element:de,props:r,loading:Tn,getLoaderOptions:function(tt,ut){return Ye(tt,ut)},loadingTemplate:r.loadingTemplate,itemSize:r.itemSize,rows:xt(),columns:Ze(),vertical:u,horizontal:h,both:o};return ht.getJSXElement(r.contentTemplate,se)}return de};if(r.disabled){var Ct=ht.getJSXElement(r.contentTemplate,{items:r.items,rows:r.items,columns:r.columns});return A.createElement(A.Fragment,null,r.children,Ct)}else{var cn=Or("p-virtualscroller",{"p-virtualscroller-inline":r.inline,"p-virtualscroller-both p-both-scroll":o,"p-virtualscroller-horizontal p-horizontal-scroll":h},r.className),Fn=Et(),ir=nt(),On=Hn(),vr=Nt({ref:ln,className:cn,tabIndex:r.tabIndex,style:r.style,onScroll:function(re){return Ie(re)}},n2.getOtherProps(r),sn("root"));return A.createElement("div",vr,ir,On,Fn)}}));cP.displayName="VirtualScroller";function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tv.apply(this,arguments)}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function Fne(e,t){if(Lm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e){var t=Fne(e,"string");return Lm(t)==="symbol"?t:String(t)}function uP(e,t,n){return t=Nne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bne(e){if(Array.isArray(e))return e}function zne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function cR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $ne(e,t){if(e){if(typeof e=="string")return cR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cR(e,t)}}function jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V0(e,t){return Bne(e)||zne(e,t)||$ne(e,t)||jne()}var r2=zo.extend({defaultProps:{__TYPE:"Dropdown",appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,children:void 0,className:null,clearIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterIcon:null,filterInputAutoFocus:!0,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,id:null,inputId:null,inputRef:null,itemTemplate:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,value:null,valueTemplate:null,virtualScrollerOptions:null}}),HS=A.memo(function(e){var t=function(o){return e.ptm(o,{context:{selected:e.selected,disabled:e.disabled}})},n=function(o){e.onClick&&e.onClick({originalEvent:o,option:e.option})},r=Or("p-dropdown-item",{"p-highlight":e.selected,"p-disabled":e.disabled,"p-dropdown-item-empty":!e.label||e.label.length===0},e.option&&e.option.className),c=e.template?ht.getJSXElement(e.template,e.option):e.label,u=Nt({className:r,style:e.style,onClick:function(o){return n(o)},"aria-label":e.label,role:"option","aria-selected":e.selected,key:e.label},t("item"));return A.createElement("li",u,c,A.createElement(za,null))});HS.displayName="DropdownItem";function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(n),!0).forEach(function(r){uP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var X9=A.memo(A.forwardRef(function(e,t){var n=e.ptm,r=A.useContext($o);A.useRef(null);var c=A.useRef(null),u=!(e.visibleOptions&&e.visibleOptions.length)&&e.hasFilter,h={filter:function(he){return E(he)},reset:function(){return e.resetFilter()}},o=function(){e.onEnter(function(){if(e.virtualScrollerRef.current){var he=e.getSelectedOptionIndex();he!==-1&&setTimeout(function(){return e.virtualScrollerRef.current.scrollToIndex(he)},0)}})},v=function(){e.onEntered(function(){e.filter&&e.filterInputAutoFocus&&wt.focus(c.current,!1)})},E=function(he){e.virtualScrollerRef.current&&e.virtualScrollerRef.current.scrollToIndex(0),e.onFilterInputChange&&e.onFilterInputChange(he)},S=function(){if(e.panelFooterTemplate){var he=ht.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide),Se=Nt({className:"p-dropdown-footer"},n("footer"));return A.createElement("div",Se,he)}return null},k=function(he,Se){var Pe=e.getOptionGroupChildren(he);return Pe.map(function(We,Le){var qe=e.getOptionLabel(We),Kt=Le+"_"+e.getOptionRenderKey(We),Ut=e.isOptionDisabled(We);return A.createElement(HS,{key:Kt,label:qe,option:We,style:Se,template:e.itemTemplate,selected:e.isSelected(We),disabled:Ut,onClick:e.onOptionClick,ptm:n})})},O=function(he,Se){var Pe=ht.getJSXElement(he,e)||qs(Se?"emptyFilterMessage":"emptyMessage"),We=Nt({className:"p-dropdown-empty-message"},n("emptyMessage"));return A.createElement("li",We,Pe)},N=function(he,Se){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},We={height:Pe.props?Pe.props.itemSize:void 0};if(We=Uu(Uu({},We),he.style),e.optionGroupLabel){var Le=e.optionGroupTemplate?ht.getJSXElement(e.optionGroupTemplate,he,Se):e.getOptionGroupLabel(he),qe=k(he,We),Kt=Se+"_"+e.getOptionGroupRenderKey(he),Ut=Nt({className:"p-dropdown-item-group",style:We},n("itemGroup"));return A.createElement(A.Fragment,{key:Kt},A.createElement("li",Ut,Le),qe)}else{var Qt=e.getOptionLabel(he),Tn=Se+"_"+e.getOptionRenderKey(he),An=e.isOptionDisabled(he);return A.createElement(HS,{key:Tn,label:Qt,option:he,style:We,template:e.itemTemplate,selected:e.isSelected(he),disabled:An,onClick:e.onOptionClick,ptm:n})}},G=function(){return ht.isNotEmpty(e.visibleOptions)?e.visibleOptions.map(N):e.hasFilter?O(e.emptyFilterMessage,!0):O(e.emptyMessage)},U=function(){if(e.showFilterClear&&e.filterValue){var he=qs("clear"),Se=Nt({className:"p-dropdown-filter-clear-icon","aria-label":he,onClick:function(){return e.onFilterClearIconClick(function(){return wt.focus(c.current)})}},n("clearIcon")),Pe=e.filterClearIcon||A.createElement(Tx,Se),We=Ki.getJSXIcon(Pe,Uu({},Se),{props:e});return We}return null},H=function(){if(e.filter){var he=U(),Se=Or("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!he}),Pe="p-dropdown-filter-icon",We=Nt({className:Pe},n("filterIcon")),Le=e.filterIcon||A.createElement(q9,We),qe=Ki.getJSXIcon(Le,Uu({},We),{props:e}),Kt=Nt({className:Se},n("filterContainer")),Ut=Nt({ref:c,type:"text",autoComplete:"off",className:"p-dropdown-filter p-inputtext p-component",placeholder:e.filterPlaceholder,onKeyDown:e.onFilterInputKeyDown,onChange:function(_t){return E(_t)},value:e.filterValue},n("filterInput")),Qt=A.createElement("div",Kt,A.createElement("input",Ut),he,qe);if(e.filterTemplate){var Tn={className:Se,element:Qt,filterOptions:h,filterInputKeyDown:e.onFilterInputKeyDown,filterInputChange:E,filterIconClassName:"p-dropdown-filter-icon",clearIcon:he,props:e};Qt=ht.getJSXElement(e.filterTemplate,Tn)}var An=Nt({className:"p-dropdown-header"},n("header"));return A.createElement("div",An,Qt)}return null},q=function(){if(e.virtualScrollerOptions){var he=Uu(Uu({},e.virtualScrollerOptions),{style:Uu(Uu({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),className:Or("p-dropdown-items-wrapper",e.virtualScrollerOptions.className),items:e.visibleOptions,autoSize:!0,onLazyLoad:function(qe){return e.virtualScrollerOptions.onLazyLoad(Uu(Uu({},qe),{filter:e.filterValue}))},itemTemplate:function(qe,Kt){return qe&&N(qe,Kt.index,Kt)},contentTemplate:function(qe){var Kt=Or("p-dropdown-items",qe.className),Ut=e.hasFilter?e.emptyFilterMessage:e.emptyMessage,Qt=u?O(Ut):qe.children,Tn=Nt({ref:qe.contentRef,style:qe.style,className:Kt,role:"listbox"},n("list"));return A.createElement("ul",Tn,Qt)}});return A.createElement(cP,tv({ref:e.virtualScrollerRef},he,{pt:n("virtualScroller")}))}else{var Se=G(),Pe=Nt({className:"p-dropdown-items-wrapper",style:{maxHeight:e.scrollHeight||"auto"}},n("wrapper")),We=Nt({className:"p-dropdown-items",role:"listbox"},n("list"));return A.createElement("div",Pe,A.createElement("ul",We,Se))}},W=function(){var he=Or("p-dropdown-panel p-component",e.panelClassName,{"p-input-filled":r&&r.inputStyle==="filled"||Ai.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||Ai.ripple===!1}),Se=H(),Pe=q(),We=S(),Le=Nt({ref:t,className:he,style:e.panelStyle,onClick:e.onClick},n("panel"));return A.createElement(lP,{nodeRef:t,classNames:"p-connected-overlay",in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:o,onEntering:e.onEntering,onEntered:v,onExit:e.onExit,onExited:e.onExited},A.createElement("div",Le,Se,Pe,We))},Y=W();return A.createElement(Cx,{element:Y,appendTo:e.appendTo})}));X9.displayName="DropdownPanel";function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){uP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vne(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(E){throw E},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u=!0,h=!1,o;return{s:function(){n=n.call(e)},n:function(){var E=n.next();return u=E.done,E},e:function(E){h=!0,o=E},f:function(){try{!u&&n.return!=null&&n.return()}finally{if(h)throw o}}}}function Vne(e,t){if(e){if(typeof e=="string")return fR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fR(e,t)}}function fR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i1=A.memo(A.forwardRef(function(e,t){var n=A.useContext($o),r=r2.getProps(e,n),c=A.useState(""),u=V0(c,2),h=u[0],o=u[1],v=A.useState(!1),E=V0(v,2),S=E[0],k=E[1],O=A.useState(!1),N=V0(O,2),G=N[0],U=N[1],H=r2.setMetaData({props:r,state:{filter:h,focused:S,overlayVisible:G}}),q=H.ptm,W=A.useRef(null),Y=A.useRef(null),ie=A.useRef(r.inputRef),he=A.useRef(r.focusInputRef),Se=A.useRef(null),Pe=A.useRef(null),We=A.useRef(null),Le=A.useRef(null),qe=r.virtualScrollerOptions&&r.virtualScrollerOptions.lazy,Kt=ht.isNotEmpty(h),Ut=r.appendTo||n&&n.appendTo||Ai.appendTo,Qt=F9({target:W,overlay:Y,listener:function(le,ye){var de=ye.type,se=ye.valid;se&&(de==="outside"?!Ve(le)&&Qe():Qe())},when:G}),Tn=V0(Qt,2),An=Tn[0],Vt=Tn[1],_t=function(){if(Kt&&!qe){var le=h.trim().toLocaleLowerCase(r.filterLocale),ye=r.filterBy?r.filterBy.split(","):[r.optionLabel||"label"];if(r.optionGroupLabel){var de=[],se=Une(r.options),He;try{for(se.s();!(He=se.n()).done;){var tt=He.value,ut=xy.filter(Ie(tt),ye,le,r.filterMatchMode,r.filterLocale);ut&&ut.length&&de.push(Wp(Wp({},tt),uP({},"".concat(r.optionGroupChildren),ut)))}}catch(jt){se.e(jt)}finally{se.f()}return de}else return xy.filter(r.options,ye,le,r.filterMatchMode,r.filterLocale)}else return r.options},Ve=function(le){return wt.hasClass(le.target,"p-dropdown-clear-icon")||wt.hasClass(le.target,"p-dropdown-filter-clear-icon")},Rt=function(le){r.disabled||(r.onClick&&r.onClick(le),!le.defaultPrevented&&(wt.hasClass(le.target,"p-dropdown-clear-icon")||le.target.tagName==="INPUT"||(!Y.current||!(Y.current&&Y.current.contains(le.target)))&&(wt.focus(he.current),G?Qe():wn())))},Ge=function(le){r.showOnFocus&&!G&&wn(),k(!0),r.onFocus&&r.onFocus(le)},sn=function(le){k(!1),r.onBlur&&setTimeout(function(){var ye=ie.current?ie.current.value:void 0;r.onBlur({originalEvent:le.originalEvent,value:ye,stopPropagation:function(){le.originalEvent.stopPropagation()},preventDefault:function(){le.originalEvent.preventDefault()},target:{name:r.name,id:r.id,value:ye}})},200)},ln=function(le){If.emit("overlay-click",{originalEvent:le,target:W.current})},pn=function(le){switch(le.which){case 40:nn(le);break;case 38:qn(le);break;case 32:case 13:G?Qe():wn(),le.preventDefault();break;case 27:case 9:Qe();break;default:It(le);break}},Yn=function(le){switch(le.which){case 40:nn(le);break;case 38:qn(le);break;case 13:case 27:Qe(),le.preventDefault();break}},qn=function(le){if(Et){var ye=Xe(kn());ye&&Rn({originalEvent:le,option:ye})}le.preventDefault()},nn=function(le){if(Et)if(!G&&le.altKey)wn();else{var ye=Bt(kn());ye&&Rn({originalEvent:le,option:ye})}le.preventDefault()},Bt=function re(le){if(r.optionGroupLabel){var ye=le===-1?0:le.group,de=le===-1?-1:le.option,se=ot(Ie(Et[ye]),de);return se||(ye+1!==Et.length?re({group:ye+1,option:-1}):null)}return ot(Et,le)},ot=function re(le,ye){var de=ye+1;if(de===le.length)return null;var se=le[de];return te(se)?re(de):se},Xe=function re(le){if(le===-1)return null;if(r.optionGroupLabel){var ye=le.group,de=le.option,se=Xt(Ie(Et[ye]),de);return se||(ye>0?re({group:ye-1,option:Ie(Et[ye-1]).length}):null)}return Xt(Et,le)},Xt=function(le,ye){var de=ye-1;if(de<0)return null;var se=le[de];return te(se)?Xe(de):se},It=function(le){Pe.current&&clearTimeout(Pe.current);var ye=le.key;if(!(ye==="Shift"||ye==="Control"||ye==="Alt")){if(Le.current===ye?We.current=ye:We.current=We.current?We.current+ye:ye,Le.current=ye,We.current){var de=kn(),se=r.optionGroupLabel?er(de):Mn(de+1);se&&Rn({originalEvent:le,option:se})}Pe.current=setTimeout(function(){We.current=null},250)}},Mn=function(le){return We.current?En(le,Et.length)||En(0,le):null},En=function(le,ye){for(var de=le;de<ye;de++){var se=Et[de];if(yn(se))return se}return null},er=function(le){for(var ye=le===-1?{group:0,option:-1}:le,de=ye.group;de<Et.length;de++)for(var se=Ie(Et[de]),He=ye.group===de?ye.option+1:0;He<se.length;He++)if(yn(se[He]))return se[He];for(var tt=0;tt<=ye.group;tt++)for(var ut=Ie(Et[tt]),jt=0;jt<(ye.group===tt?ye.option:ut.length);jt++)if(yn(ut[jt]))return ut[jt];return null},yn=function(le){var ye=yr(le);return ye?(ye=ye.toLocaleLowerCase(r.filterLocale),ye.startsWith(We.current.toLocaleLowerCase(r.filterLocale))):!1},xe=function(le){r.onChange&&r.onChange({originalEvent:le.originalEvent,value:le.target.value,stopPropagation:function(){le.originalEvent.stopPropagation()},preventDefault:function(){le.originalEvent.preventDefault()},target:{name:r.name,id:r.id,value:le.target.value}})},Re=function(le){k(!0),Qe(),r.onFocus&&r.onFocus(le)},lt=function(le){var ye=le.option;ye.disabled||(Rn(le),wt.focus(he.current)),Qe()},kt=function(le){var ye=le.target.value;o(ye),r.onFilter&&r.onFilter({originalEvent:le,filter:ye})},zt=function(le){Wt(le)},Wt=function(le){o(""),r.onFilter&&r.onFilter({filter:""}),le&&le()},Pn=function(le){r.onChange&&r.onChange({originalEvent:le,value:void 0,stopPropagation:function(){le.stopPropagation()},preventDefault:function(){le.preventDefault()},target:{name:r.name,id:r.id,value:void 0}}),dr()},Rn=function(le){if(Hn!==le.option){dr(le.option);var ye=Nr(le.option);r.onChange&&r.onChange({originalEvent:le.originalEvent,value:ye,stopPropagation:function(){le.originalEvent.stopPropagation()},preventDefault:function(){le.originalEvent.preventDefault()},target:{name:r.name,id:r.id,value:ye}})}},kn=function(le){if(le=le||Et,r.value!=null&&le)if(r.optionGroupLabel)for(var ye=0;ye<le.length;ye++){var de=jn(r.value,Ie(le[ye]));if(de!==-1)return{group:ye,option:de}}else return jn(r.value,le);return-1},xn=function(){return r.optionValue?null:r.dataKey},jn=function(le,ye){var de=xn();return ye.findIndex(function(se){return ht.equals(le,Nr(se),de)})},nr=function(le){return ht.equals(r.value,Nr(le),xn())},wn=function(){U(!0)},Qe=function(){U(!1)},xt=function(le){su.set("overlay",Y.current,n&&n.autoZIndex||Ai.autoZIndex,n&&n.zIndex.overlay||Ai.zIndex.overlay),Vn(),le&&le()},Ze=function(le){le&&le(),An(),r.onShow&&r.onShow()},Gt=function(){Vt()},Cn=function(){r.filter&&r.resetFilterOnHide&&Wt(),su.clear(Y.current),r.onHide&&r.onHide()},Vn=function(){wt.alignOverlay(Y.current,ie.current.parentElement,r.appendTo||n&&n.appendTo||Ai.appendTo)},mr=function(){var le=wt.findSingle(Y.current,"li.p-highlight");le&&le.scrollIntoView&&le.scrollIntoView({block:"nearest",inline:"nearest"})},dr=function(le){ie.current&&(ie.current.value=le?yr(le):r.value||"")},yr=function(le){return r.optionLabel?ht.resolveFieldData(le,r.optionLabel):le&&le.label!==void 0?le.label:le},Nr=function(le){return r.optionValue?ht.resolveFieldData(le,r.optionValue):le&&le.value!==void 0?le.value:le},Ae=function(le){return r.dataKey?ht.resolveFieldData(le,r.dataKey):yr(le)},te=function(le){return r.optionDisabled?ht.isFunction(r.optionDisabled)?r.optionDisabled(le):ht.resolveFieldData(le,r.optionDisabled):le&&le.disabled!==void 0?le.disabled:!1},oe=function(le){return ht.resolveFieldData(le,r.optionGroupLabel)},Ce=function(le){return ht.resolveFieldData(le,r.optionGroupLabel)},Ie=function(le){return ht.resolveFieldData(le,r.optionGroupChildren)},Ue=function(){if(r.editable&&ie.current){var le=Hn?yr(Hn):null,ye=le||r.value||"";ie.current.value=ye}},et=function(){var le=kn(r.options);return le!==-1?r.optionGroupLabel?Ie(r.options[le.group])[le.option]:r.options[le]:null};A.useImperativeHandle(t,function(){return{props:r,show:wn,hide:Qe,focus:function(){return wt.focus(he.current)},getElement:function(){return W.current},getOverlay:function(){return Y.current},getInput:function(){return ie.current},getFocusInput:function(){return he.current},getVirtualScroller:function(){return Se.current}}}),A.useEffect(function(){ht.combinedRefs(ie,r.inputRef),ht.combinedRefs(he,r.focusInputRef)},[ie,r.inputRef,he,r.focusInputRef]),Yf(function(){r.autoFocus&&wt.focus(he.current,r.autoFocus)}),ro(function(){G&&r.value&&mr()},[G,r.value]),ro(function(){G&&h&&r.filter&&Vn()},[G,h,r.filter]),ro(function(){h&&(!r.options||r.options.length===0)&&o(""),Ue(),ie.current&&(ie.current.selectedIndex=1)}),mu(function(){su.clear(Y.current)});var Ye=function(){var le={value:"",label:r.placeholder};if(Hn){var ye=Nr(Hn);le={value:Lm(ye)==="object"?r.options.findIndex(function(tt){return tt===ye}):ye,label:yr(Hn)}}var de=Nt({className:"p-hidden-accessible p-dropdown-hidden-select"},q("hiddenSelectedMessage")),se=Nt({ref:ie,required:r.required,defaultValue:le.value,name:r.name,tabIndex:-1,"aria-hidden":"true"},q("select")),He=Nt({value:le.value},q("option"));return A.createElement("div",de,A.createElement("select",se,A.createElement("option",He,le.label)))},Fe=function(){var le=Nt({className:"p-hidden-accessible"},q("hiddenSelectedMessage")),ye=Nt(Wp({ref:he,id:r.inputId,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:Ge,onBlur:sn,onKeyDown:pn,disabled:r.disabled,tabIndex:r.tabIndex},nt),q("input"));return A.createElement("div",le,A.createElement("input",ye))},ct=function(){var le=ht.isNotEmpty(Hn)?yr(Hn):null;if(r.editable){var ye=le||r.value||"",de=Nt(Wp({ref:ie,type:"text",defaultValue:ye,className:"p-dropdown-label p-inputtext",disabled:r.disabled,placeholder:r.placeholder,maxLength:r.maxLength,onInput:xe,onFocus:Re,onBlur:sn,"aria-haspopup":"listbox"},nt),q("input"));return A.createElement("input",de)}else{var se=Or("p-dropdown-label p-inputtext",{"p-placeholder":le===null&&r.placeholder,"p-dropdown-label-empty":le===null&&!r.placeholder}),He=r.valueTemplate?ht.getJSXElement(r.valueTemplate,Hn,r):le||r.placeholder||"empty",tt=Nt({ref:ie,className:se},q("input"));return A.createElement("span",tt,He)}},Ht=function(){if(r.value!=null&&r.showClear&&!r.disabled){var le=Or("p-dropdown-clear-icon p-clickable"),ye=Nt({className:le,onPointerUp:Pn},q("clearIcon")),de=r.clearIcon||A.createElement(Tx,ye);return Ki.getJSXIcon(de,Wp({},ye),{props:r})}return null},Jt=function(){var le=Or("p-dropdown-trigger-icon p-clickable"),ye=Nt({className:le},q("dropdownIcon")),de=r.dropdownIcon||A.createElement(Sx,ye),se=Ki.getJSXIcon(de,Wp({},ye),{props:r}),He=r.placeholder||r.ariaLabel,tt=Nt({className:"p-dropdown-trigger",role:"button","aria-haspopup":"listbox","aria-expanded":G,"aria-label":He},q("trigger"));return A.createElement("div",tt,se)},Et=_t(),Hn=et(),rr=ht.isNotEmpty(r.tooltip),Tt=r2.getOtherProps(r),nt=ht.reduceKeys(Tt,wt.ARIA_PROPS),Ct=Or("p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-focus":S,"p-dropdown-clearable":r.showClear&&!r.disabled,"p-inputwrapper-filled":ht.isNotEmpty(r.value),"p-inputwrapper-focus":S||G},r.className),cn=Ye(),Fn=Fe(),ir=ct(),On=Jt(),vr=Ht(),ft=Nt({id:r.id,ref:W,className:Ct,style:r.style,onClick:function(le){return Rt(le)},onMouseDown:r.onMouseDown,onContextMenu:r.onContextMenu},Tt,q("root"));return A.createElement(A.Fragment,null,A.createElement("div",ft,Fn,cn,ir,vr,On,A.createElement(X9,tv({ref:Y,visibleOptions:Et,virtualScrollerRef:Se},r,{appendTo:Ut,onClick:ln,onOptionClick:lt,filterValue:h,hasFilter:Kt,onFilterClearIconClick:zt,resetFilter:Wt,onFilterInputKeyDown:Yn,onFilterInputChange:kt,getOptionLabel:yr,getOptionRenderKey:Ae,isOptionDisabled:te,getOptionGroupChildren:Ie,getOptionGroupLabel:Ce,getOptionGroupRenderKey:oe,isSelected:nr,getSelectedOptionIndex:kn,in:G,onEnter:xt,onEntered:Ze,onExit:Gt,onExited:Cn,ptm:q}))),rr&&A.createElement(Ym,tv({target:W,content:r.tooltip},r.tooltipOptions,{pt:q("tooltip")})))}));i1.displayName="Dropdown";function Gne(e){if(Array.isArray(e))return e}function Hne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wne(e,t){if(e){if(typeof e=="string")return hR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hR(e,t)}}function Zne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(e,t){return Gne(e)||Hne(e,t)||Wne(e,t)||Zne()}function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Kne(e,t){if(Fm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xne(e){var t=Kne(e,"string");return Fm(t)==="symbol"?t:String(t)}function Cv(e,t,n){return t=Xne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i2=zo.extend({defaultProps:{__TYPE:"Paginator",totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})",children:void 0}}),Yne=zo.extend({defaultProps:{__TYPE:"CurrentPageReport",pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null,children:void 0}}),Jne=zo.extend({defaultProps:{__TYPE:"FirstPageLink",disabled:!1,onClick:null,template:null,firstPageLinkIcon:null,children:void 0}}),Qne=zo.extend({defaultProps:{__TYPE:"JumpToPageInput",page:null,rows:null,pageCount:null,disabled:!1,template:null,onChange:null,children:void 0}}),ere=zo.extend({defaultProps:{__TYPE:"LastPageLink",disabled:!1,onClick:null,template:null,lastPageLinkIcon:null,children:void 0}}),tre=zo.extend({defaultProps:{__TYPE:"NextPageLink",disabled:!1,onClick:null,template:null,nextPageLinkIcon:null,children:void 0}}),nre=zo.extend({defaultProps:{__TYPE:"PageLinks",value:null,page:null,rows:null,pageCount:null,links:null,template:null,children:void 0}}),rre=zo.extend({defaultProps:{__TYPE:"PrevPageLink",disabled:!1,onClick:null,template:null,prevPageLinkIcon:null,children:void 0}}),ire=zo.extend({defaultProps:{__TYPE:"RowsPerPageDropdown",options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null,disabled:!1,children:void 0}});function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){Cv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y9=A.memo(function(e){var t=A.useContext($o),n=Yne.getProps(e,t),r={currentPage:n.page+1,totalPages:n.pageCount,first:Math.min(n.first+1,n.totalRecords),last:Math.min(n.first+n.rows,n.totalRecords),rows:n.rows,totalRecords:n.totalRecords},c=n.reportTemplate.replace("{currentPage}",r.currentPage).replace("{totalPages}",r.totalPages).replace("{first}",r.first).replace("{last}",r.last).replace("{rows}",r.rows).replace("{totalRecords}",r.totalRecords),u=Nt({className:"p-paginator-current"},n.ptm("current")),h=A.createElement("span",u,c);if(n.template){var o=mR(mR({},r),{className:"p-paginator-current",element:h,props:n});return ht.getJSXElement(n.template,o)}return h});Y9.displayName="CurrentPageReport";function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function ore(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){Cv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var J9=A.memo(function(e){var t=A.useContext($o),n=Jne.getProps(e,t),r=function(N){return n.ptm(N,{context:{disabled:n.disabled}})},c=Or("p-paginator-first p-paginator-element p-link",{"p-disabled":n.disabled}),u="p-paginator-icon",h=Nt({className:u},r("firstPageIcon")),o=n.firstPageLinkIcon||A.createElement(z9,h),v=Ki.getJSXIcon(o,ore({},h),{props:n}),E=Nt({type:"button",className:c,onClick:n.onClick,disabled:n.disabled,"aria-label":lu("firstPageLabel")},r("firstPageButton")),S=A.createElement("button",E,v,A.createElement(za,null));if(n.template){var k={onClick:n.onClick,className:c,iconClassName:u,disabled:n.disabled,element:S,props:n};return ht.getJSXElement(n.template,k)}return S});J9.displayName="FirstPageLink";var Q9=A.memo(function(e){var t=A.useContext($o),n=Qne.getProps(e,t),r=function(v){n.onChange&&n.onChange(n.rows*(v.value-1),n.rows)},c=n.pageCount>0?n.page+1:0,u=A.createElement(G9,{value:c,onChange:r,className:"p-paginator-page-input",disabled:n.disabled,pt:n.ptm("JTPInput")});if(n.template){var h={value:c,onChange:r,disabled:n.disabled,className:"p-paginator-page-input",element:u,props:n};return ht.getJSXElement(n.template,h)}return u});Q9.displayName="JumpToPageInput";function yR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function are(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(n),!0).forEach(function(r){Cv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var eF=A.memo(function(e){var t=A.useContext($o),n=ere.getProps(e,t),r=function(N){return n.ptm(N,{context:{disabled:n.disabled}})},c=Or("p-paginator-last p-paginator-element p-link",{"p-disabled":n.disabled}),u="p-paginator-icon",h=Nt({className:u},r("lastPageIcon")),o=n.lastPageLinkIcon||A.createElement(H9,h),v=Ki.getJSXIcon(o,are({},h),{props:n}),E=Nt({type:"button",className:c,onClick:n.onClick,disabled:n.disabled,"aria-label":lu("lastPageLabel")},r("lastPageButton")),S=A.createElement("button",E,v,A.createElement(za,null));if(n.template){var k={onClick:n.onClick,className:c,iconClassName:u,disabled:n.disabled,element:S,props:n};return ht.getJSXElement(n.template,k)}return S});eF.displayName="LastPageLink";function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function sre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(n),!0).forEach(function(r){Cv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tF=A.memo(function(e){var t=A.useContext($o),n=tre.getProps(e,t),r=function(N){return n.ptm(N,{context:{disabled:n.disabled}})},c=Or("p-paginator-next p-paginator-element p-link",{"p-disabled":n.disabled}),u="p-paginator-icon",h=Nt({className:u},r("nextPageIcon")),o=n.nextPageLinkIcon||A.createElement(W9,h),v=Ki.getJSXIcon(o,sre({},h),{props:n}),E=Nt({type:"button",className:c,onClick:n.onClick,disabled:n.disabled,"aria-label":lu("nextPageLabel")},r("nextPageButton")),S=A.createElement("button",E,v,A.createElement(za,null));if(n.template){var k={onClick:n.onClick,className:c,iconClassName:u,disabled:n.disabled,element:S,nextPageLinkIcon:v,props:n};return ht.getJSXElement(n.template,k)}return S});tF.displayName="NextPageLink";var nF=A.memo(function(e){var t=A.useContext($o),n=nre.getProps(e,t),r=function(S,k){return n.ptm(k,{context:{active:S-1===n.page}})},c=function(S,k){n.onClick&&n.onClick({originalEvent:S,value:k}),S.preventDefault()},u;if(n.value){var h=n.value[0],o=n.value[n.value.length-1];u=n.value.map(function(E){var S=Or("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":E===h,"p-paginator-page-end":E===o,"p-highlight":E-1===n.page}),k=Nt({type:"button",onClick:function(U){return c(U,E)},className:S,disabled:n.disabled,"aria-label":lu("pageLabel")},r(E,"pageButton")),O=A.createElement("button",k,E,A.createElement(za,null));if(n.template){var N={onClick:function(U){return c(U,E)},className:S,view:{startPage:h-1,endPage:o-1},page:E-1,currentPage:n.page,totalPages:n.pageCount,element:O,props:n};O=ht.getJSXElement(n.template,N)}return A.createElement(A.Fragment,{key:E},O)})}var v=Nt({className:"p-paginator-pages"},n.ptm("pages"));return A.createElement("span",v,u)});nF.displayName="PageLinks";function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function lre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){Cv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var rF=A.memo(function(e){var t=A.useContext($o),n=rre.getProps(e,t),r=function(N){return n.ptm(N,{context:{disabled:n.disabled}})},c=Or("p-paginator-prev p-paginator-element p-link",{"p-disabled":n.disabled}),u="p-paginator-icon",h=Nt({className:u},r("prevPageIcon")),o=n.prevPageLinkIcon||A.createElement(Z9,h),v=Ki.getJSXIcon(o,lre({},h),{props:n}),E=Nt({type:"button",className:c,onClick:n.onClick,disabled:n.disabled,"aria-label":lu("previousPageLabel")},r("prevPageButton")),S=A.createElement("button",E,v,A.createElement(za,null));if(n.template){var k={onClick:n.onClick,className:c,iconClassName:u,disabled:n.disabled,element:S,props:n};return ht.getJSXElement(n.template,k)}return S});rF.displayName="PrevPageLink";var iF=A.memo(function(e){var t=A.useContext($o),n=ire.getProps(e,t),r=n.options&&n.options.length>0,c=r?n.options.map(function(v){return{label:String(v),value:v}}):[],u=qs("choose"),h=r?A.createElement(i1,{value:n.value,options:c,onChange:n.onChange,appendTo:n.appendTo,disabled:n.disabled,placeholder:u,"aria-label":u,pt:n.ptm("RPPDropdown")}):null;if(n.template){var o={value:n.value,options:c,onChange:n.onChange,appendTo:n.appendTo,currentPage:n.page,totalPages:n.pageCount,totalRecords:n.totalRecords,disabled:n.disabled,element:h,props:n};return ht.getJSXElement(n.template,o)}return h});iF.displayName="RowsPerPageDropdown";var oF=A.memo(A.forwardRef(function(e,t){var n=A.useContext($o),r=i2.getProps(e,n),c=i2.setMetaData({props:r}),u=c.ptm,h=A.useRef(null),o=Math.floor(r.first/r.rows),v=Math.ceil(r.totalRecords/r.rows),E=o===0,S=o===v-1,k=v===0,O=function(){var _t=v,Ve=Math.min(r.pageLinkSize,_t),Rt=Math.max(0,Math.ceil(o-Ve/2)),Ge=Math.min(_t-1,Rt+Ve-1),sn=r.pageLinkSize-(Ge-Rt+1);return Rt=Math.max(0,Rt-sn),[Rt,Ge]},N=function(){for(var _t=[],Ve=O(),Rt=Ve[0],Ge=Ve[1],sn=Rt;sn<=Ge;sn++)_t.push(sn+1);return _t},G=function(_t,Ve){var Rt=v,Ge=Math.floor(_t/Ve);if(Ge>=0&&Ge<Rt){var sn={first:_t,rows:Ve,page:Ge,pageCount:Rt};r.onPageChange&&r.onPageChange(sn)}},U=function(_t){G(0,r.rows),_t.preventDefault()},H=function(_t){G(r.first-r.rows,r.rows),_t.preventDefault()},q=function(_t){G((_t.value-1)*r.rows,r.rows)},W=function(_t){G(r.first+r.rows,r.rows),_t.preventDefault()},Y=function(_t){G((v-1)*r.rows,r.rows),_t.preventDefault()},ie=function(_t){var Ve=_t.value;G(0,Ve)};A.useImperativeHandle(t,function(){return{props:r,getElement:function(){return h.current}}}),ro(function(){o>0&&r.first>=r.totalRecords&&G((v-1)*r.rows,r.rows)},[r.totalRecords]);var he=function(_t,Ve){var Rt;switch(_t){case"FirstPageLink":Rt=A.createElement(J9,{key:_t,onClick:U,disabled:E||k,template:Ve,firstPageLinkIcon:r.firstPageLinkIcon,ptm:u});break;case"PrevPageLink":Rt=A.createElement(rF,{key:_t,onClick:H,disabled:E||k,template:Ve,prevPageLinkIcon:r.prevPageLinkIcon,ptm:u});break;case"NextPageLink":Rt=A.createElement(tF,{key:_t,onClick:W,disabled:S||k,template:Ve,nextPageLinkIcon:r.nextPageLinkIcon,ptm:u});break;case"LastPageLink":Rt=A.createElement(eF,{key:_t,onClick:Y,disabled:S||k,template:Ve,lastPageLinkIcon:r.lastPageLinkIcon,ptm:u});break;case"PageLinks":Rt=A.createElement(nF,{key:_t,value:N(),page:o,rows:r.rows,pageCount:v,onClick:q,template:Ve,ptm:u});break;case"RowsPerPageDropdown":Rt=A.createElement(iF,{key:_t,value:r.rows,page:o,pageCount:v,totalRecords:r.totalRecords,options:r.rowsPerPageOptions,onChange:ie,appendTo:r.dropdownAppendTo,template:Ve,disabled:k,ptm:u});break;case"CurrentPageReport":Rt=A.createElement(Y9,{reportTemplate:r.currentPageReportTemplate,key:_t,page:o,pageCount:v,first:r.first,rows:r.rows,totalRecords:r.totalRecords,template:Ve,ptm:u});break;case"JumpToPageInput":Rt=A.createElement(Q9,{key:_t,rows:r.rows,page:o,pageCount:v,onChange:G,disabled:k,template:Ve,ptm:u});break;default:Rt=null;break}return Rt},Se=function(){var _t=r.template;return _t?Fm(_t)==="object"?_t.layout?_t.layout.split(" ").map(function(Ve){var Rt=Ve.trim();return he(Rt,_t[Rt])}):Object.entries(_t).map(function(Ve){var Rt=qne(Ve,2),Ge=Rt[0],sn=Rt[1];return he(Ge,sn)}):_t.split(" ").map(function(Ve){return he(Ve.trim())}):null};if(!r.alwaysShow&&v<=1)return null;var Pe=Or("p-paginator p-component",r.className),We=ht.getJSXElement(r.leftContent,r),Le=ht.getJSXElement(r.rightContent,r),qe=Se(),Kt=Nt({className:"p-paginator-left-content"},u("left")),Ut=We&&A.createElement("div",Kt,We),Qt=Nt({className:"p-paginator-right-content"},u("end")),Tn=Le&&A.createElement("div",Qt,Le),An=Nt({ref:h,className:Pe,style:r.style},i2.getOtherProps(r),u("root"));return A.createElement("div",An,Ut,qe,Tn)}));oF.displayName="Paginator";function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(this,arguments)}var aF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",WS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"}))}));aF.displayName="BarsIcon";function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZS.apply(this,arguments)}var Ax=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",ZS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));Ax.displayName="CheckIcon";function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qS.apply(this,arguments)}var dP=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e);return A.createElement("svg",qS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))}));dP.displayName="ChevronRightIcon";function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KS.apply(this,arguments)}function cre(e){if(Array.isArray(e))return e}function ure(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dre(e,t){if(e){if(typeof e=="string")return xR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xR(e,t)}}function fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hre(e,t){return cre(e)||ure(e,t)||dre(e,t)||fre()}function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function pre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mre(e,t){if(Kc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gre(e){var t=mre(e,"string");return Kc(t)==="symbol"?t:String(t)}function bR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gre(r.key),r)}}function yre(e,t,n){return t&&bR(e.prototype,t),n&&bR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var vre=function(){function e(){pre(this,e)}return yre(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Kc(n)==="object"&&r&&Kc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Kc(n)=="object"&&Kc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Kc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Kc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),wR=0;function _re(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return wR++,"".concat(e).concat(wR)}var sF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=hre(r,2),u=c[0],h=c[1];return A.useEffect(function(){vre.isEmpty(u)&&h(_re("pr_icon_clip_"))},[u]),A.createElement("svg",KS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));sF.displayName="PencilIcon";function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o1.apply(this,arguments)}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function xre(e,t){if(nv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bre(e){var t=xre(e,"string");return nv(t)==="symbol"?t:String(t)}function sy(e,t,n){return t=bre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o2=zo.extend({defaultProps:{__TYPE:"Button",badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0}});function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function wre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){sy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ly=A.memo(A.forwardRef(function(e,t){var n,r=A.useContext($o),c=o2.getProps(e,r),u=o2.setMetaData({props:c}),h=u.ptm,o=A.useRef(t);if(A.useEffect(function(){ht.combinedRefs(o,t)},[o,t]),c.visible===!1)return null;var v=function(){var Pe=Or("p-button-icon p-c",sy({},"p-button-icon-".concat(c.iconPos),c.label)),We=Nt({className:Pe},h("icon"));Pe=Or(Pe,{"p-button-loading-icon":c.loading});var Le=Nt({className:Pe},h("loadingIcon")),qe=c.loading?c.loadingIcon||A.createElement(Ex,o1({},Le,{spin:!0})):c.icon;return Ki.getJSXIcon(qe,wre({},We),{props:c})},E=function(){if(c.label){var Pe=Nt({className:"p-button-label p-c"},h("label"));return A.createElement("span",Pe,c.label)}return!c.children&&!c.label&&A.createElement("span",{className:"p-button-label p-c",dangerouslySetInnerHTML:{__html:"&nbsp;"}})},S=function(){if(c.badge){var Pe=Or("p-badge",c.badgeClassName),We=Nt({className:Pe},h("badge"));return A.createElement("span",We,c.badge)}return null},k=c.disabled||c.loading,O=!k||c.tooltipOptions&&c.tooltipOptions.showOnDisabled,N=ht.isNotEmpty(c.tooltip)&&O,G={large:"lg",small:"sm"},U=G[c.size],H=Or("p-button p-component",c.className,(n={"p-button-icon-only":(c.icon||c.loading)&&!c.label&&!c.children,"p-button-vertical":(c.iconPos==="top"||c.iconPos==="bottom")&&c.label,"p-disabled":k,"p-button-loading":c.loading,"p-button-outlined":c.outlined,"p-button-raised":c.raised,"p-button-link":c.link,"p-button-text":c.text,"p-button-rounded":c.rounded,"p-button-loading-label-only":c.loading&&!c.icon&&c.label},sy(n,"p-button-loading-".concat(c.iconPos),c.loading&&c.label),sy(n,"p-button-".concat(U),U),sy(n,"p-button-".concat(c.severity),c.severity),n)),q=v(),W=E(),Y=S(),ie=c.label?c.label+(c.badge?" "+c.badge:""):c["aria-label"],he=Nt({ref:o,"aria-label":ie,className:H,disabled:k},o2.getOtherProps(c),h("root"));return A.createElement(A.Fragment,null,A.createElement("button",he,q,W,c.children,Y,A.createElement(za,null)),N&&A.createElement(Ym,o1({target:o,content:c.tooltip},c.tooltipOptions,{pt:h("tooltip")})))}));ly.displayName="Button";function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XS.apply(this,arguments)}function Ere(e){if(Array.isArray(e))return e}function Cre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function CR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sre(e,t){if(e){if(typeof e=="string")return CR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(e,t)}}function Tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(e,t){return Ere(e)||Cre(e,t)||Sre(e,t)||Tre()}function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Pre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ire(e,t){if(Xc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e){var t=Ire(e,"string");return Xc(t)==="symbol"?t:String(t)}function SR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kre(r.key),r)}}function Mre(e,t,n){return t&&SR(e.prototype,t),n&&SR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ore=function(){function e(){Pre(this,e)}return Mre(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Xc(n)==="object"&&r&&Xc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Xc(n)=="object"&&Xc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Xc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Xc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),TR=0;function Rre(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return TR++,"".concat(e).concat(TR)}var lF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=Are(r,2),u=c[0],h=c[1];return A.useEffect(function(){Ore.isEmpty(u)&&h(Rre("pr_icon_clip_"))},[u]),A.createElement("svg",XS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));lF.displayName="FilterIcon";function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(this,arguments)}function Dre(e){if(Array.isArray(e))return e}function Lre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fre(e,t){if(e){if(typeof e=="string")return AR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AR(e,t)}}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bre(e,t){return Dre(e)||Lre(e,t)||Fre(e,t)||Nre()}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function zre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $re(e,t){if(Yc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e){var t=$re(e,"string");return Yc(t)==="symbol"?t:String(t)}function PR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jre(r.key),r)}}function Ure(e,t,n){return t&&PR(e.prototype,t),n&&PR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vre=function(){function e(){zre(this,e)}return Ure(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Yc(n)==="object"&&r&&Yc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Yc(n)=="object"&&Yc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Yc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Yc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),IR=0;function Gre(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return IR++,"".concat(e).concat(IR)}var cF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=Bre(r,2),u=c[0],h=c[1];return A.useEffect(function(){Vre.isEmpty(u)&&h(Gre("pr_icon_clip_"))},[u]),A.createElement("svg",YS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));cF.displayName="FilterSlashIcon";function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JS.apply(this,arguments)}function Hre(e){if(Array.isArray(e))return e}function Wre(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function kR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zre(e,t){if(e){if(typeof e=="string")return kR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(e,t)}}function qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kre(e,t){return Hre(e)||Wre(e,t)||Zre(e,t)||qre()}function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Xre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yre(e,t){if(Jc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e){var t=Yre(e,"string");return Jc(t)==="symbol"?t:String(t)}function MR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jre(r.key),r)}}function Qre(e,t,n){return t&&MR(e.prototype,t),n&&MR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var eie=function(){function e(){Xre(this,e)}return Qre(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Jc(n)==="object"&&r&&Jc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Jc(n)=="object"&&Jc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Jc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Jc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),OR=0;function tie(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return OR++,"".concat(e).concat(OR)}var uF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=Kre(r,2),u=c[0],h=c[1];return A.useEffect(function(){eie.isEmpty(u)&&h(tie("pr_icon_clip_"))},[u]),A.createElement("svg",JS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));uF.displayName="PlusIcon";function QS(){return QS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function nie(e){if(Array.isArray(e))return e}function rie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function RR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iie(e,t){if(e){if(typeof e=="string")return RR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RR(e,t)}}function oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aie(e,t){return nie(e)||rie(e,t)||iie(e,t)||oie()}function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lie(e,t){if(Qc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cie(e){var t=lie(e,"string");return Qc(t)==="symbol"?t:String(t)}function DR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cie(r.key),r)}}function uie(e,t,n){return t&&DR(e.prototype,t),n&&DR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var die=function(){function e(){sie(this,e)}return uie(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&Qc(n)==="object"&&r&&Qc(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&Qc(n)=="object"&&Qc(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?Qc(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&Qc(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),LR=0;function fie(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return LR++,"".concat(e).concat(LR)}var dF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=aie(r,2),u=c[0],h=c[1];return A.useEffect(function(){die.isEmpty(u)&&h(fie("pr_icon_clip_"))},[u]),A.createElement("svg",QS({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));dF.displayName="TrashIcon";function eT(){return eT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eT.apply(this,arguments)}function hie(e){if(Array.isArray(e))return e}function pie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function FR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mie(e,t){if(e){if(typeof e=="string")return FR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FR(e,t)}}function gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yie(e,t){return hie(e)||pie(e,t)||mie(e,t)||gie()}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function vie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ie(e,t){if(eu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xie(e){var t=_ie(e,"string");return eu(t)==="symbol"?t:String(t)}function NR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xie(r.key),r)}}function bie(e,t,n){return t&&NR(e.prototype,t),n&&NR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var wie=function(){function e(){vie(this,e)}return bie(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&eu(n)==="object"&&r&&eu(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&eu(n)=="object"&&eu(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?eu(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&eu(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),BR=0;function Eie(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return BR++,"".concat(e).concat(BR)}var fF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=yie(r,2),u=c[0],h=c[1];return A.useEffect(function(){wie.isEmpty(u)&&h(Eie("pr_icon_clip_"))},[u]),A.createElement("svg",eT({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"}),A.createElement("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"}),A.createElement("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"}),A.createElement("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));fF.displayName="SortAltIcon";function tT(){return tT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tT.apply(this,arguments)}function Cie(e){if(Array.isArray(e))return e}function Sie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function zR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tie(e,t){if(e){if(typeof e=="string")return zR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(e,t)}}function Aie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(e,t){return Cie(e)||Sie(e,t)||Tie(e,t)||Aie()}function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function Iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kie(e,t){if(tu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mie(e){var t=kie(e,"string");return tu(t)==="symbol"?t:String(t)}function $R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mie(r.key),r)}}function Oie(e,t,n){return t&&$R(e.prototype,t),n&&$R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Rie=function(){function e(){Iie(this,e)}return Oie(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&tu(n)==="object"&&r&&tu(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&tu(n)=="object"&&tu(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?tu(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&tu(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),jR=0;function Die(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return jR++,"".concat(e).concat(jR)}var hF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=Pie(r,2),u=c[0],h=c[1];return A.useEffect(function(){Rie.isEmpty(u)&&h(Die("pr_icon_clip_"))},[u]),A.createElement("svg",tT({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M2.59836 13.2009C2.44634 13.2009 2.29432 13.1449 2.1743 13.0248L0.174024 11.0246C-0.0580081 10.7925 -0.0580081 10.4085 0.174024 10.1764C0.406057 9.94441 0.79011 9.94441 1.02214 10.1764L2.59836 11.7527L4.17458 10.1764C4.40662 9.94441 4.79067 9.94441 5.0227 10.1764C5.25473 10.4085 5.25473 10.7925 5.0227 11.0246L3.02242 13.0248C2.90241 13.1449 2.75038 13.2009 2.59836 13.2009Z",fill:"currentColor"}),A.createElement("path",{d:"M2.59836 13.2009C2.27032 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92641 13.2009 2.59836 13.2009Z",fill:"currentColor"}),A.createElement("path",{d:"M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z",fill:"currentColor"}),A.createElement("path",{d:"M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z",fill:"currentColor"}),A.createElement("path",{d:"M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z",fill:"currentColor"}),A.createElement("path",{d:"M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));hF.displayName="SortAmountDownIcon";function nT(){return nT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nT.apply(this,arguments)}function Lie(e){if(Array.isArray(e))return e}function Fie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function UR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nie(e,t){if(e){if(typeof e=="string")return UR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UR(e,t)}}function Bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(e,t){return Lie(e)||Fie(e,t)||Nie(e,t)||Bie()}function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function $ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jie(e,t){if(nu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uie(e){var t=jie(e,"string");return nu(t)==="symbol"?t:String(t)}function VR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uie(r.key),r)}}function Vie(e,t,n){return t&&VR(e.prototype,t),n&&VR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gie=function(){function e(){$ie(this,e)}return Vie(e,null,[{key:"equals",value:function(n,r,c){return c&&n&&nu(n)==="object"&&r&&nu(r)==="object"?this.resolveFieldData(n,c)===this.resolveFieldData(r,c):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&nu(n)=="object"&&nu(r)=="object"){var c=Array.isArray(n),u=Array.isArray(r),h,o,v;if(c&&u){if(o=n.length,o!==r.length)return!1;for(h=o;h--!==0;)if(!this.deepEquals(n[h],r[h]))return!1;return!0}if(c!==u)return!1;var E=n instanceof Date,S=r instanceof Date;if(E!==S)return!1;if(E&&S)return n.getTime()===r.getTime();var k=n instanceof RegExp,O=r instanceof RegExp;if(k!==O)return!1;if(k&&O)return n.toString()===r.toString();var N=Object.keys(n);if(o=N.length,o!==Object.keys(r).length)return!1;for(h=o;h--!==0;)if(!Object.prototype.hasOwnProperty.call(r,N[h]))return!1;for(h=o;h--!==0;)if(v=N[h],!this.deepEquals(n[v],r[v]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(e.isNotEmpty(n[r]))return n[r];if(r.indexOf(".")===-1)return n[r];for(var c=r.split("."),u=n,h=0,o=c.length;h<o;++h){if(u==null)return null;u=u[c[h]]}return u}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"isObject",value:function(n){return n!==null&&n instanceof Object&&n.constructor===Object}},{key:"isLetter",value:function(n){return n&&(n.toUpperCase()!=n.toLowerCase()||n.codePointAt(0)>127)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(c){return!r.hasOwnProperty(c)}).reduce(function(c,u){return c[u]=n[u],c},{})}},{key:"reduceKeys",value:function(n,r){var c={};return!n||!r||r.length===0||Object.keys(n).filter(function(u){return r.some(function(h){return u.startsWith(h)})}).forEach(function(u){c[u]=n[u],delete n[u]}),c}},{key:"reorderArray",value:function(n,r,c){n&&r!==c&&(c>=n.length&&(c%=n.length,r%=n.length),n.splice(c,0,n.splice(r,1)[0]))}},{key:"findIndexInList",value:function(n,r,c){var u=this;return r?c?r.findIndex(function(h){return u.equals(h,n,c)}):r.findIndex(function(h){return h===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=n?n[r]:void 0;return u===void 0?c[r]:u}},{key:"getMergedProps",value:function(n,r){return Object.assign({},r,n)}},{key:"getDiffProps",value:function(n,r){return this.findDiffKeys(n,r)}},{key:"getPropValue",value:function(n){for(var r=arguments.length,c=new Array(r>1?r-1:0),u=1;u<r;u++)c[u-1]=arguments[u];return this.isFunction(n)?n.apply(void 0,c):n}},{key:"getComponentProp",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(n)?this.getProp(n.props,r,c):void 0}},{key:"getComponentProps",value:function(n,r){return this.isNotEmpty(n)?this.getMergedProps(n.props,r):void 0}},{key:"getComponentDiffProps",value:function(n,r){return this.isNotEmpty(n)?this.getDiffProps(n.props,r):void 0}},{key:"isValidChild",value:function(n,r,c){if(n){var u=this.getComponentProp(n,"__TYPE")||(n.type?n.type.displayName:void 0),h=u===r;try{var o}catch{}return h}return!1}},{key:"getRefElement",value:function(n){return n?nu(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"combinedRefs",value:function(n,r){n&&r&&(typeof r=="function"?r(n.current):r.current=n.current)}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"convertToFlatCase",value:function(n){return this.isNotEmpty(n)&&typeof n=="string"?n.replace(/(-|_)/g,"").toLowerCase():n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&nu(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3?arguments[3]:void 0,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=e.compare(n,r,u,c),v=c;return(e.isEmpty(n)||e.isEmpty(r))&&(v=h===1?c:h),v*o}},{key:"compare",value:function(n,r,c){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,h=-1,o=e.isEmpty(n),v=e.isEmpty(r);return o&&v?h=0:o?h=u:v?h=-u:typeof n=="string"&&typeof r=="string"?h=n.localeCompare(r,c,{numeric:!0}):h=n<r?-1:n>r?1:0,h}}]),e}(),GR=0;function Hie(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return GR++,"".concat(e).concat(GR)}var pF=A.memo(A.forwardRef(function(e,t){var n=Xi.getPTI(e),r=A.useState(e.id),c=zie(r,2),u=c[0],h=c[1];return A.useEffect(function(){Gie.isEmpty(u)&&h(Hie("pr_icon_clip_"))},[u]),A.createElement("svg",nT({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),A.createElement("g",{clipPath:"url(#".concat(u,")")},A.createElement("path",{d:"M4.59864 3.99958C4.44662 3.99958 4.2946 3.94357 4.17458 3.82356L2.59836 2.24734L1.02214 3.82356C0.79011 4.05559 0.406057 4.05559 0.174024 3.82356C-0.0580081 3.59152 -0.0580081 3.20747 0.174024 2.97544L2.1743 0.97516C2.40634 0.743127 2.79039 0.743127 3.02242 0.97516L5.0227 2.97544C5.25473 3.20747 5.25473 3.59152 5.0227 3.82356C4.90268 3.94357 4.75066 3.99958 4.59864 3.99958Z",fill:"currentColor"}),A.createElement("path",{d:"M2.59841 13.2009C2.27036 13.2009 1.99833 12.9288 1.99833 12.6008V1.39922C1.99833 1.07117 2.27036 0.799133 2.59841 0.799133C2.92646 0.799133 3.19849 1.07117 3.19849 1.39922V12.6008C3.19849 12.9288 2.92646 13.2009 2.59841 13.2009Z",fill:"currentColor"}),A.createElement("path",{d:"M13.3999 11.2006H6.99902C6.67098 11.2006 6.39894 10.9285 6.39894 10.6005C6.39894 10.2725 6.67098 10.0004 6.99902 10.0004H13.3999C13.728 10.0004 14 10.2725 14 10.6005C14 10.9285 13.728 11.2006 13.3999 11.2006Z",fill:"currentColor"}),A.createElement("path",{d:"M10.1995 6.39991H6.99902C6.67098 6.39991 6.39894 6.12788 6.39894 5.79983C6.39894 5.47179 6.67098 5.19975 6.99902 5.19975H10.1995C10.5275 5.19975 10.7996 5.47179 10.7996 5.79983C10.7996 6.12788 10.5275 6.39991 10.1995 6.39991Z",fill:"currentColor"}),A.createElement("path",{d:"M8.59925 3.99958H6.99902C6.67098 3.99958 6.39894 3.72754 6.39894 3.3995C6.39894 3.07145 6.67098 2.79941 6.99902 2.79941H8.59925C8.92729 2.79941 9.19933 3.07145 9.19933 3.3995C9.19933 3.72754 8.92729 3.99958 8.59925 3.99958Z",fill:"currentColor"}),A.createElement("path",{d:"M11.7997 8.80025H6.99902C6.67098 8.80025 6.39894 8.52821 6.39894 8.20017C6.39894 7.87212 6.67098 7.60008 6.99902 7.60008H11.7997C12.1277 7.60008 12.3998 7.87212 12.3998 8.20017C12.3998 8.52821 12.1277 8.80025 11.7997 8.80025Z",fill:"currentColor"})),A.createElement("defs",null,A.createElement("clipPath",{id:u},A.createElement("rect",{width:"14",height:"14",fill:"white"}))))}));pF.displayName="SortAmountUpAltIcon";function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(this,arguments)}function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function Wie(e,t){if(rv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zie(e){var t=Wie(e,"string");return rv(t)==="symbol"?t:String(t)}function il(e,t,n){return t=Zie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qie(e){if(Array.isArray(e))return rT(e)}function Kie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mF(e,t){if(e){if(typeof e=="string")return rT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(e,t)}}function Xie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function na(e){return qie(e)||Kie(e)||mF(e)||Xie()}function Yie(e){if(Array.isArray(e))return e}function Jie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,c,u,h,o=[],v=!0,E=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;v=!1}else for(;!(v=(r=u.call(n)).done)&&(o.push(r.value),o.length!==t);v=!0);}catch(S){E=!0,c=S}finally{try{if(!v&&n.return!=null&&(h=n.return(),Object(h)!==h))return}finally{if(E)throw c}}return o}}function Qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Li(e,t){return Yie(e)||Jie(e,t)||mF(e,t)||Qie()}var Pi=zo.extend({defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:null,rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(t,n){return ht.getComponentProp(t,n,Pi.defaultProps)},getCProps:function(t){return ht.getComponentProps(t,Pi.defaultProps)},getCOtherProps:function(t){return ht.getComponentDiffProps(t,Pi.defaultProps)}}),a2=zo.extend({defaultProps:{__TYPE:"DataTable",alwaysShowPaginator:!0,breakpoint:"960px",cellClassName:null,cellSelection:!1,checkIcon:null,className:null,collapsedRowIcon:null,columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:null,editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:null,expandedRows:null,exportFilename:"download",exportFunction:null,filterClearIcon:null,filterDelay:300,filterDisplay:"menu",filterIcon:null,filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:li.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:null,metaKeySelection:!0,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderIndicatorDownIcon:null,reorderIndicatorUpIcon:null,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"scroll",rowClassName:null,rowEditValidator:null,rowEditorCancelIcon:null,rowEditorInitIcon:null,rowEditorSaveIcon:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showHeaders:!0,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortIcon:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null,children:void 0}});function eoe(e,t){if(e==null)return{};var n={},r=Object.keys(e),c,u;for(u=0;u<r.length;u++)c=r[u],!(t.indexOf(c)>=0)&&(n[c]=e[c]);return n}function toe(e,t){if(e==null)return{};var n=eoe(e,t),r,c;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(c=0;c<u.length;c++)r=u[c],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function noe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gF=A.memo(function(e){var t=A.useState(!1),n=Li(t,2),r=n[0],c=n[1],u=function(){return Pi.getCProps(e.column)},h=function(he){return e.ptCallbacks.ptmo(Pi.getCProp(e.column,"pt"),he,{props:u(),parent:e.metaData,context:{checked:e.checked,disabled:e.disabled},state:{focused:r}})},o=function(){c(!0)},v=function(){c(!1)},E=function(he){e.disabled||(c(!0),e.onChange(he))},S=function(he){(he.code==="Space"||he.key===" ")&&(E(he),he.preventDefault())},k=Or("p-checkbox p-component",{"p-checkbox-focused":r,"p-disabled":e.disabled}),O=Or("p-checkbox-box p-component",{"p-highlight":e.checked,"p-focus":r}),N="p-checkbox-icon",G=Nt({className:N},h("checkboxIcon")),U=e.checked?e.checkIcon||A.createElement(Ax,G):null,H=Ki.getJSXIcon(U,noe({},G),{props:e}),q=e.disabled?null:"0",W=Nt({className:k,onClick:function(he){return E(he)}},h("checkboxWrapper")),Y=Nt({className:O,role:"checkbox","aria-checked":e.checked,tabIndex:q,onKeyDown:function(he){return S(he)},onFocus:function(he){return o()},onBlur:function(he){return v()},"aria-label":e.ariaLabel},h("checkbox"));return A.createElement("div",W,A.createElement("div",Y,H))});gF.displayName="RowCheckbox";var yF=A.memo(function(e){var t=A.useState(!1),n=Li(t,2),r=n[0],c=n[1],u=A.useRef(null),h=function(){return Pi.getCProps(e.column)},o=function(Se){return e.ptCallbacks.ptmo(Pi.getCProp(e.column,"pt"),Se,{props:h(),parent:e.metaData,context:{checked:e.checked,disabled:e.disabled},state:{focused:r}})},v=function(){c(!0)},E=function(){c(!1)},S=function(Se){e.disabled||(e.onChange(Se),wt.focus(u.current))},k=function(Se){(Se.code==="Space"||Se.key===" ")&&(S(Se),Se.preventDefault())},O=function(Se){S(Se)},N=Or("p-radiobutton p-component",{"p-radiobutton-focused":r,"p-disabled":e.disabled}),G=Or("p-radiobutton-box p-component",{"p-highlight":e.checked,"p-focus":r}),U="".concat(e.tableSelector,"_dt_radio"),H=Nt({className:N},o("radiobuttonWrapper")),q=Nt({className:"p-hidden-accessible"},o("hiddenInputWrapper")),W=Nt({name:U,type:"radio",checked:e.checked,onFocus:function(Se){return v()},onBlur:function(Se){return E()},onChange:function(Se){return O(Se)},onKeyDown:function(Se){return k(Se)},"aria-label":e.ariaLabel},o("hiddenInput")),Y=Nt({className:G,onClick:function(Se){return S(Se)},role:"radio","aria-checked":e.checked},o("radiobutton")),ie=Nt({className:"p-radiobutton-icon"},o("radiobuttonIcon"));return A.createElement("div",H,A.createElement("div",q,A.createElement("input",Bo({ref:u},W))),A.createElement("div",Y,A.createElement("div",ie)))});yF.displayName="RowRadioButton";function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var vF=A.memo(function(e){var t=A.useState(e.editing),n=Li(t,2),r=n[0],c=n[1],u=A.useState(e.rowData),h=Li(u,2),o=h[0],v=h[1],E=A.useState({}),S=Li(E,2),k=S[0],O=S[1],N=A.useRef(null),G=A.useRef(null),U=A.useRef(null),H=A.useRef(!1),q=A.useRef(null),W=A.useRef(null),Y=function(Ze){return Pi.getCProp(e.column,Ze)},ie=function(Ze){return Pi.getCProps(Ze)},he=function(Ze){var Gt=ie(e.column);return e.ptCallbacks.ptmo(Y("pt"),Ze,{props:Gt,parent:e.metaData,state:{styleObject:k,editing:r,editingRowData:o}})},Se=Y("field")||"field_".concat(e.index),Pe=e.dataKey&&e.rowData&&e.rowData[e.dataKey]||e.rowIndex,We=Jh({type:"click",listener:function(Ze){!H.current&&Vt(Ze.target)&&nn(Ze,!0),H.current=!1},options:!0}),Le=Li(We,2),qe=Le[0],Kt=Le[1];e.editMode==="row"&&e.editing!==r&&c(e.editing);var Ut=function(){return Y("editor")},Qt=function(){return e.selection?e.selection instanceof Array?Yn(e.selection)>-1:An(e.selection):!1},Tn=function(Ze){return e.compareSelectionBy==="equals"?Ze===e.rowData:ht.equals(Ze,e.rowData,e.dataKey)},An=function(Ze){return Ze&&(Ze.rowIndex===e.rowIndex||Tn(Ze.rowData))&&(Ze.field===Se||Ze.cellIndex===e.index)},Vt=function(Ze){return N.current&&!(N.current.isSameNode(Ze)||N.current.contains(Ze))},_t=function(Ze){return e.virtualScrollerOptions?e.virtualScrollerOptions[Ze]:null},Ve=function(){var Ze=Y("bodyStyle"),Gt=Y("style");return Y("frozen")?Object.assign({},Gt,Ze,k):Object.assign({},Gt,Ze)},Rt=function(){return{value:sn(),field:Se,rowData:e.rowData,rowIndex:e.rowIndex,cellIndex:e.index,selected:Qt(),column:e.column,props:e}},Ge=function(Ze){var Gt=Rt();return Zs({originalEvent:Ze},Gt)},sn=function(Ze){return ht.resolveFieldData(Ze||e.rowData,Se)},ln=function(){return e.editingMeta&&e.editingMeta[Pe]?e.editingMeta[Pe].data:e.rowData},pn=function(Ze){return e.allowCellSelection?Ze?0:e.rowIndex===0&&e.index===0?e.tabIndex:-1:null},Yn=function(Ze){return(Ze||[]).findIndex(function(Gt){return An(Gt)})},qn=function(Ze){var Gt=Ge(Ze),Cn=Y("onBeforeCellEditHide");Cn&&Cn(Gt),setTimeout(function(){c(!1),Kt(),If.off("overlay-click",U.current),U.current=null,H.current=!1},1)},nn=function(Ze,Gt){var Cn=Ge(Ze),Vn=o,mr=sn(Vn),dr=Zs(Zs({},Cn),{},{newRowData:Vn,newValue:mr}),yr=Y("onCellEditCancel"),Nr=Y("cellEditValidator"),Ae=Y("onCellEditComplete");!Gt&&yr&&yr(dr);var te=!0;Nr&&(te=Nr(dr)),te?(Gt&&Ae&&Ae(dr),qn(Ze)):Ze.preventDefault()},Bt=function xt(Ze){var Gt=Ze.nextElementSibling;return Gt?wt.hasClass(Gt,"p-selectable-cell")?Gt:xt(Gt):null},ot=function xt(Ze){var Gt=Ze.previousElementSibling;return Gt?wt.hasClass(Gt,"p-selectable-cell")?Gt:xt(Gt):null},Xe=function xt(Ze){var Gt=Ze.parentElement.nextElementSibling,Cn=Gt?Gt.children[e.index]:null;return Gt&&Cn?wt.hasClass(Gt,"p-selectable-row")&&wt.hasClass(Cn,"p-selectable-cell")?Cn:xt(Cn):null},Xt=function xt(Ze){var Gt=Ze.parentElement.previousElementSibling,Cn=Gt?Gt.children[e.index]:null;return Gt&&Cn?wt.hasClass(Gt,"p-selectable-row")&&wt.hasClass(Cn,"p-selectable-cell")?Cn:xt(Cn):null},It=function(Ze,Gt){Ze&&Gt&&(Ze.tabIndex=-1,Gt.tabIndex=e.tabIndex)},Mn=function(){clearTimeout(q.current),q.current=setTimeout(function(){if(r){var Ze=e.editMode==="cell"?wt.getFirstFocusableElement(N.current,":not(.p-cell-editor-key-helper)"):wt.findSingle(N.current,".p-row-editor-save");Ze&&Ze.focus()}G.current&&(G.current.tabIndex=r?-1:0)},1)},En=function(){clearTimeout(W.current),W.current=setTimeout(function(){var Ze=e.editMode==="row"?wt.findSingle(N.current,".p-row-editor-init"):null;Ze&&Ze.focus()},1)},er=function(){if(Y("frozen")){var Ze=Zs({},k),Gt=Y("alignFrozen");if(Gt==="right"){var Cn=0,Vn=N.current&&N.current.nextElementSibling;Vn&&(Cn=wt.getOuterWidth(Vn)+parseFloat(Vn.style.right||0)),Ze.right=Cn+"px"}else{var mr=0,dr=N.current&&N.current.previousElementSibling;dr&&(mr=wt.getOuterWidth(dr)+parseFloat(dr.style.left||0)),Ze.left=mr+"px"}var yr=k.left===Ze.left&&k.right===Ze.right;!yr&&O(Ze)}},yn=function(Ze){var Gt=Zs({},o);Gt[Se]=Ze,v(Gt);var Cn=ln();Cn&&(Cn[Se]=Ze)},xe=function(Ze){var Gt=Ge(Ze);if(e.editMode!=="row"&&Ut()&&!r&&(e.selectOnEdit||!e.selectOnEdit&&e.selected)){H.current=!0;var Cn=Y("onBeforeCellEditShow"),Vn=Y("onCellEditInit"),mr=Y("cellEditValidatorEvent");if(Cn&&(Cn(Gt)===!1||Ze&&Ze.defaultPrevented))return;setTimeout(function(){c(!0),!(Vn&&(Vn(Gt)===!1||Ze&&Ze.defaultPrevented))&&mr==="click"&&(qe(),U.current=function(dr){Vt(dr.target)||(H.current=!0)},If.on("overlay-click",U.current))},1)}e.allowCellSelection&&e.onClick&&e.onClick(Gt)},Re=function(Ze){var Gt=Ge(Ze);e.onMouseDown&&e.onMouseDown(Gt)},lt=function(Ze){var Gt=Ge(Ze);e.onMouseUp&&e.onMouseUp(Gt)},kt=function(Ze){if(e.editMode!=="row"&&((Ze.which===13||Ze.which===9)&&nn(Ze,!0),Ze.which===27&&nn(Ze,!1)),e.allowCellSelection){var Gt=Ze.target,Cn=Ze.currentTarget;switch(Ze.which){case 37:var Vn=ot(Cn);Vn&&(It(Cn,Vn),Vn.focus()),Ze.preventDefault();break;case 39:var mr=Bt(Cn);mr&&(It(Cn,mr),mr.focus()),Ze.preventDefault();break;case 38:var dr=Xt(Cn);dr&&(It(Cn,dr),dr.focus()),Ze.preventDefault();break;case 40:var yr=Xe(Cn);yr&&(It(Cn,yr),yr.focus()),Ze.preventDefault();break;case 13:wt.isClickable(Gt)||(xe(Ze),Ze.preventDefault());break;case 32:!wt.isClickable(Gt)&&!Gt.readOnly&&(xe(Ze),Ze.preventDefault());break}}},zt=function(Ze){H.current=!1,e.editMode!=="row"&&r&&Y("cellEditValidatorEvent")==="blur"&&nn(Ze,!0)},Wt=function(Ze){xe(Ze)},Pn=function(Ze){e.onRadioChange({originalEvent:Ze,data:e.rowData,index:e.rowIndex})},Rn=function(Ze){e.onCheckboxChange({originalEvent:Ze,data:e.rowData,index:e.rowIndex})},kn=function(Ze){e.onRowToggle({originalEvent:Ze,data:e.rowData}),Ze.preventDefault()},xn=function(Ze){e.onRowEditInit({originalEvent:Ze,data:e.rowData,newData:ln(),field:Se,index:e.rowIndex})},jn=function(Ze){e.onRowEditSave({originalEvent:Ze,data:e.rowData,newData:ln(),field:Se,index:e.rowIndex}),En()},nr=function(Ze){e.onRowEditCancel({originalEvent:Ze,data:e.rowData,newData:ln(),field:Se,index:e.rowIndex}),En()};A.useEffect(function(){Y("frozen")&&er(),(e.editMode==="cell"||e.editMode==="row")&&Mn()}),ro(function(){(e.editMode==="cell"||e.editMode==="row")&&v(ln())},[e.editingMeta]),A.useEffect(function(){if(e.editMode==="cell"||e.editMode==="row"){var xt=Ge(),Ze=Zs(Zs({},xt),{},{editing:r,editingKey:Pe});e.onEditingMetaChange(Ze)}},[r]),mu(function(){U.current&&(If.off("overlay-click",U.current),U.current=null)});var wn=function(){var Ze=_t("getLoaderOptions")(e.rowIndex,{cellIndex:e.index,cellFirst:e.index===0,cellLast:e.index===_t("columns").length-1,cellEven:e.index%2===0,cellOdd:e.index%2!==0,column:e.column,field:Se}),Gt=ht.getJSXElement(_t("loadingTemplate"),Ze),Cn=Nt(he("bodyCell"));return A.createElement("td",Cn,Gt)},Qe=function(){var Ze,Gt,Cn=e.allowCellSelection&&Qt(),Vn=e.editMode==="row",mr=pn(Cn),dr=Y("selectionMode"),yr=Y("rowReorder"),Nr=Y("rowEditor"),Ae=Y("header"),te=Y("body"),oe=Y("editor"),Ce=Y("frozen"),Ie=Y("align"),Ue=sn(),et={column:e.column,field:Se,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps},Ye=ht.getPropValue(Y("expander"),e.rowData,et),Fe=ht.getPropValue(e.cellClassName,Ue,et),ct=ht.getPropValue(Y("bodyClassName"),e.rowData,et),Ht=Or(ct,Y("className"),Fe,il({"p-selection-column":dr!==null,"p-editable-column":oe,"p-cell-editing":oe&&r,"p-frozen-column":Ce,"p-selectable-cell":e.allowCellSelection&&e.isSelectable({data:Rt(),index:e.rowIndex}),"p-highlight":Cn},"p-align-".concat(Ie),!!Ie)),Jt=Ve(),Et=Nt({className:"p-column-title"},Y("columnTitle")),Hn=e.responsiveLayout==="stack"&&A.createElement("span",Et,ht.getJSXElement(Ae,{props:e.tableProps}));if(dr){var rr=e.showSelectionElement?e.showSelectionElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,Tt;if(rr){var nt=e.selectionAriaLabel||e.tableProps.dataKey,Ct=ht.resolveFieldData(e.rowData,nt);Tt="".concat(e.selected?lu("unselectLabel"):lu("selectLabel")," ").concat(Ct)}Ze=rr&&A.createElement(A.Fragment,null,dr==="single"&&A.createElement(yF,{column:e.column,checked:e.selected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:Pn,tabIndex:e.tabIndex,tableSelector:e.tableSelector,ariaLabel:Tt,ptCallbacks:e.ptCallbacks,metaData:e.metaData}),dr==="multiple"&&A.createElement(gF,{column:e.column,checked:e.selected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:Rn,tabIndex:e.tabIndex,ariaLabel:Tt,checkIcon:e.checkIcon,ptCallbacks:e.ptCallbacks,metaData:e.metaData}))}else if(yr){var cn=e.showRowReorderElement?e.showRowReorderElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,Fn="p-datatable-reorderablerow-handle",ir=Nt({className:Fn},Y("rowReorderIcon")),On=Y("rowReorderIcon")||A.createElement(aF,ir);Ze=cn&&Ki.getJSXIcon(On,Zs({},ir),{props:e})}else if(Ye){var vr=Nt({className:"p-row-toggler-icon","aria-hidden":!0},Y("rowTogglerIcon")),ft=e.expanded?e.expandedRowIcon||A.createElement(Sx,vr):e.collapsedRowIcon||A.createElement(dP,vr),re=Ki.getJSXIcon(ft,Zs({},vr),{props:e}),le="".concat(e.tableSelector,"_content_").concat(e.rowIndex,"_expanded"),ye=e.selectionAriaLabel||e.tableProps.dataKey,de=ht.resolveFieldData(e.rowData,ye),se="".concat(e.expanded?lu("collapseLabel"):lu("expandLabel")," ").concat(de),He={onClick:kn,className:"p-row-toggler p-link"},tt=Nt(Zs(Zs({},He),{},{type:"button","aria-expanded":e.expanded,"aria-controls":le,tabIndex:e.tabIndex,"aria-label":se}),he("rowToggler"));Ze=A.createElement("button",tt,re,A.createElement(za,null)),te&&(He.element=Ze,Ze=ht.getJSXElement(te,e.rowData,{column:e.column,field:Se,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,expander:He}))}else if(Vn&&Nr){var ut={},jt="p-row-editor-save-icon",on="p-row-editor-cancel-icon",Xn="p-row-editor-init-icon",Rr=Nt({className:jt},Y("rowEditorSaveIconProps")),Fr=Nt({className:on},Y("rowEditorCancelIconProps")),Ur=Nt({className:Xn},Y("rowEditorInitIconProps")),xr=Ki.getJSXIcon(e.rowEditorSaveIcon||A.createElement(Ax,Rr),Zs({},Rr),{props:e}),Br=Ki.getJSXIcon(e.rowEditorCancelIcon||A.createElement(Tx,Fr),Zs({},Fr),{props:e}),vt=Ki.getJSXIcon(e.rowEditorInitIcon||A.createElement(sF,Ur),Zs({},Ur),{props:e});if(r){ut={editing:!0,onSaveClick:jn,saveClassName:"p-row-editor-save p-link",onCancelClick:nr,cancelClassName:"p-row-editor-cancel p-link"};var vi=Nt({type:"button",name:"row-save",onClick:ut.onSaveClick,className:ut.saveClassName,tabIndex:e.tabIndex},he("rowEditorSaveButtonProps")),Vr=Nt({type:"button",name:"row-cancel",onClick:ut.onCancelClick,className:ut.cancelClassName,tabIndex:e.tabIndex},he("rowEditorCancelButtonProps"));Ze=A.createElement(A.Fragment,null,A.createElement("button",vi,xr,A.createElement(za,null)),A.createElement("button",Vr,Br,A.createElement(za,null)))}else{ut={editing:!1,onInitClick:xn,initClassName:"p-row-editor-init p-link"};var Zr=Nt({type:"button",name:"row-edit",onClick:ut.onInitClick,className:ut.initClassName,tabIndex:e.tabIndex},he("rowEditorInitButtonProps"));Ze=A.createElement("button",Zr,vt,A.createElement(za,null))}te&&(ut.element=Ze,Ze=ht.getJSXElement(te,e.rowData,{column:e.column,field:Se,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,rowEditor:ut}))}else te&&(!r||!oe)?Ze=te?ht.getJSXElement(te,e.rowData,{column:e.column,field:Se,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps}):Ue:oe&&r?Ze=ht.getJSXElement(oe,{rowData:o,value:sn(o),column:e.column,field:Se,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,editorCallback:yn}):Ze=Ue;if(Ze=typeof Ze=="boolean"?Ze.toString():Ze,!Vn&&oe){var sa=Nt({tabIndex:"0",className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(br){return Wt(br)}},he("editorKeyHelperLabel")),Ui=Nt(he("editorKeyHelper"));Gt=A.createElement("a",Bo({ref:G},sa),A.createElement("span",Ui))}var jo=Nt({style:Jt,className:Ht,rowSpan:e.rowSpan,tabIndex:mr,role:"cell",onClick:function(br){return xe(br)},onKeyDown:function(br){return kt(br)},onBlur:function(br){return zt(br)},onMouseDown:function(br){return Re(br)},onMouseUp:function(br){return lt(br)}},he("bodyCell"),he("root"));return A.createElement("td",Bo({ref:N},jo),Gt,Hn,Ze)};return _t("loading")?wn():Qe()});vF.displayName="BodyCell";function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function roe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _F=A.memo(function(e){var t=A.useState(!1),n=Li(t,2),r=n[0],c=n[1],u=e.onRowEditChange?e.editing:r,h=function(Xe){return Pi.getCProps(Xe)},o=function(Xe){var Xt=h(e.column);return e.ptCallbacks.ptmo(Xt,Xe,{props:Xt,parent:e.metaData,state:{editing:r}})},v=function(Xe,Xt){return Pi.getCProp(Xe,Xt)},E=function(){return e.selectionMode&&e.selectionModeInColumn!=="single"&&e.selectionModeInColumn!=="multiple"},S=function(Xe){var Xt=v(Xe,"field");return e.groupRowsBy&&Xt?Array.isArray(e.groupRowsBy)?e.groupRowsBy.indexOf(Xt)>-1:e.groupRowsBy===Xt:!1},k=function(Xe,Xt){return e.compareSelectionBy==="equals"?Xe===Xt:ht.equals(Xe,Xt,e.dataKey)},O=function(){return E()&&!e.allowCellSelection?e.rowIndex===0?e.tabIndex:-1:null},N=function(Xe,Xt){return(Xe||[]).findIndex(function(It){return k(Xt,It)})},G=function(Xe,Xt){Xe&&Xt&&(Xe.tabIndex=-1,Xt.tabIndex=e.tabIndex)},U=function ot(Xe){var Xt=Xe.nextElementSibling;return Xt?wt.hasClass(Xt,"p-selectable-row")?Xt:ot(Xt):null},H=function ot(Xe){var Xt=Xe.previousElementSibling;return Xt?wt.hasClass(Xt,"p-selectable-row")?Xt:ot(Xt):null},q=function(Xe,Xt,It){if(v(Xt,"hidden"))return!1;if(e.rowGroupMode&&e.rowGroupMode==="rowspan"&&S(Xt)){var Mn=Xe[It-1];if(Mn){var En=ht.resolveFieldData(Xe[It],v(Xt,"field")),er=ht.resolveFieldData(Mn,v(Xt,"field"));return En!==er}}return!0},W=function(Xe,Xt,It){if(S(Xt)){for(var Mn=ht.resolveFieldData(Xe[It],v(Xt,"field")),En=Mn,er=0;Mn===En;){er++;var yn=Xe[++It];if(yn)En=ht.resolveFieldData(yn,v(Xt,"field"));else break}return er===1?null:er}else return null},Y=function(Xe){e.onRowClick({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},ie=function(Xe){e.onRowDoubleClick({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},he=function(Xe){e.onRowRightClick({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Se=function(Xe){e.onRowMouseEnter({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Pe=function(Xe){e.onRowMouseLeave({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},We=function(Xe){e.onRowTouchEnd(Xe)},Le=function(Xe){if(E()&&!e.allowCellSelection){var Xt=Xe.target,It=Xe.currentTarget;switch(Xe.which){case 40:var Mn=U(It);Mn&&(G(It,Mn),Mn.focus()),Xe.preventDefault();break;case 38:var En=H(It);En&&(G(It,En),En.focus()),Xe.preventDefault();break;case 13:wt.isClickable(Xt)||(Y(Xe),Xe.preventDefault());break;case 32:!wt.isClickable(Xt)&&!Xt.readOnly&&(Y(Xe),Xe.preventDefault());break}}},qe=function(Xe){e.onRowMouseDown({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Kt=function(Xe){e.onRowMouseUp({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Ut=function(Xe){e.onRowDragStart({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Qt=function(Xe){e.onRowDragOver({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Tn=function(Xe){e.onRowDragLeave({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},An=function(Xe){e.onRowDragEnd({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},Vt=function(Xe){e.onRowDrop({originalEvent:Xe,data:e.rowData,index:e.rowIndex})},_t=function(Xe,Xt){if(e.onRowEditChange){var It,Mn=e.dataKey,En=Xe.originalEvent,er=Xe.data,yn=Xe.index,xe=Xe.newData;if(Mn){var Re=String(ht.resolveFieldData(er,Mn));if(It=e.editingRows?roe({},e.editingRows):{},Xt)It[Re]=!0;else{delete It[Re];var lt=String(ht.resolveFieldData(xe,Mn));delete It[lt]}}else{var kt=N(e.editingRows,er);It=e.editingRows?na(e.editingRows):[],kt!==-1?It=It.filter(function(zt,Wt){return Wt!==kt}):It.push(er)}e.onRowEditChange({originalEvent:En,data:It,index:yn})}else c(Xt)},Ve=function(Xe){var Xt=Xe.originalEvent;e.onRowEditInit&&e.onRowEditInit({originalEvent:Xt,data:e.rowData,index:e.rowIndex}),_t(Xe,!0),Xt.preventDefault()},Rt=function(Xe){var Xt=Xe.originalEvent,It=Xe.newData,Mn=e.rowEditValidator?e.rowEditValidator(It,{props:e.tableProps}):!0;e.onRowEditSave&&e.onRowEditSave({originalEvent:Xt,data:e.rowData,index:e.rowIndex,valid:Mn}),Mn&&(e.onRowEditComplete&&e.onRowEditComplete(Xe),_t(Xe,!1)),Xt.preventDefault()},Ge=function(Xe){var Xt=Xe.originalEvent;e.onRowEditCancel&&e.onRowEditCancel({originalEvent:Xt,data:e.rowData,index:e.rowIndex}),_t(Xe,!1),Xt.preventDefault()},sn=function(){return e.columns.map(function(Xe,Xt){if(q(e.value,Xe,e.index)){var It="".concat(e.rowIndex,"_").concat(v(Xe,"columnKey")||v(Xe,"field"),"_").concat(Xt),Mn=e.rowGroupMode==="rowspan"?W(e.value,Xe,e.index):null;return A.createElement(vF,{key:It,allowCellSelection:e.allowCellSelection,cellClassName:e.cellClassName,checkIcon:e.checkIcon,collapsedRowIcon:e.collapsedRowIcon,column:Xe,compareSelectionBy:e.compareSelectionBy,dataKey:e.dataKey,editMode:e.editMode,editing:u,editingMeta:e.editingMeta,expanded:e.expanded,expandedRowIcon:e.expandedRowIcon,frozenRow:e.frozenRow,index:Xt,isSelectable:e.isSelectable,onCheckboxChange:e.onCheckboxChange,onClick:e.onCellClick,onEditingMetaChange:e.onEditingMetaChange,onMouseDown:e.onCellMouseDown,onMouseUp:e.onCellMouseUp,onRadioChange:e.onRadioChange,onRowEditCancel:Ge,onRowEditInit:Ve,onRowEditSave:Rt,onRowToggle:e.onRowToggle,responsiveLayout:e.responsiveLayout,rowData:e.rowData,rowEditorCancelIcon:e.rowEditorCancelIcon,rowEditorInitIcon:e.rowEditorInitIcon,rowEditorSaveIcon:e.rowEditorSaveIcon,rowIndex:e.rowIndex,rowSpan:Mn,selectOnEdit:e.selectOnEdit,selected:e.selected,selection:e.selection,selectionAriaLabel:e.tableProps.selectionAriaLabel,showRowReorderElement:e.showRowReorderElement,showSelectionElement:e.showSelectionElement,tabIndex:e.tabIndex,tableProps:e.tableProps,tableSelector:e.tableSelector,value:e.value,virtualScrollerOptions:e.virtualScrollerOptions,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}return null})},ln=ht.getPropValue(e.rowClassName,e.rowData,{props:e.tableProps}),pn=Or(ln,{"p-highlight":!e.allowCellSelection&&e.selected||e.contextMenuSelected,"p-highlight-contextmenu":e.contextMenuSelected,"p-selectable-row":e.allowRowSelection&&e.isSelectable({data:e.rowData,index:e.rowIndex}),"p-row-odd":e.rowIndex%2!==0}),Yn={height:e.virtualScrollerOptions?e.virtualScrollerOptions.itemSize:void 0},qn=sn(),nn=O(),Bt=Nt({role:"row",tabIndex:nn,className:pn,style:Yn,onMouseDown:function(Xe){return qe(Xe)},onMouseUp:function(Xe){return Kt(Xe)},onMouseEnter:function(Xe){return Se(Xe)},onMouseLeave:function(Xe){return Pe(Xe)},onClick:function(Xe){return Y(Xe)},onDoubleClick:function(Xe){return ie(Xe)},onContextMenu:function(Xe){return he(Xe)},onTouchEnd:function(Xe){return We(Xe)},onKeyDown:function(Xe){return Le(Xe)},onDragStart:function(Xe){return Ut(Xe)},onDragOver:function(Xe){return Qt(Xe)},onDragLeave:function(Xe){return Tn(Xe)},onDragEnd:function(Xe){return An(Xe)},onDrop:function(Xe){return Vt(Xe)}},o("row"));return A.createElement("tr",Bt,qn)});_F.displayName="BodyRow";function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function ioe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var xF=A.memo(function(e){var t=function(S){e.onClick({originalEvent:S,data:e.rowData})},n=function(){return Pi.getCProps(e.column)},r=function(S){return e.ptCallbacks.ptmo(Pi.getCProp(e.column,"pt"),S,{props:n(),parent:e.metaData})},c=Nt({className:"p-row-toggler-icon","aria-hidden":!0},r("rowGroupTogglerIcon")),u=e.expanded?e.expandedRowIcon||A.createElement(Sx,c):e.collapsedRowIcon||A.createElement(dP,c),h=Ki.getJSXIcon(u,ioe({},c),{props:e}),o=e.expanded?lu("collapseLabel"):lu("expandLabel"),v=Nt({type:"button",onClick:function(S){return t(S)},className:"p-row-toggler p-link",tabIndex:e.tabIndex,"aria-label":o},r("rowGroupToggler"));return A.createElement("button",v,h,A.createElement(za,null))});xF.displayName="RowTogglerButton";var ooe=["originalEvent"];function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var m_=A.memo(A.forwardRef(function(e,t){var n=A.useState({}),r=Li(n,2),c=r[0],u=r[1],h=function(re){return Pi.getCProps(re)},o=function(re){var le=h(e.column);return e.ptCallbacks.ptmo(le,re,{props:le,parent:e.metaData,state:{rowGroupHeaderStyleObject:c}})},v=A.useRef(null),E=A.useCallback(function(ft){v.current=ft,e.virtualScrollerContentRef&&e.virtualScrollerContentRef(ft)},[e]),S=A.useRef(null),k=A.useRef(null),O=A.useRef(null),N=A.useRef(null),G=A.useRef(null),U=A.useRef(null),H=A.useRef(!1),q=A.useRef(!1),W=A.useRef(null),Y=A.useRef(null),ie=e.rowGroupMode&&e.rowGroupMode==="subheader",he=e.selectionMode==="radiobutton",Se=e.selectionMode==="checkbox",Pe=e.selectionModeInColumn==="single",We=e.selectionModeInColumn==="multiple",Le=function(re,le){return ot()?(re.rowIndex===le.rowIndex||re.rowData===le.rowData)&&(re.field===le.field||re.cellIndex===le.cellIndex):e.compareSelectionBy==="equals"?re===le:ht.equals(re,le,e.dataKey)},qe=function(){return e.selectionMode||e.selectionModeInColumn!==null||e.columns&&e.columns.some(function(re){return re&&!!Xt(re,"selectionMode")})},Kt=function(){return e.selectionMode==="single"&&!We||!he&&Pe},Ut=function(){return e.selectionMode==="multiple"&&!Pe||We},Qt=function(){return he&&Pe},Tn=function(){return Se&&We},An=function(re){return re&&e.selection?e.selection instanceof Array?Mn(e.selection,re)>-1:Le(re,e.selection):!1},Vt=function(re){return re&&e.contextMenuSelection?Le(re,e.contextMenuSelection):!1},_t=function(re){return e.isDataSelectable?e.isDataSelectable(re):!0},Ve=function(re){if(re&&e.expandedRows){if(ie&&e.expandableRowGroups)return Rt(re);if(e.dataKey){var le=ht.resolveFieldData(re,e.dataKey),ye=!1;return e.expandedRows&&(Array.isArray(e.expandedRows)?ye=e.expandedRows.some(function(de){return ht.resolveFieldData(de,e.dataKey)===le}):ye=e.expandedRows[le]!==void 0),ye}else return Mn(e.expandedRows,re)!==-1}return!1},Rt=function(re){return e.dataKey===e.groupRowsBy?Object.keys(e.expandedRows).some(function(le){return ht.equals(le,ht.resolveFieldData(re,e.dataKey))}):e.expandedRows.some(function(le){return ht.equals(le,re,e.groupRowsBy)})},Ge=function(re){return e.editMode==="row"&&re&&e.editingRows?e.dataKey?e.editingRows?e.editingRows[ht.resolveFieldData(re,e.dataKey)]!==void 0:!1:Mn(e.editingRows,re)!==-1:!1},sn=function(re){return e.dragSelection&&Ut()&&!re.originalEvent.shiftKey},ln=function(re){return!ot()&&sn(re)||e.reorderableRows},pn=function(re){return ot()&&sn(re)},Yn=function(re){return!wt.isClickable(re.originalEvent.target)},qn=function(re){return!H.current&&(!e.metaKeySelection||e.metaKeySelection&&(re.originalEvent.metaKey||re.originalEvent.ctrlKey))},nn=function(re){return Ut()&&re.originalEvent.shiftKey&&O.current!==null},Bt=function(){return(e.selectionMode||e.selectionModeInColumn)&&!Qt()&&!Tn()},ot=function(){return e.cellSelection&&!Pe&&!We},Xe=function(){return e.columns?e.columns.length:0},Xt=function(re,le){return Pi.getCProp(re,le)},It=function(re,le){return le=le||e.virtualScrollerOptions,le?le[re]:null},Mn=function(re,le){return(re||[]).findIndex(function(ye){return Le(le,ye)})},En=function(){return e.scrollable?{top:c.top}:null},er=function(re,le){return e.dataKey?ht.resolveFieldData(re,e.dataKey):le},yn=function(re,le,ye){var de=ht.resolveFieldData(le,e.groupRowsBy),se=re[ye-1];if(se){var He=ht.resolveFieldData(se,e.groupRowsBy);return de!==He}else return!0},xe=function(re,le,ye,de){if(e.expandableRowGroups&&!de)return!1;var se=ht.resolveFieldData(le,e.groupRowsBy),He=re[ye+1];if(He){var tt=ht.resolveFieldData(He,e.groupRowsBy);return se!==tt}else return!0},Re=function(){v.current.style.top=wt.getOuterHeight(v.current.previousElementSibling)+"px"},lt=function(){var re=wt.getOuterHeight(v.current.previousElementSibling),le=re+"px";c.top!==le&&u({top:le})},kt=function(re){var le=re.originalEvent,ye=re.data,de=re.index,se=re.toggleable,He=re.type;if(_t({data:ye,index:de})){var tt=An(ye),ut=e.selection;tt?se&&(ut=null,jn({originalEvent:le,data:ye,type:He})):(ut=ye,xn({originalEvent:le,data:ye,type:He})),wn(le,!0),e.onSelectionChange&&ut!==e.selection&&e.onSelectionChange({originalEvent:le,value:ut,type:He})}},zt=function(re){var le=re.originalEvent,ye=re.data,de=re.index,se=re.toggleable,He=re.type;if(_t({data:ye,index:de})){var tt=An(ye),ut=e.selection||[];if(tt)if(se){var jt=Mn(ut,ye);ut=e.selection.filter(function(on,Xn){return Xn!==jt}),jn({originalEvent:le,data:ye,type:He})}else ut.length&&(e.selection.forEach(function(on){return jn({originalEvent:le,data:on,type:He})}),ut=[ye],xn({originalEvent:le,data:ye,type:He}));else ut=se&&Ut()?[].concat(na(ut),[ye]):[ye],xn({originalEvent:le,data:ye,type:He});wn(le,!0),e.onSelectionChange&&ut!==e.selection&&e.onSelectionChange({originalEvent:le,value:ut,type:He})}},Wt=function(re,le){wt.clearSelection(),G.current=ot()?re.rowIndex:re.index;var ye=Pn(re);e.onSelectionChange&&ye!==e.selection&&e.onSelectionChange({originalEvent:re.originalEvent,value:ye,type:le}),O.current=G.current,N.current=re.cellIndex,wn(re.originalEvent,!1)},Pn=function(re){var le,ye;return G.current>O.current?(le=O.current,ye=G.current):G.current<O.current?(le=G.current,ye=O.current):le=ye=G.current,e.paginator&&(le=Math.max(le-e.first,0),ye-=e.first),ot()?kn(re,le,ye):Rn(re,le,ye)},Rn=function(re,le,ye){for(var de=e.value,se=[],He=le;He<=ye;He++){var tt=de[He];_t({data:tt,index:He})&&(se.push(tt),xn({originalEvent:re.originalEvent,data:tt,type:"row"}))}return se},kn=function(re,le,ye){var de,se,He=re.cellIndex;He>N.current?(de=N.current,se=He):He<N.current?(de=He,se=N.current):de=se=He;for(var tt=e.value,ut=[],jt=le;jt<=ye;jt++)for(var on=tt[jt],Xn=e.columns,Rr=e.paginator?jt+e.first:jt,Fr=de;Fr<=se;Fr++){var Ur=Xt(Xn[Fr],"field"),xr=ht.resolveFieldData(on,Ur),Br={value:xr,field:Ur,rowData:on,rowIndex:Rr,cellIndex:Fr,selected:!0};_t({data:Br,index:jt})&&(ut.push(Br),xn({originalEvent:re.originalEvent,data:Br,type:"cell"}))}return ut},xn=function(re){ot()?e.onCellSelect&&e.onCellSelect(Tl(Tl({originalEvent:re.originalEvent},re.data),{},{type:re.type})):e.onRowSelect&&e.onRowSelect(re)},jn=function(re){ot()?e.onCellUnselect&&e.onCellUnselect(Tl(Tl({originalEvent:re.originalEvent},re.data),{},{type:re.type})):e.onRowUnselect&&e.onRowUnselect(re)},nr=function(re){e.dragSelection&&!S.current&&(S.current=document.createElement("div"),wt.addClass(S.current,"p-datatable-drag-selection-helper"),k.current={x:re.clientX,y:re.clientY},S.current.style.top="".concat(re.pageY,"px"),S.current.style.left="".concat(re.pageX,"px"),Et())},wn=function(re,le){var ye=re.currentTarget;if(!ot()&&e.selectionAutoFocus){if(We){var de=wt.findSingle(ye,"td.p-selection-column .p-checkbox-box");de&&de.focus()}else if(Pe){var se=wt.findSingle(ye,'td.p-selection-column input[type="radio"]');se&&se.focus()}}!le&&ye&&ye.focus()},Qe=function(re,le){var ye=re.currentTarget,de=wt.hasClass(ye,le==="cell"?"p-selectable-cell":"p-selectable-row");if(de){var se=le==="cell"?"tr > td":"tr",He=wt.findSingle(v.current,"".concat(se,'[tabindex="').concat(e.tabIndex,'"]'));He&&ye&&(He.tabIndex=-1,ye.tabIndex=e.tabIndex)}},xt=function(re){if(!(ot()||!Yn(re))){if(e.onRowClick&&e.onRowClick(re),Bt()){if(nn(re))Wt(re,"row");else{var le=Pe||We||qn(re);O.current=re.index,G.current=re.index,U.current=e.first,Kt()?kt(Tl(Tl({},re),{},{toggleable:le,type:"row"})):zt(Tl(Tl({},re),{},{toggleable:le,type:"row"}))}Qe(re.originalEvent,"row")}else wn(re.originalEvent);H.current=!1}},Ze=function(re){var le=re.originalEvent;wt.isClickable(le.target)||e.onRowDoubleClick&&e.onRowDoubleClick(re)},Gt=function(re){(e.onContextMenu||e.onContextMenuSelectionChange)&&(wt.clearSelection(),e.onContextMenuSelectionChange&&e.onContextMenuSelectionChange({originalEvent:re.originalEvent,value:re.data}),e.onContextMenu&&e.onContextMenu({originalEvent:re.originalEvent,data:re.data}),re.originalEvent.preventDefault())},Cn=function(re){e.onRowMouseEnter&&e.onRowMouseEnter(re)},Vn=function(re){e.onRowMouseLeave&&e.onRowMouseLeave(re)},mr=function(){H.current=!0},dr=function(re){var le=re.originalEvent;wt.hasClass(le.target,"p-datatable-reorderablerow-handle")?le.currentTarget.draggable=!0:le.currentTarget.draggable=!1,ln(re)&&(nr(le),O.current=re.index,G.current=re.index,U.current=e.first)},yr=function(re){var le=re.index===O.current;ln(re)&&!le&&Wt(re,"row")},Nr=function(re){var le,ye=e.dataKey,de=e.groupRowsBy?ye===e.groupRowsBy:!!ye;if(de){var se=String(ht.resolveFieldData(re.data,ye));le=e.expandedRows?Tl({},e.expandedRows):{},le[se]!=null?(delete le[se],e.onRowCollapse&&e.onRowCollapse({originalEvent:re,data:re.data})):(le[se]=!0,e.onRowExpand&&e.onRowExpand({originalEvent:re,data:re.data}))}else{var He=Mn(e.expandedRows,re.data);le=e.expandedRows?na(e.expandedRows):[],He!==-1?(le=le.filter(function(tt,ut){return ut!==He}),e.onRowCollapse&&e.onRowCollapse({originalEvent:re,data:re.data})):(le.push(re.data),e.onRowExpand&&e.onRowExpand({originalEvent:re,data:re.data}))}e.onRowToggle&&e.onRowToggle({data:le})},Ae=function(re){var le=re.originalEvent,ye=re.index;ln(le)&&(q.current=!0,W.current=ye,le.dataTransfer.setData("text","b"))},te=function(re){var le=re.originalEvent,ye=re.index;if(q.current&&W.current!==ye){var de=le.currentTarget,se=wt.getOffset(de).top+wt.getWindowScrollTop(),He=le.pageY+window.scrollY,tt=se+wt.getOuterHeight(de)/2,ut=de.previousElementSibling;He<tt?(wt.removeClass(de,"p-datatable-dragpoint-bottom"),Y.current=ye,ut?wt.addClass(ut,"p-datatable-dragpoint-bottom"):wt.addClass(de,"p-datatable-dragpoint-top")):(ut?wt.removeClass(ut,"p-datatable-dragpoint-bottom"):wt.addClass(de,"p-datatable-dragpoint-top"),Y.current=ye+1,wt.addClass(de,"p-datatable-dragpoint-bottom"))}le.preventDefault()},oe=function(re){var le=re.originalEvent,ye=le.currentTarget,de=ye.previousElementSibling;de&&wt.removeClass(de,"p-datatable-dragpoint-bottom"),wt.removeClass(ye,"p-datatable-dragpoint-bottom"),wt.removeClass(ye,"p-datatable-dragpoint-top")},Ce=function(re){var le=re.originalEvent;q.current=!1,W.current=null,Y.current=null,le.currentTarget.draggable=!1},Ie=function(re){var le=re.originalEvent;if(Y.current!=null){var ye=W.current>Y.current?Y.current:Y.current===0?0:Y.current-1,de=na(e.tableProps.value);ht.reorderArray(de,W.current,ye),e.onRowReorder&&e.onRowReorder({originalEvent:le,value:de,dragIndex:W.current,dropIndex:ye})}oe(re),Ce(re),le.preventDefault()},Ue=function(re){kt(Tl(Tl({},re),{},{toggleable:!0,type:"radio"}))},et=function(re){zt(Tl(Tl({},re),{},{toggleable:!0,type:"checkbox"}))},Ye=function(re){var le=k.current,ye=le.x,de=le.y,se=re.clientX-ye,He=re.clientY-de;He<0&&(S.current.style.top="".concat(re.pageY+5,"px")),se<0&&(S.current.style.left="".concat(re.pageX+5,"px")),S.current.style.height="".concat(Math.abs(He),"px"),S.current.style.width="".concat(Math.abs(se),"px"),re.preventDefault()},Fe=function ft(){S.current&&(S.current.remove(),S.current=null),document.removeEventListener("mousemove",Ye),document.removeEventListener("mouseup",ft)},ct=function(re){if(Yn(re)){if(e.onCellClick&&e.onCellClick(re),ot()){if(nn(re))Wt(re,"cell");else{var le=qn(re),ye=re.originalEvent,de=toe(re,ooe);O.current=re.rowIndex,G.current=re.rowIndex,U.current=e.first,N.current=re.cellIndex,Kt()?kt({originalEvent:ye,data:de,index:re.rowIndex,toggleable:le,type:"cell"}):zt({originalEvent:ye,data:de,index:re.rowIndex,toggleable:le,type:"cell"})}Qe(re.originalEvent,"cell")}H.current=!1}},Ht=function(re){pn(re)&&(nr(re.originalEvent),O.current=re.rowIndex,G.current=re.rowIndex,U.current=e.first,N.current=re.cellIndex)},Jt=function(re){var le=re.rowIndex===O.current&&re.cellIndex===N.current;pn(re)&&!le&&Wt(re,"cell")},Et=function(){document.addEventListener("mousemove",Ye),document.addEventListener("mouseup",Fe),document.body.appendChild(S.current)},Hn=function(){Fe()};A.useEffect(function(){e.frozenRow&&Re(),e.scrollable&&e.rowGroupMode==="subheader"&&lt()}),ro(function(){e.paginator&&Ut()&&(O.current=null)},[e.first]),mu(function(){e.dragSelection&&Hn()});var rr=function(){if(!e.loading){var re=Xe(),le=ht.getJSXElement(e.emptyMessage,{props:e.tableProps,frozen:e.frozenRow})||qs("emptyMessage"),ye=Nt({className:"p-datatable-emptymessage",role:"row"},o("emptyMessage")),de=Nt({colSpan:re,role:"cell"},o("bodyCell"),o("root"));return A.createElement("tr",ye,A.createElement("td",de,le))}return null},Tt=function(re,le,ye,de){if(ie&&yn(e.value,re,le-e.first)){var se=En(),He=e.expandableRowGroups&&A.createElement(xF,{onClick:Nr,rowData:re,expanded:ye,expandedRowIcon:e.expandedRowIcon,collapsedRowIcon:e.collapsedRowIcon,ptCallbacks:e.ptCallbacks,metaData:e.metaData}),tt={index:le,props:e.tableProps,customRendering:!1},ut=ht.getJSXElement(e.rowGroupHeaderTemplate,re,tt);if(!tt.customRendering){var jt=Nt({colSpan:de},o("bodyCell"),o("root")),on=Nt({className:"p-rowgroup-header-name"},o("rowgroupHeaderName"));ut=A.createElement("td",jt,He,A.createElement("span",on,ut))}var Xn=Nt({className:"p-rowgroup-header",style:se,role:"row"},o("rowgroupHeader"));return A.createElement("tr",Xn,ut)}return null},nt=function(re,le,ye,de){if(!e.expandableRowGroups||de){var se=qe()?An(re):!1,He=Vt(re),tt=Bt(),ut=ot(),jt=Ge(re);return A.createElement(_F,{allowCellSelection:ut,allowRowSelection:tt,cellClassName:e.cellClassName,checkIcon:e.checkIcon,collapsedRowIcon:e.collapsedRowIcon,columns:e.columns,compareSelectionBy:e.compareSelectionBy,contextMenuSelected:He,dataKey:e.dataKey,editMode:e.editMode,editing:jt,editingMeta:e.editingMeta,editingRows:e.editingRows,expanded:de,expandedRowIcon:e.expandedRowIcon,frozenRow:e.frozenRow,groupRowsBy:e.groupRowsBy,index:ye,isSelectable:_t,onCellClick:ct,onCellMouseDown:Ht,onCellMouseUp:Jt,onCheckboxChange:et,onEditingMetaChange:e.onEditingMetaChange,onRadioChange:Ue,onRowClick:xt,onRowDoubleClick:Ze,onRowDragEnd:Ce,onRowDragLeave:oe,onRowDragOver:te,onRowDragStart:Ae,onRowDrop:Ie,onRowEditCancel:e.onRowEditCancel,onRowEditChange:e.onRowEditChange,onRowEditComplete:e.onRowEditComplete,onRowEditInit:e.onRowEditInit,onRowEditSave:e.onRowEditSave,onRowMouseDown:dr,onRowMouseEnter:Cn,onRowMouseLeave:Vn,onRowMouseUp:yr,onRowRightClick:Gt,onRowToggle:Nr,onRowTouchEnd:mr,responsiveLayout:e.responsiveLayout,rowClassName:e.rowClassName,rowData:re,rowEditValidator:e.rowEditValidator,rowEditorCancelIcon:e.rowEditorCancelIcon,rowEditorInitIcon:e.rowEditorInitIcon,rowEditorSaveIcon:e.rowEditorSaveIcon,rowGroupMode:e.rowGroupMode,rowIndex:le,selectOnEdit:e.selectOnEdit,selected:se,selection:e.selection,selectionMode:e.selectionMode,selectionModeInColumn:e.selectionModeInColumn,showRowReorderElement:e.showRowReorderElement,showSelectionElement:e.showSelectionElement,tabIndex:e.tabIndex,tableProps:e.tableProps,tableSelector:e.tableSelector,value:e.value,virtualScrollerOptions:e.virtualScrollerOptions,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}},Ct=function(re,le,ye,de){if(ye&&!(ie&&e.expandableRowGroups)){var se="".concat(e.tableSelector,"_content_").concat(le,"_expanded"),He={index:le,customRendering:!1},tt=ht.getJSXElement(e.rowExpansionTemplate,re,He);if(!He.customRendering){var ut=Nt({colSpan:de,role:"cell"},o("bodyCell"),o("root"));tt=A.createElement("td",ut,tt)}var jt=Nt({id:se,className:"p-datatable-row-expansion",role:"row"},o("rowExpansion"));return A.createElement("tr",jt,tt)}return null},cn=function(re,le,ye,de){if(ie&&xe(e.value,re,le-e.first,ye)){var se=ht.getJSXElement(e.rowGroupFooterTemplate,re,{index:le,colSpan:de,props:e.tableProps}),He=Nt({className:"p-rowgroup-footer",role:"row"},o("rowgroupFooter"));return A.createElement("tr",He,se)}return null},Fn=function(){return e.value&&e.value.map(function(re,le){var ye=It("getItemOptions")?It("getItemOptions")(le).index:e.first+le,de=er(re,ye),se=Ve(re),He=Xe(),tt=Tt(re,ye,se,He),ut=nt(re,ye,le,se),jt=Ct(re,ye,se,He),on=cn(re,ye,se,He);return A.createElement(A.Fragment,{key:de},tt,ut,jt,on)})},ir=e.empty?rr():Fn(),On=e.className==="p-datatable-virtualscroller-spacer"?"virtualScrollerSpacer":"tbody",vr=Nt({style:e.style,className:e.className},o(On));return A.createElement("tbody",Bo({ref:E},vr),ir)}));m_.displayName="TableBody";var iu=zo.extend({defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(t,n){return ht.getComponentProp(t,n,iu.defaultProps)},getCProps:function(t){return ht.getComponentProps(t,iu.defaultProps)}}),fP=zo.extend({defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getCProp:function(t,n){return ht.getComponentProp(t,n,fP.defaultProps)}});function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function aoe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var bF=A.memo(function(e){var t=A.useState({}),n=Li(t,2),r=n[0],c=n[1],u=A.useRef(null),h=function(){return Pi.getCProps(e.column)},o=function(Y){return e.ptCallbacks.ptmo(Pi.getCProp(e.column,"pt"),Y,{props:h(),parent:e.metaData,state:{styleObject:r}})},v=function(Y){return Pi.getCProp(e.column,Y)},E=function(){var Y=v("footerStyle"),ie=v("style");return v("frozen")?Object.assign({},ie,Y,r):Object.assign({},ie,Y)},S=function(){if(v("frozen")){var Y=aoe({},r),ie=v("alignFrozen");if(ie==="right"){var he=0,Se=u.current.nextElementSibling;Se&&(he=wt.getOuterWidth(Se)+parseFloat(Se.style.right||0)),Y.right=he+"px"}else{var Pe=0,We=u.current.previousElementSibling;We&&(Pe=wt.getOuterWidth(We)+parseFloat(We.style.left||0)),Y.left=Pe+"px"}var Le=r.left===Y.left&&r.right===Y.right;!Le&&c(Y)}};A.useEffect(function(){v("frozen")&&S()});var k=E(),O=v("align"),N=v("colSpan"),G=v("rowSpan"),U=Or(v("footerClassName"),v("className"),il({"p-frozen-column":v("frozen")},"p-align-".concat(O),!!O)),H=ht.getJSXElement(v("footer"),{props:e.tableProps}),q=Nt({style:k,className:U,role:"cell",colSpan:N,rowSpan:G},o("footerCell"),o("root"));return A.createElement("td",Bo({ref:u},q),H)});bF.displayName="FooterCell";var wF=A.memo(function(e){var t=function(N){return iu.getCProps(N)},n=function(){return e.footerColumnGroup?e.ptCallbacks.ptmo(iu.getCProps(e.footerColumnGroup)):void 0},r=function(N,G){var U=t(N);return e.ptCallbacks.ptmo(iu.getCProp(N,"pt"),G,{props:U,parent:e.metaData})},c=function(N){return e.ptCallbacks.ptmo(iu.getCProp(e.footerColumnGroup,"pt")),{props:n(),parent:e.metaData}},u=function(){return e.footerColumnGroup?!0:e.columns?e.columns.some(function(N){return N&&h(N,"footer")}):!1},h=function(N,G){return Pi.getCProp(N,G)},o=function(N){var G=A.Children.toArray(fP.getCProp(N,"children"));return v(G)},v=function(N){return A.Children.map(N,function(G,U){var H=G?!h(G,"hidden"):!0,q=G&&(h(G,"columnKey")||h(G,"field"))||U;return H&&A.createElement(bF,{key:q,tableProps:e.tableProps,column:G,ptCallbacks:e.ptCallbacks,metaData:e.metaData})})},E=function(){if(e.footerColumnGroup){var N=A.Children.toArray(iu.getCProp(e.footerColumnGroup,"children"));return N.map(function(U,H){var q=Nt({role:"row"},r(U,"root"));return A.createElement("tr",Bo({},q,{key:H}),o(U))})}var G=Nt({role:"row"},e.ptCallbacks.ptm("footerRow"));return A.createElement("tr",G,v(e.columns))};if(u()){var S=E(),k=Nt({className:"p-datatable-tfoot"},e.ptCallbacks.ptm("tfoot"),c());return A.createElement("tfoot",k,S)}return null});wF.displayName="TableFooter";function YR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var hP=A.memo(function(e){var t=A.useState(!1),n=Li(t,2),r=n[0],c=n[1],u=A.useRef(null),h=A.useRef(null),o=A.useRef(!1),v=A.useRef(null),E=function(nt){return Pi.getCProp(e.column,nt)},S=function(){return Pi.getCProps(e.column)},k=A.useContext($o),O=function(nt){return e.ptCallbacks.ptmo(S(),nt,{props:S(),parent:e.metaData,state:{overlayVisible:r}})},N=E("filterField")||E("field"),G=e.filters[N],U=e.filtersStore&&e.filtersStore[N],H=F9({target:h,overlay:u,listener:function(nt,Ct){var cn=Ct.type,Fn=Ct.valid;Fn&&(cn==="outside"?!o.current&&!An(nt.target)&&En():En()),o.current=!1},when:r}),q=Li(H,2),W=q[0],Y=q[1],ie=function(){return!U||!G?!1:U.operator?!Se(G.constraints[0].value):!Se(G.value)},he=function(){return G&&!Se(G.value)},Se=function(nt){return ht.isEmpty(nt)},Pe=function(nt){return G&&G.matchMode===nt},We=function(){return E("showFilterMenu")&&(e.display==="row"?E("dataType")!=="boolean":!0)},Le=function(){return E("filterMatchModeOptions")||k&&k.filterMatchModeOptions[_t()].map(function(nt){return{label:qs(nt),value:nt}})||Ai.filterMatchModeOptions[_t()].map(function(nt){return{label:qs(nt),value:nt}})},qe=function(){return E("dataType")!=="boolean"&&E("showFilterMatchModes")&&Le()&&E("showFilterMenuOptions")},Kt=function(){return E("showFilterOperator")&&G&&G.operator&&E("showFilterMenuOptions")},Ut=function(){return Wt().length>1},Qt=function(){return E("showAddButton")&&G&&G.operator&&Wt()&&Wt().length<E("maxConstraints")&&E("showFilterMenuOptions")},Tn=function(nt){return!An(nt)&&u.current&&!(u.current.isSameNode(nt)||u.current.contains(nt))},An=function(nt){return h.current&&(h.current.isSameNode(nt)||h.current.contains(nt))},Vt=function(){if(U)return U.operator?{matchMode:U.constraints[0].matchMode,operator:U.operator}:{matchMode:U.matchMode}},_t=function(){var nt=E("dataType"),Ct=E("filterMatchMode"),cn=function(ir){return k&&k.filterMatchModeOptions[ir].some(function(On){return On===Ct})||Ai.filterMatchModeOptions[ir].some(function(On){return On===Ct})};return Ct==="custom"&&!cn(nt)?(k&&k.filterMatchModeOptions[nt].push(li.CUSTOM)||Ai.filterMatchModeOptions[nt].push(li.CUSTOM),nt):Ct&&Object.keys(k&&k.filterMatchModeOptions||Ai.filterMatchModeOptions).find(function(Fn){return cn(Fn)})||nt},Ve=function(){var nt=E("onFilterClear"),Ct=Vt(),cn=Vu({},e.filters);cn[N].operator?(cn[N].constraints.splice(1),cn[N].operator=Ct.operator,cn[N].constraints[0]={value:null,matchMode:Ct.matchMode}):(cn[N].value=null,cn[N].matchMode=Ct.matchMode),nt&&nt(),e.onFilterChange(cn),e.onFilterApply(),En()},Rt=function(){var nt=E("onFilterApplyClick");nt&&nt({field:N,constraints:G}),e.onFilterApply(),En()},Ge=function(){c(function(nt){return!nt})},sn=function(nt){switch(nt.key){case"Escape":case"Tab":En();break;case"ArrowDown":if(r){var Ct=wt.getFirstFocusableElement(u.current);Ct&&Ct.focus(),nt.preventDefault()}else nt.altKey&&(c(!0),nt.preventDefault());break}},ln=function(nt){nt.key==="Escape"&&(En(),h.current&&h.current.focus())},pn=function(nt,Ct){var cn=Vu({},e.filters),Fn=nt.target.value;e.display==="menu"?cn[N].constraints[Ct].value=Fn:cn[N].value=Fn,e.onFilterChange(cn),(!E("showApplyButton")||e.display==="row")&&e.onFilterApply()},Yn=function(nt,Ct){nt.key==="Enter"&&(!E("showApplyButton")||e.display==="menu")&&Rt()},qn=function(nt){var Ct=E("onFilterMatchModeChange"),cn=Vu({},e.filters);cn[N].matchMode=nt,Ct&&Ct({field:N,matchMode:nt}),e.onFilterChange(cn),e.onFilterApply(),En()},nn=function(nt,Ct,cn){var Fn=nt.target;switch(nt.key){case"ArrowDown":var ir=It(Fn);ir&&(Fn.removeAttribute("tabindex"),ir.tabIndex=0,ir.focus()),nt.preventDefault();break;case"ArrowUp":var On=Mn(Fn);On&&(Fn.removeAttribute("tabindex"),On.tabIndex=0,On.focus()),nt.preventDefault();break;case"Enter":cn?Ve():qn(Ct.value),nt.preventDefault();break}},Bt=function(nt){var Ct=E("onFilterOperatorChange"),cn=nt.value,Fn=Vu({},e.filters);Fn[N].operator=cn,e.onFilterChange(Fn),Ct&&Ct({field:N,operator:cn}),E("showApplyButton")||e.onFilterApply()},ot=function(nt,Ct){var cn=E("onFilterMatchModeChange"),Fn=Vu({},e.filters);Fn[N].constraints[Ct].matchMode=nt,e.onFilterChange(Fn),cn&&cn({field:N,matchMode:nt,index:Ct}),E("showApplyButton")||e.onFilterApply()},Xe=function(){var nt=E("onFilterConstraintAdd"),Ct=Vt(),cn=Vu({},e.filters),Fn={value:null,matchMode:Ct.matchMode};cn[N].constraints.push(Fn),nt&&nt({field:N,constraint:Fn}),e.onFilterChange(cn),E("showApplyButton")||e.onFilterApply()},Xt=function(nt){var Ct=E("onFilterConstraintRemove"),cn=Vu({},e.filters),Fn=cn[N].constraints.splice(nt,1);Ct&&Ct({field:N,constraint:Fn}),e.onFilterChange(cn),E("showApplyButton")||e.onFilterApply()},It=function Tt(nt){var Ct=nt.nextElementSibling;return Ct?wt.hasClass(Ct,"p-column-filter-separator")?Tt(Ct):Ct:nt.parentElement.firstElementChild},Mn=function Tt(nt){var Ct=nt.previousElementSibling;return Ct?wt.hasClass(Ct,"p-column-filter-separator")?Tt(Ct):Ct:nt.parentElement.lastElementChild},En=function(){c(!1)},er=function(nt){o.current=!0,If.emit("overlay-click",{originalEvent:nt,target:u.current})},yn=function(){o.current=!0},xe=function(){su.set("overlay",u.current,k&&k.autoZIndex||Ai.autoZIndex,k&&k.zIndex.overlay||Ai.zIndex.overlay),wt.alignOverlay(u.current,h.current,k&&k.appendTo||Ai.appendTo,!1),v.current=function(nt){Tn(nt.target)||(o.current=!0)},If.on("overlay-click",v.current)},Re=function(){W()},lt=function(){zt()},kt=function(){su.clear(u.current)},zt=function(){Y(),If.off("overlay-click",v.current),v.current=null,o.current=!1},Wt=function(){return G?G.constraints||[G]:[]},Pn=function(){return G.operator},Rn=function(){return[{label:qs("matchAll"),value:_y.AND},{label:qs("matchAny"),value:_y.OR}]},kn=function(){return qs("filter")},xn=function(){return qs("noFilter")},jn=function(){return qs("removeRule")},nr=function(){return qs("addRule")},wn=function(){return qs("clear")},Qe=function(){return qs("apply")},xt=function(nt){var Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,cn=Vu({},e.filters),Fn=cn[N];e.display==="menu"&&Fn&&Fn.operator?cn[N].constraints[Ct].value=nt:cn[N].value=nt,e.onFilterChange(cn)},Ze=function(){for(var nt=arguments.length,Ct=new Array(nt),cn=0;cn<nt;cn++)Ct[cn]=arguments[cn];Ct&&xt(Ct[0],Ct[1]),e.onFilterApply()};ro(function(){e.display==="menu"&&r&&wt.alignOverlay(u.current,h.current,k&&k.appendTo||Ai.appendTo,!1)}),mu(function(){v.current&&(If.off("overlay-click",v.current),v.current=null),u.current&&(su.clear(u.current),zt())});var Gt=function(nt,Ct){var cn=nt?nt.value:null;return E("filterElement")?ht.getJSXElement(E("filterElement"),{field:N,index:Ct,filterModel:nt,value:cn,filterApplyCallback:Ze,filterCallback:xt}):A.createElement(Vd,{type:E("filterType"),value:cn||"",onChange:function(ir){return pn(ir,Ct)},onKeyDown:function(ir){return Yn(ir)},className:"p-column-filter",placeholder:E("filterPlaceholder"),maxLength:E("filterMaxLength")})},Cn=function(){if(e.display==="row"){var nt=Gt(G,0),Ct=Nt({className:"p-fluid p-column-filter-element"},O("filterInput"));return A.createElement("div",Ct,nt)}return null},Vn=function(nt,Ct){return e.display==="menu"?Gt(nt,Ct):null},mr=function(){if(We()){var nt=Nt({"aria-hidden":!0},O("filterIcon")),Ct=e.filterIcon||A.createElement(lF,nt),cn=Ki.getJSXIcon(Ct,Vu({},nt),{props:e}),Fn=Or("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":r,"p-column-filter-menu-button-active":ie()}),ir=kn(),On=Nt({type:"button",className:Fn,"aria-haspopup":!0,"aria-expanded":r,onClick:function(ft){return Ge()},onKeyDown:function(ft){return sn(ft)},"aria-label":ir},O("filterMenuButton"));return A.createElement("button",Bo({ref:h},On),cn,A.createElement(za,null))}return null},dr=function(){var nt=Nt({"aria-hidden":!0},O("filterClearIcon")),Ct=e.filterClearIcon||A.createElement(cF,nt),cn=Ki.getJSXIcon(Ct,Vu({},nt),{props:e});if(E("showClearButton")&&e.display==="row"){var Fn=Or("p-column-filter-clear-button p-link",{"p-hidden-space":!he()}),ir=wn(),On=Nt({className:Fn,type:"button",onClick:function(ft){return Ve()},"aria-label":ir},O("headerFilterClearButton"));return A.createElement("button",On,cn,A.createElement(za,null))}return null},yr=function(){if(qe()){var nt=Le(),Ct=xn(),cn=Nt({className:"p-column-filter-separator"},O("filterSeparator")),Fn=Nt({className:"p-column-filter-row-item",onClick:function(vr){return Ve()},onKeyDown:function(vr){return nn(vr,null,!0)}},O("filterRowItem")),ir=Nt({className:"p-column-filter-row-items"},O("filterRowItems"));return A.createElement("ul",ir,nt.map(function(On,vr){var ft=On.value,re=On.label,le=Or("p-column-filter-row-item",{"p-highlight":Pe(ft)}),ye=vr===0?0:null,de=Nt({className:le,onClick:function(){return qn(ft)},onKeyDown:function(He){return nn(He,On)},tabIndex:ye},O("filterRowItem"));return A.createElement("li",Bo({},de,{key:re}),re)}),A.createElement("li",cn),A.createElement("li",Fn,Ct))}return null},Nr=function(){if(Kt()){var nt=Rn(),Ct=Pn(),cn=Nt({className:"p-column-filter-operator"},O("filterOperator"));return A.createElement("div",cn,A.createElement(i1,{options:nt,value:Ct,onChange:Bt,className:"p-column-filter-operator-dropdown",pt:O("filterOperatorDropdown")}))}return null},Ae=function(nt,Ct){if(qe()){var cn=Le();return A.createElement(i1,{options:cn,value:nt.matchMode,onChange:function(ir){return ot(ir.value,Ct)},className:"p-column-filter-matchmode-dropdown",pt:O("filterMatchModeDropdown")})}return null},te=function(nt){if(Ut()){var Ct=jn();return A.createElement(ly,{type:"button",icon:e.filterRemoveIcon||A.createElement(dF,null),className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return Xt(nt)},label:Ct,pt:O("filterRemoveButton")})}return null},oe=function(){var nt=Wt(),Ct=Nt({className:"p-column-filter-constraints"},O("filterConstraints")),cn=Nt({className:"p-column-filter-constraint"},O("filterConstraint"));return A.createElement("div",Ct,nt.map(function(Fn,ir){var On=Ae(Fn,ir),vr=Vn(Fn,ir),ft=te(ir),re=Nt(O("filterRemove"));return A.createElement("div",Bo({},cn,{key:ir}),On,vr,A.createElement("div",re,ft))}))},Ce=function(){if(Qt()){var nt=nr(),Ct=Nt({className:"p-column-filter-add-rule"},O("filterAddRule"));return A.createElement("div",Ct,A.createElement(ly,{type:"button",label:nt,icon:e.filterAddIcon||A.createElement(uF,null),className:"p-column-filter-add-button p-button-text p-button-sm",onClick:Xe,pt:O("filterAddRuleButton")}))}return null},Ie=function(){if(E("showClearButton")){if(!E("filterClear")){var nt=wn();return A.createElement(ly,{type:"button",className:"p-button-outlined p-button-sm",onClick:Ve,label:nt,pt:O("filterClearButton")})}return ht.getJSXElement(E("filterClear"),{field:N,filterModel:G,filterClearCallback:Ve})}return null},Ue=function(){if(E("showApplyButton")){if(!E("filterApply")){var nt=Qe();return A.createElement(ly,{type:"button",className:"p-button-sm",onClick:Rt,label:nt,pt:O("filterApplyButton")})}return ht.getJSXElement(E("filterApply"),{field:N,filterModel:G,filterApplyCallback:Rt})}return null},et=function(){var nt=Ie(),Ct=Ue(),cn=Nt({className:"p-column-filter-buttonbar"},O("filterButtonBar"));return A.createElement("div",cn,nt,Ct)},Ye=function(){var nt=Nr(),Ct=oe(),cn=Ce(),Fn=et();return A.createElement(A.Fragment,null,nt,Ct,cn,Fn)},Fe=function(){var nt=E("filterMenuStyle"),Ct=Or("p-column-filter-overlay p-component p-fluid",E("filterMenuClassName"),{"p-column-filter-overlay-menu":e.display==="menu","p-input-filled":k&&k.inputStyle==="filled"||Ai.inputStyle==="filled","p-ripple-disabled":k&&k.ripple===!1||Ai.ripple===!1}),cn=ht.getJSXElement(E("filterHeader"),{field:N,filterModel:G,filterApplyCallback:Ze}),Fn=ht.getJSXElement(E("filterFooter"),{field:N,filterModel:G,filterApplyCallback:Ze}),ir=e.display==="row"?yr():Ye(),On=Nt({style:nt,className:Ct,onKeyDown:function(ft){return ln(ft)},onClick:function(ft){return er(ft)},onMouseDown:function(ft){return yn()}},O("filterOverlay"));return A.createElement(Cx,null,A.createElement(lP,{nodeRef:u,classNames:"p-connected-overlay",in:r,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:xe,onEntered:Re,onExit:lt,onExited:kt},A.createElement("div",Bo({ref:u},On),cn,ir,Fn)))},ct=Or("p-column-filter p-fluid",{"p-column-filter-row":e.display==="row","p-column-filter-menu":e.display==="menu"}),Ht=Cn(),Jt=mr(),Et=dr(),Hn=Fe(),rr=Nt({className:ct},O("columnFilter"));return A.createElement("div",rr,Ht,Jt,Et,Hn)});hP.displayName="ColumnFilter";function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function soe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var pP=A.memo(function(e){var t=A.useState(!1),n=Li(t,2),r=n[0],c=n[1],u=function(){return Pi.getCProps(e.column)},h=function(ie){return e.ptCallbacks.ptmo(Pi.getCProp(e.column,"pt"),ie,{props:u(),parent:e.metaData,context:{checked:e.checked,disabled:e.disabled},state:{focused:r}})},o=function(){c(!0)},v=function(){c(!1)},E=function(ie){e.disabled||(c(!0),e.onChange({originalEvent:ie,checked:!e.checked}))},S=function(ie){(ie.code==="Space"||ie.key===" ")&&(E(ie),ie.preventDefault())},k=Or("p-checkbox-box p-component",{"p-highlight":e.checked,"p-disabled":e.disabled,"p-focus":r}),O="p-checkbox-icon",N=Nt({className:O},h("headerCheckboxIcon")),G=e.checked?e.checkIcon||A.createElement(Ax,N):null,U=Ki.getJSXIcon(G,soe({},N),{props:e}),H=e.disabled?null:0,q=Nt({className:"p-checkbox p-component",onClick:function(ie){return E(ie)}},h("headerCheckboxWrapper")),W=Nt({className:k,role:"checkbox","aria-checked":e.checked,tabIndex:H,onFocus:function(ie){return o()},onBlur:function(ie){return v()},onKeyDown:function(ie){return S(ie)}},h("headerCheckbox"));return A.createElement("div",q,A.createElement("div",W,U))});pP.displayName="HeaderCheckbox";function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function G0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var EF=A.memo(function(e){var t=A.useState({}),n=Li(t,2),r=n[0],c=n[1],u=A.useRef(null),h=Xy(e.column),o=e.metaData,v=e.ptCallbacks,E=e.index,S={index:E},k=G0(G0({},o),S),O=function(){return Pi.getCProps(e.column)},N=function(Bt){return v.ptmo(Pi.getCProp(e.column,"pt"),Bt,{props:O(),parent:k,state:{styleObject:r}})},G=function(){return e.multiSortMeta&&e.multiSortMeta.length>1},U=function(){return!H("sortable")||H("sortable")&&(e.allSortableDisabled||H("sortableDisabled"))},H=function(){return e.column?typeof(arguments.length<=0?void 0:arguments[0])=="string"?Pi.getCProp(e.column,arguments.length<=0?void 0:arguments[0]):Pi.getCProp((arguments.length<=0?void 0:arguments[0])||e.column,arguments.length<=1?void 0:arguments[1]):null},q=function(){var Bt=H("headerStyle"),ot=H("style");return H("frozen")?Object.assign({},ot,Bt,r):Object.assign({},ot,Bt)},W=function(){return e.multiSortMeta.findIndex(function(Bt){return Bt.field===H("field")||Bt.field===H("sortField")})},Y=function(){var Bt=!1,ot=0,Xe=-1;return e.sortMode==="single"?(Bt=e.sortField&&(e.sortField===H("field")||e.sortField===H("sortField")),ot=Bt?e.sortOrder:0):e.sortMode==="multiple"&&(Xe=W(),Xe>-1&&(Bt=!0,ot=e.multiSortMeta[Xe].order)),{sorted:Bt,sortOrder:ot,metaIndex:Xe}},ie=function(Bt){var ot=Bt.sorted,Xe=Bt.sortOrder;return H("sortable")?ot&&Xe<0?"descending":ot&&Xe>0?"ascending":"none":null},he=function(){if(H("frozen")){var Bt=G0({},r),ot=H("alignFrozen");if(ot==="right"){var Xe=0,Xt=u.current.nextElementSibling;Xt&&(Xe=wt.getOuterWidth(Xt)+parseFloat(Xt.style.right||0)),Bt.right=Xe+"px"}else{var It=0,Mn=u.current.previousElementSibling;Mn&&(It=wt.getOuterWidth(Mn)+parseFloat(Mn.style.left||0)),Bt.left=It+"px"}var En=u.current.parentElement.nextElementSibling;if(En){var er=wt.index(u.current);En.children[er].style.left=Bt.left,En.children[er].style.right=Bt.right}var yn=r.left===Bt.left&&r.right===Bt.right;!yn&&c(Bt)}},Se=function(Bt){(H(Bt,"sortableDisabled")!==H("sortableDisabled")||H(Bt,"sortable")!==H("sortable"))&&e.onSortableChange()},Pe=function(Bt){if(!U()){var ot=Bt.target;(wt.hasClass(ot,"p-sortable-column")||wt.hasClass(ot,"p-column-title")||wt.hasClass(ot,"p-column-header-content")||wt.hasClass(ot,"p-sortable-column-icon")||wt.hasClass(ot.parentElement,"p-sortable-column-icon"))&&(wt.clearSelection(),e.onSortChange({originalEvent:Bt,column:e.column,sortableDisabledFields:e.sortableDisabledFields}))}},We=function(Bt){e.onColumnMouseDown({originalEvent:Bt,column:e.column})},Le=function(Bt){Bt.key==="Enter"&&Bt.currentTarget===u.current&&wt.hasClass(Bt.currentTarget,"p-sortable-column")&&(Pe(Bt),Bt.preventDefault())},qe=function(Bt){e.onColumnDragStart({originalEvent:Bt,column:e.column})},Kt=function(Bt){e.onColumnDragOver({originalEvent:Bt,column:e.column})},Ut=function(Bt){e.onColumnDragLeave({originalEvent:Bt,column:e.column})},Qt=function(Bt){e.onColumnDrop({originalEvent:Bt,column:e.column})},Tn=function(Bt){e.onColumnResizeStart({originalEvent:Bt,column:e.column})},An=function(Bt){e.onColumnResizerClick&&(e.onColumnResizerClick({originalEvent:Bt,element:Bt.currentTarget.parentElement,column:e.column}),Bt.preventDefault())},Vt=function(Bt){e.onColumnResizerDoubleClick&&(e.onColumnResizerDoubleClick({originalEvent:Bt,element:Bt.currentTarget.parentElement,column:e.column}),Bt.preventDefault())};A.useEffect(function(){H("frozen")&&he(),Se(h)});var _t=function(){if(e.resizableColumns&&!H("frozen")){var Bt=Nt({className:"p-column-resizer",onMouseDown:function(Xe){return Tn(Xe)},onClick:function(Xe){return An(Xe)},onDoubleClick:function(Xe){return Vt(Xe)}},N("columnResizer"));return A.createElement("span",Bt)}return null},Ve=function(){var Bt=ht.getJSXElement(H("header"),{props:e.tableProps}),ot=Nt({className:"p-column-title"},N("headerTitle"));return A.createElement("span",ot,Bt)},Rt=function(Bt){var ot=Bt.sorted,Xe=Bt.sortOrder;if(H("sortable")){var Xt="p-sortable-column-icon",It=Nt({className:Xt},N("sortIcon")),Mn=Nt(N("sort")),En=ot?Xe<0?A.createElement(hF,It):A.createElement(pF,It):A.createElement(fF,It),er=Ki.getJSXIcon(e.sortIcon||En,G0({},It),{props:e,sorted:ot,sortOrder:Xe});return A.createElement("span",Mn,er)}return null},Ge=function(Bt){var ot=Bt.metaIndex;if(ot!==-1&&G()){var Xe=e.groupRowsBy&&e.groupRowsBy===e.groupRowSortField?ot:ot+1,Xt=Nt({className:"p-sortable-column-badge"},N("sortBadge"),N("root"));return A.createElement("span",Xt,Xe)}return null},sn=function(){if(e.showSelectAll&&H("selectionMode")==="multiple"&&e.filterDisplay!=="row"){var Bt=e.allRowsSelected(e.value);return A.createElement(pP,{checked:Bt,onChange:e.onColumnCheckboxChange,disabled:e.empty,ptCallbacks:v,metaData:o})}return null},ln=function(){return e.filterDisplay==="menu"&&H("filter")?A.createElement(hP,{display:"menu",column:e.column,filters:e.filters,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply,filtersStore:e.filtersStore,filterIcon:e.filterIcon,filterClearIcon:e.filterClearIcon,ptCallbacks:v,metaData:o}):null},pn=function(Bt){var ot=Ve(),Xe=Rt(Bt),Xt=Ge(Bt),It=sn(),Mn=ln(),En=Nt({className:"p-column-header-content"},N("headerContent"));return A.createElement("div",En,ot,Xe,Xt,It,Mn)},Yn=function(){var Bt=U(),ot=Y(),Xe=q(),Xt=H("alignHeader")||H("align"),It=H("frozen"),Mn=Or(H("headerClassName"),H("className"),il({"p-sortable-column":H("sortable"),"p-resizable-column":e.resizableColumns&&H("resizeable"),"p-highlight":ot.sorted,"p-frozen-column":It,"p-selection-column":H("selectionMode"),"p-sortable-disabled":H("sortable")&&Bt,"p-reorderable-column":e.reorderableColumns&&H("reorderable")&&!It},"p-align-".concat(Xt),!!Xt)),En=H("sortable")&&!Bt?e.tabIndex:null,er=H("colSpan"),yn=H("rowSpan"),xe=ie(ot),Re=H("headerTooltip"),lt=ht.isNotEmpty(Re),kt=H("headerTooltipOptions"),zt=_t(),Wt=pn(ot),Pn=Nt({className:Mn,style:Xe,role:"columnheader",onClick:function(kn){return Pe(kn)},onKeyDown:function(kn){return Le(kn)},onMouseDown:function(kn){return We(kn)},onDragStart:function(kn){return qe(kn)},onDragOver:function(kn){return Kt(kn)},onDragLeave:function(kn){return Ut(kn)},onDrop:function(kn){return Qt(kn)},tabIndex:En,colSpan:er,rowSpan:yn,"aria-sort":xe},N("headerCell"),N("root"));return A.createElement(A.Fragment,null,A.createElement("th",Bo({ref:u},Pn),zt,Wt),lt&&A.createElement(Ym,Bo({target:u,content:Re},kt,{pt:N("tooltip")})))},qn=Yn();return qn});EF.displayName="HeaderCell";function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function tD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CF=A.memo(function(e){var t=A.useState([]),n=Li(t,2),r=n[0],c=n[1],u=A.useState(!1),h=Li(u,2),o=h[0],v=h[1],E=e.sortMode==="single",S=e.sortMode==="multiple",k=E&&o,O=function(Vt,_t){return Pi.getCProp(Vt,_t)},N=function(Vt){return Pi.getCProps(Vt)},G=function(Vt){return iu.getCProps(Vt)},U=function(){return e.headerColumnGroup?e.ptCallbacks.ptmo(iu.getCProps(e.headerColumnGroup)):void 0},H=function(Vt){return e.ptCallbacks.ptmo(iu.getCProp(e.headerColumnGroup,"pt")),{props:U(),parent:e.metaData,state:{sortableDisabledFields:r,allSortableDisabled:o}}},q=function(Vt,_t){var Ve=N(Vt);return e.ptCallbacks.ptmo(Ve,_t,{props:Ve,parent:e.metaData,state:{sortableDisabledFields:r,allSortableDisabled:o}})},W=function(Vt,_t){var Ve=G(Vt);return e.ptCallbacks.ptmo(Ve,_t,{props:Ve,parent:e.metaData})},Y=function(Vt){return e.sortField!==null?O(Vt,"field")===e.sortField||O(Vt,"sortField")===e.sortField:!1},ie=function(){if(E||S&&e.onSortChange){var Vt=[],_t=!1;e.columns.forEach(function(Ve){O(Ve,"sortableDisabled")&&(Vt.push(O(Ve,"sortField")||O(Ve,"field")),!_t&&Y(Ve)&&(_t=!0))}),c(Vt),v(_t)}},he=function(){ie()},Se=function(Vt){e.onColumnCheckboxChange(Vt,e.value)};Yf(function(){ie()});var Pe=function(Vt){var _t=A.Children.toArray(fP.getCProp(Vt,"children"));return We(_t)},We=function(Vt){return A.Children.map(Vt,function(_t,Ve){var Rt=_t?!O(_t,"hidden"):!0,Ge=_t&&(O(_t,"columnKey")||O(_t,"field"))||Ve;return Rt&&A.createElement(EF,{allRowsSelected:e.allRowsSelected,allSortableDisabled:k,column:_t,index:Ve,empty:e.empty,filterClearIcon:e.filterClearIcon,filterDisplay:e.filterDisplay,filterIcon:e.filterIcon,filters:e.filters,filtersStore:e.filtersStore,groupRowSortField:e.groupRowSortField,groupRowsBy:e.groupRowsBy,key:Ge,multiSortMeta:e.multiSortMeta,onColumnCheckboxChange:Se,onColumnDragLeave:e.onColumnDragLeave,onColumnDragOver:e.onColumnDragOver,onColumnDragStart:e.onColumnDragStart,onColumnDrop:e.onColumnDrop,onColumnMouseDown:e.onColumnMouseDown,onColumnResizeStart:e.onColumnResizeStart,onColumnResizerClick:e.onColumnResizerClick,onColumnResizerDoubleClick:e.onColumnResizerDoubleClick,onFilterApply:e.onFilterApply,onFilterChange:e.onFilterChange,onSortChange:e.onSortChange,onSortableChange:he,reorderableColumns:e.reorderableColumns,resizableColumns:e.resizableColumns,showSelectAll:e.showSelectAll,sortField:e.sortField,sortIcon:e.sortIcon,sortMode:e.sortMode,sortOrder:e.sortOrder,sortableDisabledFields:r,tabIndex:e.tabIndex,tableProps:e.tableProps,value:e.value,ptCallbacks:e.ptCallbacks,metaData:e.metaData})})},Le=function(Vt){if(e.showSelectAll&&Vt==="multiple"){var _t=e.allRowsSelected(e.value);return A.createElement(pP,{checked:_t,onChange:Se,disabled:e.empty,ptCallbacks:e.ptCallbacks,metaData:e.metaData})}return null},qe=function(Vt,_t){return _t?A.createElement(hP,{display:"row",column:Vt,filters:e.filters,filtersStore:e.filtersStore,onFilterChange:e.onFilterChange,onFilterApply:e.onFilterApply,ptCallbacks:e.ptCallbacks,metaData:e.metaData}):null},Kt=function(){return A.Children.map(e.columns,function(Vt,_t){var Ve=!O(Vt,"hidden");if(Ve){var Rt=Pi.getCProps(Vt),Ge=Rt.filterHeaderStyle,sn=Rt.style,ln=Rt.filterHeaderClassName,pn=Rt.className,Yn=Rt.frozen,qn=Rt.columnKey,nn=Rt.field,Bt=Rt.selectionMode,ot=Rt.filter,Xe=tD(tD({},Ge||{}),sn||{}),Xt=Or("p-filter-column",ln,pn,{"p-frozen-column":Yn}),It=qn||nn||_t,Mn=Le(Bt),En=qe(Vt,ot),er=Nt({style:Xe,className:Xt,key:It},q(Vt,"headerCell"),q(Vt,"root"));return A.createElement("th",er,Mn,En)}return null})},Ut=function(){if(e.headerColumnGroup){var Vt=A.Children.toArray(iu.getCProp(e.headerColumnGroup,"children"));return Vt.map(function(Ge,sn){var ln=Nt({role:"row"},W(Ge,"root"));return A.createElement("tr",Bo({},ln,{key:sn}),Pe(Ge))})}else{var _t=Nt({role:"row"},e.ptCallbacks.ptm("headerRow")),Ve=A.createElement("tr",_t,We(e.columns)),Rt=e.filterDisplay==="row"&&A.createElement("tr",_t,Kt());return A.createElement(A.Fragment,null,Ve,Rt)}},Qt=Ut(),Tn=Nt({className:"p-datatable-thead"},e.ptCallbacks.ptm("thead"),H());return A.createElement("thead",Tn,Qt)});CF.displayName="TableHeader";function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){il(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Jf=A.forwardRef(function(e,t){var n=A.useContext($o),r=a2.getProps(e,n),c=A.useState(r.first),u=Li(c,2),h=u[0],o=u[1],v=A.useState(r.rows),E=Li(v,2),S=E[0],k=E[1],O=A.useState(r.sortField),N=Li(O,2),G=N[0],U=N[1],H=A.useState(r.sortOrder),q=Li(H,2),W=q[0],Y=q[1],ie=A.useState(r.multiSortMeta),he=Li(ie,2),Se=he[0],Pe=he[1],We=A.useState(r.filters),Le=Li(We,2),qe=Le[0],Kt=Le[1],Ut=A.useState([]),Qt=Li(Ut,2),Tn=Qt[0],An=Qt[1],Vt=A.useState(null),_t=Li(Vt,2),Ve=_t[0],Rt=_t[1],Ge=A.useState({}),sn=Li(Ge,2),ln=sn[0],pn=sn[1],Yn=A.useState(r.rows),qn=Li(Yn,2),nn=qn[0],Bt=qn[1],ot=A.useState({}),Xe=Li(ot,2),Xt=Xe[0],It=Xe[1],Mn={props:r,state:{first:h,rows:S,sortField:G,sortOrder:W,multiSortMeta:Se,filters:qe,columnOrder:Tn,groupRowsSortMeta:Ve,editingMeta:ln,d_rows:nn,d_filters:Xt}},En=a2.setMetaData(Mn),er=A.useRef(""),yn=A.useRef(null),xe=A.useRef(null),Re=A.useRef(null),lt=A.useRef(null),kt=A.useRef(null),zt=A.useRef(null),Wt=A.useRef(null),Pn=A.useRef(null),Rn=A.useRef(null),kn=A.useRef(null),xn=A.useRef(null),jn=A.useRef(null),nr=A.useRef(null),wn=A.useRef(null),Qe=A.useRef(null),xt=A.useRef(null),Ze=A.useRef(null),Gt=A.useRef(null),Cn=A.useRef(null),Vn=A.useRef(null),mr=A.useRef(!1),dr=A.useRef(null),yr=A.useRef(!1),Nr=A.useRef(null),Ae=A.useRef(null),te=A.useRef(null);r.rows!==nn&&!r.onPage&&(k(r.rows),Bt(r.rows));var oe=Jh({type:"mousemove",listener:function(Be){mr.current&&vi(Be)}}),Ce=Li(oe,2),Ie=Ce[0],Ue=Ce[1],et=Jh({type:"mouseup",listener:function(){mr.current&&(mr.current=!1,Vr())}}),Ye=Li(et,2),Fe=Ye[0],ct=Ye[1],Ht=function(){return r.stateStorage==="custom"},Jt=function(){return r.stateKey!=null||Ht()},Et=function(){return ht.isEmpty(r.virtualScrollerOptions)||!r.scrollable},Hn=function(Be,rt){return r.compareSelectionBy==="equals"?Be===rt:ht.equals(Be,rt,r.dataKey)},rr=function(){return ht.isNotEmpty(ir())||r.globalFilter},Tt=function(){return r.onPage?r.first:h},nt=function(){return r.onPage?r.rows:S},Ct=function(){return r.onSort?r.sortField:G},cn=function(){return r.onSort?r.sortOrder:W},Fn=function(){return(r.onSort?r.multiSortMeta:Se)||[]},ir=function(){return r.onFilter?r.filters:qe},On=function(Be,rt){return Pi.getCProp(Be,rt)},vr=function(Be){var rt=A.Children.toArray(r.children);if(!rt)return null;if(!Be&&r.reorderableColumns&&Tn){var $t=Tn.reduce(function(en,mn){var gn=Fr(rt,mn);return gn&&en.push(gn),en},[]);return[].concat(na($t),na(rt.filter(function(en){return $t.indexOf(en)<0})))}return rt},ft=function(){switch(r.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(r.stateStorage+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},re=function(){var Be={};r.paginator&&(Be.first=Tt(),Be.rows=nt());var rt=Ct();rt&&(Be.sortField=rt,Be.sortOrder=cn());var $t=Fn();if($t&&(Be.multiSortMeta=$t),rr()&&(Be.filters=ir()),r.resizableColumns&&He(Be),r.reorderableColumns&&(Be.columnOrder=Tn),r.expandedRows&&(Be.expandedRows=r.expandedRows),r.selection&&r.onSelectionChange&&(Be.selection=r.selection),Ht())r.customSaveState&&r.customSaveState(Be);else{var en=ft();ht.isNotEmpty(Be)&&en.setItem(r.stateKey,JSON.stringify(Be))}r.onStateSave&&r.onStateSave(Be)},le=function(){var Be=ft();Be&&r.stateKey&&Be.removeItem(r.stateKey)},ye=function(){var Be={};if(Ht())r.customRestoreState&&(Be=r.customRestoreState());else{var rt=ft(),$t=rt.getItem(r.stateKey),en=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,mn=function(Dn,Gn){return typeof Gn=="string"&&en.test(Gn)?new Date(Gn):Gn};$t&&(Be=JSON.parse($t,mn))}se(Be)},de=function(Be){se(Be)},se=function(){var Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ht.isNotEmpty(Be)){if(r.paginator)if(r.onPage){var rt=function(en,mn){var gn=Ur(ko()),Dn=Math.ceil(gn/mn)||1,Gn=Math.floor(en/mn);return{first:en,rows:mn,page:Gn,pageCount:Dn}};r.onPage(ya(rt(Be.first,Be.rows)))}else o(Be.first),k(Be.rows);Be.sortField&&(r.onSort?r.onSort(ya({sortField:Be.sortField,sortOrder:Be.sortOrder})):(U(Be.sortField),Y(Be.sortOrder))),Be.multiSortMeta&&(r.onSort?r.onSort(ya({multiSortMeta:Be.multiSortMeta})):Pe(Be.multiSortMeta)),Be.filters&&(It(Ji(Be.filters)),r.onFilter?r.onFilter(ya({filters:Be.filters})):Kt(Ji(Be.filters))),r.resizableColumns&&(Ze.current=Be.columnWidths,Gt.current=Be.tableWidth,tt()),r.reorderableColumns&&An(Be.columnOrder),Be.expandedRows&&r.onRowToggle&&r.onRowToggle({data:Be.expandedRows}),Be.selection&&r.onSelectionChange&&r.onSelectionChange({value:Be.selection}),r.onStateRestore&&r.onStateRestore(Be)}},He=function(Be){var rt=[],$t=wt.find(yn.current,".p-datatable-thead > tr > th");$t.forEach(function(en){return rt.push(wt.getOuterWidth(en))}),Be.columnWidths=rt.join(","),r.columnResizeMode==="expand"&&(Be.tableWidth=wt.getOuterWidth(xe.current)+"px")},tt=function(){if(Ze.current){var Be=Ze.current.split(",");if(r.columnResizeMode==="expand"&&Gt.current&&(xe.current.style.width=Gt.current,xe.current.style.minWidth=Gt.current,yn.current.style.width=Gt.current),ht.isNotEmpty(Be)){di();var rt="",$t=".p-datatable[".concat(er.current,"] > .p-datatable-wrapper ").concat(Et()?"":"> .p-virtualscroller"," > .p-datatable-table");Be.forEach(function(en,mn){var gn="width: ".concat(en,"px !important; max-width: ").concat(en,"px !important");rt+=`
                        `.concat($t," > .p-datatable-thead > tr > th:nth-child(").concat(mn+1,`),
                        `).concat($t," > .p-datatable-tbody > tr > td:nth-child(").concat(mn+1,`),
                        `).concat($t," > .p-datatable-tfoot > tr > td:nth-child(").concat(mn+1,`) {
                            `).concat(gn,`
                        }
                    `)}),Qe.current.innerHTML=rt}}},ut=function(Be){if(Be.nodeName==="TH")return Be;for(var rt=Be.parentElement;rt.nodeName!=="TH"&&(rt=rt.parentElement,!!rt););return rt},jt=function(){return r.sortMode==="single"?r.sortField:Ve?Ve.field:null},on=function(Be){return r.showSelectionElement||r.isDataSelectable?Be.filter(function(rt,$t){var en=!0;return r.showSelectionElement&&(en=r.showSelectionElement({rowIndex:$t,props:r})),r.isDataSelectable&&en&&(en=r.isDataSelectable({data:rt,index:$t})),en}):Be},Xn=function(Be){if(r.onSelectAllChange)return r.selectAll;var rt=r.selectionPageOnly?Kr(Be):Be,$t=ht.isNotEmpty(r.frozenValue)?[].concat(na(r.frozenValue),na(rt)):rt,en=on($t);return ht.isNotEmpty(en)&&r.selection&&en.every(function(mn){return r.selection.some(function(gn){return Hn(gn,mn)})})},Rr=function(Be){if(Be){var rt=Be.find(function($t){return!!On($t,"selectionMode")});return rt?On(rt,"selectionMode"):null}return null},Fr=function(Be,rt){return ht.isNotEmpty(Be)?Be.find(function($t){return On($t,"columnKey")===rt||On($t,"field")===rt}):null},Ur=function(Be){return r.lazy?r.totalRecords:Be?Be.length:0},xr=function(Be){var rt=Be.rowData,$t=Be.field,en=Be.editingKey;Be.rowIndex;var mn=Be.editing,gn=Al({},ln),Dn=gn[en];if(mn)!Dn&&(Dn=gn[en]={data:Al({},rt),fields:[]}),Dn.fields.push($t);else if(Dn){var Gn=Dn.fields.filter(function(pr){return pr!==$t});Gn.length?Dn.fields=Gn:delete gn[en]}pn(gn)},Br=function(){r.editMode&&ht.isNotEmpty(ln)&&pn({})},vt=function(Be){var rt=Be.originalEvent,$t=Be.column,en=wt.getOffset(yn.current).left;Cn.current=$t,Vn.current=rt.currentTarget.parentElement,mr.current=!0,dr.current=rt.pageX-en+yn.current.scrollLeft,sa()},vi=function(Be){var rt=wt.getOffset(yn.current).left;wt.addClass(yn.current,"p-unselectable-text"),xn.current.style.height=yn.current.offsetHeight+"px",xn.current.style.top="0px",xn.current.style.left=Be.pageX-rt+yn.current.scrollLeft+"px",xn.current.style.display="block"},Vr=function(){var Be=xn.current.offsetLeft-dr.current,rt=Vn.current.offsetWidth,$t=rt+Be,en=Vn.current.style.minWidth||15;if(rt+Be>parseInt(en,10)){if(r.columnResizeMode==="fit"){var mn=Vn.current.nextElementSibling,gn=mn.offsetWidth-Be;$t>15&&gn>15&&Zr($t,gn)}else if(r.columnResizeMode==="expand"){var Dn=xe.current.offsetWidth+Be+"px",Gn=function(Dr){Dr&&(Dr.style.width=Dr.style.minWidth=Dn)};Zr($t),Gn(xe.current),Et()||(Gn(lt.current),Gn(kt.current),Re.current&&Gn(wt.findSingle(Re.current,".p-virtualscroller-content")))}r.onColumnResizeEnd&&r.onColumnResizeEnd({element:Vn.current,column:Cn.current,delta:Be}),Jt()&&re()}xn.current.style.display="none",Cn.current=null,Vn.current=null,wt.removeClass(yn.current,"p-unselectable-text"),Ui()},Zr=function(Be,rt){var $t=[],en=wt.index(Vn.current),mn=wt.find(xe.current,".p-datatable-thead > tr > th");mn.forEach(function(Gn){return $t.push(wt.getOuterWidth(Gn))}),Yi(),di();var gn="",Dn=".p-datatable[".concat(er.current,"] > .p-datatable-wrapper ").concat(Et()?"":"> .p-virtualscroller"," > .p-datatable-table");$t.forEach(function(Gn,pr){var Dr=pr===en?Be:rt&&pr===en+1?rt:Gn,Qr="width: ".concat(Dr,"px !important; max-width: ").concat(Dr,"px !important");gn+=`
                `.concat(Dn," > .p-datatable-thead > tr > th:nth-child(").concat(pr+1,`),
                `).concat(Dn," > .p-datatable-tbody > tr > td:nth-child(").concat(pr+1,`),
                `).concat(Dn," > .p-datatable-tfoot > tr > td:nth-child(").concat(pr+1,`) {
                    `).concat(Qr,`
                }
            `)}),Qe.current.innerHTML=gn},sa=function(){Ie(),Fe()},Ui=function(){Ue(),ct()},jo=function(Be){wt.clearSelection();var rt=Be.originalEvent,$t=Be.column;r.reorderableColumns&&On($t,"reorderable")!==!1&&!On($t,"frozen")&&(rt.target.nodeName==="INPUT"||rt.target.nodeName==="TEXTAREA"||wt.hasClass(rt.target,"p-column-resizer")?rt.currentTarget.draggable=!1:rt.currentTarget.draggable=!0)},zr=function(Be,rt){if(r.onSelectAllChange)r.onSelectAllChange(Be);else{var $t=Be.originalEvent,en=Be.checked,mn=r.selectionPageOnly?Kr(rt):rt,gn=r.selectionPageOnly&&r.selection?r.selection.filter(function(Dn){return!mn.some(function(Gn){return Hn(Dn,Gn)})}):[];en?(gn=ht.isNotEmpty(r.frozenValue)?[].concat(na(gn),na(r.frozenValue),na(mn)):[].concat(na(gn),na(mn)),gn=on(gn),r.onAllRowsSelect&&r.onAllRowsSelect({originalEvent:$t,data:gn,type:"all"})):r.onAllRowsUnselect&&r.onAllRowsUnselect({originalEvent:$t,data:gn,type:"all"}),r.onSelectionChange&&r.onSelectionChange({originalEvent:$t,value:gn,type:"all"})}},br=function(Be){var rt=Be.originalEvent,$t=Be.column;if(mr.current){rt.preventDefault();return}r.reorderableColumns&&(Rn.current=wt.getHiddenElementOuterWidth(Wt.current),kn.current=wt.getHiddenElementOuterHeight(Wt.current),nr.current=$t,jn.current=ut(rt.currentTarget),rt.dataTransfer.setData("text","b"))},vn=function(Be){var rt=Be.originalEvent,$t=Be.column,en=ut(rt.currentTarget);if(r.reorderableColumns&&jn.current&&en&&!On($t,"frozen")&&(rt.preventDefault(),jn.current!==en)){var mn=wt.getOffset(yn.current),gn=wt.getOffset(en),Dn=gn.left-mn.left,Gn=gn.left+en.offsetWidth/2;Wt.current.style.top=gn.top-mn.top-(kn.current-1)+"px",Pn.current.style.top=gn.top-mn.top+en.offsetHeight+"px",rt.pageX>Gn?(Wt.current.style.left=Dn+en.offsetWidth-Math.ceil(Rn.current/2)+"px",Pn.current.style.left=Dn+en.offsetWidth-Math.ceil(Rn.current/2)+"px",wn.current=1):(Wt.current.style.left=Dn-Math.ceil(Rn.current/2)+"px",Pn.current.style.left=Dn-Math.ceil(Rn.current/2)+"px",wn.current=-1),Wt.current.style.display="block",Pn.current.style.display="block"}},or=function(Be){var rt=Be.originalEvent;r.reorderableColumns&&jn.current&&(rt.preventDefault(),Wt.current.style.display="none",Pn.current.style.display="none")},ar=function(Be){var rt=Be.originalEvent,$t=Be.column;if(rt.preventDefault(),jn.current){var en=wt.index(jn.current),mn=wt.index(ut(rt.currentTarget)),gn=en!==mn;if(gn&&(mn-en===1&&wn.current===-1||en-mn===1&&wn.current===1)&&(gn=!1),gn){var Dn=vr(),Gn=function($r,Bi){return On($r,"columnKey")||On(Bi,"columnKey")?ht.equals($r.props,Bi.props,"columnKey"):ht.equals($r.props,Bi.props,"field")},pr=Dn.findIndex(function(Gr){return Gn(Gr,nr.current)}),Dr=Dn.findIndex(function(Gr){return Gn(Gr,$t)});Dr<pr&&wn.current===1&&Dr++,Dr>pr&&wn.current===-1&&Dr--,ht.reorderArray(Dn,pr,Dr);var Qr=Dn.reduce(function(Gr,$r){return Gr.push(On($r,"columnKey")||On($r,"field")),Gr},[]);An(Qr),r.onColReorder&&r.onColReorder({originalEvent:rt,dragIndex:pr,dropIndex:Dr,columns:Dn})}Wt.current.style.display="none",Pn.current.style.display="none",jn.current.draggable=!1,jn.current=null,nr.current=null,wn.current=null}},di=function(){Qe.current=wt.createInlineStyle(n&&n.nonce||Ai.nonce)},ii=function(){if(!xt.current){xt.current=wt.createInlineStyle(n&&n.nonce||Ai.nonce);var Be=".p-datatable-wrapper ".concat(Et()?"":"> .p-virtualscroller"," > .p-datatable-table"),rt=".p-datatable[".concat(er.current,"] > ").concat(Be),$t=".p-datatable[".concat(er.current,"].p-datatable-gridlines > ").concat(Be),en=`
@media screen and (max-width: `.concat(r.breakpoint,`) {
    `).concat(rt,` > .p-datatable-thead > tr > th,
    `).concat(rt,` > .p-datatable-tfoot > tr > td {
        display: none !important;
    }

    `).concat(rt,` > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100% !important;
        align-items: center;
        justify-content: space-between;
    }

    `).concat(rt,` > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    `).concat($t,` > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    `).concat(rt,` > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`);xt.current.innerHTML=en}},gr=function(){xt.current=wt.removeInlineStyle(xt.current)},Yi=function(){Qe.current=wt.removeInlineStyle(Qe.current)},ho=function(Be){Br(),r.onPage?r.onPage(ya(Be)):(o(Be.first),k(Be.rows)),r.onValueChange&&r.onValueChange(ko())},pa=function(Be){Br();var rt=Be.originalEvent,$t=Be.column,en=Be.sortableDisabledFields,mn=On($t,"sortField")||On($t,"field"),gn=r.defaultSortOrder,Dn,Gn;if(yr.current=On($t,"sortable"),Nr.current=On($t,"sortFunction"),Ae.current=mn,r.sortMode==="multiple"){var pr=rt.metaKey||rt.ctrlKey;Dn=na(Fn());var Dr=Dn.find(function(Gr){return Gr.field===mn});gn=Dr?Po(Dr.order):gn;var Qr={field:mn,order:gn};gn?(Dn=pr?Dn:Dn.filter(function(Gr){return en.some(function($r){return $r===Gr.field})}),ol(Qr,Dn)):r.removableSort&&ma(Qr,Dn),Gn={multiSortMeta:Dn}}else gn=Ct()===mn?Po(cn()):gn,r.removableSort&&(mn=gn?mn:null),Gn={sortField:mn,sortOrder:gn};r.onSort?r.onSort(ya(Gn)):(o(0),U(Gn.sortField),Y(Gn.sortOrder),Pe(Gn.multiSortMeta)),r.onValueChange&&r.onValueChange(ko({sortField:mn,sortOrder:gn,multiSortMeta:Dn}))},Po=function(Be){return r.removableSort?r.defaultSortOrder===Be?Be*-1:0:Be*-1},Hr=function(Be,rt,$t){return ht.sort(Be,rt,$t,n&&n.locale||Ai.locale,n&&n.nullSortOrder||Ai.nullSortOrder)},ol=function(Be,rt){var $t=rt.findIndex(function(en){return en.field===Be.field});$t>=0?rt[$t]=Be:rt.push(Be)},ma=function(Be,rt){var $t=rt.findIndex(function(en){return en.field===Be.field});$t>=0&&rt.splice($t,1),rt=rt.length>0?rt:null},Uo=function(Be,rt,$t){if(r.groupRowsBy&&r.groupRowsBy===r.sortField){var en=[{field:r.sortField,order:r.sortOrder||r.defaultSortOrder}];return r.sortField!==rt&&en.push({field:rt,order:$t}),Rs(Be,en)}var mn=na(Be);return yr.current&&Nr.current?mn=Nr.current({data:Be,field:rt,order:$t}):mn.sort(function(gn,Dn){var Gn=ht.resolveFieldData(gn,rt),pr=ht.resolveFieldData(Dn,rt);return Hr(Gn,pr,$t)}),mn},Rs=function(Be){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(r.groupRowsBy&&(Ve||rt.length&&r.groupRowsBy===rt[0].field)){var $t=Ve,en=rt[0];$t||($t=en,Rt($t)),en.field!==$t.field&&(rt=[$t].concat(na(rt)))}var mn=na(Be);if(yr.current&&Nr.current){var gn=rt.find(function(pr){return pr.field===Ae.current}),Dn=Ae.current,Gn=gn?gn.order:r.defaultSortOrder;mn=Nr.current({data:Be,field:Dn,order:Gn,multiSortMeta:rt})}else mn.sort(function(pr,Dr){return ga(pr,Dr,rt,0)});return mn},ga=function Sn(Be,rt,$t,en){if(!(!$t||!$t[en])){var mn=ht.resolveFieldData(Be,$t[en].field),gn=ht.resolveFieldData(rt,$t[en].field);return ht.compare(mn,gn,n&&n.locale||Ai.locale)===0?$t.length-1>en?Sn(Be,rt,$t,en+1):0:Hr(mn,gn,$t[en].order)}},al=function(Be){Br(),It(Be)},ps=function(Be){clearTimeout(te.current),te.current=setTimeout(function(){var rt=Ji(Be||Xt);r.onFilter?r.onFilter(ya({filters:rt})):(o(0),Kt(rt)),r.onValueChange&&r.onValueChange(ko({filters:rt}))},r.filterDelay)},Vo=function(Be,rt){if(Be){rt=rt||{};var $t=vr(),en=[],mn=rt.global||r.globalFilter,gn;mn&&(gn=r.globalFilterFields||$t.filter(function(vs){return!On(vs,"excludeGlobalFilter")}).map(function(vs){return On(vs,"filterField")||On(vs,"field")}));for(var Dn=0;Dn<Be.length;Dn++){var Gn=!0,pr=!1,Dr=!1;for(var Qr in rt)if(Qr!=="null"&&Object.prototype.hasOwnProperty.call(rt,Qr)&&Qr!=="global"){Dr=!0;var Gr=Qr,$r=rt[Gr];if($r.operator)for(var Bi=0;Bi<$r.constraints.length;Bi++){var po=$r.constraints[Bi];if(Gn=ms(Gr,Be[Dn],po,Bi),$r.operator===_y.OR&&Gn||$r.operator===_y.AND&&!Gn)break}else Gn=ms(Gr,Be[Dn],$r,0);if(!Gn)break}if(mn&&!pr&&gn)for(var Za=0;Za<gn.length;Za++){var Oo=gn[Za],jr=rt.global?rt.global.matchMode:r.globalFilterMatchMode,dl=rt.global?rt.global.value:r.globalFilter;if(pr=xy.filters[jr](ht.resolveFieldData(Be[Dn],Oo),dl,r.filterLocale),pr)break}var Wl=void 0;mn?Wl=Dr?Dr&&Gn&&pr:pr:Wl=Dr&&Gn,Wl&&en.push(Be[Dn])}return en.length===r.value.length&&(en=Be),en}},ms=function(Be,rt,$t,en){var mn=$t.value,gn=$t.matchMode==="custom"?"custom_".concat(Be):$t.matchMode||li.STARTS_WITH,Dn=ht.resolveFieldData(rt,Be),Gn=xy.filters[gn];return ht.isFunction(Gn)&&Gn(Dn,mn,r.filterLocale,en)},Ji=function(Be){Be=Be||r.filters;var rt={};if(Be)Object.entries(Be).forEach(function(en){var mn=Li(en,2),gn=mn[0],Dn=mn[1];rt[gn]=Dn.operator?{operator:Dn.operator,constraints:Dn.constraints.map(function(Gn){return Al({},Gn)})}:Al({},Dn)});else{var $t=vr();rt=$t.reduce(function(en,mn){var gn=On(mn,"filterField")||On(mn,"field"),Dn=On(mn,"filterFunction"),Gn=On(mn,"dataType"),pr=On(mn,"filterMatchMode")||(n&&n.filterMatchModeOptions[Gn]||Ai.filterMatchModeOptions[Gn]?n&&n.filterMatchModeOptions[Gn][0]||Ai.filterMatchModeOptions[Gn][0]:li.STARTS_WITH),Dr={value:null,matchMode:pr};return Dn&&xy.register("custom_".concat(gn),function(){for(var Qr=arguments.length,Gr=new Array(Qr),$r=0;$r<Qr;$r++)Gr[$r]=arguments[$r];return Dn.apply(void 0,Gr.concat([{column:mn}]))}),en[gn]=r.filterDisplay==="menu"?{operator:_y.AND,constraints:[Dr]}:Dr,en},{})}return rt},Qi=function(Be,rt,$t){var en=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,mn=Al({},Xt),gn=mn[rt],Dn=gn&&gn.operator?gn.constraints[en]:gn;Dn=gn?{value:Be,matchMode:$t||Dn.matchMode}:{value:Be,matchMode:$t},r.filterDisplay==="menu"&&gn&&gn.operator?mn[rt].constraints[en]=Dn:mn[rt]=Dn,It(mn),ps(mn)},_i=function(){Bt(r.rows),It(Ji(r.filters)),Rt(null),pn({}),r.onPage||(o(r.first),k(r.rows)),r.onSort||(U(r.sortField),Y(r.sortOrder),Pe(r.multiSortMeta)),r.onFilter||Kt(r.filters),Ia()},Ul=function(){if(Re.current){var Be=Et()?Re.current:wt.findSingle(Re.current,".p-virtualscroller");Be.scrollTo(0,0)}},Ia=function(){var Be=vr(!0),rt=[];Be&&(rt=Be.reduce(function($t,en){return $t.push(On(en,"columnKey")||On(en,"field")),$t},[])),An(rt)},Io=function(Be){var rt,$t="\uFEFF",en=vr();Be&&Be.selectionOnly?rt=r.selection||[]:rt=[].concat(na(r.frozenValue||[]),na(ko()||[])),en.forEach(function(mn,gn){var Dn=[On(mn,"field"),On(mn,"header"),On(mn,"exportHeader"),On(mn,"exportable")],Gn=Dn[0],pr=Dn[1],Dr=Dn[2],Qr=Dn[3];if(Qr&&Gn){var Gr=String(Dr||pr||Gn).replace(/"/g,'""').replace(/\n/g,"\u2028");$t+='"'+Gr+'"',gn<en.length-1&&($t+=r.csvSeparator)}}),rt.forEach(function(mn){$t+=`
`,en.forEach(function(gn,Dn){var Gn=[On(gn,"field"),On(gn,"exportField"),On(gn,"exportable")],pr=Gn[0],Dr=Gn[1],Qr=Gn[2],Gr=Dr||pr;if(Qr&&Gr){var $r=ht.resolveFieldData(mn,Gr);$r!=null?r.exportFunction?$r=r.exportFunction({data:$r,field:Gr,rowData:mn,column:gn}):$r=String($r).replace(/"/g,'""').replace(/\n/g,"\u2028"):$r="",$t+='"'+$r+'"',Dn<en.length-1&&($t+=r.csvSeparator)}})}),wt.exportCSV($t,r.exportFilename)},Go=function(){r.editMode!=="row"&&document.body.click()},ya=function(Be){return Al({first:Tt(),rows:nt(),sortField:Ct(),sortOrder:cn(),multiSortMeta:Fn(),filters:ir()},Be)},ko=function(Be){var rt=r.value||[];if(!r.lazy&&rt&&rt.length){var $t=Be&&Be.filters||ir(),en=Be&&Be.sortField||Ct(),mn=Be&&Be.sortOrder||cn(),gn=Be&&Be.multiSortMeta||Fn(),Dn=vr(),Gn=Dn.find(function(pr){return On(pr,"field")===en});Gn&&(yr.current=On(Gn,"sortable"),Nr.current=On(Gn,"sortFunction")),(ht.isNotEmpty($t)||r.globalFilter)&&(rt=Vo(rt,$t)),(en||ht.isNotEmpty(gn))&&(r.sortMode==="single"?rt=Uo(rt,en,mn):r.sortMode==="multiple"&&(rt=Rs(rt,gn)))}return rt},Kr=function(Be){if(Be&&r.paginator){var rt=r.lazy?0:Tt();return Be.slice(rt,rt+nt())}return Be};Yf(function(){yn.current&&(er.current=Vee(),yn.current.setAttribute(er.current,"")),It(Ji(r.filters)),Jt()&&(ye(),r.resizableColumns&&tt())}),ro(function(){return r.responsiveLayout==="stack"&&!r.scrollable&&ii(),function(){gr()}},[r.breakpoint]),ro(function(){var Sn=Ji(r.filters);Kt(Sn),It(Ji(r.filters)),r.onValueChange&&r.onValueChange(ko({filters:Sn}))},[r.filters]),ro(function(){Jt()&&re()}),ro(function(){gr(),r.responsiveLayout==="stack"&&!r.scrollable&&ii()},[r.responsiveLayout,r.scrollable]),ro(function(){r.globalFilter?Qi(r.globalFilter,"global",r.globalFilterMatchMode):Kt(r.filters)},[r.globalFilter,r.globalFilterMatchMode]),mu(function(){Ui(),Yi(),gr()}),A.useImperativeHandle(t,function(){return{props:r,clearState:le,closeEditingCell:Go,exportCSV:Io,filter:Qi,reset:_i,resetColumnOrder:Ia,resetScroll:Ul,restoreColumnWidths:tt,restoreState:ye,restoreTableState:de,saveState:re,getElement:function(){return yn.current},getTable:function(){return xe.current},getVirtualScroller:function(){return zt.current}}});var sl=function(){if(r.loading){var Be="p-datatable-loading-icon",rt=Nt({className:Be},En.ptm("loadingIcon")),$t=r.loadingIcon||A.createElement(Ex,Bo({},rt,{spin:!0})),en=Ki.getJSXIcon($t,Al({},rt),{props:r}),mn=Nt({className:"p-datatable-loading-overlay p-component-overlay"},En.ptm("loadingOverlay"));return A.createElement("div",mn,en)}return null},Ds=function(){if(r.header){var Be=ht.getJSXElement(r.header,{props:r}),rt=Nt({className:"p-datatable-header"},En.ptm("header"));return A.createElement("div",rt,Be)}return null},Va=function(Be,rt,$t){if(r.showHeaders===!1)return null;var en=Ct(),mn=cn(),gn=na(Fn()),Dn=jt(),Gn=Xt,pr=!r.onFilter&&r.filters||ir(),Dr=Be.items,Qr=Be.props,Gr=Be.columns,$r=$t||Qr.lazy?Dr:Qr.items;return A.createElement(CF,{value:$r,tableProps:r,columns:Gr,tabIndex:r.tabIndex,empty:rt,headerColumnGroup:r.headerColumnGroup,resizableColumns:r.resizableColumns,onColumnResizeStart:vt,onColumnResizerClick:r.onColumnResizerClick,onColumnResizerDoubleClick:r.onColumnResizerDoubleClick,sortMode:r.sortMode,sortField:en,sortIcon:r.sortIcon,sortOrder:mn,multiSortMeta:gn,groupRowsBy:r.groupRowsBy,groupRowSortField:Dn,onSortChange:pa,filterDisplay:r.filterDisplay,filters:Gn,filtersStore:pr,filterIcon:r.filterIcon,filterClearIcon:r.filterClearIcon,onFilterChange:al,onFilterApply:ps,showSelectAll:r.showSelectAll,allRowsSelected:Xn,onColumnCheckboxChange:zr,onColumnMouseDown:jo,onColumnDragStart:br,onColumnDragOver:vn,onColumnDragLeave:or,onColumnDrop:ar,rowGroupMode:r.rowGroupMode,reorderableColumns:r.reorderableColumns,ptCallbacks:En,metaData:Mn})},Hi=function(Be,rt,$t,en){var mn=Tt(),gn=Be.rows,Dn=Be.columns,Gn=Be.contentRef,pr=Be.style,Dr=Be.className,Qr=Be.spacerStyle,Gr=Be.itemSize,$r=ht.isNotEmpty(r.frozenValue)&&A.createElement(m_,{ref:kt,cellClassName:r.cellClassName,cellSelection:r.cellSelection,checkIcon:r.checkIcon,className:"p-datatable-tbody p-datatable-frozen-tbody",collapsedRowIcon:r.collapsedRowIcon,columns:Dn,compareSelectionBy:r.compareSelectionBy,contextMenuSelection:r.contextMenuSelection,dataKey:r.dataKey,dragSelection:r.dragSelection,editMode:r.editMode,editingMeta:ln,editingRows:r.editingRows,emptyMessage:r.emptyMessage,expandableRowGroups:r.expandableRowGroups,expandedRowIcon:r.expandedRowIcon,expandedRows:r.expandedRows,first:mn,frozenRow:!0,groupRowsBy:r.groupRowsBy,isDataSelectable:r.isDataSelectable,isVirtualScrollerDisabled:!0,lazy:r.lazy,loading:r.loading,metaKeySelection:r.metaKeySelection,onCellClick:r.onCellClick,onCellSelect:r.onCellSelect,onCellUnselect:r.onCellUnselect,onContextMenu:r.onContextMenu,onContextMenuSelectionChange:r.onContextMenuSelectionChange,onEditingMetaChange:xr,onRowClick:r.onRowClick,onRowCollapse:r.onRowCollapse,onRowDoubleClick:r.onRowDoubleClick,onRowEditCancel:r.onRowEditCancel,onRowEditChange:r.onRowEditChange,onRowEditComplete:r.onRowEditComplete,onRowEditInit:r.onRowEditInit,onRowEditSave:r.onRowEditSave,onRowExpand:r.onRowExpand,onRowMouseEnter:r.onRowMouseEnter,onRowMouseLeave:r.onRowMouseLeave,onRowReorder:r.onRowReorder,onRowSelect:r.onRowSelect,onRowToggle:r.onRowToggle,onRowUnselect:r.onRowUnselect,onSelectionChange:r.onSelectionChange,paginator:r.paginator,reorderableRows:r.reorderableRows,responsiveLayout:r.responsiveLayout,rowClassName:r.rowClassName,rowEditValidator:r.rowEditValidator,rowEditorCancelIcon:r.rowEditorCancelIcon,rowEditorInitIcon:r.rowEditorInitIcon,rowEditorSaveIcon:r.rowEditorSaveIcon,rowExpansionTemplate:r.rowExpansionTemplate,rowGroupFooterTemplate:r.rowGroupFooterTemplate,rowGroupHeaderTemplate:r.rowGroupHeaderTemplate,rowGroupMode:r.rowGroupMode,scrollable:r.scrollable,selectOnEdit:r.selectOnEdit,selection:r.selection,selectionAutoFocus:r.selectionAutoFocus,selectionMode:r.selectionMode,selectionModeInColumn:rt,showRowReorderElement:r.showRowReorderElement,showSelectionElement:r.showSelectionElement,tabIndex:r.tabIndex,tableProps:r,tableSelector:er.current,value:r.frozenValue,virtualScrollerOptions:Be,ptCallbacks:En,metaData:Mn}),Bi=A.createElement(m_,{ref:lt,value:Kr(gn),style:pr,className:Or("p-datatable-tbody",Dr),empty:$t,frozenRow:!1,tableProps:r,tableSelector:er.current,columns:Dn,selectionModeInColumn:rt,first:mn,editingMeta:ln,onEditingMetaChange:xr,tabIndex:r.tabIndex,onRowClick:r.onRowClick,onRowDoubleClick:r.onRowDoubleClick,onRowMouseEnter:r.onRowMouseEnter,onRowMouseLeave:r.onRowMouseLeave,onCellClick:r.onCellClick,selection:r.selection,onSelectionChange:r.onSelectionChange,lazy:r.lazy,paginator:r.paginator,onCellSelect:r.onCellSelect,onCellUnselect:r.onCellUnselect,onRowSelect:r.onRowSelect,onRowUnselect:r.onRowUnselect,dragSelection:r.dragSelection,onContextMenu:r.onContextMenu,onContextMenuSelectionChange:r.onContextMenuSelectionChange,metaKeySelection:r.metaKeySelection,selectionMode:r.selectionMode,cellSelection:r.cellSelection,contextMenuSelection:r.contextMenuSelection,dataKey:r.dataKey,expandedRows:r.expandedRows,onRowCollapse:r.onRowCollapse,onRowExpand:r.onRowExpand,onRowToggle:r.onRowToggle,editMode:r.editMode,editingRows:r.editingRows,onRowReorder:r.onRowReorder,reorderableRows:r.reorderableRows,scrollable:r.scrollable,rowGroupMode:r.rowGroupMode,groupRowsBy:r.groupRowsBy,expandableRowGroups:r.expandableRowGroups,loading:r.loading,emptyMessage:r.emptyMessage,rowGroupHeaderTemplate:r.rowGroupHeaderTemplate,rowExpansionTemplate:r.rowExpansionTemplate,rowGroupFooterTemplate:r.rowGroupFooterTemplate,onRowEditChange:r.onRowEditChange,compareSelectionBy:r.compareSelectionBy,selectOnEdit:r.selectOnEdit,onRowEditInit:r.onRowEditInit,rowEditValidator:r.rowEditValidator,onRowEditSave:r.onRowEditSave,onRowEditComplete:r.onRowEditComplete,onRowEditCancel:r.onRowEditCancel,cellClassName:r.cellClassName,responsiveLayout:r.responsiveLayout,selectionAutoFocus:r.selectionAutoFocus,isDataSelectable:r.isDataSelectable,showSelectionElement:r.showSelectionElement,showRowReorderElement:r.showRowReorderElement,expandedRowIcon:r.expandedRowIcon,collapsedRowIcon:r.collapsedRowIcon,checkIcon:r.checkIcon,rowClassName:r.rowClassName,virtualScrollerContentRef:Gn,virtualScrollerOptions:Be,isVirtualScrollerDisabled:en,ptCallbacks:En,metaData:Mn}),po=ht.isNotEmpty(Qr)?A.createElement(m_,{style:{height:"calc(".concat(Qr.height," - ").concat(gn.length*Gr,"px)")},className:"p-datatable-virtualscroller-spacer",ptCallbacks:En,metaData:Mn}):null;return A.createElement(A.Fragment,null,$r,Bi,po)},Xo=function(Be){var rt=Be.columns;return A.createElement(wF,{tableProps:r,columns:rt,footerColumnGroup:r.footerColumnGroup,ptCallbacks:En,metaData:Mn})},ll=function(Be,rt,$t,en){if(rt){var mn=Et(),gn=r.virtualScrollerOptions||{},Dn=Nt({className:"p-datatable-wrapper",style:{maxHeight:mn?r.scrollHeight:null}},En.ptm("wrapper"));return A.createElement("div",Bo({ref:Re},Dn),A.createElement(cP,Bo({ref:zt},gn,{items:Be,columns:rt,style:Al(Al({},gn.style),{height:r.scrollHeight!=="flex"?r.scrollHeight:void 0}),scrollHeight:r.scrollHeight!=="flex"?void 0:"100%",disabled:mn,loaderDisabled:!0,inline:!0,autoSize:!0,pt:En.ptm("virtualScroller"),showSpacer:!1,contentTemplate:function(pr){var Dr=function(Oo){xe.current=Oo,pr.spacerRef&&pr.spacerRef(Oo)},Qr=Or("p-datatable-table",{"p-datatable-scrollable-table":r.scrollable,"p-datatable-resizable-table":r.resizableColumns,"p-datatable-resizable-table-fit":r.resizableColumns&&r.columnResizeMode==="fit"},r.tableClassName),Gr=Va(pr,en,mn),$r=Hi(pr,$t,en,mn),Bi=Xo(pr),po=Nt({ref:Dr,className:Qr,style:r.tableStyle,role:"table"},En.ptm("table"));return A.createElement("table",po,Gr,$r,Bi)}})))}},Yo=function(){if(r.footer){var Be=ht.getJSXElement(r.footer,{props:r}),rt=Nt({className:"p-datatable-footer"},En.ptm("footer"));return A.createElement("div",rt,Be)}return null},Mo=function(Be,rt){var $t=Or("p-paginator-"+Be,r.paginatorClassName);return A.createElement(oF,{first:Tt(),rows:nt(),pageLinkSize:r.pageLinkSize,className:$t,onPageChange:ho,template:r.paginatorTemplate,totalRecords:rt,rowsPerPageOptions:r.rowsPerPageOptions,currentPageReportTemplate:r.currentPageReportTemplate,leftContent:r.paginatorLeft,rightContent:r.paginatorRight,alwaysShow:r.alwaysShowPaginator,dropdownAppendTo:r.paginatorDropdownAppendTo,pt:En.ptm("paginator")})},Ga=function(Be){return r.paginator&&r.paginatorPosition!=="bottom"?Mo("top",Be):null},gc=function(Be){return r.paginator&&r.paginatorPosition!=="top"?Mo("bottom",Be):null},Vl=function(){if(r.resizableColumns){var Be=Nt({className:"p-column-resizer-helper",style:{display:"none"}},En.ptm("resizeHelper"));return A.createElement("div",Bo({ref:xn},Be))}return null},Ha=function(){if(r.reorderableColumns){var Be={position:"absolute",display:"none"},rt=Nt({className:"p-datatable-reorder-indicator-up",style:Al({},Be)},En.ptm("reorderIndicatorUp")),$t=Nt(En.ptm("reorderIndicatorUpIcon")),en=Ki.getJSXIcon(r.reorderIndicatorUpIcon||A.createElement(N9,$t),Al({},$t),{props:r}),mn=Nt({className:"p-datatable-reorder-indicator-down",style:Al({},Be)},En.ptm("reorderIndicatorDown")),gn=Nt(En.ptm("reorderIndicatorDownIcon")),Dn=Ki.getJSXIcon(r.reorderIndicatorDownIcon||A.createElement(B9,gn),Al({},gn),{props:r});return A.createElement(A.Fragment,null,A.createElement("span",Bo({ref:Wt},rt),en),A.createElement("span",Bo({ref:Pn},mn),Dn))}return null},Ii=ko(),Gl=vr(),ka=Ur(Ii),va=ht.isEmpty(Ii),gs=Rr(Gl),la=r.selectionMode||gs,cl=Or("p-datatable p-component",{"p-datatable-hoverable-rows":r.rowHover,"p-datatable-selectable":la&&!r.cellSelection,"p-datatable-selectable-cell":la&&r.cellSelection,"p-datatable-resizable":r.resizableColumns,"p-datatable-resizable-fit":r.resizableColumns&&r.columnResizeMode==="fit","p-datatable-scrollable":r.scrollable,"p-datatable-flex-scrollable":r.scrollable&&r.scrollHeight==="flex","p-datatable-responsive-stack":r.responsiveLayout==="stack","p-datatable-responsive-scroll":r.responsiveLayout==="scroll","p-datatable-striped":r.stripedRows,"p-datatable-gridlines":r.showGridlines,"p-datatable-grouped-header":r.headerColumnGroup!=null,"p-datatable-grouped-footer":r.footerColumnGroup!=null,"p-datatable-sm":r.size==="small","p-datatable-lg":r.size==="large"},r.className),Wa=sl(),Ls=Ds(),gu=Ga(ka),Hl=ll(Ii,Gl,gs,va),ys=gc(ka),ul=Yo(),Ma=Vl(),Wr=Ha(),od=Nt({id:r.id,className:cl,style:r.style,"data-scrollselectors":".p-datatable-wrapper"},a2.getOtherProps(r),En.ptm("root"));return A.createElement("div",Bo({ref:yn},od),Wa,Ls,gu,Hl,ys,ul,Ma,Wr)});Jf.displayName="DataTable";var zi=function(){};zi.displayName="Column";var SF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rD=Eo.createContext&&Eo.createContext(SF),jf=globalThis&&globalThis.__assign||function(){return jf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},jf.apply(this,arguments)},loe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]]);return n};function TF(e){return e&&e.map(function(t,n){return Eo.createElement(t.tag,jf({key:n},t.attr),TF(t.child))})}function Px(e){return function(t){return Eo.createElement(coe,jf({attr:jf({},e.attr)},t),TF(e.child))}}function coe(e){var t=function(n){var r=e.attr,c=e.size,u=e.title,h=loe(e,["attr","size","title"]),o=c||n.size||"1em",v;return n.className&&(v=n.className),e.className&&(v=(v?v+" ":"")+e.className),Eo.createElement("svg",jf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,h,{className:v,style:jf(jf({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),u&&Eo.createElement("title",null,u),e.children)};return rD!==void 0?Eo.createElement(rD.Consumer,null,function(n){return t(n)}):t(SF)}function iD(e){return Px({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 244c176.18 0 319 142.82 319 319v233a32 32 0 0 1-32 32H225a32 32 0 0 1-32-32V563c0-176.18 142.82-319 319-319zM484 68h56a8 8 0 0 1 8 8v96a8 8 0 0 1-8 8h-56a8 8 0 0 1-8-8V76a8 8 0 0 1 8-8zM177.25 191.66a8 8 0 0 1 11.32 0l67.88 67.88a8 8 0 0 1 0 11.31l-39.6 39.6a8 8 0 0 1-11.31 0l-67.88-67.88a8 8 0 0 1 0-11.31l39.6-39.6zm669.6 0l39.6 39.6a8 8 0 0 1 0 11.3l-67.88 67.9a8 8 0 0 1-11.32 0l-39.6-39.6a8 8 0 0 1 0-11.32l67.89-67.88a8 8 0 0 1 11.31 0zM192 892h640a32 32 0 0 1 32 32v24a8 8 0 0 1-8 8H168a8 8 0 0 1-8-8v-24a32 32 0 0 1 32-32zm148-317v253h64V575h-64z"}}]})(e)}function uoe(e){return Px({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]})(e)}function Sv(e){return Px({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M396 512a112 112 0 1 0 224 0 112 112 0 1 0-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]})(e)}function doe(e){return Px({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M721.7 184.9L610.9 295.8l120.8 120.7-8 21.6A481.29 481.29 0 0 1 438 723.9l-21.6 8-.9-.9-119.8-120-110.8 110.9 104.5 104.5c10.8 10.7 26 15.7 40.8 13.2 117.9-19.5 235.4-82.9 330.9-178.4s158.9-213.1 178.4-331c2.5-14.8-2.5-30-13.3-40.8L721.7 184.9z"}},{tag:"path",attr:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 0 1-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 0 0-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 0 0 285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"}}]})(e)}const foe=()=>{const{startLoadingCitizen:e,users:t,startActiveUser:n}=h6(),[r,c]=A.useState({global:{value:null,matchMode:li.CONTAINS}});A.useEffect(()=>{e()},[]);const u=Aa(),h=v=>{n({...v}),u("/users/detail")},o=v=>B.jsx("div",{onClick:()=>h(v),className:"flex flex-wrap gap-2",style:{cursor:"pointer"},children:B.jsx(Sv,{style:{color:"#9b59b6",fontSize:"20px"}})});return B.jsxs(id,{children:[B.jsx("div",{className:"flex justify-content-end",children:B.jsx(Vd,{placeholder:"Bsqueda global",onInput:v=>{c({global:{value:v.target.value,matchMode:li.CONTAINS}})}})}),B.jsxs(Jf,{value:t,filters:r,sortMode:"multiple",paginator:!0,rows:6,rowsPerPageOptions:[6,10],children:[B.jsx(zi,{field:"nombres",header:"Nombres",sortable:!0}),B.jsx(zi,{field:"apellidos",header:"Apellidos",sortable:!0}),B.jsx(zi,{field:"celular",header:"Celular",sortable:!0}),B.jsx(zi,{field:"correo",header:"Correo"}),B.jsx(zi,{body:o,header:"Ver",headerClassName:"w-10rem"})]})]})},hoe=()=>{const{userActive:e,alerts:t,startDeleteUser:n,startCancel:r,startLoadingCitizenAlerts:c,startDeleteUserAlert:u}=h6();if(!e.state)return B.jsx(Ol,{to:"/users"});const h=E=>{Ar.fire({title:"Estas seguro?",text:"No podras revirtir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, brralo!"}).then(S=>{S.isConfirmed&&u(E.id)})};A.useEffect(()=>{c()},[]);const o=E=>B.jsx("div",{onClick:()=>h(E),className:"flex flex-wrap gap-2",style:{cursor:"pointer"},children:B.jsx(uoe,{style:{color:"#c1322b",fontSize:"20px"}})}),v=()=>{Ar.fire({title:"Estas seguro?",text:"Recuerda si el usuario tiene un historial no podras eliminarlo!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, brralo!"}).then(E=>{E.isConfirmed&&n(e.id)})};return B.jsx(Pee,{children:B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"col-lg-6 ",children:B.jsxs(Jf,{value:t,sortMode:"multiple",paginator:!0,rows:5,rowsPerPageOptions:[5,10],children:[B.jsx(zi,{field:"fecha",header:"Fecha",sortable:!0}),B.jsx(zi,{field:"estado",header:"Estado",sortable:!0}),B.jsx(zi,{body:o,header:"Eliminar",headerClassName:"w-10rem"})]})}),B.jsx("div",{className:"col-lg-6",children:B.jsx("div",{className:"p-5",children:B.jsxs("div",{className:"text-center",children:[B.jsx("h1",{className:"h4 text-gray-900 mb-4",children:"Historial del usuario"}),B.jsxs(sp,{children:[B.jsx(cs,{children:B.jsx(Ba,{primary:"Nombres",secondary:`${e.nombres}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Apellidos",secondary:`${e.apellidos}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Celular",secondary:`${e.celular}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Correo",secondary:`${e.correo}`})})]}),B.jsxs(ap,{children:[B.jsx(hs,{onClick:()=>v(),variant:"outlined",size:"small",color:"error",children:"Eliminar"}),B.jsx(hs,{onClick:()=>r(),variant:"contained",size:"small",color:"secondary",children:"Regresar"})]})]})})})]})})},poe=()=>{const[e,t]=A.useState({global:{value:null,matchMode:li.CONTAINS}}),n=Aa(),{startLoadingSerene:r,startActiveSerene:c,serenes:u}=MA(),h=()=>{n("/serene/new")};A.useEffect(()=>{r()},[]);const o=E=>{c(E),n("/serene/detail")},v=E=>B.jsx("div",{onClick:()=>o(E),className:"flex flex-wrap gap-2",style:{cursor:"pointer"},children:B.jsx(Sv,{style:{color:"#9b59b6",fontSize:"20px"}})});return B.jsxs(id,{children:[B.jsxs("div",{className:"row",children:[B.jsx("div",{className:"col text-center",children:B.jsx(Vd,{placeholder:"Bsqueda global",onInput:E=>{t({global:{value:E.target.value,matchMode:li.CONTAINS}})}})}),B.jsx("div",{className:"col text-center mt-1",children:B.jsx(hs,{onClick:()=>h(),children:"Nuevo Registro"})})]}),B.jsxs(Jf,{value:u,filters:e,sortMode:"multiple",paginator:!0,rows:6,rowsPerPageOptions:[6,10],children:[B.jsx(zi,{className:"active",field:"Id",header:"ID",sortable:!0}),B.jsx(zi,{field:"nombres",header:"Nombres",sortable:!0}),B.jsx(zi,{field:"apellidos",header:"Apellidos",sortable:!0}),B.jsx(zi,{field:"celular",header:"Celular",sortable:!0}),B.jsx(zi,{field:"correo",header:"Correo"}),B.jsx(zi,{body:v,header:"Ver",headerClassName:"w-10rem"})]})]})},moe=()=>{const{nombres:e,apellidos:t,celular:n,correo:r,contrasenia:c,formStata:u,onInputChange:h}=ip({nombres:"",apellidos:"",celular:"",correo:"",contrasenia:"",dni:"12345678"}),{valNomb:o,valApell:v,valCorre:E,valCelul:S,valContr:k,state:O}=Y6(u),{starNewSerene:N}=MA(),G=U=>{U.preventDefault(),O&&N(u)};return B.jsx(mc,{widt:600,children:B.jsxs(Er,{onSubmit:G,className:"user",children:[B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${o}`,type:"text",value:e,name:"nombres",onChange:h,placeholder:"Nombres"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${v}`,value:t,name:"apellidos",onChange:h,placeholder:"Apellidos"})})]}),B.jsx("br",{}),B.jsx(Er.Group,{children:B.jsx(Er.Control,{type:"tex",className:`${E}`,value:r,name:"correo",onChange:h,placeholder:"Email"})}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${S}`,value:n,name:"celular",onChange:h,placeholder:"Celular"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"password",className:`${k}`,value:c,name:"contrasenia",onChange:h,placeholder:"Contrasea"})})]}),B.jsx("br",{}),B.jsx("br",{}),B.jsx("div",{className:"text-center",children:B.jsx(el,{disabled:!O,type:"onSumit",className:"btn btn-primary btn-user btn-block",children:"Registrar Cuenta"})})]})})},goe=()=>{const{sereneActive:e,startCancel:t,startDeleteSerene:n}=MA();if(!e.state)return B.jsx(Ol,{to:"/serene"});const r=()=>{Ar.fire({title:"Estas seguro?",text:"No podrs revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, brralo!"}).then(c=>{c.isConfirmed&&n(e.id)})};return B.jsxs(mc,{widt:400,children:[B.jsxs(sp,{sx:{width:"100%",maxWidth:360},children:[B.jsx(cs,{children:B.jsx(Ba,{primary:"Nombres",secondary:`${e.nombres}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Apellidos",secondary:`${e.apellidos}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Celular",secondary:`${e.celular}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Correo",secondary:`${e.correo}`})})]}),B.jsxs(ap,{children:[B.jsx(hs,{onClick:()=>r(),variant:"outlined",size:"small",color:"error",children:"Eliminar"}),B.jsx(hs,{onClick:()=>t(),variant:"contained",size:"small",color:"secondary",children:"Regresar"})]})]})},yoe=()=>{const[e,t]=A.useState({global:{value:null,matchMode:li.CONTAINS}}),n=Aa(),{startLoadingGency:r,startActiveGency:c,gencys:u}=tx(),h=()=>{n("/emergency/new")};A.useEffect(()=>{r()},[]);const o=E=>{c(E),n("/emergency/detail")},v=E=>B.jsx("div",{onClick:()=>o(E),className:"flex flex-wrap gap-2",style:{cursor:"pointer"},children:B.jsx(Sv,{style:{color:"#9b59b6",fontSize:"20px"}})});return B.jsxs(id,{children:[B.jsxs("div",{className:"row mb-1",children:[B.jsx("div",{className:"col text-center",children:B.jsx(Vd,{placeholder:"Bsqueda global",onInput:E=>{t({global:{value:E.target.value,matchMode:li.CONTAINS}})}})}),B.jsx("div",{className:"col text-center mt-1",children:B.jsx(hs,{onClick:()=>h(),children:"Nuevo Registro"})})]}),B.jsxs(Jf,{value:u,filters:e,sortMode:"multiple",paginator:!0,rows:6,rowsPerPageOptions:[6,10],children:[B.jsx(zi,{className:"active",field:"Id",header:"ID",sortable:!0}),B.jsx(zi,{field:"tipo",header:"Servicio",sortable:!0}),B.jsx(zi,{field:"numero",header:"Celular",sortable:!0}),B.jsx(zi,{body:v,header:"Ver",headerClassName:"w-10rem"})]})]})},voe=()=>{const{gencyActive:e,startCancel:t,startDeleteGency:n}=tx();if(!e.state)return B.jsx(Ol,{to:"/emergency"});const r=()=>{Ar.fire({title:"Estas seguro?",text:"No podrs revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, brralo!"}).then(c=>{c.isConfirmed&&n(e.id)})};return B.jsxs(mc,{widt:400,children:[B.jsxs(sp,{sx:{width:"100%",maxWidth:360},children:[B.jsx(cs,{children:B.jsx(Ba,{primary:"Servicio",secondary:`${e.tipo}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Celular",secondary:`${e.numero}`})})]}),B.jsxs(ap,{children:[B.jsx(hs,{onClick:()=>r(),variant:"outlined",size:"small",color:"error",children:"Eliminar"}),B.jsx(hs,{onClick:()=>t(),variant:"contained",size:"small",color:"secondary",children:"Regresar"})]})]})},_oe=()=>{const{tipo:e,numero:t,formStata:n,onInputChange:r}=ip({tipo:"",numero:""}),{valTipo:c,valNume:u,state:h}=Yq(n),{starNewGency:o}=tx(),v=E=>{E.preventDefault(),h&&o(n)};return B.jsx(mc,{widt:500,children:B.jsxs(Er,{onSubmit:v,className:"user",children:[B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${c}`,type:"text",value:e,name:"tipo",onChange:r,placeholder:"Nombre"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${u}`,value:t,name:"numero",onChange:r,placeholder:"Celular"})})]}),B.jsx("br",{}),B.jsx("div",{className:"text-center",children:B.jsx(el,{type:"onSumit",className:"btn btn-primary btn-user btn-block",children:"Registrar"})})]})})},xoe=()=>{const[e,t]=A.useState({global:{value:null,matchMode:li.CONTAINS}}),n=Aa(),{startLoadingPlace:r,startActivePlace:c,places:u}=fv(),h=()=>{n("/place/new")};A.useEffect(()=>{r()},[]);const o=E=>{c(E),n("/place/detail")},v=E=>B.jsx("div",{onClick:()=>o(E),className:"flex flex-wrap gap-2",style:{cursor:"pointer"},children:B.jsx(Sv,{style:{color:"#9b59b6",fontSize:"20px"}})});return B.jsxs(id,{children:[B.jsxs("div",{className:"row mb-2",children:[B.jsx("div",{className:"col text-center",children:B.jsx(Vd,{placeholder:"Bsqueda global",onInput:E=>{t({global:{value:E.target.value,matchMode:li.CONTAINS}})}})}),B.jsx("div",{className:"col text-center mt-1",children:B.jsx(hs,{onClick:()=>h(),children:"Nuevo Registro"})})]}),B.jsxs(Jf,{value:u,filters:e,sortMode:"multiple",paginator:!0,rows:6,rowsPerPageOptions:[6,10],children:[B.jsx(zi,{field:"nivel",header:"Nivel",sortable:!0}),B.jsx(zi,{field:"direccion",header:"Direccin",sortable:!0}),B.jsx(zi,{field:"barrio",header:"Barrio",sortable:!0}),B.jsx(zi,{body:v,header:"Ver",headerClassName:"w-10rem"})]})]})},boe=()=>{const{placeActive:e,startDeletePlace:t,startCancel:n,starUpdatePlace:r}=fv();if(!e.state)return B.jsx(Ol,{to:"/emergency"});const{barrio:c,detalle:u,direccion:h,nivel:o,latitud:v,longitud:E,formStata:S,onInputChange:k}=ip(e),{valBarr:O,valDeta:N,valDire:G,valNive:U,valLati:H,valLong:q}=J6(S),W=()=>{Ar.fire({title:"Estas seguro?",text:"No podrs revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, brralo!"}).then(ie=>{ie.isConfirmed&&(console.log(e),t(e.id))})},Y=ie=>{ie.preventDefault()};return B.jsx(mc,{widt:650,children:B.jsxs(Er,{onSubmit:Y,className:"user",children:[B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-4 mb-sm-0",children:B.jsx(Er.Control,{className:`${O}`,type:"text",value:c,name:"barrio",onChange:k,placeholder:"Barrio"})}),B.jsx("div",{className:"col-sm-6 mb-4 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${N}`,value:u,name:"detalle",onChange:k,placeholder:"Detalle"})})]}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${G}`,type:"text",value:h,name:"direccion",onChange:k,placeholder:"Direccin"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsxs(Er.Select,{name:"nivel",className:`${U}`,value:o,onChange:k,children:[B.jsx("option",{value:"",children:"Seleccione Nivel"}),B.jsx("option",{value:"Bajo",children:"Bajo"}),B.jsx("option",{value:"Medio",children:"Medio"}),B.jsx("option",{value:"Alto",children:"Alto"})]})})]}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${H}`,type:"text",value:v,name:"latitud",onChange:k,placeholder:"Latitud"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${q}`,type:"text",value:E,name:"longitud",onChange:k,placeholder:"Longitud"})})]}),B.jsx("br",{}),B.jsxs("div",{className:"text-center",children:[B.jsx(el,{onClick:()=>W(),variant:"outline-danger",className:"m-1",children:"Eliminar"}),B.jsx(el,{onClick:()=>n(),className:"m-1 btn btn-primary btn-user btn-block",children:"Regresar"})]})]})})},woe={lng:-78.51754,lat:-7.15695,zoom:15},Eoe=()=>{const{detalle:e,direccion:t,barrio:n,nivel:r,formStata:c,onInputChange:u,onInputCoords:h}=ip({detalle:"",direccion:"",barrio:"",longitud:"",latitud:"",nivel:""}),{coords:o,setRef:v}=FH(woe),{valDeta:E,valDire:S,valBarr:k,valNive:O,state:N}=J6(c),{starNewPlace:G}=fv(),U=H=>{H.preventDefault(),N&&G(c)};return A.useEffect(()=>{h(o)},[o]),B.jsxs(mc,{widt:800,children:[B.jsxs(Er,{onSubmit:U,className:"info user",children:[B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${k}`,type:"text",value:n,name:"barrio",onChange:u,placeholder:"Barrio"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{type:"text",className:`${E}`,value:e,name:"detalle",onChange:u,placeholder:"Detalle"})})]}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{className:`${S}`,type:"text",value:t,name:"direccion",onChange:u,placeholder:"Direccin"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsxs(Er.Select,{value:r,name:"nivel",className:`${O}`,onChange:u,children:[B.jsx("option",{value:"",children:"Seleccione Nivel"}),B.jsx("option",{value:"Bajo",children:"Bajo"}),B.jsx("option",{value:"Medio",children:"Medio"}),B.jsx("option",{value:"Alto",children:"Alto"})]})})]}),B.jsx("br",{}),B.jsxs(Er.Group,{className:"row",children:[B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{disabled:!0,type:"text",value:o.lat,name:"latitud",onChange:u,placeholder:"Latitud"})}),B.jsx("div",{className:"col-sm-6 mb-3 mb-sm-0",children:B.jsx(Er.Control,{disabled:!0,type:"text",value:o.lng,name:"longitud",onChange:u,placeholder:"Longitud"})})]}),B.jsx("br",{}),B.jsx("div",{className:"text-center",children:B.jsx(el,{type:"onSumit",variant:"lg",className:"btn btn-primary btn-user btn-block",children:"Registrar"})})]}),B.jsx("div",{ref:v,className:"mapContainer"})]})},Coe=()=>{const[e,t]=A.useState({global:{value:null,matchMode:li.CONTAINS}}),n=Aa(),{startLoadingInfo:r,startActiveInfo:c,infos:u,viewInfo:h}=nx(),o=()=>{n("/info/new")};A.useEffect(()=>{r()},[]);const v=S=>{c(S),n("/info/detail")},E=S=>B.jsx("div",{onClick:()=>v(S),className:"flex flex-wrap gap-2",style:{cursor:"pointer"},children:B.jsx(Sv,{style:{color:"#9b59b6",fontSize:"20px"}})});return B.jsxs(id,{children:[B.jsxs("div",{className:"row mb-2",children:[B.jsx("div",{className:"col text-center",children:B.jsx(Vd,{placeholder:"Bsqueda global",onInput:S=>{t({global:{value:S.target.value,matchMode:li.CONTAINS}})}})}),!h&&B.jsx("div",{className:"col text-center mt-1",children:B.jsx(hs,{onClick:()=>o(),children:"Nuevo Registro"})})]}),B.jsxs(Jf,{value:u,filters:e,sortMode:"multiple",paginator:!0,rows:6,rowsPerPageOptions:[6,10],children:[B.jsx(zi,{field:"fecha",header:"Fecha",sortable:!0}),B.jsx(zi,{field:"datos",header:"Descripcin",sortable:!0}),!h&&B.jsx(zi,{body:E,header:"Ver",headerClassName:"w-10rem"})]})]})},Soe=()=>{const{infoActive:e,startDeleteInfo:t,startCancel:n}=nx();if(!e.state)return B.jsx(Ol,{to:"/info"});const r=()=>{Ar.fire({title:"Estas seguro?",text:"No podrs revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S, brralo!"}).then(c=>{c.isConfirmed&&t(e.id)})};return B.jsxs(mc,{widt:400,children:[B.jsxs(sp,{sx:{width:"100%",maxWidth:360},children:[B.jsx(cs,{children:B.jsx(Ba,{primary:"Descripcin",secondary:`${e.datos}`})}),B.jsx(cs,{children:B.jsx(Ba,{primary:"Fecha",secondary:`${e.fecha}`})}),B.jsx(P9,{className:"m-2",component:"button",variant:`${e.link}`,onClick:()=>{window.open(`${e.link}`)},children:B.jsx(cs,{children:B.jsx(Ba,{primary:"Link",secondary:`${e.link}`})})})]}),B.jsxs(ap,{children:[B.jsx(hs,{onClick:()=>r(),variant:"outlined",size:"small",color:"error",children:"Eliminar"}),B.jsx(hs,{onClick:()=>n(),variant:"contained",size:"small",color:"secondary",children:"Regresar"})]})]})},Toe=()=>{const{datos:e,link:t,fecha:n,formStata:r,onInputChange:c}=ip({datos:"",link:"",fecha:""}),{starNewInfo:u}=nx(),{valDato:h,valLink:o,valFech:v,state:E}=eK(r),S=k=>{k.preventDefault(),E&&u(r)};return B.jsx(mc,{widt:500,children:B.jsxs(Er,{onSubmit:S,className:"user",children:[B.jsx(Er.Control,{className:`${h}`,as:"textarea",rows:3,value:e,name:"datos",onChange:c,placeholder:"Descripcin"}),B.jsx("br",{}),B.jsx(Er.Control,{as:"textarea",rows:3,className:`${o}`,value:t,name:"link",onChange:c,placeholder:"Url de publicacin"}),B.jsx("br",{}),B.jsx(Er.Control,{type:"date",className:`${v}`,value:n,name:"fecha",onChange:c}),B.jsx("br",{}),B.jsx("div",{className:"text-center",children:B.jsx(el,{type:"onSumit",className:"btn btn-primary btn-user btn-block",children:"Registrar"})})]})})},Aoe=()=>{const{user:e,startLogout:t}=pu(),n=()=>{t()};return B.jsxs(mc,{widt:400,children:[B.jsx(sp,{sx:{width:"100%",maxWidth:360},children:B.jsx(cs,{children:B.jsx(Ba,{primary:"Nombres",secondary:`${e.name}`})})}),B.jsx(ap,{children:B.jsx(hs,{onClick:()=>n(),variant:"outlined",size:"small",color:"error",children:"Cerrar Sesin"})})]})},Poe=()=>{const{startViewInfo:e}=kA();return A.useEffect(()=>{e(!1)},[]),B.jsxs(B.Fragment,{children:[B.jsx(Dee,{}),B.jsxs(cv,{children:[B.jsx(qr,{path:"/home",element:B.jsx(Ree,{})}),B.jsx(qr,{path:"/perfil",element:B.jsx(Aoe,{})}),B.jsx(qr,{path:"/users",element:B.jsx(foe,{})}),B.jsx(qr,{path:"/users/detail",element:B.jsx(hoe,{})}),B.jsx(qr,{path:"/serene",element:B.jsx(poe,{})}),B.jsx(qr,{path:"/serene/new",element:B.jsx(moe,{})}),B.jsx(qr,{path:"/serene/detail",element:B.jsx(goe,{})}),B.jsx(qr,{path:"/emergency",element:B.jsx(yoe,{})}),B.jsx(qr,{path:"/emergency/new",element:B.jsx(_oe,{})}),B.jsx(qr,{path:"/emergency/detail",element:B.jsx(voe,{})}),B.jsx(qr,{path:"/place",element:B.jsx(xoe,{})}),B.jsx(qr,{path:"/place/new",element:B.jsx(Eoe,{})}),B.jsx(qr,{path:"/place/detail",element:B.jsx(boe,{})}),B.jsx(qr,{path:"/info",element:B.jsx(Coe,{})}),B.jsx(qr,{path:"/info/new",element:B.jsx(Toe,{})}),B.jsx(qr,{path:"/info/detail",element:B.jsx(Soe,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"/home"})})]})]})},Ioe={lng:-78.5175442,lat:-7.1569542,zoom:15},koe=()=>{const{coords:e,setRef:t}=NH(Ioe);return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"info",children:["Lng: ",e.lng," | lat: ",e.lat," | ",e.zoom]}),B.jsx("div",{ref:t,className:"mapContainer"})]})};var Ix={},mP={},Jm={},oD=wa&&wa.__awaiter||function(e,t,n,r){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function o(S){try{E(r.next(S))}catch(k){h(k)}}function v(S){try{E(r.throw(S))}catch(k){h(k)}}function E(S){S.done?u(S.value):c(S.value).then(o,v)}E((r=r.apply(e,t||[])).next())})};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.PushNotification=void 0;const aD=3e3;let AF=class{constructor(t){this.title=t.title,this.subtitle=t.subtitle,this.message=t.message,this.theme=t.theme,this.id=Math.random(),this.styling=t.styling,this.closeButton=t.closeButton,this.onClick=t.onClick}};Jm.PushNotification=AF;class Moe{constructor(){this.Storage=[],this.Listener=()=>this.Storage,this.popAndPush=t=>{let n=0;for(;n<this.Storage.length;)this.Storage[n].id===t?this.Storage.splice(n,1):++n;this.Listener(this.Storage)},this.setTimer=(t,n)=>{setTimeout(()=>this.popAndPush(t),n)},this.addListener=t=>{this.Listener=t},this.addNativeNotification=t=>oD(this,void 0,void 0,function*(){const{title:n,subtitle:r,message:c,duration:u,icon:h,vibrate:o,silent:v,onClick:E}=t;if((Notification.permission==="default"||Notification.permission==="denied")&&(yield Notification.requestPermission()),Notification.permission==="granted"){const S=new Notification(n,{body:c,data:r,icon:h,vibrate:o,silent:v});S.onclick=E||null,setTimeout(S.close.bind(S),u||aD)}}),this.addWebNotification=t=>{const{title:n,subtitle:r,message:c,theme:u,duration:h,backgroundBottom:o,backgroundTop:v,colorBottom:E,colorTop:S,closeButton:k,onClick:O}=t,N={backgroundTop:v,backgroundBottom:o,colorTop:S,colorBottom:E},G=new AF({title:n,subtitle:r,message:c,theme:u,styling:N,closeButton:k,onClick:O});this.Storage.push(G),this.setTimer(G.id,h||aD),this.Listener(this.Storage)},this.addNotification=t=>oD(this,void 0,void 0,function*(){const{native:n}=t;return n?this.addNativeNotification(t):this.addWebNotification(t)})}}Jm.default=new Moe;var gP={},Ooe=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gP,"__esModule",{value:!0});const kh=Ooe(A),Roe=e=>{const{title:t,subtitle:n,message:r,theme:c,id:u,closeNotification:h,styling:o,closeButton:v,onClick:E}=e;let S={},k={};return o&&(S.backgroundColor=o.backgroundTop,S.color=o.colorTop,k.backgroundColor=o.backgroundBottom,k.color=o.colorBottom),kh.default.createElement("div",{className:`rpn-notification-card ${c}`,onClick:E},kh.default.createElement("div",{className:`rpn-notification-card-top ${c}`,style:Object.keys(S).length?S:void 0},kh.default.createElement("span",null,t),kh.default.createElement("span",{className:`rpn-notification-card-close ${c}`,onClick:()=>h(u)},v||"close")),kh.default.createElement("div",{className:`rpn-notification-card-bottom ${c}`,style:Object.keys(k).length?k:void 0},kh.default.createElement("span",{className:"subtitle"},n),kh.default.createElement("span",{className:"message"},r)))};gP.default=Roe;var yP=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mP,"__esModule",{value:!0});const s2=yP(A),sD=yP(Jm),Doe=yP(gP);class Loe extends s2.default.Component{constructor(){super(...arguments),this.state={value:[]}}componentDidMount(){sD.default.addListener(t=>this.setState({value:t}))}render(){const{position:t}=this.props,n=`rpn-notification-holder ${t||"top-middle"} supertest`;return s2.default.createElement("div",{className:n},this.state.value.map((r,c)=>s2.default.createElement(Doe.default,{key:c,closeNotification:sD.default.popAndPush,onClick:r.onClick,id:r.id,theme:r.theme,title:r.title,subtitle:r.subtitle,closeButton:r.closeButton,message:r.message,styling:r.styling})))}}mP.default=Loe;var PF=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.Notifications=void 0;const Foe=PF(mP);Ix.Notifications=Foe.default;const Noe=PF(Jm),Boe=Noe.default.addNotification;var zoe=Ix.default=Boe;const $oe=({children:e,handle:t})=>B.jsxs("div",{className:"text-center",children:[B.jsx("span",{className:"info1 info2",children:e.fecha}),B.jsx("br",{}),B.jsxs("span",{className:"info1 info2",children:[e.nombres," ",e.apellidos]}),B.jsx("br",{}),B.jsx("span",{className:"info1 info2",children:e.dni}),B.jsx("br",{}),B.jsx("span",{className:"info1 info2",children:e.celular}),B.jsx("br",{}),B.jsx("span",{className:"info1 info2",children:e.estado}),B.jsx("br",{}),B.jsx(el,{onClick:()=>t({id:e.id,estado:"atendido"}),style:{marginTop:10},children:"Atendido"}),B.jsx("hr",{})]}),joe=({aler:e,onHide:t,show:n,handle:r})=>B.jsxs(k0,{show:n,onHide:t,scrollable:!0,size:"sm",children:[B.jsx(k0.Header,{closeButton:!0,style:{backgroundColor:"red",color:"white"},children:B.jsx(k0.Title,{children:"Notifiaciones"})}),B.jsx(k0.Body,{children:e.map(c=>B.jsx($oe,{children:c,handle:r},c.id))})]}),Uoe=()=>{const{user:e}=pu(),[t,n]=A.useState(!1),r=()=>{document.querySelector("#navbarSupportedContent").classList.remove("show")},{total:c,alerts:u,alertActive:h,starLoadAlertsSerene:o,starUpdateAlert:v}=y6();return A.useEffect(()=>{h.id&&(zoe({title:"Alerta enviada",message:`El usuario  ${h.nombres} identificado con DNI: ${h.dni} envio una alertar a las ${h.fecha}`,duration:9e3,native:!0}),Ar.fire({title:`El usuario:  ${h.nombres} - identificado con DNI: ${h.dni} envio 
                una alertar a las: ${h.fecha}`,showCancelButton:!0,confirmButtonText:"Atender"}).then(E=>{E.isConfirmed&&(Ar.fire("Saved!","","success"),v({id:h.id,estado:"pendiente"}))}))},[h]),A.useEffect(()=>{o()},[]),B.jsxs(iP,{children:[B.jsx(as,{to:"/",className:"navbar-brand",children:"Vigilantes Online"}),B.jsx("div",{className:"view-displ",children:B.jsxs("a",{className:"",href:"#",style:{marginRight:50,marginBottom:0},onClick:()=>n(!0),children:[B.jsx(iD,{style:{color:"white",transform:"scale(1.5)"}}),B.jsx("span",{className:"badge badge-danger badge-counter",style:{color:"white",backgroundColor:"#e74a3b",position:"absolute",transform:"scale(1)",marginRight:"1.1rem",marginTop:"-0.25rem"},children:c})]})}),B.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:B.jsx("span",{className:"navbar-toggler-icon"})}),B.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[B.jsx("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0"}),B.jsxs("div",{className:"d-flex",children:[B.jsxs("a",{className:"view-displ-nor",href:"#",style:{marginRight:50,marginBottom:0},onClick:()=>n(!0),children:[B.jsx(iD,{style:{color:"white",transform:"scale(1.5)"}}),B.jsx("span",{className:"badge badge-danger badge-counter",style:{color:"white",backgroundColor:"#e74a3b",position:"absolute",transform:"scale(1)",marginRight:"1.1rem",marginTop:"-0.25rem"},children:c})]}),B.jsx("li",{style:{listStyle:"none"},className:"nav-item dropdown no-arrow",onClick:r,children:B.jsx(as,{to:"/perfil",className:"navbar-brand",style:{fontSize:"13px"},children:e.name})})]})]}),B.jsx(joe,{show:t,onHide:()=>n(!1),aler:u,handle:v})]})},Voe=()=>{const{user:e,startLogout:t}=pu(),n=()=>{t()};return B.jsxs(mc,{widt:400,children:[B.jsx(sp,{sx:{width:"100%",maxWidth:360},children:B.jsx(cs,{children:B.jsx(Ba,{primary:"Nombres",secondary:`${e.name}`})})}),B.jsx(ap,{children:B.jsx(hs,{onClick:()=>n(),variant:"outlined",size:"small",color:"error",children:"Cerrar Sesin"})})]})},Goe=()=>B.jsxs(B.Fragment,{children:[B.jsx(Uoe,{}),B.jsxs(cv,{children:[B.jsx(qr,{path:"home",element:B.jsx(koe,{})}),B.jsx(qr,{path:"perfil",element:B.jsx(Voe,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"home"})})]})]}),Hoe=()=>{const{user:e}=pu(),t=()=>{document.querySelector("#navbarSupportedContent").classList.remove("show")};return B.jsx(iP,{children:B.jsxs(B.Fragment,{children:[B.jsx(as,{to:"/",className:"navbar-brand",children:"Vigilantes Online"}),B.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:B.jsx("span",{className:"navbar-toggler-icon"})}),B.jsxs("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[B.jsxs("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/",className:"nav-link",children:"Home"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/infos",className:"nav-link",children:"Noticias"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/critics",className:"nav-link",children:"Puntos"})}),B.jsx("li",{className:"nav-item",onClick:t,children:B.jsx(as,{to:"/emergency",className:"nav-link",children:"Emergencia"})})]}),B.jsx("li",{className:"nav-item dropdown no-arrow",onClick:t,children:B.jsx(as,{to:"/perfil",className:"navbar-brand",style:{fontSize:"13px"},children:e.name})})]})]})})},Woe=({children:e,eve:t})=>B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",onClick:()=>t(e.ruta),style:{cursor:"pointer"},children:B.jsx(xx,{style:{backgroundColor:`${e.back}`,color:`${e.color}`},children:B.jsx(bx,{children:B.jsx(Na,{gutterBottom:!0,variant:"h5",component:"div",children:e.name})})})}),Zoe=()=>{const e=Aa(),t=n=>{e(`/${n}`)};return B.jsx(id,{children:B.jsx("div",{className:"row",children:MH.map(n=>B.jsx(Woe,{children:n,eve:t},n.id))})})},qoe=()=>{const{user:e,startLogout:t}=pu(),n=()=>{t()};return B.jsxs(mc,{widt:400,children:[B.jsx(sp,{sx:{width:"100%",maxWidth:360},children:B.jsx(cs,{children:B.jsx(Ba,{primary:"Nombres",secondary:`${e.name}`})})}),B.jsx(ap,{children:B.jsx(hs,{onClick:()=>n(),variant:"outlined",size:"small",color:"error",children:"Cerrar Sesin"})})]})},IF=A.createContext(),Koe=({children:e})=>{const{socket:t,online:n,conectarSocket:r,desconectarSocket:c}=AW("http://localhost:4000"),{user:u}=pu(),h=nd();return A.useEffect(()=>{u.logged&&r()},[u,r]),A.useEffect(()=>{u.logged||c()},[u,c]),A.useEffect(()=>{t==null||t.on("lista-alertas",o=>{h(V1(o))})},[t,h]),A.useEffect(()=>{t==null||t.on("new-alert",o=>{h(fA(o)),h(Rj(o.id))})},[t,h]),B.jsx(IF.Provider,{value:{socket:t,online:n},children:e})},Xoe=()=>{const{isLoadingAlert:e,est:t,estado:n,fecha:r,starNewAlert:c,startClear:u}=p6(),{socket:h}=A.useContext(IF),o=v=>{v.preventDefault(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(E){const S={fecha:new Date().toLocaleString(),latitud:E.coords.latitude,longitud:E.coords.longitude};Sa("Registrando..."),c(S,h)},function(){Co("Se nego el acceso a la ubicacin")})};return B.jsxs(mc,{widt:400,children:[t?B.jsx(B.Fragment,{children:B.jsxs("div",{className:"text-center",children:[B.jsx(Na,{variant:"h4",className:"mb-3",children:"DENUNCIA"}),B.jsxs(Na,{variant:"p",children:["Estado: ",n]})," ",B.jsx("br",{}),B.jsxs(Na,{variant:"p",children:["Fecha: ",r]})," ",B.jsx("br",{}),B.jsx("hr",{}),B.jsx(Na,{sx:{color:"red"},variant:"p",children:"Si envias denuncias falsas, tu cuenta sera eliminada y puedes resivir una multa"}),B.jsx("br",{}),B.jsx(el,{onClick:u,className:"m-3",children:"Nueva de nuncia"})]})}):B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"text-center",children:[B.jsx(Na,{variant:"h4",className:"mb-3",children:"DENUNCIA"}),B.jsx(Na,{variant:"p",children:"Recuerda activar tu ubicacin"}),B.jsx("hr",{}),B.jsx(Na,{sx:{color:"red"},variant:"p",children:"Si envias denuncias falsas, tu cuenta sera eliminada y puedes resivir una multa"})]}),B.jsxs(Er,{className:"user",onSubmit:o,children:[B.jsx("br",{}),B.jsx("div",{className:"text-center",children:B.jsx(el,{disabled:e,type:"onSumit",size:"lg",variant:"primary",children:"Denuncia"})})]})]}),B.jsx("div",{className:"text-center mt-3",children:B.jsx(as,{to:"/complaint/history",style:{color:"#3c3c3c",textDecoration:"none"},children:"Historial de denuncias"})})]})},Yoe=()=>{const[e,t]=A.useState({global:{value:null,matchMode:li.CONTAINS}}),n=Aa(),r=()=>{n("/complaint")},{starLoadAlertSend:c,alerts:u}=p6();return A.useEffect(()=>{c()},[]),B.jsxs(id,{children:[B.jsxs("div",{className:"row mb-1",children:[B.jsx("div",{className:"col text-center",children:B.jsx(Vd,{placeholder:"Bsqueda global",onInput:h=>{t({global:{value:h.target.value,matchMode:li.CONTAINS}})}})}),B.jsx("div",{className:"col text-center mt-1",children:B.jsx(hs,{onClick:()=>r(),children:"Nueva Denuncia"})})]}),B.jsxs(Jf,{value:u,filters:e,sortMode:"multiple",paginator:!0,rows:6,rowsPerPageOptions:[6,10],children:[B.jsx(zi,{field:"fecha",header:"Fecha",sortable:!0}),B.jsx(zi,{field:"estado",header:"Estado",sortable:!0})]})]})},Joe=({children:e})=>B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",children:B.jsx(xx,{children:B.jsxs(bx,{className:"text-center",children:[B.jsx(Na,{gutterBottom:!0,variant:"h5",component:"div",children:e.tipo}),B.jsxs(Na,{gutterBottom:!0,variant:"h5",component:"div",children:[B.jsx(doe,{}),e.numero]}),B.jsx("a",{href:`tel:${e.numero}`,type:"button",children:"llamar"})]})})}),Qoe=()=>{const{gencys:e,startLoadingGency:t}=tx();return A.useEffect(()=>{t()},[]),B.jsx(id,{children:B.jsx("div",{className:"row",children:e.map(n=>B.jsx(Joe,{children:n},n.id))})})},eae=({children:e})=>B.jsx("div",{className:"col-xl-3 col-md-6 mb-4",children:B.jsx(eQ,{children:B.jsx(xx,{sx:{minHeight:240},children:B.jsxs(bx,{children:[B.jsx(Na,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:e.fecha}),B.jsx(Na,{variant:"body2",children:e.datos}),B.jsx(P9,{className:"m-2",component:"button",variant:`${e.link}`,onClick:()=>{window.open(`${e.link}`)},children:B.jsx(Ba,{primary:"Visitar publicacion"})})]})})})}),tae=()=>{const{startLoadingInfo:e,infos:t}=nx();return A.useEffect(()=>{e()},[]),B.jsx(id,{children:B.jsx("div",{className:"row",children:t.map(n=>B.jsx(eae,{children:n},n.id))})})},nae={lng:-78.5175442,lat:-7.1569542,zoom:15},rae=()=>{const{coords:e,setRef:t}=LH(nae);return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:"info",children:["Lng: ",e.lng," | lat: ",e.lat," | ",e.zoom]}),B.jsx("div",{ref:t,className:"mapContainer"})]})},iae=()=>{const{startLoadingPlace:e}=fv();return A.useEffect(()=>{e()},[]),B.jsxs(B.Fragment,{children:[B.jsx(Hoe,{}),B.jsxs(cv,{children:[B.jsx(qr,{path:"home",element:B.jsx(Zoe,{})}),B.jsx(qr,{path:"/perfil",element:B.jsx(qoe,{})}),B.jsx(qr,{path:"emergency",element:B.jsx(Qoe,{})}),B.jsx(qr,{path:"complaint",element:B.jsx(Xoe,{})}),B.jsx(qr,{path:"complaint/history",element:B.jsx(Yoe,{})}),B.jsx(qr,{path:"infos",element:B.jsx(tae,{})}),B.jsx(qr,{path:"critics",element:B.jsx(rae,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"home"})})]})]})},oae=()=>{const{checkAuthToken:e,status:t}=pu();return A.useEffect(()=>{e()},[]),t==="checking"?B.jsx(Aee,{}):B.jsx(cv,{children:t==="not-authenticated"?B.jsxs(B.Fragment,{children:[B.jsx(qr,{path:"/login",element:B.jsx(Iee,{})}),B.jsx(qr,{path:"/signup",element:B.jsx(kee,{})}),B.jsx(qr,{path:"/new_loc",element:B.jsx(Mee,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"/new_loc"})})]}):B.jsxs(B.Fragment,{children:[B.jsx(qr,{path:"/*",element:B.jsx(Oee,{})}),B.jsx(qr,{path:"/*",element:B.jsx(Ol,{to:"/"})})]})})},aae=()=>B.jsx(g$,{store:zj,children:B.jsx(MU,{children:B.jsx(Koe,{children:B.jsx(oae,{})})})});var sae={exports:{}};/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(n,r){e.exports=r()})(wa,function(){const n=new Map,r={set(ce,M,K){n.has(ce)||n.set(ce,new Map);const _e=n.get(ce);_e.has(M)||_e.size===0?_e.set(M,K):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(_e.keys())[0]}.`)},get:(ce,M)=>n.has(ce)&&n.get(ce).get(M)||null,remove(ce,M){if(!n.has(ce))return;const K=n.get(ce);K.delete(M),K.size===0&&n.delete(ce)}},c="transitionend",u=ce=>(ce&&window.CSS&&window.CSS.escape&&(ce=ce.replace(/#([^\s"#']+)/g,(M,K)=>`#${CSS.escape(K)}`)),ce),h=ce=>{ce.dispatchEvent(new Event(c))},o=ce=>!(!ce||typeof ce!="object")&&(ce.jquery!==void 0&&(ce=ce[0]),ce.nodeType!==void 0),v=ce=>o(ce)?ce.jquery?ce[0]:ce:typeof ce=="string"&&ce.length>0?document.querySelector(u(ce)):null,E=ce=>{if(!o(ce)||ce.getClientRects().length===0)return!1;const M=getComputedStyle(ce).getPropertyValue("visibility")==="visible",K=ce.closest("details:not([open])");if(!K)return M;if(K!==ce){const _e=ce.closest("summary");if(_e&&_e.parentNode!==K||_e===null)return!1}return M},S=ce=>!ce||ce.nodeType!==Node.ELEMENT_NODE||!!ce.classList.contains("disabled")||(ce.disabled!==void 0?ce.disabled:ce.hasAttribute("disabled")&&ce.getAttribute("disabled")!=="false"),k=ce=>{if(!document.documentElement.attachShadow)return null;if(typeof ce.getRootNode=="function"){const M=ce.getRootNode();return M instanceof ShadowRoot?M:null}return ce instanceof ShadowRoot?ce:ce.parentNode?k(ce.parentNode):null},O=()=>{},N=ce=>{ce.offsetHeight},G=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,U=[],H=()=>document.documentElement.dir==="rtl",q=ce=>{var M;M=()=>{const K=G();if(K){const _e=ce.NAME,at=K.fn[_e];K.fn[_e]=ce.jQueryInterface,K.fn[_e].Constructor=ce,K.fn[_e].noConflict=()=>(K.fn[_e]=at,ce.jQueryInterface)}},document.readyState==="loading"?(U.length||document.addEventListener("DOMContentLoaded",()=>{for(const K of U)K()}),U.push(M)):M()},W=(ce,M=[],K=ce)=>typeof ce=="function"?ce(...M):K,Y=(ce,M,K=!0)=>{if(!K)return void W(ce);const _e=(Ft=>{if(!Ft)return 0;let{transitionDuration:dn,transitionDelay:Un}=window.getComputedStyle(Ft);const Jn=Number.parseFloat(dn),m=Number.parseFloat(Un);return Jn||m?(dn=dn.split(",")[0],Un=Un.split(",")[0],1e3*(Number.parseFloat(dn)+Number.parseFloat(Un))):0})(M)+5;let at=!1;const dt=({target:Ft})=>{Ft===M&&(at=!0,M.removeEventListener(c,dt),W(ce))};M.addEventListener(c,dt),setTimeout(()=>{at||h(M)},_e)},ie=(ce,M,K,_e)=>{const at=ce.length;let dt=ce.indexOf(M);return dt===-1?!K&&_e?ce[at-1]:ce[0]:(dt+=K?1:-1,_e&&(dt=(dt+at)%at),ce[Math.max(0,Math.min(dt,at-1))])},he=/[^.]*(?=\..*)\.|.*/,Se=/\..*/,Pe=/::\d+$/,We={};let Le=1;const qe={mouseenter:"mouseover",mouseleave:"mouseout"},Kt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ut(ce,M){return M&&`${M}::${Le++}`||ce.uidEvent||Le++}function Qt(ce){const M=Ut(ce);return ce.uidEvent=M,We[M]=We[M]||{},We[M]}function Tn(ce,M,K=null){return Object.values(ce).find(_e=>_e.callable===M&&_e.delegationSelector===K)}function An(ce,M,K){const _e=typeof M=="string",at=_e?K:M||K;let dt=Rt(ce);return Kt.has(dt)||(dt=ce),[_e,at,dt]}function Vt(ce,M,K,_e,at){if(typeof M!="string"||!ce)return;let[dt,Ft,dn]=An(M,K,_e);M in qe&&(Ft=(x=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return x.call(this,w)})(Ft));const Un=Qt(ce),Jn=Un[dn]||(Un[dn]={}),m=Tn(Jn,Ft,dt?K:null);if(m)return void(m.oneOff=m.oneOff&&at);const l=Ut(Ft,M.replace(he,"")),f=dt?function(y,x,w){return function P(I){const D=y.querySelectorAll(x);for(let{target:$}=I;$&&$!==this;$=$.parentNode)for(const j of D)if(j===$)return sn(I,{delegateTarget:$}),P.oneOff&&Ge.off(y,I.type,x,w),w.apply($,[I])}}(ce,K,Ft):function(y,x){return function w(P){return sn(P,{delegateTarget:y}),w.oneOff&&Ge.off(y,P.type,x),x.apply(y,[P])}}(ce,Ft);f.delegationSelector=dt?K:null,f.callable=Ft,f.oneOff=at,f.uidEvent=l,Jn[l]=f,ce.addEventListener(dn,f,dt)}function _t(ce,M,K,_e,at){const dt=Tn(M[K],_e,at);dt&&(ce.removeEventListener(K,dt,!!at),delete M[K][dt.uidEvent])}function Ve(ce,M,K,_e){const at=M[K]||{};for(const[dt,Ft]of Object.entries(at))dt.includes(_e)&&_t(ce,M,K,Ft.callable,Ft.delegationSelector)}function Rt(ce){return ce=ce.replace(Se,""),qe[ce]||ce}const Ge={on(ce,M,K,_e){Vt(ce,M,K,_e,!1)},one(ce,M,K,_e){Vt(ce,M,K,_e,!0)},off(ce,M,K,_e){if(typeof M!="string"||!ce)return;const[at,dt,Ft]=An(M,K,_e),dn=Ft!==M,Un=Qt(ce),Jn=Un[Ft]||{},m=M.startsWith(".");if(dt===void 0){if(m)for(const l of Object.keys(Un))Ve(ce,Un,l,M.slice(1));for(const[l,f]of Object.entries(Jn)){const y=l.replace(Pe,"");dn&&!M.includes(y)||_t(ce,Un,Ft,f.callable,f.delegationSelector)}}else{if(!Object.keys(Jn).length)return;_t(ce,Un,Ft,dt,at?K:null)}},trigger(ce,M,K){if(typeof M!="string"||!ce)return null;const _e=G();let at=null,dt=!0,Ft=!0,dn=!1;M!==Rt(M)&&_e&&(at=_e.Event(M,K),_e(ce).trigger(at),dt=!at.isPropagationStopped(),Ft=!at.isImmediatePropagationStopped(),dn=at.isDefaultPrevented());const Un=sn(new Event(M,{bubbles:dt,cancelable:!0}),K);return dn&&Un.preventDefault(),Ft&&ce.dispatchEvent(Un),Un.defaultPrevented&&at&&at.preventDefault(),Un}};function sn(ce,M={}){for(const[K,_e]of Object.entries(M))try{ce[K]=_e}catch{Object.defineProperty(ce,K,{configurable:!0,get:()=>_e})}return ce}function ln(ce){if(ce==="true")return!0;if(ce==="false")return!1;if(ce===Number(ce).toString())return Number(ce);if(ce===""||ce==="null")return null;if(typeof ce!="string")return ce;try{return JSON.parse(decodeURIComponent(ce))}catch{return ce}}function pn(ce){return ce.replace(/[A-Z]/g,M=>`-${M.toLowerCase()}`)}const Yn={setDataAttribute(ce,M,K){ce.setAttribute(`data-bs-${pn(M)}`,K)},removeDataAttribute(ce,M){ce.removeAttribute(`data-bs-${pn(M)}`)},getDataAttributes(ce){if(!ce)return{};const M={},K=Object.keys(ce.dataset).filter(_e=>_e.startsWith("bs")&&!_e.startsWith("bsConfig"));for(const _e of K){let at=_e.replace(/^bs/,"");at=at.charAt(0).toLowerCase()+at.slice(1,at.length),M[at]=ln(ce.dataset[_e])}return M},getDataAttribute:(ce,M)=>ln(ce.getAttribute(`data-bs-${pn(M)}`))};class qn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(M){return M=this._mergeConfigObj(M),M=this._configAfterMerge(M),this._typeCheckConfig(M),M}_configAfterMerge(M){return M}_mergeConfigObj(M,K){const _e=o(K)?Yn.getDataAttribute(K,"config"):{};return{...this.constructor.Default,...typeof _e=="object"?_e:{},...o(K)?Yn.getDataAttributes(K):{},...typeof M=="object"?M:{}}}_typeCheckConfig(M,K=this.constructor.DefaultType){for(const[at,dt]of Object.entries(K)){const Ft=M[at],dn=o(Ft)?"element":(_e=Ft)==null?`${_e}`:Object.prototype.toString.call(_e).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(dt).test(dn))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${at}" provided type "${dn}" but expected type "${dt}".`)}var _e}}class nn extends qn{constructor(M,K){super(),(M=v(M))&&(this._element=M,this._config=this._getConfig(K),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),Ge.off(this._element,this.constructor.EVENT_KEY);for(const M of Object.getOwnPropertyNames(this))this[M]=null}_queueCallback(M,K,_e=!0){Y(M,K,_e)}_getConfig(M){return M=this._mergeConfigObj(M,this._element),M=this._configAfterMerge(M),this._typeCheckConfig(M),M}static getInstance(M){return r.get(v(M),this.DATA_KEY)}static getOrCreateInstance(M,K={}){return this.getInstance(M)||new this(M,typeof K=="object"?K:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(M){return`${M}${this.EVENT_KEY}`}}const Bt=ce=>{let M=ce.getAttribute("data-bs-target");if(!M||M==="#"){let K=ce.getAttribute("href");if(!K||!K.includes("#")&&!K.startsWith("."))return null;K.includes("#")&&!K.startsWith("#")&&(K=`#${K.split("#")[1]}`),M=K&&K!=="#"?u(K.trim()):null}return M},ot={find:(ce,M=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(M,ce)),findOne:(ce,M=document.documentElement)=>Element.prototype.querySelector.call(M,ce),children:(ce,M)=>[].concat(...ce.children).filter(K=>K.matches(M)),parents(ce,M){const K=[];let _e=ce.parentNode.closest(M);for(;_e;)K.push(_e),_e=_e.parentNode.closest(M);return K},prev(ce,M){let K=ce.previousElementSibling;for(;K;){if(K.matches(M))return[K];K=K.previousElementSibling}return[]},next(ce,M){let K=ce.nextElementSibling;for(;K;){if(K.matches(M))return[K];K=K.nextElementSibling}return[]},focusableChildren(ce){const M=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(K=>`${K}:not([tabindex^="-"])`).join(",");return this.find(M,ce).filter(K=>!S(K)&&E(K))},getSelectorFromElement(ce){const M=Bt(ce);return M&&ot.findOne(M)?M:null},getElementFromSelector(ce){const M=Bt(ce);return M?ot.findOne(M):null},getMultipleElementsFromSelector(ce){const M=Bt(ce);return M?ot.find(M):[]}},Xe=(ce,M="hide")=>{const K=`click.dismiss${ce.EVENT_KEY}`,_e=ce.NAME;Ge.on(document,K,`[data-bs-dismiss="${_e}"]`,function(at){if(["A","AREA"].includes(this.tagName)&&at.preventDefault(),S(this))return;const dt=ot.getElementFromSelector(this)||this.closest(`.${_e}`);ce.getOrCreateInstance(dt)[M]()})},Xt=".bs.alert",It=`close${Xt}`,Mn=`closed${Xt}`;class En extends nn{static get NAME(){return"alert"}close(){if(Ge.trigger(this._element,It).defaultPrevented)return;this._element.classList.remove("show");const M=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,M)}_destroyElement(){this._element.remove(),Ge.trigger(this._element,Mn),this.dispose()}static jQueryInterface(M){return this.each(function(){const K=En.getOrCreateInstance(this);if(typeof M=="string"){if(K[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);K[M](this)}})}}Xe(En,"close"),q(En);const er='[data-bs-toggle="button"]';class yn extends nn{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(M){return this.each(function(){const K=yn.getOrCreateInstance(this);M==="toggle"&&K[M]()})}}Ge.on(document,"click.bs.button.data-api",er,ce=>{ce.preventDefault();const M=ce.target.closest(er);yn.getOrCreateInstance(M).toggle()}),q(yn);const xe=".bs.swipe",Re=`touchstart${xe}`,lt=`touchmove${xe}`,kt=`touchend${xe}`,zt=`pointerdown${xe}`,Wt=`pointerup${xe}`,Pn={endCallback:null,leftCallback:null,rightCallback:null},Rn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class kn extends qn{constructor(M,K){super(),this._element=M,M&&kn.isSupported()&&(this._config=this._getConfig(K),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Pn}static get DefaultType(){return Rn}static get NAME(){return"swipe"}dispose(){Ge.off(this._element,xe)}_start(M){this._supportPointerEvents?this._eventIsPointerPenTouch(M)&&(this._deltaX=M.clientX):this._deltaX=M.touches[0].clientX}_end(M){this._eventIsPointerPenTouch(M)&&(this._deltaX=M.clientX-this._deltaX),this._handleSwipe(),W(this._config.endCallback)}_move(M){this._deltaX=M.touches&&M.touches.length>1?0:M.touches[0].clientX-this._deltaX}_handleSwipe(){const M=Math.abs(this._deltaX);if(M<=40)return;const K=M/this._deltaX;this._deltaX=0,K&&W(K>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Ge.on(this._element,zt,M=>this._start(M)),Ge.on(this._element,Wt,M=>this._end(M)),this._element.classList.add("pointer-event")):(Ge.on(this._element,Re,M=>this._start(M)),Ge.on(this._element,lt,M=>this._move(M)),Ge.on(this._element,kt,M=>this._end(M)))}_eventIsPointerPenTouch(M){return this._supportPointerEvents&&(M.pointerType==="pen"||M.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xn=".bs.carousel",jn=".data-api",nr="next",wn="prev",Qe="left",xt="right",Ze=`slide${xn}`,Gt=`slid${xn}`,Cn=`keydown${xn}`,Vn=`mouseenter${xn}`,mr=`mouseleave${xn}`,dr=`dragstart${xn}`,yr=`load${xn}${jn}`,Nr=`click${xn}${jn}`,Ae="carousel",te="active",oe=".active",Ce=".carousel-item",Ie=oe+Ce,Ue={ArrowLeft:xt,ArrowRight:Qe},et={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ye={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Fe extends nn{constructor(M,K){super(M,K),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ot.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ae&&this.cycle()}static get Default(){return et}static get DefaultType(){return Ye}static get NAME(){return"carousel"}next(){this._slide(nr)}nextWhenVisible(){!document.hidden&&E(this._element)&&this.next()}prev(){this._slide(wn)}pause(){this._isSliding&&h(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Ge.one(this._element,Gt,()=>this.cycle()):this.cycle())}to(M){const K=this._getItems();if(M>K.length-1||M<0)return;if(this._isSliding)return void Ge.one(this._element,Gt,()=>this.to(M));const _e=this._getItemIndex(this._getActive());if(_e===M)return;const at=M>_e?nr:wn;this._slide(at,K[M])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(M){return M.defaultInterval=M.interval,M}_addEventListeners(){this._config.keyboard&&Ge.on(this._element,Cn,M=>this._keydown(M)),this._config.pause==="hover"&&(Ge.on(this._element,Vn,()=>this.pause()),Ge.on(this._element,mr,()=>this._maybeEnableCycle())),this._config.touch&&kn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const K of ot.find(".carousel-item img",this._element))Ge.on(K,dr,_e=>_e.preventDefault());const M={leftCallback:()=>this._slide(this._directionToOrder(Qe)),rightCallback:()=>this._slide(this._directionToOrder(xt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new kn(this._element,M)}_keydown(M){if(/input|textarea/i.test(M.target.tagName))return;const K=Ue[M.key];K&&(M.preventDefault(),this._slide(this._directionToOrder(K)))}_getItemIndex(M){return this._getItems().indexOf(M)}_setActiveIndicatorElement(M){if(!this._indicatorsElement)return;const K=ot.findOne(oe,this._indicatorsElement);K.classList.remove(te),K.removeAttribute("aria-current");const _e=ot.findOne(`[data-bs-slide-to="${M}"]`,this._indicatorsElement);_e&&(_e.classList.add(te),_e.setAttribute("aria-current","true"))}_updateInterval(){const M=this._activeElement||this._getActive();if(!M)return;const K=Number.parseInt(M.getAttribute("data-bs-interval"),10);this._config.interval=K||this._config.defaultInterval}_slide(M,K=null){if(this._isSliding)return;const _e=this._getActive(),at=M===nr,dt=K||ie(this._getItems(),_e,at,this._config.wrap);if(dt===_e)return;const Ft=this._getItemIndex(dt),dn=l=>Ge.trigger(this._element,l,{relatedTarget:dt,direction:this._orderToDirection(M),from:this._getItemIndex(_e),to:Ft});if(dn(Ze).defaultPrevented||!_e||!dt)return;const Un=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Ft),this._activeElement=dt;const Jn=at?"carousel-item-start":"carousel-item-end",m=at?"carousel-item-next":"carousel-item-prev";dt.classList.add(m),N(dt),_e.classList.add(Jn),dt.classList.add(Jn),this._queueCallback(()=>{dt.classList.remove(Jn,m),dt.classList.add(te),_e.classList.remove(te,m,Jn),this._isSliding=!1,dn(Gt)},_e,this._isAnimated()),Un&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ot.findOne(Ie,this._element)}_getItems(){return ot.find(Ce,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(M){return H()?M===Qe?wn:nr:M===Qe?nr:wn}_orderToDirection(M){return H()?M===wn?Qe:xt:M===wn?xt:Qe}static jQueryInterface(M){return this.each(function(){const K=Fe.getOrCreateInstance(this,M);if(typeof M!="number"){if(typeof M=="string"){if(K[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);K[M]()}}else K.to(M)})}}Ge.on(document,Nr,"[data-bs-slide], [data-bs-slide-to]",function(ce){const M=ot.getElementFromSelector(this);if(!M||!M.classList.contains(Ae))return;ce.preventDefault();const K=Fe.getOrCreateInstance(M),_e=this.getAttribute("data-bs-slide-to");return _e?(K.to(_e),void K._maybeEnableCycle()):Yn.getDataAttribute(this,"slide")==="next"?(K.next(),void K._maybeEnableCycle()):(K.prev(),void K._maybeEnableCycle())}),Ge.on(window,yr,()=>{const ce=ot.find('[data-bs-ride="carousel"]');for(const M of ce)Fe.getOrCreateInstance(M)}),q(Fe);const ct=".bs.collapse",Ht=`show${ct}`,Jt=`shown${ct}`,Et=`hide${ct}`,Hn=`hidden${ct}`,rr=`click${ct}.data-api`,Tt="show",nt="collapse",Ct="collapsing",cn=`:scope .${nt} .${nt}`,Fn='[data-bs-toggle="collapse"]',ir={parent:null,toggle:!0},On={parent:"(null|element)",toggle:"boolean"};class vr extends nn{constructor(M,K){super(M,K),this._isTransitioning=!1,this._triggerArray=[];const _e=ot.find(Fn);for(const at of _e){const dt=ot.getSelectorFromElement(at),Ft=ot.find(dt).filter(dn=>dn===this._element);dt!==null&&Ft.length&&this._triggerArray.push(at)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ir}static get DefaultType(){return On}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let M=[];if(this._config.parent&&(M=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(at=>at!==this._element).map(at=>vr.getOrCreateInstance(at,{toggle:!1}))),M.length&&M[0]._isTransitioning||Ge.trigger(this._element,Ht).defaultPrevented)return;for(const at of M)at.hide();const K=this._getDimension();this._element.classList.remove(nt),this._element.classList.add(Ct),this._element.style[K]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const _e=`scroll${K[0].toUpperCase()+K.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ct),this._element.classList.add(nt,Tt),this._element.style[K]="",Ge.trigger(this._element,Jt)},this._element,!0),this._element.style[K]=`${this._element[_e]}px`}hide(){if(this._isTransitioning||!this._isShown()||Ge.trigger(this._element,Et).defaultPrevented)return;const M=this._getDimension();this._element.style[M]=`${this._element.getBoundingClientRect()[M]}px`,N(this._element),this._element.classList.add(Ct),this._element.classList.remove(nt,Tt);for(const K of this._triggerArray){const _e=ot.getElementFromSelector(K);_e&&!this._isShown(_e)&&this._addAriaAndCollapsedClass([K],!1)}this._isTransitioning=!0,this._element.style[M]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ct),this._element.classList.add(nt),Ge.trigger(this._element,Hn)},this._element,!0)}_isShown(M=this._element){return M.classList.contains(Tt)}_configAfterMerge(M){return M.toggle=!!M.toggle,M.parent=v(M.parent),M}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const M=this._getFirstLevelChildren(Fn);for(const K of M){const _e=ot.getElementFromSelector(K);_e&&this._addAriaAndCollapsedClass([K],this._isShown(_e))}}_getFirstLevelChildren(M){const K=ot.find(cn,this._config.parent);return ot.find(M,this._config.parent).filter(_e=>!K.includes(_e))}_addAriaAndCollapsedClass(M,K){if(M.length)for(const _e of M)_e.classList.toggle("collapsed",!K),_e.setAttribute("aria-expanded",K)}static jQueryInterface(M){const K={};return typeof M=="string"&&/show|hide/.test(M)&&(K.toggle=!1),this.each(function(){const _e=vr.getOrCreateInstance(this,K);if(typeof M=="string"){if(_e[M]===void 0)throw new TypeError(`No method named "${M}"`);_e[M]()}})}}Ge.on(document,rr,Fn,function(ce){(ce.target.tagName==="A"||ce.delegateTarget&&ce.delegateTarget.tagName==="A")&&ce.preventDefault();for(const M of ot.getMultipleElementsFromSelector(this))vr.getOrCreateInstance(M,{toggle:!1}).toggle()}),q(vr);var ft="top",re="bottom",le="right",ye="left",de="auto",se=[ft,re,le,ye],He="start",tt="end",ut="clippingParents",jt="viewport",on="popper",Xn="reference",Rr=se.reduce(function(ce,M){return ce.concat([M+"-"+He,M+"-"+tt])},[]),Fr=[].concat(se,[de]).reduce(function(ce,M){return ce.concat([M,M+"-"+He,M+"-"+tt])},[]),Ur="beforeRead",xr="read",Br="afterRead",vt="beforeMain",vi="main",Vr="afterMain",Zr="beforeWrite",sa="write",Ui="afterWrite",jo=[Ur,xr,Br,vt,vi,Vr,Zr,sa,Ui];function zr(ce){return ce?(ce.nodeName||"").toLowerCase():null}function br(ce){if(ce==null)return window;if(ce.toString()!=="[object Window]"){var M=ce.ownerDocument;return M&&M.defaultView||window}return ce}function vn(ce){return ce instanceof br(ce).Element||ce instanceof Element}function or(ce){return ce instanceof br(ce).HTMLElement||ce instanceof HTMLElement}function ar(ce){return typeof ShadowRoot<"u"&&(ce instanceof br(ce).ShadowRoot||ce instanceof ShadowRoot)}const di={name:"applyStyles",enabled:!0,phase:"write",fn:function(ce){var M=ce.state;Object.keys(M.elements).forEach(function(K){var _e=M.styles[K]||{},at=M.attributes[K]||{},dt=M.elements[K];or(dt)&&zr(dt)&&(Object.assign(dt.style,_e),Object.keys(at).forEach(function(Ft){var dn=at[Ft];dn===!1?dt.removeAttribute(Ft):dt.setAttribute(Ft,dn===!0?"":dn)}))})},effect:function(ce){var M=ce.state,K={popper:{position:M.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(M.elements.popper.style,K.popper),M.styles=K,M.elements.arrow&&Object.assign(M.elements.arrow.style,K.arrow),function(){Object.keys(M.elements).forEach(function(_e){var at=M.elements[_e],dt=M.attributes[_e]||{},Ft=Object.keys(M.styles.hasOwnProperty(_e)?M.styles[_e]:K[_e]).reduce(function(dn,Un){return dn[Un]="",dn},{});or(at)&&zr(at)&&(Object.assign(at.style,Ft),Object.keys(dt).forEach(function(dn){at.removeAttribute(dn)}))})}},requires:["computeStyles"]};function ii(ce){return ce.split("-")[0]}var gr=Math.max,Yi=Math.min,ho=Math.round;function pa(){var ce=navigator.userAgentData;return ce!=null&&ce.brands&&Array.isArray(ce.brands)?ce.brands.map(function(M){return M.brand+"/"+M.version}).join(" "):navigator.userAgent}function Po(){return!/^((?!chrome|android).)*safari/i.test(pa())}function Hr(ce,M,K){M===void 0&&(M=!1),K===void 0&&(K=!1);var _e=ce.getBoundingClientRect(),at=1,dt=1;M&&or(ce)&&(at=ce.offsetWidth>0&&ho(_e.width)/ce.offsetWidth||1,dt=ce.offsetHeight>0&&ho(_e.height)/ce.offsetHeight||1);var Ft=(vn(ce)?br(ce):window).visualViewport,dn=!Po()&&K,Un=(_e.left+(dn&&Ft?Ft.offsetLeft:0))/at,Jn=(_e.top+(dn&&Ft?Ft.offsetTop:0))/dt,m=_e.width/at,l=_e.height/dt;return{width:m,height:l,top:Jn,right:Un+m,bottom:Jn+l,left:Un,x:Un,y:Jn}}function ol(ce){var M=Hr(ce),K=ce.offsetWidth,_e=ce.offsetHeight;return Math.abs(M.width-K)<=1&&(K=M.width),Math.abs(M.height-_e)<=1&&(_e=M.height),{x:ce.offsetLeft,y:ce.offsetTop,width:K,height:_e}}function ma(ce,M){var K=M.getRootNode&&M.getRootNode();if(ce.contains(M))return!0;if(K&&ar(K)){var _e=M;do{if(_e&&ce.isSameNode(_e))return!0;_e=_e.parentNode||_e.host}while(_e)}return!1}function Uo(ce){return br(ce).getComputedStyle(ce)}function Rs(ce){return["table","td","th"].indexOf(zr(ce))>=0}function ga(ce){return((vn(ce)?ce.ownerDocument:ce.document)||window.document).documentElement}function al(ce){return zr(ce)==="html"?ce:ce.assignedSlot||ce.parentNode||(ar(ce)?ce.host:null)||ga(ce)}function ps(ce){return or(ce)&&Uo(ce).position!=="fixed"?ce.offsetParent:null}function Vo(ce){for(var M=br(ce),K=ps(ce);K&&Rs(K)&&Uo(K).position==="static";)K=ps(K);return K&&(zr(K)==="html"||zr(K)==="body"&&Uo(K).position==="static")?M:K||function(_e){var at=/firefox/i.test(pa());if(/Trident/i.test(pa())&&or(_e)&&Uo(_e).position==="fixed")return null;var dt=al(_e);for(ar(dt)&&(dt=dt.host);or(dt)&&["html","body"].indexOf(zr(dt))<0;){var Ft=Uo(dt);if(Ft.transform!=="none"||Ft.perspective!=="none"||Ft.contain==="paint"||["transform","perspective"].indexOf(Ft.willChange)!==-1||at&&Ft.willChange==="filter"||at&&Ft.filter&&Ft.filter!=="none")return dt;dt=dt.parentNode}return null}(ce)||M}function ms(ce){return["top","bottom"].indexOf(ce)>=0?"x":"y"}function Ji(ce,M,K){return gr(ce,Yi(M,K))}function Qi(ce){return Object.assign({},{top:0,right:0,bottom:0,left:0},ce)}function _i(ce,M){return M.reduce(function(K,_e){return K[_e]=ce,K},{})}const Ul={name:"arrow",enabled:!0,phase:"main",fn:function(ce){var M,K=ce.state,_e=ce.name,at=ce.options,dt=K.elements.arrow,Ft=K.modifiersData.popperOffsets,dn=ii(K.placement),Un=ms(dn),Jn=[ye,le].indexOf(dn)>=0?"height":"width";if(dt&&Ft){var m=function(me,pe){return Qi(typeof(me=typeof me=="function"?me(Object.assign({},pe.rects,{placement:pe.placement})):me)!="number"?me:_i(me,se))}(at.padding,K),l=ol(dt),f=Un==="y"?ft:ye,y=Un==="y"?re:le,x=K.rects.reference[Jn]+K.rects.reference[Un]-Ft[Un]-K.rects.popper[Jn],w=Ft[Un]-K.rects.reference[Un],P=Vo(dt),I=P?Un==="y"?P.clientHeight||0:P.clientWidth||0:0,D=x/2-w/2,$=m[f],j=I-l[Jn]-m[y],J=I/2-l[Jn]/2+D,ae=Ji($,J,j),ue=Un;K.modifiersData[_e]=((M={})[ue]=ae,M.centerOffset=ae-J,M)}},effect:function(ce){var M=ce.state,K=ce.options.element,_e=K===void 0?"[data-popper-arrow]":K;_e!=null&&(typeof _e!="string"||(_e=M.elements.popper.querySelector(_e)))&&ma(M.elements.popper,_e)&&(M.elements.arrow=_e)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ia(ce){return ce.split("-")[1]}var Io={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Go(ce){var M,K=ce.popper,_e=ce.popperRect,at=ce.placement,dt=ce.variation,Ft=ce.offsets,dn=ce.position,Un=ce.gpuAcceleration,Jn=ce.adaptive,m=ce.roundOffsets,l=ce.isFixed,f=Ft.x,y=f===void 0?0:f,x=Ft.y,w=x===void 0?0:x,P=typeof m=="function"?m({x:y,y:w}):{x:y,y:w};y=P.x,w=P.y;var I=Ft.hasOwnProperty("x"),D=Ft.hasOwnProperty("y"),$=ye,j=ft,J=window;if(Jn){var ae=Vo(K),ue="clientHeight",me="clientWidth";ae===br(K)&&Uo(ae=ga(K)).position!=="static"&&dn==="absolute"&&(ue="scrollHeight",me="scrollWidth"),(at===ft||(at===ye||at===le)&&dt===tt)&&(j=re,w-=(l&&ae===J&&J.visualViewport?J.visualViewport.height:ae[ue])-_e.height,w*=Un?1:-1),at!==ye&&(at!==ft&&at!==re||dt!==tt)||($=le,y-=(l&&ae===J&&J.visualViewport?J.visualViewport.width:ae[me])-_e.width,y*=Un?1:-1)}var pe,ve=Object.assign({position:dn},Jn&&Io),Q=m===!0?function(ge,we){var Te=ge.x,Ne=ge.y,De=we.devicePixelRatio||1;return{x:ho(Te*De)/De||0,y:ho(Ne*De)/De||0}}({x:y,y:w},br(K)):{x:y,y:w};return y=Q.x,w=Q.y,Un?Object.assign({},ve,((pe={})[j]=D?"0":"",pe[$]=I?"0":"",pe.transform=(J.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",pe)):Object.assign({},ve,((M={})[j]=D?w+"px":"",M[$]=I?y+"px":"",M.transform="",M))}const ya={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(ce){var M=ce.state,K=ce.options,_e=K.gpuAcceleration,at=_e===void 0||_e,dt=K.adaptive,Ft=dt===void 0||dt,dn=K.roundOffsets,Un=dn===void 0||dn,Jn={placement:ii(M.placement),variation:Ia(M.placement),popper:M.elements.popper,popperRect:M.rects.popper,gpuAcceleration:at,isFixed:M.options.strategy==="fixed"};M.modifiersData.popperOffsets!=null&&(M.styles.popper=Object.assign({},M.styles.popper,Go(Object.assign({},Jn,{offsets:M.modifiersData.popperOffsets,position:M.options.strategy,adaptive:Ft,roundOffsets:Un})))),M.modifiersData.arrow!=null&&(M.styles.arrow=Object.assign({},M.styles.arrow,Go(Object.assign({},Jn,{offsets:M.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Un})))),M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-placement":M.placement})},data:{}};var ko={passive:!0};const Kr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(ce){var M=ce.state,K=ce.instance,_e=ce.options,at=_e.scroll,dt=at===void 0||at,Ft=_e.resize,dn=Ft===void 0||Ft,Un=br(M.elements.popper),Jn=[].concat(M.scrollParents.reference,M.scrollParents.popper);return dt&&Jn.forEach(function(m){m.addEventListener("scroll",K.update,ko)}),dn&&Un.addEventListener("resize",K.update,ko),function(){dt&&Jn.forEach(function(m){m.removeEventListener("scroll",K.update,ko)}),dn&&Un.removeEventListener("resize",K.update,ko)}},data:{}};var sl={left:"right",right:"left",bottom:"top",top:"bottom"};function Ds(ce){return ce.replace(/left|right|bottom|top/g,function(M){return sl[M]})}var Va={start:"end",end:"start"};function Hi(ce){return ce.replace(/start|end/g,function(M){return Va[M]})}function Xo(ce){var M=br(ce);return{scrollLeft:M.pageXOffset,scrollTop:M.pageYOffset}}function ll(ce){return Hr(ga(ce)).left+Xo(ce).scrollLeft}function Yo(ce){var M=Uo(ce),K=M.overflow,_e=M.overflowX,at=M.overflowY;return/auto|scroll|overlay|hidden/.test(K+at+_e)}function Mo(ce){return["html","body","#document"].indexOf(zr(ce))>=0?ce.ownerDocument.body:or(ce)&&Yo(ce)?ce:Mo(al(ce))}function Ga(ce,M){var K;M===void 0&&(M=[]);var _e=Mo(ce),at=_e===((K=ce.ownerDocument)==null?void 0:K.body),dt=br(_e),Ft=at?[dt].concat(dt.visualViewport||[],Yo(_e)?_e:[]):_e,dn=M.concat(Ft);return at?dn:dn.concat(Ga(al(Ft)))}function gc(ce){return Object.assign({},ce,{left:ce.x,top:ce.y,right:ce.x+ce.width,bottom:ce.y+ce.height})}function Vl(ce,M,K){return M===jt?gc(function(_e,at){var dt=br(_e),Ft=ga(_e),dn=dt.visualViewport,Un=Ft.clientWidth,Jn=Ft.clientHeight,m=0,l=0;if(dn){Un=dn.width,Jn=dn.height;var f=Po();(f||!f&&at==="fixed")&&(m=dn.offsetLeft,l=dn.offsetTop)}return{width:Un,height:Jn,x:m+ll(_e),y:l}}(ce,K)):vn(M)?function(_e,at){var dt=Hr(_e,!1,at==="fixed");return dt.top=dt.top+_e.clientTop,dt.left=dt.left+_e.clientLeft,dt.bottom=dt.top+_e.clientHeight,dt.right=dt.left+_e.clientWidth,dt.width=_e.clientWidth,dt.height=_e.clientHeight,dt.x=dt.left,dt.y=dt.top,dt}(M,K):gc(function(_e){var at,dt=ga(_e),Ft=Xo(_e),dn=(at=_e.ownerDocument)==null?void 0:at.body,Un=gr(dt.scrollWidth,dt.clientWidth,dn?dn.scrollWidth:0,dn?dn.clientWidth:0),Jn=gr(dt.scrollHeight,dt.clientHeight,dn?dn.scrollHeight:0,dn?dn.clientHeight:0),m=-Ft.scrollLeft+ll(_e),l=-Ft.scrollTop;return Uo(dn||dt).direction==="rtl"&&(m+=gr(dt.clientWidth,dn?dn.clientWidth:0)-Un),{width:Un,height:Jn,x:m,y:l}}(ga(ce)))}function Ha(ce){var M,K=ce.reference,_e=ce.element,at=ce.placement,dt=at?ii(at):null,Ft=at?Ia(at):null,dn=K.x+K.width/2-_e.width/2,Un=K.y+K.height/2-_e.height/2;switch(dt){case ft:M={x:dn,y:K.y-_e.height};break;case re:M={x:dn,y:K.y+K.height};break;case le:M={x:K.x+K.width,y:Un};break;case ye:M={x:K.x-_e.width,y:Un};break;default:M={x:K.x,y:K.y}}var Jn=dt?ms(dt):null;if(Jn!=null){var m=Jn==="y"?"height":"width";switch(Ft){case He:M[Jn]=M[Jn]-(K[m]/2-_e[m]/2);break;case tt:M[Jn]=M[Jn]+(K[m]/2-_e[m]/2)}}return M}function Ii(ce,M){M===void 0&&(M={});var K=M,_e=K.placement,at=_e===void 0?ce.placement:_e,dt=K.strategy,Ft=dt===void 0?ce.strategy:dt,dn=K.boundary,Un=dn===void 0?ut:dn,Jn=K.rootBoundary,m=Jn===void 0?jt:Jn,l=K.elementContext,f=l===void 0?on:l,y=K.altBoundary,x=y!==void 0&&y,w=K.padding,P=w===void 0?0:w,I=Qi(typeof P!="number"?P:_i(P,se)),D=f===on?Xn:on,$=ce.rects.popper,j=ce.elements[x?D:f],J=function(we,Te,Ne,De){var $e=Te==="clippingParents"?function(Ot){var it=Ga(al(Ot)),St=["absolute","fixed"].indexOf(Uo(Ot).position)>=0&&or(Ot)?Vo(Ot):Ot;return vn(St)?it.filter(function(gt){return vn(gt)&&ma(gt,St)&&zr(gt)!=="body"}):[]}(we):[].concat(Te),Je=[].concat($e,[Ne]),Ke=Je[0],st=Je.reduce(function(Ot,it){var St=Vl(we,it,De);return Ot.top=gr(St.top,Ot.top),Ot.right=Yi(St.right,Ot.right),Ot.bottom=Yi(St.bottom,Ot.bottom),Ot.left=gr(St.left,Ot.left),Ot},Vl(we,Ke,De));return st.width=st.right-st.left,st.height=st.bottom-st.top,st.x=st.left,st.y=st.top,st}(vn(j)?j:j.contextElement||ga(ce.elements.popper),Un,m,Ft),ae=Hr(ce.elements.reference),ue=Ha({reference:ae,element:$,strategy:"absolute",placement:at}),me=gc(Object.assign({},$,ue)),pe=f===on?me:ae,ve={top:J.top-pe.top+I.top,bottom:pe.bottom-J.bottom+I.bottom,left:J.left-pe.left+I.left,right:pe.right-J.right+I.right},Q=ce.modifiersData.offset;if(f===on&&Q){var ge=Q[at];Object.keys(ve).forEach(function(we){var Te=[le,re].indexOf(we)>=0?1:-1,Ne=[ft,re].indexOf(we)>=0?"y":"x";ve[we]+=ge[Ne]*Te})}return ve}function Gl(ce,M){M===void 0&&(M={});var K=M,_e=K.placement,at=K.boundary,dt=K.rootBoundary,Ft=K.padding,dn=K.flipVariations,Un=K.allowedAutoPlacements,Jn=Un===void 0?Fr:Un,m=Ia(_e),l=m?dn?Rr:Rr.filter(function(x){return Ia(x)===m}):se,f=l.filter(function(x){return Jn.indexOf(x)>=0});f.length===0&&(f=l);var y=f.reduce(function(x,w){return x[w]=Ii(ce,{placement:w,boundary:at,rootBoundary:dt,padding:Ft})[ii(w)],x},{});return Object.keys(y).sort(function(x,w){return y[x]-y[w]})}const ka={name:"flip",enabled:!0,phase:"main",fn:function(ce){var M=ce.state,K=ce.options,_e=ce.name;if(!M.modifiersData[_e]._skip){for(var at=K.mainAxis,dt=at===void 0||at,Ft=K.altAxis,dn=Ft===void 0||Ft,Un=K.fallbackPlacements,Jn=K.padding,m=K.boundary,l=K.rootBoundary,f=K.altBoundary,y=K.flipVariations,x=y===void 0||y,w=K.allowedAutoPlacements,P=M.options.placement,I=ii(P),D=Un||(I!==P&&x?function(Ot){if(ii(Ot)===de)return[];var it=Ds(Ot);return[Hi(Ot),it,Hi(it)]}(P):[Ds(P)]),$=[P].concat(D).reduce(function(Ot,it){return Ot.concat(ii(it)===de?Gl(M,{placement:it,boundary:m,rootBoundary:l,padding:Jn,flipVariations:x,allowedAutoPlacements:w}):it)},[]),j=M.rects.reference,J=M.rects.popper,ae=new Map,ue=!0,me=$[0],pe=0;pe<$.length;pe++){var ve=$[pe],Q=ii(ve),ge=Ia(ve)===He,we=[ft,re].indexOf(Q)>=0,Te=we?"width":"height",Ne=Ii(M,{placement:ve,boundary:m,rootBoundary:l,altBoundary:f,padding:Jn}),De=we?ge?le:ye:ge?re:ft;j[Te]>J[Te]&&(De=Ds(De));var $e=Ds(De),Je=[];if(dt&&Je.push(Ne[Q]<=0),dn&&Je.push(Ne[De]<=0,Ne[$e]<=0),Je.every(function(Ot){return Ot})){me=ve,ue=!1;break}ae.set(ve,Je)}if(ue)for(var Ke=function(Ot){var it=$.find(function(St){var gt=ae.get(St);if(gt)return gt.slice(0,Ot).every(function(tn){return tn})});if(it)return me=it,"break"},st=x?3:1;st>0&&Ke(st)!=="break";st--);M.placement!==me&&(M.modifiersData[_e]._skip=!0,M.placement=me,M.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function va(ce,M,K){return K===void 0&&(K={x:0,y:0}),{top:ce.top-M.height-K.y,right:ce.right-M.width+K.x,bottom:ce.bottom-M.height+K.y,left:ce.left-M.width-K.x}}function gs(ce){return[ft,le,re,ye].some(function(M){return ce[M]>=0})}const la={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(ce){var M=ce.state,K=ce.name,_e=M.rects.reference,at=M.rects.popper,dt=M.modifiersData.preventOverflow,Ft=Ii(M,{elementContext:"reference"}),dn=Ii(M,{altBoundary:!0}),Un=va(Ft,_e),Jn=va(dn,at,dt),m=gs(Un),l=gs(Jn);M.modifiersData[K]={referenceClippingOffsets:Un,popperEscapeOffsets:Jn,isReferenceHidden:m,hasPopperEscaped:l},M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":l})}},cl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(ce){var M=ce.state,K=ce.options,_e=ce.name,at=K.offset,dt=at===void 0?[0,0]:at,Ft=Fr.reduce(function(m,l){return m[l]=function(f,y,x){var w=ii(f),P=[ye,ft].indexOf(w)>=0?-1:1,I=typeof x=="function"?x(Object.assign({},y,{placement:f})):x,D=I[0],$=I[1];return D=D||0,$=($||0)*P,[ye,le].indexOf(w)>=0?{x:$,y:D}:{x:D,y:$}}(l,M.rects,dt),m},{}),dn=Ft[M.placement],Un=dn.x,Jn=dn.y;M.modifiersData.popperOffsets!=null&&(M.modifiersData.popperOffsets.x+=Un,M.modifiersData.popperOffsets.y+=Jn),M.modifiersData[_e]=Ft}},Wa={name:"popperOffsets",enabled:!0,phase:"read",fn:function(ce){var M=ce.state,K=ce.name;M.modifiersData[K]=Ha({reference:M.rects.reference,element:M.rects.popper,strategy:"absolute",placement:M.placement})},data:{}},Ls={name:"preventOverflow",enabled:!0,phase:"main",fn:function(ce){var M=ce.state,K=ce.options,_e=ce.name,at=K.mainAxis,dt=at===void 0||at,Ft=K.altAxis,dn=Ft!==void 0&&Ft,Un=K.boundary,Jn=K.rootBoundary,m=K.altBoundary,l=K.padding,f=K.tether,y=f===void 0||f,x=K.tetherOffset,w=x===void 0?0:x,P=Ii(M,{boundary:Un,rootBoundary:Jn,padding:l,altBoundary:m}),I=ii(M.placement),D=Ia(M.placement),$=!D,j=ms(I),J=j==="x"?"y":"x",ae=M.modifiersData.popperOffsets,ue=M.rects.reference,me=M.rects.popper,pe=typeof w=="function"?w(Object.assign({},M.rects,{placement:M.placement})):w,ve=typeof pe=="number"?{mainAxis:pe,altAxis:pe}:Object.assign({mainAxis:0,altAxis:0},pe),Q=M.modifiersData.offset?M.modifiersData.offset[M.placement]:null,ge={x:0,y:0};if(ae){if(dt){var we,Te=j==="y"?ft:ye,Ne=j==="y"?re:le,De=j==="y"?"height":"width",$e=ae[j],Je=$e+P[Te],Ke=$e-P[Ne],st=y?-me[De]/2:0,Ot=D===He?ue[De]:me[De],it=D===He?-me[De]:-ue[De],St=M.elements.arrow,gt=y&&St?ol(St):{width:0,height:0},tn=M.modifiersData["arrow#persistent"]?M.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},mt=tn[Te],Dt=tn[Ne],an=Ji(0,ue[De],gt[De]),Yt=$?ue[De]/2-st-an-mt-ve.mainAxis:Ot-an-mt-ve.mainAxis,hn=$?-ue[De]/2+st+an+Dt+ve.mainAxis:it+an+Dt+ve.mainAxis,tr=M.elements.arrow&&Vo(M.elements.arrow),_r=tr?j==="y"?tr.clientTop||0:tr.clientLeft||0:0,Zn=(we=Q==null?void 0:Q[j])!=null?we:0,cr=$e+hn-Zn,Lr=Ji(y?Yi(Je,$e+Yt-Zn-_r):Je,$e,y?gr(Ke,cr):Ke);ae[j]=Lr,ge[j]=Lr-$e}if(dn){var Mr,Qn=j==="x"?ft:ye,ei=j==="x"?re:le,Xr=ae[J],ti=J==="y"?"height":"width",oi=Xr+P[Qn],Wo=Xr-P[ei],oo=[ft,ye].indexOf(I)!==-1,Da=(Mr=Q==null?void 0:Q[J])!=null?Mr:0,ws=oo?oi:Xr-ue[ti]-me[ti]-Da+ve.altAxis,xi=oo?Xr+ue[ti]+me[ti]-Da-ve.altAxis:Wo,ai=y&&oo?function(Yr,eo,Zo){var hi=Ji(Yr,eo,Zo);return hi>Zo?Zo:hi}(ws,Xr,xi):Ji(y?ws:oi,Xr,y?xi:Wo);ae[J]=ai,ge[J]=ai-Xr}M.modifiersData[_e]=ge}},requiresIfExists:["offset"]};function gu(ce,M,K){K===void 0&&(K=!1);var _e,at,dt=or(M),Ft=or(M)&&function(l){var f=l.getBoundingClientRect(),y=ho(f.width)/l.offsetWidth||1,x=ho(f.height)/l.offsetHeight||1;return y!==1||x!==1}(M),dn=ga(M),Un=Hr(ce,Ft,K),Jn={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(dt||!dt&&!K)&&((zr(M)!=="body"||Yo(dn))&&(Jn=(_e=M)!==br(_e)&&or(_e)?{scrollLeft:(at=_e).scrollLeft,scrollTop:at.scrollTop}:Xo(_e)),or(M)?((m=Hr(M,!0)).x+=M.clientLeft,m.y+=M.clientTop):dn&&(m.x=ll(dn))),{x:Un.left+Jn.scrollLeft-m.x,y:Un.top+Jn.scrollTop-m.y,width:Un.width,height:Un.height}}function Hl(ce){var M=new Map,K=new Set,_e=[];function at(dt){K.add(dt.name),[].concat(dt.requires||[],dt.requiresIfExists||[]).forEach(function(Ft){if(!K.has(Ft)){var dn=M.get(Ft);dn&&at(dn)}}),_e.push(dt)}return ce.forEach(function(dt){M.set(dt.name,dt)}),ce.forEach(function(dt){K.has(dt.name)||at(dt)}),_e}var ys={placement:"bottom",modifiers:[],strategy:"absolute"};function ul(){for(var ce=arguments.length,M=new Array(ce),K=0;K<ce;K++)M[K]=arguments[K];return!M.some(function(_e){return!(_e&&typeof _e.getBoundingClientRect=="function")})}function Ma(ce){ce===void 0&&(ce={});var M=ce,K=M.defaultModifiers,_e=K===void 0?[]:K,at=M.defaultOptions,dt=at===void 0?ys:at;return function(Ft,dn,Un){Un===void 0&&(Un=dt);var Jn,m,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},ys,dt),modifiersData:{},elements:{reference:Ft,popper:dn},attributes:{},styles:{}},f=[],y=!1,x={state:l,setOptions:function(P){var I=typeof P=="function"?P(l.options):P;w(),l.options=Object.assign({},dt,l.options,I),l.scrollParents={reference:vn(Ft)?Ga(Ft):Ft.contextElement?Ga(Ft.contextElement):[],popper:Ga(dn)};var D,$,j=function(J){var ae=Hl(J);return jo.reduce(function(ue,me){return ue.concat(ae.filter(function(pe){return pe.phase===me}))},[])}((D=[].concat(_e,l.options.modifiers),$=D.reduce(function(J,ae){var ue=J[ae.name];return J[ae.name]=ue?Object.assign({},ue,ae,{options:Object.assign({},ue.options,ae.options),data:Object.assign({},ue.data,ae.data)}):ae,J},{}),Object.keys($).map(function(J){return $[J]})));return l.orderedModifiers=j.filter(function(J){return J.enabled}),l.orderedModifiers.forEach(function(J){var ae=J.name,ue=J.options,me=ue===void 0?{}:ue,pe=J.effect;if(typeof pe=="function"){var ve=pe({state:l,name:ae,instance:x,options:me});f.push(ve||function(){})}}),x.update()},forceUpdate:function(){if(!y){var P=l.elements,I=P.reference,D=P.popper;if(ul(I,D)){l.rects={reference:gu(I,Vo(D),l.options.strategy==="fixed"),popper:ol(D)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(pe){return l.modifiersData[pe.name]=Object.assign({},pe.data)});for(var $=0;$<l.orderedModifiers.length;$++)if(l.reset!==!0){var j=l.orderedModifiers[$],J=j.fn,ae=j.options,ue=ae===void 0?{}:ae,me=j.name;typeof J=="function"&&(l=J({state:l,options:ue,name:me,instance:x})||l)}else l.reset=!1,$=-1}}},update:(Jn=function(){return new Promise(function(P){x.forceUpdate(),P(l)})},function(){return m||(m=new Promise(function(P){Promise.resolve().then(function(){m=void 0,P(Jn())})})),m}),destroy:function(){w(),y=!0}};if(!ul(Ft,dn))return x;function w(){f.forEach(function(P){return P()}),f=[]}return x.setOptions(Un).then(function(P){!y&&Un.onFirstUpdate&&Un.onFirstUpdate(P)}),x}}var Wr=Ma(),od=Ma({defaultModifiers:[Kr,Wa,ya,di]}),Sn=Ma({defaultModifiers:[Kr,Wa,ya,di,cl,ka,Ls,Ul,la]});const Be=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Vr,afterRead:Br,afterWrite:Ui,applyStyles:di,arrow:Ul,auto:de,basePlacements:se,beforeMain:vt,beforeRead:Ur,beforeWrite:Zr,bottom:re,clippingParents:ut,computeStyles:ya,createPopper:Sn,createPopperBase:Wr,createPopperLite:od,detectOverflow:Ii,end:tt,eventListeners:Kr,flip:ka,hide:la,left:ye,main:vi,modifierPhases:jo,offset:cl,placements:Fr,popper:on,popperGenerator:Ma,popperOffsets:Wa,preventOverflow:Ls,read:xr,reference:Xn,right:le,start:He,top:ft,variationPlacements:Rr,viewport:jt,write:sa},Symbol.toStringTag,{value:"Module"})),rt="dropdown",$t=".bs.dropdown",en=".data-api",mn="ArrowUp",gn="ArrowDown",Dn=`hide${$t}`,Gn=`hidden${$t}`,pr=`show${$t}`,Dr=`shown${$t}`,Qr=`click${$t}${en}`,Gr=`keydown${$t}${en}`,$r=`keyup${$t}${en}`,Bi="show",po='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Za=`${po}.${Bi}`,Oo=".dropdown-menu",jr=H()?"top-end":"top-start",dl=H()?"top-start":"top-end",Wl=H()?"bottom-end":"bottom-start",vs=H()?"bottom-start":"bottom-end",ad=H()?"left-start":"right-start",Fs=H()?"right-start":"left-start",sd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Qf={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Oa extends nn{constructor(M,K){super(M,K),this._popper=null,this._parent=this._element.parentNode,this._menu=ot.next(this._element,Oo)[0]||ot.prev(this._element,Oo)[0]||ot.findOne(Oo,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sd}static get DefaultType(){return Qf}static get NAME(){return rt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(S(this._element)||this._isShown())return;const M={relatedTarget:this._element};if(!Ge.trigger(this._element,pr,M).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const K of[].concat(...document.body.children))Ge.on(K,"mouseover",O);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bi),this._element.classList.add(Bi),Ge.trigger(this._element,Dr,M)}}hide(){if(S(this._element)||!this._isShown())return;const M={relatedTarget:this._element};this._completeHide(M)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(M){if(!Ge.trigger(this._element,Dn,M).defaultPrevented){if("ontouchstart"in document.documentElement)for(const K of[].concat(...document.body.children))Ge.off(K,"mouseover",O);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bi),this._element.classList.remove(Bi),this._element.setAttribute("aria-expanded","false"),Yn.removeDataAttribute(this._menu,"popper"),Ge.trigger(this._element,Gn,M)}}_getConfig(M){if(typeof(M=super._getConfig(M)).reference=="object"&&!o(M.reference)&&typeof M.reference.getBoundingClientRect!="function")throw new TypeError(`${rt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return M}_createPopper(){if(Be===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let M=this._element;this._config.reference==="parent"?M=this._parent:o(this._config.reference)?M=v(this._config.reference):typeof this._config.reference=="object"&&(M=this._config.reference);const K=this._getPopperConfig();this._popper=Sn(M,this._menu,K)}_isShown(){return this._menu.classList.contains(Bi)}_getPlacement(){const M=this._parent;if(M.classList.contains("dropend"))return ad;if(M.classList.contains("dropstart"))return Fs;if(M.classList.contains("dropup-center"))return"top";if(M.classList.contains("dropdown-center"))return"bottom";const K=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return M.classList.contains("dropup")?K?dl:jr:K?vs:Wl}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:M}=this._config;return typeof M=="string"?M.split(",").map(K=>Number.parseInt(K,10)):typeof M=="function"?K=>M(K,this._element):M}_getPopperConfig(){const M={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Yn.setDataAttribute(this._menu,"popper","static"),M.modifiers=[{name:"applyStyles",enabled:!1}]),{...M,...W(this._config.popperConfig,[M])}}_selectMenuItem({key:M,target:K}){const _e=ot.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(at=>E(at));_e.length&&ie(_e,K,M===gn,!_e.includes(K)).focus()}static jQueryInterface(M){return this.each(function(){const K=Oa.getOrCreateInstance(this,M);if(typeof M=="string"){if(K[M]===void 0)throw new TypeError(`No method named "${M}"`);K[M]()}})}static clearMenus(M){if(M.button===2||M.type==="keyup"&&M.key!=="Tab")return;const K=ot.find(Za);for(const _e of K){const at=Oa.getInstance(_e);if(!at||at._config.autoClose===!1)continue;const dt=M.composedPath(),Ft=dt.includes(at._menu);if(dt.includes(at._element)||at._config.autoClose==="inside"&&!Ft||at._config.autoClose==="outside"&&Ft||at._menu.contains(M.target)&&(M.type==="keyup"&&M.key==="Tab"||/input|select|option|textarea|form/i.test(M.target.tagName)))continue;const dn={relatedTarget:at._element};M.type==="click"&&(dn.clickEvent=M),at._completeHide(dn)}}static dataApiKeydownHandler(M){const K=/input|textarea/i.test(M.target.tagName),_e=M.key==="Escape",at=[mn,gn].includes(M.key);if(!at&&!_e||K&&!_e)return;M.preventDefault();const dt=this.matches(po)?this:ot.prev(this,po)[0]||ot.next(this,po)[0]||ot.findOne(po,M.delegateTarget.parentNode),Ft=Oa.getOrCreateInstance(dt);if(at)return M.stopPropagation(),Ft.show(),void Ft._selectMenuItem(M);Ft._isShown()&&(M.stopPropagation(),Ft.hide(),dt.focus())}}Ge.on(document,Gr,po,Oa.dataApiKeydownHandler),Ge.on(document,Gr,Oo,Oa.dataApiKeydownHandler),Ge.on(document,Qr,Oa.clearMenus),Ge.on(document,$r,Oa.clearMenus),Ge.on(document,Qr,po,function(ce){ce.preventDefault(),Oa.getOrCreateInstance(this).toggle()}),q(Oa);const Gd="backdrop",yc="show",yu=`mousedown.bs.${Gd}`,vu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},_u={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xu extends qn{constructor(M){super(),this._config=this._getConfig(M),this._isAppended=!1,this._element=null}static get Default(){return vu}static get DefaultType(){return _u}static get NAME(){return Gd}show(M){if(!this._config.isVisible)return void W(M);this._append();const K=this._getElement();this._config.isAnimated&&N(K),K.classList.add(yc),this._emulateAnimation(()=>{W(M)})}hide(M){this._config.isVisible?(this._getElement().classList.remove(yc),this._emulateAnimation(()=>{this.dispose(),W(M)})):W(M)}dispose(){this._isAppended&&(Ge.off(this._element,yu),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const M=document.createElement("div");M.className=this._config.className,this._config.isAnimated&&M.classList.add("fade"),this._element=M}return this._element}_configAfterMerge(M){return M.rootElement=v(M.rootElement),M}_append(){if(this._isAppended)return;const M=this._getElement();this._config.rootElement.append(M),Ge.on(M,yu,()=>{W(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(M){Y(M,this._getElement(),this._config.isAnimated)}}const fl=".bs.focustrap",eh=`focusin${fl}`,vc=`keydown.tab${fl}`,hl="backward",ld={autofocus:!0,trapElement:null},Ns={autofocus:"boolean",trapElement:"element"};class bu extends qn{constructor(M){super(),this._config=this._getConfig(M),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ld}static get DefaultType(){return Ns}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Ge.off(document,fl),Ge.on(document,eh,M=>this._handleFocusin(M)),Ge.on(document,vc,M=>this._handleKeydown(M)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Ge.off(document,fl))}_handleFocusin(M){const{trapElement:K}=this._config;if(M.target===document||M.target===K||K.contains(M.target))return;const _e=ot.focusableChildren(K);_e.length===0?K.focus():this._lastTabNavDirection===hl?_e[_e.length-1].focus():_e[0].focus()}_handleKeydown(M){M.key==="Tab"&&(this._lastTabNavDirection=M.shiftKey?hl:"forward")}}const Ra=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_c=".sticky-top",Zl="padding-right",ql="margin-right";class wu{constructor(){this._element=document.body}getWidth(){const M=document.documentElement.clientWidth;return Math.abs(window.innerWidth-M)}hide(){const M=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zl,K=>K+M),this._setElementAttributes(Ra,Zl,K=>K+M),this._setElementAttributes(_c,ql,K=>K-M)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zl),this._resetElementAttributes(Ra,Zl),this._resetElementAttributes(_c,ql)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(M,K,_e){const at=this.getWidth();this._applyManipulationCallback(M,dt=>{if(dt!==this._element&&window.innerWidth>dt.clientWidth+at)return;this._saveInitialAttribute(dt,K);const Ft=window.getComputedStyle(dt).getPropertyValue(K);dt.style.setProperty(K,`${_e(Number.parseFloat(Ft))}px`)})}_saveInitialAttribute(M,K){const _e=M.style.getPropertyValue(K);_e&&Yn.setDataAttribute(M,K,_e)}_resetElementAttributes(M,K){this._applyManipulationCallback(M,_e=>{const at=Yn.getDataAttribute(_e,K);at!==null?(Yn.removeDataAttribute(_e,K),_e.style.setProperty(K,at)):_e.style.removeProperty(K)})}_applyManipulationCallback(M,K){if(o(M))K(M);else for(const _e of ot.find(M,this._element))K(_e)}}const Jo=".bs.modal",th=`hide${Jo}`,cd=`hidePrevented${Jo}`,Kl=`hidden${Jo}`,pl=`show${Jo}`,Hd=`shown${Jo}`,ud=`resize${Jo}`,nh=`click.dismiss${Jo}`,Eu=`mousedown.dismiss${Jo}`,Cu=`keydown.dismiss${Jo}`,xc=`click${Jo}.data-api`,dd="modal-open",bc="show",Su="modal-static",ml={backdrop:!0,focus:!0,keyboard:!0},rh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class gl extends nn{constructor(M,K){super(M,K),this._dialog=ot.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new wu,this._addEventListeners()}static get Default(){return ml}static get DefaultType(){return rh}static get NAME(){return"modal"}toggle(M){return this._isShown?this.hide():this.show(M)}show(M){this._isShown||this._isTransitioning||Ge.trigger(this._element,pl,{relatedTarget:M}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(dd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(M)))}hide(){this._isShown&&!this._isTransitioning&&(Ge.trigger(this._element,th).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(bc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Ge.off(window,Jo),Ge.off(this._dialog,Jo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new bu({trapElement:this._element})}_showElement(M){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const K=ot.findOne(".modal-body",this._dialog);K&&(K.scrollTop=0),N(this._element),this._element.classList.add(bc),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Ge.trigger(this._element,Hd,{relatedTarget:M})},this._dialog,this._isAnimated())}_addEventListeners(){Ge.on(this._element,Cu,M=>{M.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Ge.on(window,ud,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Ge.on(this._element,Eu,M=>{Ge.one(this._element,nh,K=>{this._element===M.target&&this._element===K.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(dd),this._resetAdjustments(),this._scrollBar.reset(),Ge.trigger(this._element,Kl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Ge.trigger(this._element,cd).defaultPrevented)return;const M=this._element.scrollHeight>document.documentElement.clientHeight,K=this._element.style.overflowY;K==="hidden"||this._element.classList.contains(Su)||(M||(this._element.style.overflowY="hidden"),this._element.classList.add(Su),this._queueCallback(()=>{this._element.classList.remove(Su),this._queueCallback(()=>{this._element.style.overflowY=K},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const M=this._element.scrollHeight>document.documentElement.clientHeight,K=this._scrollBar.getWidth(),_e=K>0;if(_e&&!M){const at=H()?"paddingLeft":"paddingRight";this._element.style[at]=`${K}px`}if(!_e&&M){const at=H()?"paddingRight":"paddingLeft";this._element.style[at]=`${K}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(M,K){return this.each(function(){const _e=gl.getOrCreateInstance(this,M);if(typeof M=="string"){if(_e[M]===void 0)throw new TypeError(`No method named "${M}"`);_e[M](K)}})}}Ge.on(document,xc,'[data-bs-toggle="modal"]',function(ce){const M=ot.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&ce.preventDefault(),Ge.one(M,pl,_e=>{_e.defaultPrevented||Ge.one(M,Kl,()=>{E(this)&&this.focus()})});const K=ot.findOne(".modal.show");K&&gl.getInstance(K).hide(),gl.getOrCreateInstance(M).toggle(this)}),Xe(gl),q(gl);const _s=".bs.offcanvas",Wd=".data-api",ih=`load${_s}${Wd}`,fd="show",wc="showing",yl="hiding",hd=".offcanvas.show",Bs=`show${_s}`,qa=`shown${_s}`,Tu=`hide${_s}`,Qo=`hidePrevented${_s}`,Xl=`hidden${_s}`,Zd=`resize${_s}`,vl=`click${_s}${Wd}`,_l=`keydown.dismiss${_s}`,Au={backdrop:!0,keyboard:!0,scroll:!1},Pu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Pr extends nn{constructor(M,K){super(M,K),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Au}static get DefaultType(){return Pu}static get NAME(){return"offcanvas"}toggle(M){return this._isShown?this.hide():this.show(M)}show(M){this._isShown||Ge.trigger(this._element,Bs,{relatedTarget:M}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new wu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(wc),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(fd),this._element.classList.remove(wc),Ge.trigger(this._element,qa,{relatedTarget:M})},this._element,!0))}hide(){this._isShown&&(Ge.trigger(this._element,Tu).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(yl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(fd,yl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new wu().reset(),Ge.trigger(this._element,Xl)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const M=!!this._config.backdrop;return new xu({className:"offcanvas-backdrop",isVisible:M,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:M?()=>{this._config.backdrop!=="static"?this.hide():Ge.trigger(this._element,Qo)}:null})}_initializeFocusTrap(){return new bu({trapElement:this._element})}_addEventListeners(){Ge.on(this._element,_l,M=>{M.key==="Escape"&&(this._config.keyboard?this.hide():Ge.trigger(this._element,Qo))})}static jQueryInterface(M){return this.each(function(){const K=Pr.getOrCreateInstance(this,M);if(typeof M=="string"){if(K[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);K[M](this)}})}}Ge.on(document,vl,'[data-bs-toggle="offcanvas"]',function(ce){const M=ot.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&ce.preventDefault(),S(this))return;Ge.one(M,Xl,()=>{E(this)&&this.focus()});const K=ot.findOne(hd);K&&K!==M&&Pr.getInstance(K).hide(),Pr.getOrCreateInstance(M).toggle(this)}),Ge.on(window,ih,()=>{for(const ce of ot.find(hd))Pr.getOrCreateInstance(ce).show()}),Ge.on(window,Zd,()=>{for(const ce of ot.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(ce).position!=="fixed"&&Pr.getOrCreateInstance(ce).hide()}),Xe(Pr),q(Pr);const Ho={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ec=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ki=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Yl=(ce,M)=>{const K=ce.nodeName.toLowerCase();return M.includes(K)?!Ec.has(K)||!!ki.test(ce.nodeValue):M.filter(_e=>_e instanceof RegExp).some(_e=>_e.test(K))},qd={allowList:Ho,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Iu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xs={entry:"(string|element|function|null)",selector:"(string|element)"};class Kd extends qn{constructor(M){super(),this._config=this._getConfig(M)}static get Default(){return qd}static get DefaultType(){return Iu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(M=>this._resolvePossibleFunction(M)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(M){return this._checkContent(M),this._config.content={...this._config.content,...M},this}toHtml(){const M=document.createElement("div");M.innerHTML=this._maybeSanitize(this._config.template);for(const[at,dt]of Object.entries(this._config.content))this._setContent(M,dt,at);const K=M.children[0],_e=this._resolvePossibleFunction(this._config.extraClass);return _e&&K.classList.add(..._e.split(" ")),K}_typeCheckConfig(M){super._typeCheckConfig(M),this._checkContent(M.content)}_checkContent(M){for(const[K,_e]of Object.entries(M))super._typeCheckConfig({selector:K,entry:_e},xs)}_setContent(M,K,_e){const at=ot.findOne(_e,M);at&&((K=this._resolvePossibleFunction(K))?o(K)?this._putElementInTemplate(v(K),at):this._config.html?at.innerHTML=this._maybeSanitize(K):at.textContent=K:at.remove())}_maybeSanitize(M){return this._config.sanitize?function(K,_e,at){if(!K.length)return K;if(at&&typeof at=="function")return at(K);const dt=new window.DOMParser().parseFromString(K,"text/html"),Ft=[].concat(...dt.body.querySelectorAll("*"));for(const dn of Ft){const Un=dn.nodeName.toLowerCase();if(!Object.keys(_e).includes(Un)){dn.remove();continue}const Jn=[].concat(...dn.attributes),m=[].concat(_e["*"]||[],_e[Un]||[]);for(const l of Jn)Yl(l,m)||dn.removeAttribute(l.nodeName)}return dt.body.innerHTML}(M,this._config.allowList,this._config.sanitizeFn):M}_resolvePossibleFunction(M){return W(M,[this])}_putElementInTemplate(M,K){if(this._config.html)return K.innerHTML="",void K.append(M);K.textContent=M.textContent}}const ku=new Set(["sanitize","allowList","sanitizeFn"]),zs="fade",_a="show",L=".modal",z="hide.bs.modal",ne="hover",ke="focus",Lt={AUTO:"auto",TOP:"top",RIGHT:H()?"left":"right",BOTTOM:"bottom",LEFT:H()?"right":"left"},At={allowList:Ho,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},wr={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fi extends nn{constructor(M,K){if(Be===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(M,K),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return At}static get DefaultType(){return wr}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Ge.off(this._element.closest(L),z,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const M=Ge.trigger(this._element,this.constructor.eventName("show")),K=(k(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(M.defaultPrevented||!K)return;this._disposePopper();const _e=this._getTipElement();this._element.setAttribute("aria-describedby",_e.getAttribute("id"));const{container:at}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(at.append(_e),Ge.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(_e),_e.classList.add(_a),"ontouchstart"in document.documentElement)for(const dt of[].concat(...document.body.children))Ge.on(dt,"mouseover",O);this._queueCallback(()=>{Ge.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Ge.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(_a),"ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))Ge.off(M,"mouseover",O);this._activeTrigger.click=!1,this._activeTrigger[ke]=!1,this._activeTrigger[ne]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Ge.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(M){const K=this._getTemplateFactory(M).toHtml();if(!K)return null;K.classList.remove(zs,_a),K.classList.add(`bs-${this.constructor.NAME}-auto`);const _e=(at=>{do at+=Math.floor(1e6*Math.random());while(document.getElementById(at));return at})(this.constructor.NAME).toString();return K.setAttribute("id",_e),this._isAnimated()&&K.classList.add(zs),K}setContent(M){this._newContent=M,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(M){return this._templateFactory?this._templateFactory.changeContent(M):this._templateFactory=new Kd({...this._config,content:M,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(M){return this.constructor.getOrCreateInstance(M.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(zs)}_isShown(){return this.tip&&this.tip.classList.contains(_a)}_createPopper(M){const K=W(this._config.placement,[this,M,this._element]),_e=Lt[K.toUpperCase()];return Sn(this._element,M,this._getPopperConfig(_e))}_getOffset(){const{offset:M}=this._config;return typeof M=="string"?M.split(",").map(K=>Number.parseInt(K,10)):typeof M=="function"?K=>M(K,this._element):M}_resolvePossibleFunction(M){return W(M,[this._element])}_getPopperConfig(M){const K={placement:M,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:_e=>{this._getTipElement().setAttribute("data-popper-placement",_e.state.placement)}}]};return{...K,...W(this._config.popperConfig,[K])}}_setListeners(){const M=this._config.trigger.split(" ");for(const K of M)if(K==="click")Ge.on(this._element,this.constructor.eventName("click"),this._config.selector,_e=>{this._initializeOnDelegatedTarget(_e).toggle()});else if(K!=="manual"){const _e=K===ne?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),at=K===ne?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Ge.on(this._element,_e,this._config.selector,dt=>{const Ft=this._initializeOnDelegatedTarget(dt);Ft._activeTrigger[dt.type==="focusin"?ke:ne]=!0,Ft._enter()}),Ge.on(this._element,at,this._config.selector,dt=>{const Ft=this._initializeOnDelegatedTarget(dt);Ft._activeTrigger[dt.type==="focusout"?ke:ne]=Ft._element.contains(dt.relatedTarget),Ft._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Ge.on(this._element.closest(L),z,this._hideModalHandler)}_fixTitle(){const M=this._element.getAttribute("title");M&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",M),this._element.setAttribute("data-bs-original-title",M),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(M,K){clearTimeout(this._timeout),this._timeout=setTimeout(M,K)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(M){const K=Yn.getDataAttributes(this._element);for(const _e of Object.keys(K))ku.has(_e)&&delete K[_e];return M={...K,...typeof M=="object"&&M?M:{}},M=this._mergeConfigObj(M),M=this._configAfterMerge(M),this._typeCheckConfig(M),M}_configAfterMerge(M){return M.container=M.container===!1?document.body:v(M.container),typeof M.delay=="number"&&(M.delay={show:M.delay,hide:M.delay}),typeof M.title=="number"&&(M.title=M.title.toString()),typeof M.content=="number"&&(M.content=M.content.toString()),M}_getDelegateConfig(){const M={};for(const[K,_e]of Object.entries(this._config))this.constructor.Default[K]!==_e&&(M[K]=_e);return M.selector=!1,M.trigger="manual",M}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(M){return this.each(function(){const K=fi.getOrCreateInstance(this,M);if(typeof M=="string"){if(K[M]===void 0)throw new TypeError(`No method named "${M}"`);K[M]()}})}}q(fi);const Mi={...fi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ka={...fi.DefaultType,content:"(null|string|element|function)"};class Di extends fi{static get Default(){return Mi}static get DefaultType(){return Ka}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(M){return this.each(function(){const K=Di.getOrCreateInstance(this,M);if(typeof M=="string"){if(K[M]===void 0)throw new TypeError(`No method named "${M}"`);K[M]()}})}}q(Di);const Cc=".bs.scrollspy",Xd=`activate${Cc}`,Yd=`click${Cc}`,Jd=`load${Cc}.data-api`,Sc="active",Mu="[href]",Tc=".nav-link",oh=`${Tc}, .nav-item > ${Tc}, .list-group-item`,Qm={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},lp={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $s extends nn{constructor(M,K){super(M,K),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Qm}static get DefaultType(){return lp}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const M of this._observableSections.values())this._observer.observe(M)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(M){return M.target=v(M.target)||document.body,M.rootMargin=M.offset?`${M.offset}px 0px -30%`:M.rootMargin,typeof M.threshold=="string"&&(M.threshold=M.threshold.split(",").map(K=>Number.parseFloat(K))),M}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Ge.off(this._config.target,Yd),Ge.on(this._config.target,Yd,Mu,M=>{const K=this._observableSections.get(M.target.hash);if(K){M.preventDefault();const _e=this._rootElement||window,at=K.offsetTop-this._element.offsetTop;if(_e.scrollTo)return void _e.scrollTo({top:at,behavior:"smooth"});_e.scrollTop=at}}))}_getNewObserver(){const M={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(K=>this._observerCallback(K),M)}_observerCallback(M){const K=Ft=>this._targetLinks.get(`#${Ft.target.id}`),_e=Ft=>{this._previousScrollData.visibleEntryTop=Ft.target.offsetTop,this._process(K(Ft))},at=(this._rootElement||document.documentElement).scrollTop,dt=at>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=at;for(const Ft of M){if(!Ft.isIntersecting){this._activeTarget=null,this._clearActiveClass(K(Ft));continue}const dn=Ft.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(dt&&dn){if(_e(Ft),!at)return}else dt||dn||_e(Ft)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const M=ot.find(Mu,this._config.target);for(const K of M){if(!K.hash||S(K))continue;const _e=ot.findOne(decodeURI(K.hash),this._element);E(_e)&&(this._targetLinks.set(decodeURI(K.hash),K),this._observableSections.set(K.hash,_e))}}_process(M){this._activeTarget!==M&&(this._clearActiveClass(this._config.target),this._activeTarget=M,M.classList.add(Sc),this._activateParents(M),Ge.trigger(this._element,Xd,{relatedTarget:M}))}_activateParents(M){if(M.classList.contains("dropdown-item"))ot.findOne(".dropdown-toggle",M.closest(".dropdown")).classList.add(Sc);else for(const K of ot.parents(M,".nav, .list-group"))for(const _e of ot.prev(K,oh))_e.classList.add(Sc)}_clearActiveClass(M){M.classList.remove(Sc);const K=ot.find(`${Mu}.${Sc}`,M);for(const _e of K)_e.classList.remove(Sc)}static jQueryInterface(M){return this.each(function(){const K=$s.getOrCreateInstance(this,M);if(typeof M=="string"){if(K[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);K[M]()}})}}Ge.on(window,Jd,()=>{for(const ce of ot.find('[data-bs-spy="scroll"]'))$s.getOrCreateInstance(ce)}),q($s);const xl=".bs.tab",ah=`hide${xl}`,sh=`hidden${xl}`,Qd=`show${xl}`,pd=`shown${xl}`,md=`click${xl}`,lh=`keydown${xl}`,cp=`load${xl}`,ch="ArrowLeft",uh="ArrowRight",Jl="ArrowUp",dh="ArrowDown",ef="Home",up="End",Ql="active",tf="fade",nf="show",fh=".dropdown-toggle",Ro=`:not(${fh})`,dp='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',rf=`.nav-link${Ro}, .list-group-item${Ro}, [role="tab"]${Ro}, ${dp}`,eg=`.${Ql}[data-bs-toggle="tab"], .${Ql}[data-bs-toggle="pill"], .${Ql}[data-bs-toggle="list"]`;class Ac extends nn{constructor(M){super(M),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Ge.on(this._element,lh,K=>this._keydown(K)))}static get NAME(){return"tab"}show(){const M=this._element;if(this._elemIsActive(M))return;const K=this._getActiveElem(),_e=K?Ge.trigger(K,ah,{relatedTarget:M}):null;Ge.trigger(M,Qd,{relatedTarget:K}).defaultPrevented||_e&&_e.defaultPrevented||(this._deactivate(K,M),this._activate(M,K))}_activate(M,K){M&&(M.classList.add(Ql),this._activate(ot.getElementFromSelector(M)),this._queueCallback(()=>{M.getAttribute("role")==="tab"?(M.removeAttribute("tabindex"),M.setAttribute("aria-selected",!0),this._toggleDropDown(M,!0),Ge.trigger(M,pd,{relatedTarget:K})):M.classList.add(nf)},M,M.classList.contains(tf)))}_deactivate(M,K){M&&(M.classList.remove(Ql),M.blur(),this._deactivate(ot.getElementFromSelector(M)),this._queueCallback(()=>{M.getAttribute("role")==="tab"?(M.setAttribute("aria-selected",!1),M.setAttribute("tabindex","-1"),this._toggleDropDown(M,!1),Ge.trigger(M,sh,{relatedTarget:K})):M.classList.remove(nf)},M,M.classList.contains(tf)))}_keydown(M){if(![ch,uh,Jl,dh,ef,up].includes(M.key))return;M.stopPropagation(),M.preventDefault();const K=this._getChildren().filter(at=>!S(at));let _e;if([ef,up].includes(M.key))_e=K[M.key===ef?0:K.length-1];else{const at=[uh,dh].includes(M.key);_e=ie(K,M.target,at,!0)}_e&&(_e.focus({preventScroll:!0}),Ac.getOrCreateInstance(_e).show())}_getChildren(){return ot.find(rf,this._parent)}_getActiveElem(){return this._getChildren().find(M=>this._elemIsActive(M))||null}_setInitialAttributes(M,K){this._setAttributeIfNotExists(M,"role","tablist");for(const _e of K)this._setInitialAttributesOnChild(_e)}_setInitialAttributesOnChild(M){M=this._getInnerElement(M);const K=this._elemIsActive(M),_e=this._getOuterElement(M);M.setAttribute("aria-selected",K),_e!==M&&this._setAttributeIfNotExists(_e,"role","presentation"),K||M.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(M,"role","tab"),this._setInitialAttributesOnTargetPanel(M)}_setInitialAttributesOnTargetPanel(M){const K=ot.getElementFromSelector(M);K&&(this._setAttributeIfNotExists(K,"role","tabpanel"),M.id&&this._setAttributeIfNotExists(K,"aria-labelledby",`${M.id}`))}_toggleDropDown(M,K){const _e=this._getOuterElement(M);if(!_e.classList.contains("dropdown"))return;const at=(dt,Ft)=>{const dn=ot.findOne(dt,_e);dn&&dn.classList.toggle(Ft,K)};at(fh,Ql),at(".dropdown-menu",nf),_e.setAttribute("aria-expanded",K)}_setAttributeIfNotExists(M,K,_e){M.hasAttribute(K)||M.setAttribute(K,_e)}_elemIsActive(M){return M.classList.contains(Ql)}_getInnerElement(M){return M.matches(rf)?M:ot.findOne(rf,M)}_getOuterElement(M){return M.closest(".nav-item, .list-group-item")||M}static jQueryInterface(M){return this.each(function(){const K=Ac.getOrCreateInstance(this);if(typeof M=="string"){if(K[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);K[M]()}})}}Ge.on(document,md,dp,function(ce){["A","AREA"].includes(this.tagName)&&ce.preventDefault(),S(this)||Ac.getOrCreateInstance(this).show()}),Ge.on(window,cp,()=>{for(const ce of ot.find(eg))Ac.getOrCreateInstance(ce)}),q(Ac);const mo=".bs.toast",fp=`mouseover${mo}`,tg=`mouseout${mo}`,bs=`focusin${mo}`,js=`focusout${mo}`,Pc=`hide${mo}`,of=`hidden${mo}`,Wn=`show${mo}`,hh=`shown${mo}`,af="hide",bl="show",Us="showing",Bn={animation:"boolean",autohide:"boolean",delay:"number"},ph={animation:!0,autohide:!0,delay:5e3};class gd extends nn{constructor(M,K){super(M,K),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ph}static get DefaultType(){return Bn}static get NAME(){return"toast"}show(){Ge.trigger(this._element,Wn).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(af),N(this._element),this._element.classList.add(bl,Us),this._queueCallback(()=>{this._element.classList.remove(Us),Ge.trigger(this._element,hh),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Ge.trigger(this._element,Pc).defaultPrevented||(this._element.classList.add(Us),this._queueCallback(()=>{this._element.classList.add(af),this._element.classList.remove(Us,bl),Ge.trigger(this._element,of)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(bl),super.dispose()}isShown(){return this._element.classList.contains(bl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(M,K){switch(M.type){case"mouseover":case"mouseout":this._hasMouseInteraction=K;break;case"focusin":case"focusout":this._hasKeyboardInteraction=K}if(K)return void this._clearTimeout();const _e=M.relatedTarget;this._element===_e||this._element.contains(_e)||this._maybeScheduleHide()}_setListeners(){Ge.on(this._element,fp,M=>this._onInteraction(M,!0)),Ge.on(this._element,tg,M=>this._onInteraction(M,!1)),Ge.on(this._element,bs,M=>this._onInteraction(M,!0)),Ge.on(this._element,js,M=>this._onInteraction(M,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(M){return this.each(function(){const K=gd.getOrCreateInstance(this,M);if(typeof M=="string"){if(K[M]===void 0)throw new TypeError(`No method named "${M}"`);K[M](this)}})}}return Xe(gd),q(gd),{Alert:En,Button:yn,Carousel:Fe,Collapse:vr,Dropdown:Oa,Modal:gl,Offcanvas:Pr,Popover:Di,ScrollSpy:$s,Tab:Ac,Toast:gd,Tooltip:fi}})})(sae);c2.createRoot(document.getElementById("root")).render(B.jsx(Eo.StrictMode,{children:B.jsx(aae,{})}));
